<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Blender: rna_access.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blender.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Blender&#160;<span id="projectnumber">V2.6x</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">rna_access.c</div>  </div>
</div>
<div class="contents">
<a href="../../d3/d10/rna__access_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * ***** BEGIN GPL LICENSE BLOCK *****</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This program is free software; you can redistribute it and/or</span>
<a name="l00005"></a>00005 <span class="comment"> * modify it under the terms of the GNU General Public License</span>
<a name="l00006"></a>00006 <span class="comment"> * as published by the Free Software Foundation; either version 2</span>
<a name="l00007"></a>00007 <span class="comment"> * of the License, or (at your option) any later version.</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00010"></a>00010 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00011"></a>00011 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00012"></a>00012 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00015"></a>00015 <span class="comment"> * along with this program; if not, write to the Free Software Foundation,</span>
<a name="l00016"></a>00016 <span class="comment"> * Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * Contributor(s): Blender Foundation (2008).</span>
<a name="l00019"></a>00019 <span class="comment"> *</span>
<a name="l00020"></a>00020 <span class="comment"> * ***** END GPL LICENSE BLOCK *****</span>
<a name="l00021"></a>00021 <span class="comment"> */</span>
<a name="l00022"></a>00022 
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;stddef.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;ctype.h&gt;</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/dd0/MEM__guardedalloc_8h.html" title="Read Guarded memory(de)allocation.">MEM_guardedalloc.h</a>&quot;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/dfb/DNA__ID_8h.html" title="ID and Library types, which are fundamental for sdna.">DNA_ID.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/db3/DNA__scene__types_8h.html">DNA_scene_types.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="../../de/dc1/DNA__windowmanager__types_8h.html">DNA_windowmanager_types.h</a>&quot;</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;<a class="code" href="../../de/df4/BLI__blenlib_8h.html">BLI_blenlib.h</a>&quot;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d7d/BLI__utildefines_8h.html">BLI_utildefines.h</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="../../d7/dc9/BLI__dynstr_8h.html" title="A dynamically sized string ADT.">BLI_dynstr.h</a>&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="../../d7/dc5/BLI__ghash_8h.html" title="A general (pointer -&gt; pointer) hash table ADT.">BLI_ghash.h</a>&quot;</span>
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="../../df/d5d/BLF__api_8h.html">BLF_api.h</a>&quot;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="../../d6/d61/BLF__translation_8h.html">BLF_translation.h</a>&quot;</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="../../dc/d51/BKE__animsys_8h.html">BKE_animsys.h</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="../../df/d01/BKE__context_8h.html">BKE_context.h</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/d95/BKE__idprop_8h.html">BKE_idprop.h</a>&quot;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &quot;<a class="code" href="../../df/d9a/BKE__main_8h.html">BKE_main.h</a>&quot;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/d40/BKE__report_8h.html">BKE_report.h</a>&quot;</span>
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/d7f/WM__api_8h.html">WM_api.h</a>&quot;</span>
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="preprocessor">#include &quot;<a class="code" href="../../de/ddf/RNA__access_8h.html">RNA_access.h</a>&quot;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d68/RNA__define_8h.html">RNA_define.h</a>&quot;</span>
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="comment">/* flush updates */</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &quot;<a class="code" href="../../d9/dd9/DNA__object__types_8h.html" title="Object is a sort of wrapper for general info.">DNA_object_types.h</a>&quot;</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/da0/BKE__depsgraph_8h.html">BKE_depsgraph.h</a>&quot;</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/ddc/WM__types_8h.html">WM_types.h</a>&quot;</span>
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/d29/rna__internal_8h.html">rna_internal.h</a>&quot;</span>
<a name="l00065"></a>00065 
<a name="l00066"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a528bfdf8e4f3178d59d7ccd394166d20">00066</a> <span class="keyword">const</span> <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> <a class="code" href="../../d3/d10/rna__access_8c.html#a528bfdf8e4f3178d59d7ccd394166d20">PointerRNA_NULL</a> = {{<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}};
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="comment">/* Init/Exit */</span>
<a name="l00069"></a>00069 
<a name="l00070"></a><a class="code" href="../../da/d68/RNA__define_8h.html#a24882082dc3ea8863a2f7138b1f849d1">00070</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a24882082dc3ea8863a2f7138b1f849d1">RNA_init</a>(<span class="keywordtype">void</span>)
<a name="l00071"></a>00071 {
<a name="l00072"></a>00072     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna;
<a name="l00073"></a>00073     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop;
<a name="l00074"></a>00074 
<a name="l00075"></a>00075     <span class="keywordflow">for</span> (srna = <a class="code" href="../../d1/d29/rna__internal_8h.html#a4f8671f31f98e40562496b74ee9f5819">BLENDER_RNA</a>.<a class="code" href="../../df/dbd/structBlenderRNA.html#a7ac5911084bd23d6b76694752248983b">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; srna; srna = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a695340065c4f30d7f168f13de6d7b9b4">next</a>) {
<a name="l00076"></a>00076         <span class="keywordflow">if</span> (!srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#ae71d3e514cc75877c0feb792ee11a154">prophash</a>) {
<a name="l00077"></a>00077             srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#ae71d3e514cc75877c0feb792ee11a154">prophash</a> = <a class="code" href="../../d7/dc5/BLI__ghash_8h.html#af2fb34af7b99547b33a34380451a963d">BLI_ghash_new</a>(<a class="code" href="../../d7/dc5/BLI__ghash_8h.html#a5ef36990cf63a693451c76a8faf6b6f5">BLI_ghashutil_strhash</a>, <a class="code" href="../../d7/dc5/BLI__ghash_8h.html#a040511a3bdc5ab15ee0d7bf266f3773c">BLI_ghashutil_strcmp</a>, <span class="stringliteral">&quot;RNA_init gh&quot;</span>);
<a name="l00078"></a>00078 
<a name="l00079"></a>00079             <span class="keywordflow">for</span> (prop = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; prop; prop = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>)
<a name="l00080"></a>00080                 <span class="keywordflow">if</span> (!(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411ad37a289ebc0e12abf00cda2657a10f94">PROP_BUILTIN</a>))
<a name="l00081"></a>00081                     <a class="code" href="../../d7/dc5/BLI__ghash_8h.html#ad72f3a6d9b88bc494c6a279d1b7b9165">BLI_ghash_insert</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#ae71d3e514cc75877c0feb792ee11a154">prophash</a>, (<span class="keywordtype">void</span>*)prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, prop);
<a name="l00082"></a>00082         }
<a name="l00083"></a>00083     }
<a name="l00084"></a>00084 }
<a name="l00085"></a>00085 
<a name="l00086"></a><a class="code" href="../../da/d68/RNA__define_8h.html#ab76bd73281ecb977d7246656b0d8863c">00086</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ab76bd73281ecb977d7246656b0d8863c">RNA_exit</a>(<span class="keywordtype">void</span>)
<a name="l00087"></a>00087 {
<a name="l00088"></a>00088     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna;
<a name="l00089"></a>00089     
<a name="l00090"></a>00090     <a class="code" href="../../d3/d10/rna__access_8c.html#af548ac64a1f2356bed4e2988ac02cb82">RNA_property_update_cache_free</a>();
<a name="l00091"></a>00091     
<a name="l00092"></a>00092     <span class="keywordflow">for</span> (srna = <a class="code" href="../../d1/d29/rna__internal_8h.html#a4f8671f31f98e40562496b74ee9f5819">BLENDER_RNA</a>.<a class="code" href="../../df/dbd/structBlenderRNA.html#a7ac5911084bd23d6b76694752248983b">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; srna; srna = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a695340065c4f30d7f168f13de6d7b9b4">next</a>) {
<a name="l00093"></a>00093         <span class="keywordflow">if</span> (srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#ae71d3e514cc75877c0feb792ee11a154">prophash</a>) {
<a name="l00094"></a>00094             <a class="code" href="../../d7/dc5/BLI__ghash_8h.html#adc20ede3cd08276d25c11f2d02768119">BLI_ghash_free</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#ae71d3e514cc75877c0feb792ee11a154">prophash</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00095"></a>00095             srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#ae71d3e514cc75877c0feb792ee11a154">prophash</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00096"></a>00096         }
<a name="l00097"></a>00097     }
<a name="l00098"></a>00098 
<a name="l00099"></a>00099     <a class="code" href="../../dc/d7e/rna__define_8c.html#a9a81860838b9faff6b3d58b1b4a458e2">RNA_free</a>(&amp;<a class="code" href="../../d1/d29/rna__internal_8h.html#a4f8671f31f98e40562496b74ee9f5819">BLENDER_RNA</a>);
<a name="l00100"></a>00100 }
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="comment">/* Pointer */</span>
<a name="l00103"></a>00103 
<a name="l00104"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ae029e0af420f21e490effcfacdc368ab">00104</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ae029e0af420f21e490effcfacdc368ab">RNA_main_pointer_create</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/dc0/structMain.html">Main</a> *<a class="code" href="../../d5/d95/makesdna_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *r_ptr)
<a name="l00105"></a>00105 {
<a name="l00106"></a>00106     r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00107"></a>00107     r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> = &amp;<a class="code" href="../../de/ddf/RNA__access_8h.html#af9812bc2b19a80a87f8a5f95a63e6d49">RNA_BlendData</a>;
<a name="l00108"></a>00108     r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = <a class="code" href="../../d5/d95/makesdna_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>;
<a name="l00109"></a>00109 }
<a name="l00110"></a>00110 
<a name="l00111"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a5320fc322026abe8f82801f02c97258b">00111</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a2ce5c1d9b520b00730820e0e118dd4e1">RNA_id_pointer_create</a>(<a class="code" href="../../d8/d7e/structID.html">ID</a> *<span class="keywordtype">id</span>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *r_ptr)
<a name="l00112"></a>00112 {
<a name="l00113"></a>00113     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type, *idtype = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00114"></a>00114 
<a name="l00115"></a>00115     <span class="keywordflow">if</span> (<span class="keywordtype">id</span>) {
<a name="l00116"></a>00116         <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> tmp = {{<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}};
<a name="l00117"></a>00117         tmp.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = id;
<a name="l00118"></a>00118         idtype = <a class="code" href="../../d1/d29/rna__internal_8h.html#a4ed592fe06985a0521ee9b8cfd022595">rna_ID_refine</a>(&amp;tmp);
<a name="l00119"></a>00119         
<a name="l00120"></a>00120         <span class="keywordflow">while</span> (idtype-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#ad132d063072c6de530d5ad13fece9f37">refine</a>) {
<a name="l00121"></a>00121             type = idtype-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#ad132d063072c6de530d5ad13fece9f37">refine</a>(&amp;tmp);
<a name="l00122"></a>00122 
<a name="l00123"></a>00123             <span class="keywordflow">if</span> (type == idtype)
<a name="l00124"></a>00124                 <span class="keywordflow">break</span>;
<a name="l00125"></a>00125             <span class="keywordflow">else</span>
<a name="l00126"></a>00126                 idtype = type;
<a name="l00127"></a>00127         }
<a name="l00128"></a>00128     }
<a name="l00129"></a>00129     
<a name="l00130"></a>00130     r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = id;
<a name="l00131"></a>00131     r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> = idtype;
<a name="l00132"></a>00132     r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = id;
<a name="l00133"></a>00133 }
<a name="l00134"></a>00134 
<a name="l00135"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#abcd865ff6f3e2af64d9ec55ff1b9fd3a">00135</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a1f8fb80da9a6450a51ab2e9b97264f01">RNA_pointer_create</a>(<a class="code" href="../../d8/d7e/structID.html">ID</a> *<span class="keywordtype">id</span>, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type, <span class="keywordtype">void</span> *<a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *r_ptr)
<a name="l00136"></a>00136 {
<a name="l00137"></a>00137 <span class="preprocessor">#if 0 </span><span class="comment">/* UNUSED */</span>
<a name="l00138"></a>00138     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *idtype = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00139"></a>00139 
<a name="l00140"></a>00140     <span class="keywordflow">if</span> (<span class="keywordtype">id</span>) {
<a name="l00141"></a>00141         <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> tmp = {{0}};
<a name="l00142"></a>00142         tmp.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = id;
<a name="l00143"></a>00143         idtype = <a class="code" href="../../d1/d29/rna__internal_8h.html#a4ed592fe06985a0521ee9b8cfd022595">rna_ID_refine</a>(&amp;tmp);
<a name="l00144"></a>00144     }
<a name="l00145"></a>00145 <span class="preprocessor">#endif</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span>
<a name="l00147"></a>00147     r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = id;
<a name="l00148"></a>00148     r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> = type;
<a name="l00149"></a>00149     r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = <a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151     <span class="keywordflow">if</span> (data) {
<a name="l00152"></a>00152         <span class="keywordflow">while</span> (r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> &amp;&amp; r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#ad132d063072c6de530d5ad13fece9f37">refine</a>) {
<a name="l00153"></a>00153             <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *rtype = r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#ad132d063072c6de530d5ad13fece9f37">refine</a>(r_ptr);
<a name="l00154"></a>00154 
<a name="l00155"></a>00155             <span class="keywordflow">if</span> (rtype == r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>)
<a name="l00156"></a>00156                 <span class="keywordflow">break</span>;
<a name="l00157"></a>00157             <span class="keywordflow">else</span>
<a name="l00158"></a>00158                 r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> = rtype;
<a name="l00159"></a>00159         }
<a name="l00160"></a>00160     }
<a name="l00161"></a>00161 }
<a name="l00162"></a>00162 
<a name="l00163"></a><a class="code" href="../../d3/d10/rna__access_8c.html#acff7204c81c71721495b88e306ac897a">00163</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#acff7204c81c71721495b88e306ac897a">rna_pointer_inherit_id</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *parent, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr)
<a name="l00164"></a>00164 {
<a name="l00165"></a>00165     <span class="keywordflow">if</span> (type &amp;&amp; type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a82c8bd65fc8b7f4953ea5e235eaffc7b">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a3e6d3131f627bd9c5b7f24b8997197ccaa082cb9c12e10b3e388a49bfe766340e">STRUCT_ID</a>) {
<a name="l00166"></a>00166         ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>;
<a name="l00167"></a>00167     }
<a name="l00168"></a>00168     <span class="keywordflow">else</span> {
<a name="l00169"></a>00169         ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = parent-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>;
<a name="l00170"></a>00170     }
<a name="l00171"></a>00171 }
<a name="l00172"></a>00172 
<a name="l00173"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a3fa6048f961d2f63c7f5f79db48b498e">00173</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a3fa6048f961d2f63c7f5f79db48b498e">RNA_blender_rna_pointer_create</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *r_ptr)
<a name="l00174"></a>00174 {
<a name="l00175"></a>00175     r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00176"></a>00176     r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> = &amp;<a class="code" href="../../de/ddf/RNA__access_8h.html#a455e1ed5e04fbd4184ab83027d16b3f5">RNA_BlenderRNA</a>;
<a name="l00177"></a>00177     r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = &amp;<a class="code" href="../../d1/d29/rna__internal_8h.html#a4f8671f31f98e40562496b74ee9f5819">BLENDER_RNA</a>;
<a name="l00178"></a>00178 }
<a name="l00179"></a>00179 
<a name="l00180"></a><a class="code" href="../../d1/d29/rna__internal_8h.html#af09907d1cc27492159e89dea138bbc42">00180</a> <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> <a class="code" href="../../d3/d10/rna__access_8c.html#aa500b3bcb38a9f9a9dbbb587421cb1ae">rna_pointer_inherit_refine</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type, <span class="keywordtype">void</span> *<a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>)
<a name="l00181"></a>00181 {
<a name="l00182"></a>00182     <span class="keywordflow">if</span> (data) {
<a name="l00183"></a>00183         <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> result;
<a name="l00184"></a>00184         result.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = <a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>;
<a name="l00185"></a>00185         result.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> = type;
<a name="l00186"></a>00186         <a class="code" href="../../d3/d10/rna__access_8c.html#acff7204c81c71721495b88e306ac897a">rna_pointer_inherit_id</a>(type, ptr, &amp;result);
<a name="l00187"></a>00187 
<a name="l00188"></a>00188         <span class="keywordflow">while</span> (result.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#ad132d063072c6de530d5ad13fece9f37">refine</a>) {
<a name="l00189"></a>00189             type = result.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#ad132d063072c6de530d5ad13fece9f37">refine</a>(&amp;result);
<a name="l00190"></a>00190 
<a name="l00191"></a>00191             <span class="keywordflow">if</span> (type == result.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>)
<a name="l00192"></a>00192                 <span class="keywordflow">break</span>;
<a name="l00193"></a>00193             <span class="keywordflow">else</span>
<a name="l00194"></a>00194                 result.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> = type;
<a name="l00195"></a>00195         }
<a name="l00196"></a>00196         <span class="keywordflow">return</span> result;
<a name="l00197"></a>00197     }
<a name="l00198"></a>00198     <span class="keywordflow">else</span> {
<a name="l00199"></a>00199         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a528bfdf8e4f3178d59d7ccd394166d20">PointerRNA_NULL</a>;
<a name="l00200"></a>00200     }
<a name="l00201"></a>00201 }
<a name="l00202"></a>00202 
<a name="l00203"></a>00203 
<a name="l00204"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a7605759f792138aaeddde342338cc884">00204</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a7605759f792138aaeddde342338cc884">RNA_pointer_recast</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *r_ptr)
<a name="l00205"></a>00205 {
<a name="l00206"></a>00206 <span class="preprocessor">#if 0 </span><span class="comment">/* works but this case if covered by more general code below. */</span>
<a name="l00207"></a>00207     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a04e91d163fed9c15bedf299f51732110">RNA_struct_is_ID</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>)) {
<a name="l00208"></a>00208         <span class="comment">/* simple case */</span>
<a name="l00209"></a>00209         <a class="code" href="../../d3/d10/rna__access_8c.html#a2ce5c1d9b520b00730820e0e118dd4e1">RNA_id_pointer_create</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>, r_ptr);
<a name="l00210"></a>00210     }
<a name="l00211"></a>00211     <span class="keywordflow">else</span>
<a name="l00212"></a>00212 <span class="preprocessor">#endif</span>
<a name="l00213"></a>00213 <span class="preprocessor"></span>    {
<a name="l00214"></a>00214         <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *base;
<a name="l00215"></a>00215         <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> t_ptr;
<a name="l00216"></a>00216         *r_ptr = *ptr; <span class="comment">/* initialize as the same in case cant recast */</span>
<a name="l00217"></a>00217 
<a name="l00218"></a>00218         <span class="keywordflow">for</span> (base = ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>; base; base = base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>) {
<a name="l00219"></a>00219             t_ptr = <a class="code" href="../../d3/d10/rna__access_8c.html#aa500b3bcb38a9f9a9dbbb587421cb1ae">rna_pointer_inherit_refine</a>(ptr, base, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>);
<a name="l00220"></a>00220             <span class="keywordflow">if</span> (t_ptr.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> &amp;&amp; t_ptr.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> != ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>) {
<a name="l00221"></a>00221                 *r_ptr = t_ptr;
<a name="l00222"></a>00222             }
<a name="l00223"></a>00223         }
<a name="l00224"></a>00224     }
<a name="l00225"></a>00225 }
<a name="l00226"></a>00226 
<a name="l00227"></a>00227 <span class="comment">/* ID Properties */</span>
<a name="l00228"></a>00228 
<a name="l00229"></a><a class="code" href="../../d3/d10/rna__access_8c.html#ac6d40bd7ba173c63444a2851fb038cbb">00229</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ac6d40bd7ba173c63444a2851fb038cbb">rna_idproperty_touch</a>(<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop)
<a name="l00230"></a>00230 {
<a name="l00231"></a>00231     <span class="comment">/* so the property is seen as &#39;set&#39; by rna */</span>
<a name="l00232"></a>00232     idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a08c840175d6551e2d7f8fb564729fad7">flag</a> &amp;= ~<a class="code" href="../../d3/dfb/DNA__ID_8h.html#ab3fe456283e35aa75a314fa16103444a">IDP_FLAG_GHOST</a>;
<a name="l00233"></a>00233 }
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 <span class="comment">/* return a UI local ID prop definition for this prop */</span>
<a name="l00236"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a8131ebb432a53d234cdd9b03f29559ca">00236</a> <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a8131ebb432a53d234cdd9b03f29559ca">rna_idproperty_ui</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00237"></a>00237 {
<a name="l00238"></a>00238     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l00239"></a>00239 
<a name="l00240"></a>00240     <span class="keywordflow">for</span> (idprop = ((<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *)prop)-&gt;prev; idprop; idprop = idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#ac02e57f91283e47bc65108d0c244328c">prev</a>) {
<a name="l00241"></a>00241         <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../df/d02/rna__internal__types_8h.html#a1fe8d6b82846fa9424d4651e7d33ab14">RNA_IDP_UI</a>, idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a8bd8e0db8e7c4748785327a9167d87a4">name</a>) == 0)
<a name="l00242"></a>00242             <span class="keywordflow">break</span>;
<a name="l00243"></a>00243     }
<a name="l00244"></a>00244 
<a name="l00245"></a>00245     <span class="keywordflow">if</span> (idprop == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00246"></a>00246         <span class="keywordflow">for</span> (idprop = ((<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *)prop)-&gt;<a class="code" href="../../d3/d41/mathutils__noise_8c.html#ac68daf2bcc2adb77f62b5dd17eb769b7">next</a>; idprop; idprop = idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a6a1233a8db3fd1ee1b07db13323b65cf">next</a>) {
<a name="l00247"></a>00247             <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../df/d02/rna__internal__types_8h.html#a1fe8d6b82846fa9424d4651e7d33ab14">RNA_IDP_UI</a>, idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a8bd8e0db8e7c4748785327a9167d87a4">name</a>) == 0)
<a name="l00248"></a>00248                 <span class="keywordflow">break</span>;
<a name="l00249"></a>00249         }
<a name="l00250"></a>00250     }
<a name="l00251"></a>00251 
<a name="l00252"></a>00252     <span class="keywordflow">if</span> (idprop) {
<a name="l00253"></a>00253         <span class="keywordflow">return</span> <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a64bee8b920392c10852a9131a69e082a">IDP_GetPropertyTypeFromGroup</a>(idprop, ((<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *)prop)-&gt;name, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#abf4b8c1027c684282b432b3c8033a2de">IDP_GROUP</a>);
<a name="l00254"></a>00254     }
<a name="l00255"></a>00255 
<a name="l00256"></a>00256     <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00257"></a>00257 }
<a name="l00258"></a>00258 
<a name="l00259"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ac5de98a7477feb0aa2bcff54ac880a58">00259</a> <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keywordtype">int</span> create)
<a name="l00260"></a>00260 {
<a name="l00261"></a>00261     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type = ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>;
<a name="l00262"></a>00262 
<a name="l00263"></a>00263     <span class="keywordflow">if</span> (type &amp;&amp; type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa631ef4e3acff4e722a2efeb4d50a2a2">idproperties</a>)
<a name="l00264"></a>00264         <span class="keywordflow">return</span> type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa631ef4e3acff4e722a2efeb4d50a2a2">idproperties</a>(ptr, create);
<a name="l00265"></a>00265     
<a name="l00266"></a>00266     <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00267"></a>00267 }
<a name="l00268"></a>00268 
<a name="l00269"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a240b2a2a62cd17e39601383c11f28df2">00269</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a240b2a2a62cd17e39601383c11f28df2">RNA_struct_idprops_check</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna)
<a name="l00270"></a>00270 {
<a name="l00271"></a>00271     <span class="keywordflow">return</span> (srna &amp;&amp; srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa631ef4e3acff4e722a2efeb4d50a2a2">idproperties</a>) ? 1 : 0;
<a name="l00272"></a>00272 }
<a name="l00273"></a>00273 
<a name="l00274"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a324eb44149f175c8eff17bf9b0b6bf94">00274</a> <span class="keyword">static</span> <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a324eb44149f175c8eff17bf9b0b6bf94">rna_idproperty_find</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *name)
<a name="l00275"></a>00275 {
<a name="l00276"></a>00276     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 0);
<a name="l00277"></a>00277 
<a name="l00278"></a>00278     <span class="keywordflow">if</span> (group)
<a name="l00279"></a>00279         <span class="keywordflow">return</span> <a class="code" href="../../d5/d95/BKE__idprop_8h.html#abf2facca64e1d32419686163fb1b0414">IDP_GetPropertyFromGroup</a>(group, name);
<a name="l00280"></a>00280 
<a name="l00281"></a>00281     <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00282"></a>00282 }
<a name="l00283"></a>00283 
<a name="l00284"></a><a class="code" href="../../d3/d10/rna__access_8c.html#aae6d8c91c0932dabb41cf4436777c609">00284</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aae6d8c91c0932dabb41cf4436777c609">rna_ensure_property_array_length</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00285"></a>00285 {
<a name="l00286"></a>00286     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> == <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>) {
<a name="l00287"></a>00287         <span class="keywordtype">int</span> arraylen[<a class="code" href="../../df/d02/rna__internal__types_8h.html#af6a7ae5c75d006595fb672abedc1fd48">RNA_MAX_ARRAY_DIMENSION</a>];
<a name="l00288"></a>00288         <span class="keywordflow">return</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a14c797866dfe7efebf4de6653e2a7b09">getlength</a> &amp;&amp; ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>)? prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a14c797866dfe7efebf4de6653e2a7b09">getlength</a>(ptr, arraylen): prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>;
<a name="l00289"></a>00289     }
<a name="l00290"></a>00290     <span class="keywordflow">else</span> {
<a name="l00291"></a>00291         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop = (<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>*)prop;
<a name="l00292"></a>00292 
<a name="l00293"></a>00293         <span class="keywordflow">if</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a271555be6be919d1b73afc38fae790bb">IDP_ARRAY</a>)
<a name="l00294"></a>00294             <span class="keywordflow">return</span> idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>;
<a name="l00295"></a>00295         <span class="keywordflow">else</span>
<a name="l00296"></a>00296             <span class="keywordflow">return</span> 0;
<a name="l00297"></a>00297     }
<a name="l00298"></a>00298 }
<a name="l00299"></a>00299 
<a name="l00300"></a><a class="code" href="../../d3/d10/rna__access_8c.html#ae3f735fd0b64bf4042ce962baee8e1a1">00300</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ae3f735fd0b64bf4042ce962baee8e1a1">rna_ensure_property_array_check</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00301"></a>00301 {
<a name="l00302"></a>00302     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> == <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>) {
<a name="l00303"></a>00303         <span class="keywordflow">return</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a14c797866dfe7efebf4de6653e2a7b09">getlength</a> || prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>) ? 1:0;
<a name="l00304"></a>00304     }
<a name="l00305"></a>00305     <span class="keywordflow">else</span> {
<a name="l00306"></a>00306         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop = (<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>*)prop;
<a name="l00307"></a>00307 
<a name="l00308"></a>00308         <span class="keywordflow">return</span> idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a271555be6be919d1b73afc38fae790bb">IDP_ARRAY</a> ? 1:0;
<a name="l00309"></a>00309     }
<a name="l00310"></a>00310 }
<a name="l00311"></a>00311 
<a name="l00312"></a><a class="code" href="../../d3/d10/rna__access_8c.html#acaa191367ab1ad112268cfbd2aa6be56">00312</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#acaa191367ab1ad112268cfbd2aa6be56">rna_ensure_property_multi_array_length</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>[])
<a name="l00313"></a>00313 {
<a name="l00314"></a>00314     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> == <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>) {
<a name="l00315"></a>00315         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a14c797866dfe7efebf4de6653e2a7b09">getlength</a>)
<a name="l00316"></a>00316             prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a14c797866dfe7efebf4de6653e2a7b09">getlength</a>(ptr, length);
<a name="l00317"></a>00317         <span class="keywordflow">else</span>
<a name="l00318"></a>00318             memcpy(length, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ab2aa827db5a5e92940518a8dbd062ee7">arraylength</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00319"></a>00319     }
<a name="l00320"></a>00320     <span class="keywordflow">else</span> {
<a name="l00321"></a>00321         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop = (<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>*)prop;
<a name="l00322"></a>00322 
<a name="l00323"></a>00323         <span class="keywordflow">if</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a271555be6be919d1b73afc38fae790bb">IDP_ARRAY</a>)
<a name="l00324"></a>00324             length[0] = idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>;
<a name="l00325"></a>00325         <span class="keywordflow">else</span>
<a name="l00326"></a>00326             length[0] = 0;
<a name="l00327"></a>00327     }
<a name="l00328"></a>00328 }
<a name="l00329"></a>00329 
<a name="l00330"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a729e1345edcd4388340379f9505b951e">00330</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a729e1345edcd4388340379f9505b951e">rna_idproperty_verify_valid</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop)
<a name="l00331"></a>00331 {
<a name="l00332"></a>00332     <span class="comment">/* this verifies if the idproperty actually matches the property</span>
<a name="l00333"></a>00333 <span class="comment">     * description and otherwise removes it. this is to ensure that</span>
<a name="l00334"></a>00334 <span class="comment">     * rna property access is type safe, e.g. if you defined the rna</span>
<a name="l00335"></a>00335 <span class="comment">     * to have a certain array length you can count on that staying so */</span>
<a name="l00336"></a>00336     
<a name="l00337"></a>00337     <span class="keywordflow">switch</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a>) {
<a name="l00338"></a>00338         <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a22b5486a9e963a270e0e59526cbba3d8">IDP_IDPARRAY</a>:
<a name="l00339"></a>00339             <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> != <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>)
<a name="l00340"></a>00340                 <span class="keywordflow">return</span> 0;
<a name="l00341"></a>00341             <span class="keywordflow">break</span>;
<a name="l00342"></a>00342         <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a271555be6be919d1b73afc38fae790bb">IDP_ARRAY</a>:
<a name="l00343"></a>00343             <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#aae6d8c91c0932dabb41cf4436777c609">rna_ensure_property_array_length</a>(ptr, prop) != idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>)
<a name="l00344"></a>00344                 <span class="keywordflow">return</span> 0;
<a name="l00345"></a>00345 
<a name="l00346"></a>00346             <span class="keywordflow">if</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#aec2d0f53108c1e8d492de12472c884f9">subtype</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#aae48343470e4420e7a5a3839f45e7c0a">IDP_FLOAT</a> &amp;&amp; prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> != <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>)
<a name="l00347"></a>00347                 <span class="keywordflow">return</span> 0;
<a name="l00348"></a>00348             <span class="keywordflow">if</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#aec2d0f53108c1e8d492de12472c884f9">subtype</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a13b6490097339e2b882a4d060f504d69">IDP_INT</a> &amp;&amp; !<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#ad3568ab74428f47aea1c855024e467f0">ELEM3</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>))
<a name="l00349"></a>00349                 <span class="keywordflow">return</span> 0;
<a name="l00350"></a>00350 
<a name="l00351"></a>00351             <span class="keywordflow">break</span>;
<a name="l00352"></a>00352         <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a13b6490097339e2b882a4d060f504d69">IDP_INT</a>:
<a name="l00353"></a>00353             <span class="keywordflow">if</span> (!<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#ad3568ab74428f47aea1c855024e467f0">ELEM3</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>))
<a name="l00354"></a>00354                 <span class="keywordflow">return</span> 0;
<a name="l00355"></a>00355             <span class="keywordflow">break</span>;
<a name="l00356"></a>00356         <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#aae48343470e4420e7a5a3839f45e7c0a">IDP_FLOAT</a>:
<a name="l00357"></a>00357         <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a40d265efbf86b4b076491f723136d25b">IDP_DOUBLE</a>:
<a name="l00358"></a>00358             <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> != <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>)
<a name="l00359"></a>00359                 <span class="keywordflow">return</span> 0;
<a name="l00360"></a>00360             <span class="keywordflow">break</span>;
<a name="l00361"></a>00361         <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#ad02ddcb1c7a01492cc16b20fc6868eb6">IDP_STRING</a>:
<a name="l00362"></a>00362             <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> != <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>)
<a name="l00363"></a>00363                 <span class="keywordflow">return</span> 0;
<a name="l00364"></a>00364             <span class="keywordflow">break</span>;
<a name="l00365"></a>00365         <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#abf4b8c1027c684282b432b3c8033a2de">IDP_GROUP</a>:
<a name="l00366"></a>00366             <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> != <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>)
<a name="l00367"></a>00367                 <span class="keywordflow">return</span> 0;
<a name="l00368"></a>00368             <span class="keywordflow">break</span>;
<a name="l00369"></a>00369         <span class="keywordflow">default</span>:
<a name="l00370"></a>00370             <span class="keywordflow">return</span> 0;
<a name="l00371"></a>00371     }
<a name="l00372"></a>00372 
<a name="l00373"></a>00373     <span class="keywordflow">return</span> 1;
<a name="l00374"></a>00374 }
<a name="l00375"></a>00375 
<a name="l00376"></a><a class="code" href="../../d3/d10/rna__access_8c.html#aa5e316e935e1dac1bc342c46cc64d476">00376</a> <span class="keyword">static</span> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#aa5e316e935e1dac1bc342c46cc64d476">typemap</a>[<a class="code" href="../../d3/dfb/DNA__ID_8h.html#aa3a11c272b882489ba7c8f74a3072507">IDP_NUMTYPES</a>] =
<a name="l00377"></a>00377     {(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>*)&amp;<a class="code" href="../../d1/d29/rna__internal_8h.html#a6c9525058a6af9ace9d4f6e51430f538">rna_PropertyGroupItem_string</a>,
<a name="l00378"></a>00378      (<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>*)&amp;<a class="code" href="../../d1/d29/rna__internal_8h.html#a9276cb0c432e4af4e06936699d69db50">rna_PropertyGroupItem_int</a>,
<a name="l00379"></a>00379      (<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>*)&amp;<a class="code" href="../../d1/d29/rna__internal_8h.html#ad782ed909768e76bdc264220cd8abd56">rna_PropertyGroupItem_float</a>,
<a name="l00380"></a>00380      <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,
<a name="l00381"></a>00381      (<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>*)&amp;<a class="code" href="../../d1/d29/rna__internal_8h.html#a927296233083d486b5683ef7550ff6f7">rna_PropertyGroupItem_group</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,
<a name="l00382"></a>00382      (<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>*)&amp;<a class="code" href="../../d1/d29/rna__internal_8h.html#a28c69bf7403ed096bdf4e37a33fd636a">rna_PropertyGroupItem_double</a>,
<a name="l00383"></a>00383      (<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>*)&amp;<a class="code" href="../../d1/d29/rna__internal_8h.html#a0ba99ae82b93fb37dbadddeaea069bfa">rna_PropertyGroupItem_idp_array</a>};
<a name="l00384"></a>00384 
<a name="l00385"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a54994f7f2754086db8891edcf2fe05ff">00385</a> <span class="keyword">static</span> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a54994f7f2754086db8891edcf2fe05ff">arraytypemap</a>[<a class="code" href="../../d3/dfb/DNA__ID_8h.html#aa3a11c272b882489ba7c8f74a3072507">IDP_NUMTYPES</a>] =
<a name="l00386"></a>00386     {<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, (<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>*)&amp;<a class="code" href="../../d1/d29/rna__internal_8h.html#a0582cc9ef12ae7ff7999e5f31cd60f82">rna_PropertyGroupItem_int_array</a>,
<a name="l00387"></a>00387      (<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>*)&amp;<a class="code" href="../../d1/d29/rna__internal_8h.html#ad4e8523ffec77b410ebb2ce89f309e6c">rna_PropertyGroupItem_float_array</a>,
<a name="l00388"></a>00388      <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,
<a name="l00389"></a>00389      (<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>*)&amp;<a class="code" href="../../d1/d29/rna__internal_8h.html#a09b22e5cdde982f7d0644595fbe34152">rna_PropertyGroupItem_collection</a>, NULL,
<a name="l00390"></a>00390      (<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>*)&amp;<a class="code" href="../../d1/d29/rna__internal_8h.html#a02bbdc400646e6dc0c2a3f198149bc3d">rna_PropertyGroupItem_double_array</a>};
<a name="l00391"></a>00391 
<a name="l00392"></a><a class="code" href="../../d1/d29/rna__internal_8h.html#ada3822ea8f8ebad7d5652da1c296dde4">00392</a> <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> **prop, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr)
<a name="l00393"></a>00393 {
<a name="l00394"></a>00394     <span class="comment">/* This is quite a hack, but avoids some complexity in the API. we</span>
<a name="l00395"></a>00395 <span class="comment">     * pass IDProperty structs as PropertyRNA pointers to the outside.</span>
<a name="l00396"></a>00396 <span class="comment">     * We store some bytes in PropertyRNA structs that allows us to</span>
<a name="l00397"></a>00397 <span class="comment">     * distinguish it from IDProperty structs. If it is an ID property,</span>
<a name="l00398"></a>00398 <span class="comment">     * we look up an IDP PropertyRNA based on the type, and set the data</span>
<a name="l00399"></a>00399 <span class="comment">     * pointer to the IDProperty. */</span>
<a name="l00400"></a>00400 
<a name="l00401"></a>00401     <span class="keywordflow">if</span> ((*prop)-&gt;magic == <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>) {
<a name="l00402"></a>00402         <span class="keywordflow">if</span> ((*prop)-&gt;flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>) {
<a name="l00403"></a>00403             <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a324eb44149f175c8eff17bf9b0b6bf94">rna_idproperty_find</a>(ptr, (*prop)-&gt;identifier);
<a name="l00404"></a>00404 
<a name="l00405"></a>00405             <span class="keywordflow">if</span> (idprop &amp;&amp; !<a class="code" href="../../d3/d10/rna__access_8c.html#a729e1345edcd4388340379f9505b951e">rna_idproperty_verify_valid</a>(ptr, *prop, idprop)) {
<a name="l00406"></a>00406                 <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 0);
<a name="l00407"></a>00407 
<a name="l00408"></a>00408                 <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a7e0c50874c70b1c3060616c1071b1093">IDP_RemFromGroup</a>(group, idprop);
<a name="l00409"></a>00409                 <a class="code" href="../../d5/d95/BKE__idprop_8h.html#ac700fa8a94927f66ebc0c0e12378bbd1">IDP_FreeProperty</a>(idprop);
<a name="l00410"></a>00410                 <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(idprop);
<a name="l00411"></a>00411                 <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00412"></a>00412             }
<a name="l00413"></a>00413 
<a name="l00414"></a>00414             <span class="keywordflow">return</span> idprop;
<a name="l00415"></a>00415         }
<a name="l00416"></a>00416         <span class="keywordflow">else</span>
<a name="l00417"></a>00417             <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00418"></a>00418     }
<a name="l00419"></a>00419 
<a name="l00420"></a>00420     {
<a name="l00421"></a>00421         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop = (<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>*)(*prop);
<a name="l00422"></a>00422 
<a name="l00423"></a>00423         <span class="keywordflow">if</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a271555be6be919d1b73afc38fae790bb">IDP_ARRAY</a>)
<a name="l00424"></a>00424             *prop = arraytypemap[(int)(idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#aec2d0f53108c1e8d492de12472c884f9">subtype</a>)];
<a name="l00425"></a>00425         <span class="keywordflow">else</span>
<a name="l00426"></a>00426             *prop = typemap[(int)(idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a>)];
<a name="l00427"></a>00427 
<a name="l00428"></a>00428         <span class="keywordflow">return</span> idprop;
<a name="l00429"></a>00429     }
<a name="l00430"></a>00430 }
<a name="l00431"></a>00431 
<a name="l00432"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">00432</a> <span class="keyword">static</span> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00433"></a>00433 {
<a name="l00434"></a>00434     <span class="comment">/* the quick version if we don&#39;t need the idproperty */</span>
<a name="l00435"></a>00435 
<a name="l00436"></a>00436     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> == <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>)
<a name="l00437"></a>00437         <span class="keywordflow">return</span> prop;
<a name="l00438"></a>00438 
<a name="l00439"></a>00439     {
<a name="l00440"></a>00440         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop = (<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>*)prop;
<a name="l00441"></a>00441 
<a name="l00442"></a>00442         <span class="keywordflow">if</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a271555be6be919d1b73afc38fae790bb">IDP_ARRAY</a>)
<a name="l00443"></a>00443             <span class="keywordflow">return</span> arraytypemap[(int)(idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#aec2d0f53108c1e8d492de12472c884f9">subtype</a>)];
<a name="l00444"></a>00444         <span class="keywordflow">else</span>
<a name="l00445"></a>00445             <span class="keywordflow">return</span> typemap[(int)(idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a>)];
<a name="l00446"></a>00446     }
<a name="l00447"></a>00447 }
<a name="l00448"></a>00448 
<a name="l00449"></a><a class="code" href="../../d3/d10/rna__access_8c.html#aa8096144744e298d6ce9d583ddcc80b0">00449</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#aa8096144744e298d6ce9d583ddcc80b0">rna_ensure_property_identifier</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00450"></a>00450 {
<a name="l00451"></a>00451     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> == <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>)
<a name="l00452"></a>00452         <span class="keywordflow">return</span> prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>;
<a name="l00453"></a>00453     <span class="keywordflow">else</span>
<a name="l00454"></a>00454         <span class="keywordflow">return</span> ((<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>*)prop)-&gt;name;
<a name="l00455"></a>00455 }
<a name="l00456"></a>00456 
<a name="l00457"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a05c82238af4c84ffe21b92ff02e8c85f">00457</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a05c82238af4c84ffe21b92ff02e8c85f">rna_ensure_property_description</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00458"></a>00458 {
<a name="l00459"></a>00459     <span class="keyword">const</span> <span class="keywordtype">char</span> *description = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00460"></a>00460 
<a name="l00461"></a>00461     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> == <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>)
<a name="l00462"></a>00462         description = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#abda687700ead49a2210c9bc9c63ef6c6">description</a>;
<a name="l00463"></a>00463     <span class="keywordflow">else</span> {
<a name="l00464"></a>00464         <span class="comment">/* attempt to get the local ID values */</span>
<a name="l00465"></a>00465         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idp_ui = <a class="code" href="../../d3/d10/rna__access_8c.html#a8131ebb432a53d234cdd9b03f29559ca">rna_idproperty_ui</a>(prop);
<a name="l00466"></a>00466 
<a name="l00467"></a>00467         <span class="keywordflow">if</span> (idp_ui) {
<a name="l00468"></a>00468             <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *<a class="code" href="../../df/db4/structuiWidgetColors.html#a18056a96135f727bea4450b9892c799f">item</a> = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a64bee8b920392c10852a9131a69e082a">IDP_GetPropertyTypeFromGroup</a>(idp_ui, <span class="stringliteral">&quot;description&quot;</span>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#ad02ddcb1c7a01492cc16b20fc6868eb6">IDP_STRING</a>);
<a name="l00469"></a>00469             <span class="keywordflow">if</span> (item)
<a name="l00470"></a>00470                 description = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a9622eaf730ae6ab9898a2742a217176d">IDP_String</a>(item);
<a name="l00471"></a>00471         }
<a name="l00472"></a>00472 
<a name="l00473"></a>00473         <span class="keywordflow">if</span> (description == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00474"></a>00474             description = ((<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>*)prop)-&gt;name; <span class="comment">/* XXX - not correct */</span>
<a name="l00475"></a>00475     }
<a name="l00476"></a>00476 
<a name="l00477"></a>00477     <span class="keywordflow">return</span> <a class="code" href="../../d6/d61/BLF__translation_8h.html#a7163975dd2031d6463da225baaf59bfb">TIP_</a>(description);
<a name="l00478"></a>00478 }
<a name="l00479"></a>00479 
<a name="l00480"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a8ac05e06f85b87af186548d93d5c9e59">00480</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a8ac05e06f85b87af186548d93d5c9e59">rna_ensure_property_name</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00481"></a>00481 {
<a name="l00482"></a>00482     <span class="keyword">const</span> <span class="keywordtype">char</span> *name;
<a name="l00483"></a>00483 
<a name="l00484"></a>00484     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> == <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>)
<a name="l00485"></a>00485         name = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad1e32193f23c2d55cab37a31342d125d">name</a>;
<a name="l00486"></a>00486     <span class="keywordflow">else</span>
<a name="l00487"></a>00487         name = ((<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>*)prop)-&gt;name;
<a name="l00488"></a>00488 
<a name="l00489"></a>00489     <span class="keywordflow">return</span> <a class="code" href="../../d6/d61/BLF__translation_8h.html#a96f2affbe63b3e906ee5cc604584c059">CTX_IFACE_</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a1697461d5c919df770008d0bbee49520">translation_context</a>, name);
<a name="l00490"></a>00490 }
<a name="l00491"></a>00491 
<a name="l00492"></a>00492 <span class="comment">/* Structs */</span>
<a name="l00493"></a>00493 
<a name="l00494"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a8c7ef9fa655c10a7d94c073a5c80b93c">00494</a> <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a8c7ef9fa655c10a7d94c073a5c80b93c">RNA_struct_find</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *identifier)
<a name="l00495"></a>00495 {
<a name="l00496"></a>00496     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type;
<a name="l00497"></a>00497     <span class="keywordflow">if</span> (identifier) {
<a name="l00498"></a>00498         <span class="keywordflow">for</span> (type = <a class="code" href="../../d1/d29/rna__internal_8h.html#a4f8671f31f98e40562496b74ee9f5819">BLENDER_RNA</a>.<a class="code" href="../../df/dbd/structBlenderRNA.html#a7ac5911084bd23d6b76694752248983b">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; type; type = type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a695340065c4f30d7f168f13de6d7b9b4">next</a>)
<a name="l00499"></a>00499             <span class="keywordflow">if</span> (strcmp(type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, identifier) == 0)
<a name="l00500"></a>00500                 <span class="keywordflow">return</span> type;
<a name="l00501"></a>00501     }
<a name="l00502"></a>00502     <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00503"></a>00503 }
<a name="l00504"></a>00504 
<a name="l00505"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#abe9be1dcaf1b1767038a753cd0edb9ab">00505</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#abe9be1dcaf1b1767038a753cd0edb9ab">RNA_struct_identifier</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type)
<a name="l00506"></a>00506 {
<a name="l00507"></a>00507     <span class="keywordflow">return</span> type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>;
<a name="l00508"></a>00508 }
<a name="l00509"></a>00509 
<a name="l00510"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a96c7d1c40d92af3693b9c9738d11f747">00510</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a96c7d1c40d92af3693b9c9738d11f747">RNA_struct_ui_name</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type)
<a name="l00511"></a>00511 {
<a name="l00512"></a>00512     <span class="keywordflow">return</span> <a class="code" href="../../d6/d61/BLF__translation_8h.html#a96f2affbe63b3e906ee5cc604584c059">CTX_IFACE_</a>(type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a9305e8be4a62e25d66f5d2072f36a0b2">translation_context</a>, type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a467f75252750500ab605ad9adbc79e4c">name</a>);
<a name="l00513"></a>00513 }
<a name="l00514"></a>00514 
<a name="l00515"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a5a07a8315a1b6d5b30bbca822db7195c">00515</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a5a07a8315a1b6d5b30bbca822db7195c">RNA_struct_ui_icon</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type)
<a name="l00516"></a>00516 {
<a name="l00517"></a>00517     <span class="keywordflow">if</span> (type)
<a name="l00518"></a>00518         <span class="keywordflow">return</span> type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a912b077d958b020253f221536f9bd184">icon</a>;
<a name="l00519"></a>00519     <span class="keywordflow">else</span>
<a name="l00520"></a>00520         <span class="keywordflow">return</span> ICON_DOT;
<a name="l00521"></a>00521 }
<a name="l00522"></a>00522 
<a name="l00523"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a60b892fd3c72b2d9183ab23dc939d967">00523</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a60b892fd3c72b2d9183ab23dc939d967">RNA_struct_ui_description</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type)
<a name="l00524"></a>00524 {
<a name="l00525"></a>00525     <span class="keywordflow">return</span> <a class="code" href="../../d6/d61/BLF__translation_8h.html#a7163975dd2031d6463da225baaf59bfb">TIP_</a>(type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa39ea143870afc422f801499d6865020">description</a>);
<a name="l00526"></a>00526 }
<a name="l00527"></a>00527 
<a name="l00528"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a388e2fd1ade66e2627c810470c3e8b1a">00528</a> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a388e2fd1ade66e2627c810470c3e8b1a">RNA_struct_name_property</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type)
<a name="l00529"></a>00529 {
<a name="l00530"></a>00530     <span class="keywordflow">return</span> type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a9f669d0c36485111d4f7e5101e907e04">nameproperty</a>;
<a name="l00531"></a>00531 }
<a name="l00532"></a>00532 
<a name="l00533"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ae962a8cfab91f9848e59a0f2b2401816">00533</a> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#ae962a8cfab91f9848e59a0f2b2401816">RNA_struct_iterator_property</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type)
<a name="l00534"></a>00534 {
<a name="l00535"></a>00535     <span class="keywordflow">return</span> type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#abdb14cddf7a56383914f921f8340b1d0">iteratorproperty</a>;
<a name="l00536"></a>00536 }
<a name="l00537"></a>00537 
<a name="l00538"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#afccc8221b7a8c7c22703cbe50c94cf46">00538</a> <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#afccc8221b7a8c7c22703cbe50c94cf46">RNA_struct_base</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type)
<a name="l00539"></a>00539 {
<a name="l00540"></a>00540     <span class="keywordflow">return</span> type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>;
<a name="l00541"></a>00541 }
<a name="l00542"></a>00542 
<a name="l00543"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a04e91d163fed9c15bedf299f51732110">00543</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a04e91d163fed9c15bedf299f51732110">RNA_struct_is_ID</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type)
<a name="l00544"></a>00544 {
<a name="l00545"></a>00545     <span class="keywordflow">return</span> (type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a82c8bd65fc8b7f4953ea5e235eaffc7b">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a3e6d3131f627bd9c5b7f24b8997197ccaa082cb9c12e10b3e388a49bfe766340e">STRUCT_ID</a>) != 0;
<a name="l00546"></a>00546 }
<a name="l00547"></a>00547 
<a name="l00548"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a1ebe7c3ef9452f2b2df09f9f21292c39">00548</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a1ebe7c3ef9452f2b2df09f9f21292c39">RNA_struct_undo_check</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type)
<a name="l00549"></a>00549 {
<a name="l00550"></a>00550     <span class="keywordflow">return</span> (type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a82c8bd65fc8b7f4953ea5e235eaffc7b">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a3e6d3131f627bd9c5b7f24b8997197ccaf133d7728d6d179f44452cc81cddb4dc">STRUCT_UNDO</a>) != 0;
<a name="l00551"></a>00551 }
<a name="l00552"></a>00552 
<a name="l00553"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a073915f330e9efe3cb3a56ea22afd0b4">00553</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a073915f330e9efe3cb3a56ea22afd0b4">RNA_struct_idprops_register_check</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type)
<a name="l00554"></a>00554 {
<a name="l00555"></a>00555     <span class="keywordflow">return</span> (type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a82c8bd65fc8b7f4953ea5e235eaffc7b">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a3e6d3131f627bd9c5b7f24b8997197ccadca2f99d10fea73016226e313d1fbe44">STRUCT_NO_IDPROPERTIES</a>) == 0;
<a name="l00556"></a>00556 }
<a name="l00557"></a>00557 
<a name="l00558"></a>00558 <span class="comment">/* remove an id-property */</span>
<a name="l00559"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a9aa453ab555bb8ac4cf8e6bb445948da">00559</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a9aa453ab555bb8ac4cf8e6bb445948da">RNA_struct_idprops_unset</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier)
<a name="l00560"></a>00560 {
<a name="l00561"></a>00561     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 0);
<a name="l00562"></a>00562 
<a name="l00563"></a>00563     <span class="keywordflow">if</span> (group) {
<a name="l00564"></a>00564         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idp = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#abf2facca64e1d32419686163fb1b0414">IDP_GetPropertyFromGroup</a>(group, identifier);
<a name="l00565"></a>00565         <span class="keywordflow">if</span> (idp) {
<a name="l00566"></a>00566             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a7e0c50874c70b1c3060616c1071b1093">IDP_RemFromGroup</a>(group, idp);
<a name="l00567"></a>00567             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#ac700fa8a94927f66ebc0c0e12378bbd1">IDP_FreeProperty</a>(idp);
<a name="l00568"></a>00568             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(idp);
<a name="l00569"></a>00569 
<a name="l00570"></a>00570             <span class="keywordflow">return</span> 1;
<a name="l00571"></a>00571         }
<a name="l00572"></a>00572     }
<a name="l00573"></a>00573     <span class="keywordflow">return</span> 0;
<a name="l00574"></a>00574 }
<a name="l00575"></a>00575 
<a name="l00576"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ab0ac980958da7c9390bc055c30bf429b">00576</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ab0ac980958da7c9390bc055c30bf429b">RNA_struct_is_a</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna)
<a name="l00577"></a>00577 {
<a name="l00578"></a>00578     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *base;
<a name="l00579"></a>00579 
<a name="l00580"></a>00580     <span class="keywordflow">if</span> (!type)
<a name="l00581"></a>00581         <span class="keywordflow">return</span> 0;
<a name="l00582"></a>00582 
<a name="l00583"></a>00583     <span class="comment">/* ptr-&gt;type is always maximally refined */</span>
<a name="l00584"></a>00584     <span class="keywordflow">for</span> (base = type; base; base = base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>)
<a name="l00585"></a>00585         <span class="keywordflow">if</span> (base == srna)
<a name="l00586"></a>00586             <span class="keywordflow">return</span> 1;
<a name="l00587"></a>00587     
<a name="l00588"></a>00588     <span class="keywordflow">return</span> 0;
<a name="l00589"></a>00589 }
<a name="l00590"></a>00590 
<a name="l00591"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a58253ea33cfb6f09202907a524090aab">00591</a> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier)
<a name="l00592"></a>00592 {
<a name="l00593"></a>00593     <span class="keywordflow">if</span> (identifier[0] ==<span class="charliteral">&#39;[&#39;</span> &amp;&amp; identifier[1] ==<span class="charliteral">&#39;&quot;&#39;</span>) { <span class="comment">/* &quot;  (dummy comment to avoid confusing some</span>
<a name="l00594"></a>00594 <span class="comment">                                                       * function lists in text editors) */</span>
<a name="l00595"></a>00595         <span class="comment">/* id prop lookup, not so common */</span>
<a name="l00596"></a>00596         <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *r_prop = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00597"></a>00597         <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> r_ptr; <span class="comment">/* only support single level props */</span>
<a name="l00598"></a>00598         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a003cb660a44918af456e10e005495f86">RNA_path_resolve</a>(ptr, identifier, &amp;r_ptr, &amp;r_prop) &amp;&amp; r_ptr.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> == ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> &amp;&amp; r_ptr.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> == ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>)
<a name="l00599"></a>00599             <span class="keywordflow">return</span> r_prop;
<a name="l00600"></a>00600     }
<a name="l00601"></a>00601     <span class="keywordflow">else</span> {
<a name="l00602"></a>00602         <span class="comment">/* most common case */</span>
<a name="l00603"></a>00603         <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *iterprop = <a class="code" href="../../d3/d10/rna__access_8c.html#ae962a8cfab91f9848e59a0f2b2401816">RNA_struct_iterator_property</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>);
<a name="l00604"></a>00604         <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> propptr;
<a name="l00605"></a>00605 
<a name="l00606"></a>00606         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a7e95a4b6d962938da07182f12576251b">RNA_property_collection_lookup_string</a>(ptr, iterprop, identifier, &amp;propptr))
<a name="l00607"></a>00607             <span class="keywordflow">return</span> propptr.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>;
<a name="l00608"></a>00608     }
<a name="l00609"></a>00609     
<a name="l00610"></a>00610     <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00611"></a>00611 }
<a name="l00612"></a>00612 
<a name="l00613"></a>00613 <span class="comment">/* Find the property which uses the given nested struct */</span>
<a name="l00614"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a36ec4a06df6cb8534f3bb3914a935660">00614</a> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a36ec4a06df6cb8534f3bb3914a935660">RNA_struct_find_nested</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna)
<a name="l00615"></a>00615 {
<a name="l00616"></a>00616     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00617"></a>00617 
<a name="l00618"></a>00618     <a class="code" href="../../de/ddf/RNA__access_8h.html#a0969a790d2bade8d53b911a425188202">RNA_STRUCT_BEGIN</a>(ptr, iprop) {
<a name="l00619"></a>00619         <span class="comment">/* This assumes that there can only be one user of this nested struct */</span>
<a name="l00620"></a>00620         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a90d864adedcd427f9c2dac19e025a092">RNA_property_pointer_type</a>(ptr, iprop) == srna) {
<a name="l00621"></a>00621             prop = iprop;
<a name="l00622"></a>00622             <span class="keywordflow">break</span>;
<a name="l00623"></a>00623         }
<a name="l00624"></a>00624     }
<a name="l00625"></a>00625     <a class="code" href="../../de/ddf/RNA__access_8h.html#a00c9cc0174c79826c145c3e235e2b689">RNA_PROP_END</a>;
<a name="l00626"></a>00626 
<a name="l00627"></a>00627     <span class="keywordflow">return</span> prop;
<a name="l00628"></a>00628 }
<a name="l00629"></a>00629 
<a name="l00630"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#abc89c786bb0ca77007c9f3ac09b5022e">00630</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#abc89c786bb0ca77007c9f3ac09b5022e">RNA_struct_contains_property</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop_test)
<a name="l00631"></a>00631 {
<a name="l00632"></a>00632     <span class="comment">/* note, prop_test could be freed memory, only use for comparison */</span>
<a name="l00633"></a>00633 
<a name="l00634"></a>00634     <span class="comment">/* validate the RNA is ok */</span>
<a name="l00635"></a>00635     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *iterprop;
<a name="l00636"></a>00636     <span class="keywordtype">int</span> found = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00637"></a>00637 
<a name="l00638"></a>00638     iterprop = <a class="code" href="../../d3/d10/rna__access_8c.html#ae962a8cfab91f9848e59a0f2b2401816">RNA_struct_iterator_property</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>);
<a name="l00639"></a>00639 
<a name="l00640"></a>00640     <a class="code" href="../../de/ddf/RNA__access_8h.html#a56f71b443d06f31f83fe3dfdf07fd4c4">RNA_PROP_BEGIN</a>(ptr, itemptr, iterprop) {
<a name="l00641"></a>00641         <span class="comment">/* PropertyRNA *prop= itemptr.data; */</span>
<a name="l00642"></a>00642         <span class="keywordflow">if</span> (prop_test == (<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *)itemptr.data) {
<a name="l00643"></a>00643             found = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00644"></a>00644             <span class="keywordflow">break</span>;
<a name="l00645"></a>00645         }
<a name="l00646"></a>00646     }
<a name="l00647"></a>00647     <a class="code" href="../../de/ddf/RNA__access_8h.html#a00c9cc0174c79826c145c3e235e2b689">RNA_PROP_END</a>;
<a name="l00648"></a>00648 
<a name="l00649"></a>00649     <span class="keywordflow">return</span> found;
<a name="l00650"></a>00650 }
<a name="l00651"></a>00651 
<a name="l00652"></a>00652 <span class="comment">/* low level direct access to type-&gt;properties, note this ignores parent classes so should be used with care */</span>
<a name="l00653"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a550698abd6760c36ea4f2a1b9d2eec30">00653</a> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a550698abd6760c36ea4f2a1b9d2eec30">RNA_struct_type_properties</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna)
<a name="l00654"></a>00654 {
<a name="l00655"></a>00655     <span class="keywordflow">return</span> &amp;srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>;
<a name="l00656"></a>00656 }
<a name="l00657"></a>00657 
<a name="l00658"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a88bf2204fa32de638cb250c9a311e3b4">00658</a> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a88bf2204fa32de638cb250c9a311e3b4">RNA_struct_type_find_property</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier)
<a name="l00659"></a>00659 {
<a name="l00660"></a>00660     <span class="keywordflow">return</span> <a class="code" href="../../d1/d3e/BLI__listbase_8h.html#a568d912f402386a40557bcdc7d13028d">BLI_findstring_ptr</a>(&amp;srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>, identifier, offsetof(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>, identifier));
<a name="l00661"></a>00661 }
<a name="l00662"></a>00662 
<a name="l00663"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a71575c131f654fe7ca940a7c5479116b">00663</a> <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a71575c131f654fe7ca940a7c5479116b">RNA_struct_find_function</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier)
<a name="l00664"></a>00664 {
<a name="l00665"></a>00665 <span class="preprocessor">#if 1</span>
<a name="l00666"></a>00666 <span class="preprocessor"></span>    <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func;
<a name="l00667"></a>00667     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type;
<a name="l00668"></a>00668     <span class="keywordflow">for</span> (type = ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>; type; type = type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>) {
<a name="l00669"></a>00669         func = (<a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *)<a class="code" href="../../d1/d3e/BLI__listbase_8h.html#a568d912f402386a40557bcdc7d13028d">BLI_findstring_ptr</a>(&amp;type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#abf72392469c16ee5f6fea8ed9fa86240">functions</a>, identifier, offsetof(<a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a>, identifier));
<a name="l00670"></a>00670         <span class="keywordflow">if</span> (func) {
<a name="l00671"></a>00671             <span class="keywordflow">return</span> func;
<a name="l00672"></a>00672         }
<a name="l00673"></a>00673     }
<a name="l00674"></a>00674     <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00675"></a>00675 
<a name="l00676"></a>00676     <span class="comment">/* funcitonal but slow */</span>
<a name="l00677"></a>00677 <span class="preprocessor">#else</span>
<a name="l00678"></a>00678 <span class="preprocessor"></span>    <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> tptr;
<a name="l00679"></a>00679     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *iterprop;
<a name="l00680"></a>00680     <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func;
<a name="l00681"></a>00681 
<a name="l00682"></a>00682     <a class="code" href="../../d3/d10/rna__access_8c.html#a1f8fb80da9a6450a51ab2e9b97264f01">RNA_pointer_create</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code" href="../../de/ddf/RNA__access_8h.html#a1155e20f444c64c867ff524ca7487a72">RNA_Struct</a>, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>, &amp;tptr);
<a name="l00683"></a>00683     iterprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(&amp;tptr, <span class="stringliteral">&quot;functions&quot;</span>);
<a name="l00684"></a>00684 
<a name="l00685"></a>00685     func = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00686"></a>00686 
<a name="l00687"></a>00687     <a class="code" href="../../de/ddf/RNA__access_8h.html#a56f71b443d06f31f83fe3dfdf07fd4c4">RNA_PROP_BEGIN</a>(&amp;tptr, funcptr, iterprop) {
<a name="l00688"></a>00688         <span class="keywordflow">if</span> (strcmp(identifier, <a class="code" href="../../d3/d10/rna__access_8c.html#a07ec900326cf4818efbb897302a320e7">RNA_function_identifier</a>(funcptr.data)) == 0) {
<a name="l00689"></a>00689             func = funcptr.data;
<a name="l00690"></a>00690             <span class="keywordflow">break</span>;
<a name="l00691"></a>00691         }
<a name="l00692"></a>00692     }
<a name="l00693"></a>00693     <a class="code" href="../../de/ddf/RNA__access_8h.html#a00c9cc0174c79826c145c3e235e2b689">RNA_PROP_END</a>;
<a name="l00694"></a>00694 
<a name="l00695"></a>00695     <span class="keywordflow">return</span> func;
<a name="l00696"></a>00696 <span class="preprocessor">#endif</span>
<a name="l00697"></a>00697 <span class="preprocessor"></span>}
<a name="l00698"></a>00698 
<a name="l00699"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#abc9d54538a4ba187fe5f3288cf74340f">00699</a> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#abc9d54538a4ba187fe5f3288cf74340f">RNA_struct_type_functions</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna)
<a name="l00700"></a>00700 {
<a name="l00701"></a>00701     <span class="keywordflow">return</span> &amp;srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#abf72392469c16ee5f6fea8ed9fa86240">functions</a>;
<a name="l00702"></a>00702 }
<a name="l00703"></a>00703 
<a name="l00704"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a02d91f29b329dfbdbddcb5f6589da639">00704</a> <a class="code" href="../../de/d7e/RNA__types_8h.html#aae4b77fa9c6cdeda4403d7d3cbe5debb">StructRegisterFunc</a> <a class="code" href="../../d3/d10/rna__access_8c.html#a02d91f29b329dfbdbddcb5f6589da639">RNA_struct_register</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type)
<a name="l00705"></a>00705 {
<a name="l00706"></a>00706     <span class="keywordflow">return</span> type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a076ff3f21540511062bac30a9549cae8">reg</a>;
<a name="l00707"></a>00707 }
<a name="l00708"></a>00708 
<a name="l00709"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a01037cdad92ba35e6d21efd1c9c28335">00709</a> <a class="code" href="../../de/d7e/RNA__types_8h.html#a45f1ba83006171fa432b3d13c4045e81">StructUnregisterFunc</a> <a class="code" href="../../d3/d10/rna__access_8c.html#a01037cdad92ba35e6d21efd1c9c28335">RNA_struct_unregister</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type)
<a name="l00710"></a>00710 {
<a name="l00711"></a>00711     <span class="keywordflow">do</span> {
<a name="l00712"></a>00712         <span class="keywordflow">if</span> (type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a0950724debff13082df9065584ad5d08">unreg</a>)
<a name="l00713"></a>00713             <span class="keywordflow">return</span> type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a0950724debff13082df9065584ad5d08">unreg</a>;
<a name="l00714"></a>00714     } <span class="keywordflow">while</span> ((type = type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>));
<a name="l00715"></a>00715 
<a name="l00716"></a>00716     <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00717"></a>00717 }
<a name="l00718"></a>00718 
<a name="l00719"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a2ec6027944dc287e4e216a5e0c16ef74">00719</a> <span class="keywordtype">void</span> **<a class="code" href="../../d3/d10/rna__access_8c.html#a2ec6027944dc287e4e216a5e0c16ef74">RNA_struct_instance</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr)
<a name="l00720"></a>00720 {
<a name="l00721"></a>00721     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type = ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>;
<a name="l00722"></a>00722 
<a name="l00723"></a>00723     <span class="keywordflow">do</span> {
<a name="l00724"></a>00724         <span class="keywordflow">if</span> (type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a85043d93484a72806fc74684bdb84d69">instance</a>)
<a name="l00725"></a>00725             <span class="keywordflow">return</span> type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a85043d93484a72806fc74684bdb84d69">instance</a>(ptr);
<a name="l00726"></a>00726     } <span class="keywordflow">while</span> ((type = type-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>));
<a name="l00727"></a>00727 
<a name="l00728"></a>00728     <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00729"></a>00729 }
<a name="l00730"></a>00730 
<a name="l00731"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ac41e4b54ea0aa3b92e18f159719b9575">00731</a> <span class="keywordtype">void</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#ac41e4b54ea0aa3b92e18f159719b9575">RNA_struct_py_type_get</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna)
<a name="l00732"></a>00732 {
<a name="l00733"></a>00733     <span class="keywordflow">return</span> srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a47d5c12539548d4977dc96a891779554">py_type</a>;
<a name="l00734"></a>00734 }
<a name="l00735"></a>00735 
<a name="l00736"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a1a8828374e5c57bcfff4b115c8b91a67">00736</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a1a8828374e5c57bcfff4b115c8b91a67">RNA_struct_py_type_set</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <span class="keywordtype">void</span> *py_type)
<a name="l00737"></a>00737 {
<a name="l00738"></a>00738     srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a47d5c12539548d4977dc96a891779554">py_type</a> = py_type;
<a name="l00739"></a>00739 }
<a name="l00740"></a>00740 
<a name="l00741"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a5671c8ce764b3c715ffe61492e0e1122">00741</a> <span class="keywordtype">void</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a5671c8ce764b3c715ffe61492e0e1122">RNA_struct_blender_type_get</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna)
<a name="l00742"></a>00742 {
<a name="l00743"></a>00743     <span class="keywordflow">return</span> srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#ab6c08489b73ec91c69f239afbe618fab">blender_type</a>;
<a name="l00744"></a>00744 }
<a name="l00745"></a>00745 
<a name="l00746"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a39166c86ef3267dbcb73d1346247b7d0">00746</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a39166c86ef3267dbcb73d1346247b7d0">RNA_struct_blender_type_set</a>(<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <span class="keywordtype">void</span> *blender_type)
<a name="l00747"></a>00747 {
<a name="l00748"></a>00748     srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#ab6c08489b73ec91c69f239afbe618fab">blender_type</a> = blender_type;
<a name="l00749"></a>00749 }
<a name="l00750"></a>00750 
<a name="l00751"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a3fcd1047eac0bc123f5f91cc2cef79d6">00751</a> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a3fcd1047eac0bc123f5f91cc2cef79d6">RNA_struct_name_get_alloc</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keywordtype">char</span> *fixedbuf, <span class="keywordtype">int</span> fixedlen, <span class="keywordtype">int</span> *r_len)
<a name="l00752"></a>00752 {
<a name="l00753"></a>00753     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *nameprop;
<a name="l00754"></a>00754 
<a name="l00755"></a>00755     <span class="keywordflow">if</span> (ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> &amp;&amp; (nameprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a388e2fd1ade66e2627c810470c3e8b1a">RNA_struct_name_property</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>)))
<a name="l00756"></a>00756         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a6751615b211d7dd06640353d53198040">RNA_property_string_get_alloc</a>(ptr, nameprop, fixedbuf, fixedlen, r_len);
<a name="l00757"></a>00757 
<a name="l00758"></a>00758     <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00759"></a>00759 }
<a name="l00760"></a>00760 
<a name="l00761"></a>00761 <span class="comment">/* Property Information */</span>
<a name="l00762"></a>00762 
<a name="l00763"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ad6f3c9684a8786587872fc6baf17dfc9">00763</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#ad6f3c9684a8786587872fc6baf17dfc9">RNA_property_identifier</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00764"></a>00764 {
<a name="l00765"></a>00765     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aa8096144744e298d6ce9d583ddcc80b0">rna_ensure_property_identifier</a>(prop);
<a name="l00766"></a>00766 }
<a name="l00767"></a>00767 
<a name="l00768"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a0e6c09655bc8037930dc3c281215403c">00768</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a0e6c09655bc8037930dc3c281215403c">RNA_property_description</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00769"></a>00769 {
<a name="l00770"></a>00770     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a05c82238af4c84ffe21b92ff02e8c85f">rna_ensure_property_description</a>(prop);
<a name="l00771"></a>00771 }
<a name="l00772"></a>00772 
<a name="l00773"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a51b018d85ee119253ae423b9314eeaef">00773</a> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87">PropertyType</a> <a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00774"></a>00774 {
<a name="l00775"></a>00775     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop)-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>;
<a name="l00776"></a>00776 }
<a name="l00777"></a>00777 
<a name="l00778"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ac2188d2835e07f6dd15491f6764cae78">00778</a> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bc">PropertySubType</a> <a class="code" href="../../d3/d10/rna__access_8c.html#ac2188d2835e07f6dd15491f6764cae78">RNA_property_subtype</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00779"></a>00779 {
<a name="l00780"></a>00780     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop)-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aab659b6cc4e02fde4bf9f00f1a56e3b7">subtype</a>;
<a name="l00781"></a>00781 }
<a name="l00782"></a>00782 
<a name="l00783"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a3843ebb33b7b2003fcbb13ab098e427b">00783</a> <a class="code" href="../../de/d7e/RNA__types_8h.html#a8d7527997daaefd04aad47358e7b7565">PropertyUnit</a> <a class="code" href="../../d3/d10/rna__access_8c.html#a3843ebb33b7b2003fcbb13ab098e427b">RNA_property_unit</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00784"></a>00784 {
<a name="l00785"></a>00785     <span class="keywordflow">return</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a949f2f7bae19c6fda0a6f60c640fa903">RNA_SUBTYPE_UNIT</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop)-&gt;subtype);
<a name="l00786"></a>00786 }
<a name="l00787"></a>00787 
<a name="l00788"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a977a3c85a8d6d0a8b126e99a4955c634">00788</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a977a3c85a8d6d0a8b126e99a4955c634">RNA_property_flag</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00789"></a>00789 {
<a name="l00790"></a>00790     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop)-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a>;
<a name="l00791"></a>00791 }
<a name="l00792"></a>00792 
<a name="l00793"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#afc6daeb0f11541c8cac7471d2f554049">00793</a> <span class="keywordtype">void</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#afc6daeb0f11541c8cac7471d2f554049">RNA_property_py_data_get</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00794"></a>00794 {
<a name="l00795"></a>00795     <span class="keywordflow">return</span> prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a60e38c7ab8fc46a0700811f92cc08a62">py_data</a>;
<a name="l00796"></a>00796 }
<a name="l00797"></a>00797 
<a name="l00798"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aad51db9a31d245dba4ee1f50608f331c">00798</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aad51db9a31d245dba4ee1f50608f331c">RNA_property_array_length</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00799"></a>00799 {
<a name="l00800"></a>00800     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aae6d8c91c0932dabb41cf4436777c609">rna_ensure_property_array_length</a>(ptr, prop);
<a name="l00801"></a>00801 }
<a name="l00802"></a>00802 
<a name="l00803"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a2b969ea1007e1516895f65336025e529">00803</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00804"></a>00804 {
<a name="l00805"></a>00805     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ae3f735fd0b64bf4042ce962baee8e1a1">rna_ensure_property_array_check</a>(prop);
<a name="l00806"></a>00806 }
<a name="l00807"></a>00807 
<a name="l00808"></a>00808 <span class="comment">/* used by BPY to make an array from the python object */</span>
<a name="l00809"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a3e3d7cdaf45e397fcca6c8ddcb7b24a6">00809</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a3e3d7cdaf45e397fcca6c8ddcb7b24a6">RNA_property_array_dimension</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>[])
<a name="l00810"></a>00810 {
<a name="l00811"></a>00811     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *rprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l00812"></a>00812 
<a name="l00813"></a>00813     <span class="keywordflow">if</span> (length)
<a name="l00814"></a>00814             <a class="code" href="../../d3/d10/rna__access_8c.html#acaa191367ab1ad112268cfbd2aa6be56">rna_ensure_property_multi_array_length</a>(ptr, prop, length);
<a name="l00815"></a>00815 
<a name="l00816"></a>00816     <span class="keywordflow">return</span> rprop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>;
<a name="l00817"></a>00817 }
<a name="l00818"></a>00818 
<a name="l00819"></a>00819 <span class="comment">/* Return the size of Nth dimension. */</span>
<a name="l00820"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a47eddf86e118a3ae44320af00eb6f85d">00820</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#af7701599a33390bf9a604f1610d4ce35">RNA_property_multi_array_length</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> dim)
<a name="l00821"></a>00821 {
<a name="l00822"></a>00822     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>[<a class="code" href="../../df/d02/rna__internal__types_8h.html#af6a7ae5c75d006595fb672abedc1fd48">RNA_MAX_ARRAY_DIMENSION</a>];
<a name="l00823"></a>00823 
<a name="l00824"></a>00824     <a class="code" href="../../d3/d10/rna__access_8c.html#acaa191367ab1ad112268cfbd2aa6be56">rna_ensure_property_multi_array_length</a>(ptr, prop, len);
<a name="l00825"></a>00825 
<a name="l00826"></a>00826     <span class="keywordflow">return</span> len[dim];
<a name="l00827"></a>00827 }
<a name="l00828"></a>00828 
<a name="l00829"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a59230fb40c41ecd0ef8dc7e4d5a21f72">00829</a> <span class="keywordtype">char</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a59230fb40c41ecd0ef8dc7e4d5a21f72">RNA_property_array_item_char</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> index)
<a name="l00830"></a>00830 {
<a name="l00831"></a>00831     <span class="keyword">const</span> <span class="keywordtype">char</span> *vectoritem = <span class="stringliteral">&quot;XYZW&quot;</span>;
<a name="l00832"></a>00832     <span class="keyword">const</span> <span class="keywordtype">char</span> *quatitem = <span class="stringliteral">&quot;WXYZ&quot;</span>;
<a name="l00833"></a>00833     <span class="keyword">const</span> <span class="keywordtype">char</span> *coloritem = <span class="stringliteral">&quot;RGBA&quot;</span>;
<a name="l00834"></a>00834     <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bc">PropertySubType</a> subtype = <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop)-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aab659b6cc4e02fde4bf9f00f1a56e3b7">subtype</a>;
<a name="l00835"></a>00835 
<a name="l00836"></a>00836     <span class="comment">/* get string to use for array index */</span>
<a name="l00837"></a>00837     <span class="keywordflow">if</span> ((index &lt; 4) &amp;&amp; <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a0b02ecc2161884c6587b77fd39150632">ELEM</a>(subtype, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcac5e63bab4b4aa6237547e0611790c02d">PROP_QUATERNION</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca5a6a0f671b79c62678754f52749c523c">PROP_AXISANGLE</a>)) {
<a name="l00838"></a>00838         <span class="keywordflow">return</span> quatitem[index];
<a name="l00839"></a>00839     }
<a name="l00840"></a>00840     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((index &lt; 4) &amp;&amp; <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aec360f57a7e318a62283a2619b824fe8">ELEM8</a>(subtype, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcaae97c629470b1ebaf9aa8f213e1a3c7d">PROP_TRANSLATION</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca0f183ef977e63dc5d7dff062713b9061">PROP_DIRECTION</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca106479cf1ee36b822fe22ac41dc63b25">PROP_XYZ</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcab409e01929cecccc1ae0d18f8f813ce7">PROP_XYZ_LENGTH</a>,
<a name="l00841"></a>00841                                           <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca74cb812d78d6529087feb6b751589c8d">PROP_EULER</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcad9075e305ca742aea73b50a6e9b02cb8">PROP_VELOCITY</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca1e11684e4c261b90456fbc87c44ce897">PROP_ACCELERATION</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca77df19269ed74fb2f60f7c3ad03c7f59">PROP_COORDS</a>))
<a name="l00842"></a>00842     {
<a name="l00843"></a>00843         <span class="keywordflow">return</span> vectoritem[index];
<a name="l00844"></a>00844     }
<a name="l00845"></a>00845     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((index &lt; 4) &amp;&amp; <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a0b02ecc2161884c6587b77fd39150632">ELEM</a>(subtype, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca45b761f7a18f8b6316b4ca9d086304df">PROP_COLOR</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcaab1f54146da7110e2098e8f4f47712ae">PROP_COLOR_GAMMA</a>)) {
<a name="l00846"></a>00846         <span class="keywordflow">return</span> coloritem[index];
<a name="l00847"></a>00847     }
<a name="l00848"></a>00848 
<a name="l00849"></a>00849     <span class="keywordflow">return</span> <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00850"></a>00850 }
<a name="l00851"></a>00851 
<a name="l00852"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ad844af27f1bfdf9138a045100132e496">00852</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ad844af27f1bfdf9138a045100132e496">RNA_property_array_item_index</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">char</span> name)
<a name="l00853"></a>00853 {
<a name="l00854"></a>00854     <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bc">PropertySubType</a> subtype = <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop)-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aab659b6cc4e02fde4bf9f00f1a56e3b7">subtype</a>;
<a name="l00855"></a>00855 
<a name="l00856"></a>00856     <span class="comment">/* get index based on string name/alias */</span>
<a name="l00857"></a>00857     <span class="comment">/* maybe a function to find char index in string would be better than all the switches */</span>
<a name="l00858"></a>00858     <span class="keywordflow">if</span> (<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a0b02ecc2161884c6587b77fd39150632">ELEM</a>(subtype, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcac5e63bab4b4aa6237547e0611790c02d">PROP_QUATERNION</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca5a6a0f671b79c62678754f52749c523c">PROP_AXISANGLE</a>)) {
<a name="l00859"></a>00859         <span class="keywordflow">switch</span> (name) {
<a name="l00860"></a>00860             <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>:
<a name="l00861"></a>00861                 <span class="keywordflow">return</span> 0;
<a name="l00862"></a>00862             <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:
<a name="l00863"></a>00863                 <span class="keywordflow">return</span> 1;
<a name="l00864"></a>00864             <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>:
<a name="l00865"></a>00865                 <span class="keywordflow">return</span> 2;
<a name="l00866"></a>00866             <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>:
<a name="l00867"></a>00867                 <span class="keywordflow">return</span> 3;
<a name="l00868"></a>00868         }
<a name="l00869"></a>00869     }
<a name="l00870"></a>00870     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#af6e74e8b44bfc993fdfb379311137874">ELEM6</a>(subtype, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcaae97c629470b1ebaf9aa8f213e1a3c7d">PROP_TRANSLATION</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca0f183ef977e63dc5d7dff062713b9061">PROP_DIRECTION</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca106479cf1ee36b822fe22ac41dc63b25">PROP_XYZ</a>,
<a name="l00871"></a>00871                            <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca74cb812d78d6529087feb6b751589c8d">PROP_EULER</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcad9075e305ca742aea73b50a6e9b02cb8">PROP_VELOCITY</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca1e11684e4c261b90456fbc87c44ce897">PROP_ACCELERATION</a>))
<a name="l00872"></a>00872     {
<a name="l00873"></a>00873         <span class="keywordflow">switch</span> (name) {
<a name="l00874"></a>00874             <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:
<a name="l00875"></a>00875                 <span class="keywordflow">return</span> 0;
<a name="l00876"></a>00876             <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>:
<a name="l00877"></a>00877                 <span class="keywordflow">return</span> 1;
<a name="l00878"></a>00878             <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>:
<a name="l00879"></a>00879                 <span class="keywordflow">return</span> 2;
<a name="l00880"></a>00880             <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>:
<a name="l00881"></a>00881                 <span class="keywordflow">return</span> 3;
<a name="l00882"></a>00882         }
<a name="l00883"></a>00883     }
<a name="l00884"></a>00884     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a0b02ecc2161884c6587b77fd39150632">ELEM</a>(subtype, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca45b761f7a18f8b6316b4ca9d086304df">PROP_COLOR</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcaab1f54146da7110e2098e8f4f47712ae">PROP_COLOR_GAMMA</a>)) {
<a name="l00885"></a>00885         <span class="keywordflow">switch</span> (name) {
<a name="l00886"></a>00886             <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:
<a name="l00887"></a>00887                 <span class="keywordflow">return</span> 0;
<a name="l00888"></a>00888             <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>:
<a name="l00889"></a>00889                 <span class="keywordflow">return</span> 1;
<a name="l00890"></a>00890             <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:
<a name="l00891"></a>00891                 <span class="keywordflow">return</span> 2;
<a name="l00892"></a>00892             <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:
<a name="l00893"></a>00893                 <span class="keywordflow">return</span> 3;
<a name="l00894"></a>00894         }
<a name="l00895"></a>00895     }
<a name="l00896"></a>00896 
<a name="l00897"></a>00897     <span class="keywordflow">return</span> -1;
<a name="l00898"></a>00898 }
<a name="l00899"></a>00899 
<a name="l00900"></a>00900 
<a name="l00901"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ac511ed744e0dad1b0a43e6c05d46b9ce">00901</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ac511ed744e0dad1b0a43e6c05d46b9ce">RNA_property_int_range</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> *hardmin, <span class="keywordtype">int</span> *hardmax)
<a name="l00902"></a>00902 {
<a name="l00903"></a>00903     <a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a> *iprop = (<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)<a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l00904"></a>00904     <span class="keywordtype">int</span> softmin, softmax;
<a name="l00905"></a>00905 
<a name="l00906"></a>00906     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> != <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>) {
<a name="l00907"></a>00907         <span class="comment">/* attempt to get the local ID values */</span>
<a name="l00908"></a>00908         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idp_ui = <a class="code" href="../../d3/d10/rna__access_8c.html#a8131ebb432a53d234cdd9b03f29559ca">rna_idproperty_ui</a>(prop);
<a name="l00909"></a>00909 
<a name="l00910"></a>00910         <span class="keywordflow">if</span> (idp_ui) {
<a name="l00911"></a>00911             <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *item;
<a name="l00912"></a>00912 
<a name="l00913"></a>00913             item = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a64bee8b920392c10852a9131a69e082a">IDP_GetPropertyTypeFromGroup</a>(idp_ui, <span class="stringliteral">&quot;min&quot;</span>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a13b6490097339e2b882a4d060f504d69">IDP_INT</a>);
<a name="l00914"></a>00914             *hardmin = item ? <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1f9c0b8b528c710eac7c2afbf711ce2c">IDP_Int</a>(item) : INT_MIN;
<a name="l00915"></a>00915 
<a name="l00916"></a>00916             item = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a64bee8b920392c10852a9131a69e082a">IDP_GetPropertyTypeFromGroup</a>(idp_ui, <span class="stringliteral">&quot;max&quot;</span>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a13b6490097339e2b882a4d060f504d69">IDP_INT</a>);
<a name="l00917"></a>00917             *hardmax = item ? <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1f9c0b8b528c710eac7c2afbf711ce2c">IDP_Int</a>(item) : INT_MAX;
<a name="l00918"></a>00918 
<a name="l00919"></a>00919             <span class="keywordflow">return</span>;
<a name="l00920"></a>00920         }
<a name="l00921"></a>00921     }
<a name="l00922"></a>00922 
<a name="l00923"></a>00923     <span class="keywordflow">if</span> (iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a361209eb96ad7996485080591d4d39b1">range</a>) {
<a name="l00924"></a>00924         *hardmin = INT_MIN;
<a name="l00925"></a>00925         *hardmax = INT_MAX;
<a name="l00926"></a>00926 
<a name="l00927"></a>00927         iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a361209eb96ad7996485080591d4d39b1">range</a>(ptr, hardmin, hardmax, &amp;softmin, &amp;softmax);
<a name="l00928"></a>00928     }
<a name="l00929"></a>00929     <span class="keywordflow">else</span> {
<a name="l00930"></a>00930         *hardmin = iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#af938145fa20c2eccb1b1a7ec40364073">hardmin</a>;
<a name="l00931"></a>00931         *hardmax = iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a5291969e5fc14586dfb3d4009045d900">hardmax</a>;
<a name="l00932"></a>00932     }
<a name="l00933"></a>00933 }
<a name="l00934"></a>00934 
<a name="l00935"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a0e6a42d2fe5e9f8024aba86d024b664a">00935</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a0e6a42d2fe5e9f8024aba86d024b664a">RNA_property_int_ui_range</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> *softmin, <span class="keywordtype">int</span> *softmax, <span class="keywordtype">int</span> *<a class="code" href="../../d1/d22/stdosl_8h.html#a8bd9f841cf6ee6c256028a8a544fec3b">step</a>)
<a name="l00936"></a>00936 {
<a name="l00937"></a>00937     <a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a> *iprop = (<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)<a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l00938"></a>00938     <span class="keywordtype">int</span> hardmin, hardmax;
<a name="l00939"></a>00939     
<a name="l00940"></a>00940     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> != <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>) {
<a name="l00941"></a>00941         <span class="comment">/* attempt to get the local ID values */</span>
<a name="l00942"></a>00942         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idp_ui = <a class="code" href="../../d3/d10/rna__access_8c.html#a8131ebb432a53d234cdd9b03f29559ca">rna_idproperty_ui</a>(prop);
<a name="l00943"></a>00943 
<a name="l00944"></a>00944         <span class="keywordflow">if</span> (idp_ui) {
<a name="l00945"></a>00945             <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *item;
<a name="l00946"></a>00946 
<a name="l00947"></a>00947             item = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a64bee8b920392c10852a9131a69e082a">IDP_GetPropertyTypeFromGroup</a>(idp_ui, <span class="stringliteral">&quot;soft_min&quot;</span>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a13b6490097339e2b882a4d060f504d69">IDP_INT</a>);
<a name="l00948"></a>00948             *softmin = item ? <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1f9c0b8b528c710eac7c2afbf711ce2c">IDP_Int</a>(item) : INT_MIN;
<a name="l00949"></a>00949 
<a name="l00950"></a>00950             item = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a64bee8b920392c10852a9131a69e082a">IDP_GetPropertyTypeFromGroup</a>(idp_ui, <span class="stringliteral">&quot;soft_max&quot;</span>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a13b6490097339e2b882a4d060f504d69">IDP_INT</a>);
<a name="l00951"></a>00951             *softmax = item ? <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1f9c0b8b528c710eac7c2afbf711ce2c">IDP_Int</a>(item) : INT_MAX;
<a name="l00952"></a>00952 
<a name="l00953"></a>00953             item = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a64bee8b920392c10852a9131a69e082a">IDP_GetPropertyTypeFromGroup</a>(idp_ui, <span class="stringliteral">&quot;step&quot;</span>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a13b6490097339e2b882a4d060f504d69">IDP_INT</a>);
<a name="l00954"></a>00954             *step = item ? <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1f9c0b8b528c710eac7c2afbf711ce2c">IDP_Int</a>(item) : 1;
<a name="l00955"></a>00955 
<a name="l00956"></a>00956             <span class="keywordflow">return</span>;
<a name="l00957"></a>00957         }
<a name="l00958"></a>00958     }
<a name="l00959"></a>00959 
<a name="l00960"></a>00960     *softmin = iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#aeda205f50c37b35db0893a03c623d96d">softmin</a>;
<a name="l00961"></a>00961     *softmax = iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#aebc48706d04d264b649b843699b5d974">softmax</a>;
<a name="l00962"></a>00962 
<a name="l00963"></a>00963     <span class="keywordflow">if</span> (iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a361209eb96ad7996485080591d4d39b1">range</a>) {
<a name="l00964"></a>00964         hardmin = INT_MIN;
<a name="l00965"></a>00965         hardmax = INT_MAX;
<a name="l00966"></a>00966 
<a name="l00967"></a>00967         iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a361209eb96ad7996485080591d4d39b1">range</a>(ptr, &amp;hardmin, &amp;hardmax, softmin, softmax);
<a name="l00968"></a>00968 
<a name="l00969"></a>00969         *softmin = <a class="code" href="../../d0/dbd/bmfont_8c.html#a57562d98bd289bc7ea77ba251915d8fb">MAX2</a>(*softmin, hardmin);
<a name="l00970"></a>00970         *softmax = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#af5febfb026bad0c08e7a9f7ab7c2b8f0">MIN2</a>(*softmax, hardmax);
<a name="l00971"></a>00971     }
<a name="l00972"></a>00972 
<a name="l00973"></a>00973     *step = iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a871c4daacd89c8e290fa81940f22a26b">step</a>;
<a name="l00974"></a>00974 }
<a name="l00975"></a>00975 
<a name="l00976"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a4fd85e2e0e23f656c294dd7fcb1c4603">00976</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a4fd85e2e0e23f656c294dd7fcb1c4603">RNA_property_float_range</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">float</span> *hardmin, <span class="keywordtype">float</span> *hardmax)
<a name="l00977"></a>00977 {
<a name="l00978"></a>00978     <a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a> *fprop = (<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)<a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l00979"></a>00979     <span class="keywordtype">float</span> softmin, softmax;
<a name="l00980"></a>00980 
<a name="l00981"></a>00981     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> != <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>) {
<a name="l00982"></a>00982         <span class="comment">/* attempt to get the local ID values */</span>
<a name="l00983"></a>00983         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idp_ui = <a class="code" href="../../d3/d10/rna__access_8c.html#a8131ebb432a53d234cdd9b03f29559ca">rna_idproperty_ui</a>(prop);
<a name="l00984"></a>00984 
<a name="l00985"></a>00985         <span class="keywordflow">if</span> (idp_ui) {
<a name="l00986"></a>00986             <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *item;
<a name="l00987"></a>00987 
<a name="l00988"></a>00988             item = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a64bee8b920392c10852a9131a69e082a">IDP_GetPropertyTypeFromGroup</a>(idp_ui, <span class="stringliteral">&quot;min&quot;</span>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a40d265efbf86b4b076491f723136d25b">IDP_DOUBLE</a>);
<a name="l00989"></a>00989             *hardmin = item ? (float)<a class="code" href="../../d5/d95/BKE__idprop_8h.html#aa64c4c42bdc987b8832548b6a2b1b42c">IDP_Double</a>(item) : FLT_MIN;
<a name="l00990"></a>00990 
<a name="l00991"></a>00991             item = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a64bee8b920392c10852a9131a69e082a">IDP_GetPropertyTypeFromGroup</a>(idp_ui, <span class="stringliteral">&quot;max&quot;</span>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a40d265efbf86b4b076491f723136d25b">IDP_DOUBLE</a>);
<a name="l00992"></a>00992             *hardmax = item ? (float)<a class="code" href="../../d5/d95/BKE__idprop_8h.html#aa64c4c42bdc987b8832548b6a2b1b42c">IDP_Double</a>(item) : <a class="code" href="../../d3/db4/VEC3_8h.html#a7fbf1534f9e0f0bfdb86fb928902474c">FLT_MAX</a>;
<a name="l00993"></a>00993 
<a name="l00994"></a>00994             <span class="keywordflow">return</span>;
<a name="l00995"></a>00995         }
<a name="l00996"></a>00996     }
<a name="l00997"></a>00997 
<a name="l00998"></a>00998     <span class="keywordflow">if</span> (fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad2a6fb143197f0b45d7800f2f92082a2">range</a>) {
<a name="l00999"></a>00999         *hardmin = -<a class="code" href="../../d3/db4/VEC3_8h.html#a7fbf1534f9e0f0bfdb86fb928902474c">FLT_MAX</a>;
<a name="l01000"></a>01000         *hardmax = <a class="code" href="../../d3/db4/VEC3_8h.html#a7fbf1534f9e0f0bfdb86fb928902474c">FLT_MAX</a>;
<a name="l01001"></a>01001 
<a name="l01002"></a>01002         fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad2a6fb143197f0b45d7800f2f92082a2">range</a>(ptr, hardmin, hardmax, &amp;softmin, &amp;softmax);
<a name="l01003"></a>01003     }
<a name="l01004"></a>01004     <span class="keywordflow">else</span> {
<a name="l01005"></a>01005         *hardmin = fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a9aceb1cb3479ddf907ef43fd2ed9dd3c">hardmin</a>;
<a name="l01006"></a>01006         *hardmax = fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ac3779156773c5c6803b410406d4bf33e">hardmax</a>;
<a name="l01007"></a>01007     }
<a name="l01008"></a>01008 }
<a name="l01009"></a>01009 
<a name="l01010"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a3218cb137faf47ff47445e252251a87d">01010</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a3218cb137faf47ff47445e252251a87d">RNA_property_float_ui_range</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">float</span> *softmin, <span class="keywordtype">float</span> *softmax,
<a name="l01011"></a>01011                                  <span class="keywordtype">float</span> *<a class="code" href="../../d1/d22/stdosl_8h.html#a8bd9f841cf6ee6c256028a8a544fec3b">step</a>, <span class="keywordtype">float</span> *precision)
<a name="l01012"></a>01012 {
<a name="l01013"></a>01013     <a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a> *fprop = (<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)<a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l01014"></a>01014     <span class="keywordtype">float</span> hardmin, hardmax;
<a name="l01015"></a>01015 
<a name="l01016"></a>01016     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> != <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>) {
<a name="l01017"></a>01017         <span class="comment">/* attempt to get the local ID values */</span>
<a name="l01018"></a>01018         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idp_ui = <a class="code" href="../../d3/d10/rna__access_8c.html#a8131ebb432a53d234cdd9b03f29559ca">rna_idproperty_ui</a>(prop);
<a name="l01019"></a>01019 
<a name="l01020"></a>01020         <span class="keywordflow">if</span> (idp_ui) {
<a name="l01021"></a>01021             <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *item;
<a name="l01022"></a>01022 
<a name="l01023"></a>01023             item = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a64bee8b920392c10852a9131a69e082a">IDP_GetPropertyTypeFromGroup</a>(idp_ui, <span class="stringliteral">&quot;soft_min&quot;</span>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a40d265efbf86b4b076491f723136d25b">IDP_DOUBLE</a>);
<a name="l01024"></a>01024             *softmin = item ? (float)<a class="code" href="../../d5/d95/BKE__idprop_8h.html#aa64c4c42bdc987b8832548b6a2b1b42c">IDP_Double</a>(item) : FLT_MIN;
<a name="l01025"></a>01025 
<a name="l01026"></a>01026             item = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a64bee8b920392c10852a9131a69e082a">IDP_GetPropertyTypeFromGroup</a>(idp_ui, <span class="stringliteral">&quot;soft_max&quot;</span>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a40d265efbf86b4b076491f723136d25b">IDP_DOUBLE</a>);
<a name="l01027"></a>01027             *softmax = item ? (float)<a class="code" href="../../d5/d95/BKE__idprop_8h.html#aa64c4c42bdc987b8832548b6a2b1b42c">IDP_Double</a>(item) : <a class="code" href="../../d3/db4/VEC3_8h.html#a7fbf1534f9e0f0bfdb86fb928902474c">FLT_MAX</a>;
<a name="l01028"></a>01028 
<a name="l01029"></a>01029             item = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a64bee8b920392c10852a9131a69e082a">IDP_GetPropertyTypeFromGroup</a>(idp_ui, <span class="stringliteral">&quot;step&quot;</span>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a40d265efbf86b4b076491f723136d25b">IDP_DOUBLE</a>);
<a name="l01030"></a>01030             *step = item ? (float)<a class="code" href="../../d5/d95/BKE__idprop_8h.html#aa64c4c42bdc987b8832548b6a2b1b42c">IDP_Double</a>(item) : 1.0f;
<a name="l01031"></a>01031 
<a name="l01032"></a>01032             item = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a64bee8b920392c10852a9131a69e082a">IDP_GetPropertyTypeFromGroup</a>(idp_ui, <span class="stringliteral">&quot;precision&quot;</span>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a40d265efbf86b4b076491f723136d25b">IDP_DOUBLE</a>);
<a name="l01033"></a>01033             *precision = item ? (float)<a class="code" href="../../d5/d95/BKE__idprop_8h.html#aa64c4c42bdc987b8832548b6a2b1b42c">IDP_Double</a>(item) : 3.0f;
<a name="l01034"></a>01034 
<a name="l01035"></a>01035             <span class="keywordflow">return</span>;
<a name="l01036"></a>01036         }
<a name="l01037"></a>01037     }
<a name="l01038"></a>01038 
<a name="l01039"></a>01039     *softmin = fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#aede393a992441210bb7ec8539ca62188">softmin</a>;
<a name="l01040"></a>01040     *softmax = fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#aec25b4c4c092d0b765db727fea6782c3">softmax</a>;
<a name="l01041"></a>01041 
<a name="l01042"></a>01042     <span class="keywordflow">if</span> (fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad2a6fb143197f0b45d7800f2f92082a2">range</a>) {
<a name="l01043"></a>01043         hardmin = -<a class="code" href="../../d3/db4/VEC3_8h.html#a7fbf1534f9e0f0bfdb86fb928902474c">FLT_MAX</a>;
<a name="l01044"></a>01044         hardmax = <a class="code" href="../../d3/db4/VEC3_8h.html#a7fbf1534f9e0f0bfdb86fb928902474c">FLT_MAX</a>;
<a name="l01045"></a>01045 
<a name="l01046"></a>01046         fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad2a6fb143197f0b45d7800f2f92082a2">range</a>(ptr, &amp;hardmin, &amp;hardmax, softmin, softmax);
<a name="l01047"></a>01047 
<a name="l01048"></a>01048         *softmin = <a class="code" href="../../d0/dbd/bmfont_8c.html#a57562d98bd289bc7ea77ba251915d8fb">MAX2</a>(*softmin, hardmin);
<a name="l01049"></a>01049         *softmax = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#af5febfb026bad0c08e7a9f7ab7c2b8f0">MIN2</a>(*softmax, hardmax);
<a name="l01050"></a>01050     }
<a name="l01051"></a>01051 
<a name="l01052"></a>01052     *step = fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a7d10a33cbf8d0c9f6c34187eca719a98">step</a>;
<a name="l01053"></a>01053     *precision = (float)fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a7d8a58e425395d8e955e135d781fd4d9">precision</a>;
<a name="l01054"></a>01054 }
<a name="l01055"></a>01055 
<a name="l01056"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a296cb4bf9f0dc31833d5bae68e000e07">01056</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a296cb4bf9f0dc31833d5bae68e000e07">RNA_property_float_clamp</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">float</span> *value)
<a name="l01057"></a>01057 {
<a name="l01058"></a>01058     <span class="keywordtype">float</span> <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>, <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>;
<a name="l01059"></a>01059 
<a name="l01060"></a>01060     <a class="code" href="../../d3/d10/rna__access_8c.html#a4fd85e2e0e23f656c294dd7fcb1c4603">RNA_property_float_range</a>(ptr, prop, &amp;min, &amp;max);
<a name="l01061"></a>01061 
<a name="l01062"></a>01062     <span class="keywordflow">if</span> (*value &lt; min) {
<a name="l01063"></a>01063         *value = <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>;
<a name="l01064"></a>01064         <span class="keywordflow">return</span> -1;
<a name="l01065"></a>01065     }
<a name="l01066"></a>01066     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*value &gt; max) {
<a name="l01067"></a>01067         *value = <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>;
<a name="l01068"></a>01068         <span class="keywordflow">return</span> 1;
<a name="l01069"></a>01069     }
<a name="l01070"></a>01070     <span class="keywordflow">else</span> {
<a name="l01071"></a>01071         <span class="keywordflow">return</span> 0;
<a name="l01072"></a>01072     }
<a name="l01073"></a>01073 }
<a name="l01074"></a>01074 
<a name="l01075"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a27073aeade7072c944b0595f3ac79b6f">01075</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a27073aeade7072c944b0595f3ac79b6f">RNA_property_int_clamp</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> *value)
<a name="l01076"></a>01076 {
<a name="l01077"></a>01077     <span class="keywordtype">int</span> <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>, <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>;
<a name="l01078"></a>01078 
<a name="l01079"></a>01079     <a class="code" href="../../d3/d10/rna__access_8c.html#ac511ed744e0dad1b0a43e6c05d46b9ce">RNA_property_int_range</a>(ptr, prop, &amp;min, &amp;max);
<a name="l01080"></a>01080 
<a name="l01081"></a>01081     <span class="keywordflow">if</span> (*value &lt; min) {
<a name="l01082"></a>01082         *value = <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>;
<a name="l01083"></a>01083         <span class="keywordflow">return</span> -1;
<a name="l01084"></a>01084     }
<a name="l01085"></a>01085     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*value &gt; max) {
<a name="l01086"></a>01086         *value = <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>;
<a name="l01087"></a>01087         <span class="keywordflow">return</span> 1;
<a name="l01088"></a>01088     }
<a name="l01089"></a>01089     <span class="keywordflow">else</span> {
<a name="l01090"></a>01090         <span class="keywordflow">return</span> 0;
<a name="l01091"></a>01091     }
<a name="l01092"></a>01092 }
<a name="l01093"></a>01093 
<a name="l01094"></a>01094 <span class="comment">/* this is the max length including \0 terminator.</span>
<a name="l01095"></a>01095 <span class="comment"> * &#39;0&#39; used when their is no maximum */</span>
<a name="l01096"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ab22df6fd8dc56c5f27e7bea55930f482">01096</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ab22df6fd8dc56c5f27e7bea55930f482">RNA_property_string_maxlength</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01097"></a>01097 {
<a name="l01098"></a>01098     <a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a> *sprop = (<a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a>*)<a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l01099"></a>01099     <span class="keywordflow">return</span> sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a8c6048283a1bd199f370b6c9806530a7">maxlength</a>;
<a name="l01100"></a>01100 }
<a name="l01101"></a>01101 
<a name="l01102"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a90d864adedcd427f9c2dac19e025a092">01102</a> <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a90d864adedcd427f9c2dac19e025a092">RNA_property_pointer_type</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01103"></a>01103 {
<a name="l01104"></a>01104     prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l01105"></a>01105 
<a name="l01106"></a>01106     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>) {
<a name="l01107"></a>01107         <a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a> *pprop = (<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a>*)prop;
<a name="l01108"></a>01108 
<a name="l01109"></a>01109         <span class="keywordflow">if</span> (pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a5be41f545e41810a8e4834d911b45a38">typef</a>)
<a name="l01110"></a>01110             <span class="keywordflow">return</span> pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a5be41f545e41810a8e4834d911b45a38">typef</a>(ptr);
<a name="l01111"></a>01111         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>)
<a name="l01112"></a>01112             <span class="keywordflow">return</span> pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>;
<a name="l01113"></a>01113     }
<a name="l01114"></a>01114     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>) {
<a name="l01115"></a>01115         <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)prop;
<a name="l01116"></a>01116 
<a name="l01117"></a>01117         <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a>)
<a name="l01118"></a>01118             <span class="keywordflow">return</span> cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a>;
<a name="l01119"></a>01119     }
<a name="l01120"></a>01120     <span class="comment">/* ignore other types, RNA_struct_find_nested calls with unchecked props */</span>
<a name="l01121"></a>01121 
<a name="l01122"></a>01122     <span class="keywordflow">return</span> &amp;<a class="code" href="../../de/ddf/RNA__access_8h.html#aa7dc98f513c51e83e9cc745c28fb57a5">RNA_UnknownType</a>;
<a name="l01123"></a>01123 }
<a name="l01124"></a>01124 
<a name="l01125"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aa28e8b2ec2618f5ac44ab21937179ce3">01125</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aa28e8b2ec2618f5ac44ab21937179ce3">RNA_property_pointer_poll</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *value)
<a name="l01126"></a>01126 {
<a name="l01127"></a>01127     prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l01128"></a>01128 
<a name="l01129"></a>01129     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>) {
<a name="l01130"></a>01130         <a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a> *pprop = (<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a>*)prop;
<a name="l01131"></a>01131         <span class="keywordflow">if</span> (pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a8fa889928fbab42c346787feb3129bf7">poll</a>)
<a name="l01132"></a>01132             <span class="keywordflow">return</span> pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a8fa889928fbab42c346787feb3129bf7">poll</a>(ptr, *value);
<a name="l01133"></a>01133 
<a name="l01134"></a>01134         <span class="keywordflow">return</span> 1;
<a name="l01135"></a>01135     }
<a name="l01136"></a>01136 
<a name="l01137"></a>01137     printf(<span class="stringliteral">&quot;%s %s: is not a pointer property.\n&quot;</span>, __func__, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01138"></a>01138     <span class="keywordflow">return</span> 0;
<a name="l01139"></a>01139 }
<a name="l01140"></a>01140 
<a name="l01141"></a>01141 <span class="comment">/* Reuse for dynamic types  */</span>
<a name="l01142"></a><a class="code" href="../../d5/d68/RNA__enum__types_8h.html#abf24cbff0dda06cfad896088d53288fe">01142</a> <a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> <a class="code" href="../../d3/d10/rna__access_8c.html#abf24cbff0dda06cfad896088d53288fe">DummyRNA_NULL_items</a>[] = {
<a name="l01143"></a>01143     {0, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, NULL}
<a name="l01144"></a>01144 };
<a name="l01145"></a>01145 
<a name="l01146"></a>01146 <span class="comment">/* Reuse for dynamic types with default value */</span>
<a name="l01147"></a><a class="code" href="../../d5/d68/RNA__enum__types_8h.html#afebbe326102296030e3d563cc47b07c8">01147</a> <a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> <a class="code" href="../../d3/d10/rna__access_8c.html#afebbe326102296030e3d563cc47b07c8">DummyRNA_DEFAULT_items</a>[] = {
<a name="l01148"></a>01148     {0, <span class="stringliteral">&quot;DEFAULT&quot;</span>, 0, <span class="stringliteral">&quot;Default&quot;</span>, <span class="stringliteral">&quot;&quot;</span>},
<a name="l01149"></a>01149     {0, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, NULL}
<a name="l01150"></a>01150 };
<a name="l01151"></a>01151 
<a name="l01152"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a5d7a64df4acbbb015bce01b2df25b6ae">01152</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a6aa91339201dc8ef93a61ee60bd8099e">RNA_property_enum_items</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> **item,
<a name="l01153"></a>01153                              <span class="keywordtype">int</span> *totitem, <span class="keywordtype">int</span> *free)
<a name="l01154"></a>01154 {
<a name="l01155"></a>01155     <a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a> *eprop = (<a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a>*)<a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l01156"></a>01156 
<a name="l01157"></a>01157     *free = 0;
<a name="l01158"></a>01158 
<a name="l01159"></a>01159     <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#a5fbab3085d23af7e99dd85c5c78a101f">itemf</a> &amp;&amp; (C != <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a5ccc2f91e04ec5731d3bec3e8438d39e">PROP_ENUM_NO_CONTEXT</a>))) {
<a name="l01160"></a>01160         <span class="keywordtype">int</span> tot = 0;
<a name="l01161"></a>01161 
<a name="l01162"></a>01162         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a5ccc2f91e04ec5731d3bec3e8438d39e">PROP_ENUM_NO_CONTEXT</a>)
<a name="l01163"></a>01163             *item = eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#a5fbab3085d23af7e99dd85c5c78a101f">itemf</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, ptr, prop, free);
<a name="l01164"></a>01164         <span class="keywordflow">else</span>
<a name="l01165"></a>01165             *item = eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#a5fbab3085d23af7e99dd85c5c78a101f">itemf</a>(C, ptr, prop, free);
<a name="l01166"></a>01166 
<a name="l01167"></a>01167         <span class="keywordflow">if</span> (totitem) {
<a name="l01168"></a>01168             <span class="keywordflow">if</span> (*item) {
<a name="l01169"></a>01169                 <span class="keywordflow">for</span> ( ; (*item)[tot].identifier; tot++);
<a name="l01170"></a>01170             }
<a name="l01171"></a>01171 
<a name="l01172"></a>01172             *totitem = tot;
<a name="l01173"></a>01173         }
<a name="l01174"></a>01174 
<a name="l01175"></a>01175     }
<a name="l01176"></a>01176     <span class="keywordflow">else</span> {
<a name="l01177"></a>01177         *item = eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>;
<a name="l01178"></a>01178         <span class="keywordflow">if</span> (totitem)
<a name="l01179"></a>01179             *totitem = eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#acc1c230b53fac65d28a8631e7fdaafa6">totitem</a>;
<a name="l01180"></a>01180     }
<a name="l01181"></a>01181 }
<a name="l01182"></a>01182 
<a name="l01183"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a16f2c94b20bc98e50453308b09fb72b4">01183</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a784252a8be205e142734a25c244f4f49">RNA_property_enum_items_gettexted</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop,
<a name="l01184"></a>01184                                        <a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> **item, <span class="keywordtype">int</span> *totitem, <span class="keywordtype">int</span> *free)
<a name="l01185"></a>01185 {
<a name="l01186"></a>01186     <a class="code" href="../../d3/d10/rna__access_8c.html#a6aa91339201dc8ef93a61ee60bd8099e">RNA_property_enum_items</a>(C, ptr, prop, item, totitem, free);
<a name="l01187"></a>01187 
<a name="l01188"></a>01188 <span class="preprocessor">#ifdef WITH_INTERNATIONAL</span>
<a name="l01189"></a>01189 <span class="preprocessor"></span>    <span class="comment">/* Note: keep directly using BLF_gettext here, has we have already done tests like BLF_translate_iface... */</span>
<a name="l01190"></a>01190     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d61/BLF__translation_8h.html#a1ed9ebc139d86aba77c0cf8bb3b79508">BLF_translate_iface</a>()) {
<a name="l01191"></a>01191         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l01192"></a>01192         <a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *nitem;
<a name="l01193"></a>01193 
<a name="l01194"></a>01194         <span class="keywordflow">if</span> (*free) {
<a name="l01195"></a>01195             nitem = *item;
<a name="l01196"></a>01196         }
<a name="l01197"></a>01197         <span class="keywordflow">else</span> {
<a name="l01198"></a>01198             <span class="keywordtype">int</span> totitem = 0;
<a name="l01199"></a>01199 
<a name="l01200"></a>01200             <span class="comment">/* count */</span>
<a name="l01201"></a>01201             <span class="keywordflow">for</span> (i = 0; (*item)[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].identifier; i++)
<a name="l01202"></a>01202                 totitem++;
<a name="l01203"></a>01203 
<a name="l01204"></a>01204             nitem = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a>)*(totitem+1), <span class="stringliteral">&quot;enum_items_gettexted&quot;</span>);
<a name="l01205"></a>01205 
<a name="l01206"></a>01206             <span class="keywordflow">for</span> (i = 0; (*item)[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].identifier; i++)
<a name="l01207"></a>01207                 nitem[i] = (*item)[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];
<a name="l01208"></a>01208 
<a name="l01209"></a>01209             *free = 1;
<a name="l01210"></a>01210         }
<a name="l01211"></a>01211 
<a name="l01212"></a>01212         <span class="keywordflow">for</span> (i = 0; nitem[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>; i++) {
<a name="l01213"></a>01213             <span class="keywordflow">if</span> ( nitem[i].name ) {
<a name="l01214"></a>01214                 <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a1697461d5c919df770008d0bbee49520">translation_context</a>)
<a name="l01215"></a>01215                     nitem[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a7b7b028a28c6f9f13a9a1289ceabe8e8">name</a> = <a class="code" href="../../d6/d61/BLF__translation_8h.html#a53377c227995e5543ac38547bc841a56">BLF_pgettext</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a1697461d5c919df770008d0bbee49520">translation_context</a>, nitem[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a7b7b028a28c6f9f13a9a1289ceabe8e8">name</a>);
<a name="l01216"></a>01216                 <span class="keywordflow">else</span>
<a name="l01217"></a>01217                     nitem[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a7b7b028a28c6f9f13a9a1289ceabe8e8">name</a> = <a class="code" href="../../d6/d61/BLF__translation_8h.html#af71dcd9cb1926954061c4a49a1b566d0">BLF_gettext</a>(nitem[i].name);
<a name="l01218"></a>01218             }
<a name="l01219"></a>01219             <span class="keywordflow">if</span> ( nitem[i].description )
<a name="l01220"></a>01220                 nitem[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#ac81c34dc2a0f20d96292c0179e347c6f">description</a> = <a class="code" href="../../d6/d61/BLF__translation_8h.html#af71dcd9cb1926954061c4a49a1b566d0">BLF_gettext</a>(nitem[i].description);
<a name="l01221"></a>01221         }
<a name="l01222"></a>01222 
<a name="l01223"></a>01223         *item = nitem;
<a name="l01224"></a>01224     }
<a name="l01225"></a>01225 <span class="preprocessor">#endif</span>
<a name="l01226"></a>01226 <span class="preprocessor"></span>}
<a name="l01227"></a>01227 
<a name="l01228"></a>01228 
<a name="l01229"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aece5f7ef3bd8e83a44d2203daa219d6c">01229</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a8989b147a2429d31bd5efba4e788c1e6">RNA_property_enum_value</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier, <span class="keywordtype">int</span> *value)
<a name="l01230"></a>01230 {
<a name="l01231"></a>01231     <a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *item, *item_array;
<a name="l01232"></a>01232     <span class="keywordtype">int</span> free, found;
<a name="l01233"></a>01233 
<a name="l01234"></a>01234     <a class="code" href="../../d3/d10/rna__access_8c.html#a6aa91339201dc8ef93a61ee60bd8099e">RNA_property_enum_items</a>(C, ptr, prop, &amp;item_array, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;free);
<a name="l01235"></a>01235 
<a name="l01236"></a>01236     <span class="keywordflow">if</span> (item_array) {
<a name="l01237"></a>01237         <span class="keywordflow">for</span> (item = item_array; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>; item++) {
<a name="l01238"></a>01238             <span class="keywordflow">if</span> (item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>[0] &amp;&amp; strcmp(item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>, identifier) == 0) {
<a name="l01239"></a>01239                 *value = item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a>;
<a name="l01240"></a>01240                 <span class="keywordflow">break</span>;
<a name="l01241"></a>01241             }
<a name="l01242"></a>01242         }
<a name="l01243"></a>01243 
<a name="l01244"></a>01244         found = (item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a> != <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); <span class="comment">/* could be alloc&#39;d, assign before free */</span>
<a name="l01245"></a>01245 
<a name="l01246"></a>01246         <span class="keywordflow">if</span> (free) {
<a name="l01247"></a>01247             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(item_array);
<a name="l01248"></a>01248         }
<a name="l01249"></a>01249     }
<a name="l01250"></a>01250     <span class="keywordflow">else</span> {
<a name="l01251"></a>01251         found = 0;
<a name="l01252"></a>01252     }
<a name="l01253"></a>01253     <span class="keywordflow">return</span> found;
<a name="l01254"></a>01254 }
<a name="l01255"></a>01255 
<a name="l01256"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a669f2ff5cb19fa232da9195d128f5452">01256</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a669f2ff5cb19fa232da9195d128f5452">RNA_enum_identifier</a>(<a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *item, <span class="keyword">const</span> <span class="keywordtype">int</span> value, <span class="keyword">const</span> <span class="keywordtype">char</span> **identifier)
<a name="l01257"></a>01257 {
<a name="l01258"></a>01258     <span class="keywordflow">for</span> (; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>; item++) {
<a name="l01259"></a>01259         <span class="keywordflow">if</span> (item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>[0] &amp;&amp; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a> == value) {
<a name="l01260"></a>01260             *identifier = item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>;
<a name="l01261"></a>01261             <span class="keywordflow">return</span> 1;
<a name="l01262"></a>01262         }
<a name="l01263"></a>01263     }
<a name="l01264"></a>01264     <span class="keywordflow">return</span> 0;
<a name="l01265"></a>01265 }
<a name="l01266"></a>01266 
<a name="l01267"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a91829f8155a0575d68a0d9bdfb9d31b6">01267</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a91829f8155a0575d68a0d9bdfb9d31b6">RNA_enum_bitflag_identifiers</a>(<a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *item, <span class="keyword">const</span> <span class="keywordtype">int</span> value, <span class="keyword">const</span> <span class="keywordtype">char</span> **identifier)
<a name="l01268"></a>01268 {
<a name="l01269"></a>01269     <span class="keywordtype">int</span> index = 0;
<a name="l01270"></a>01270     <span class="keywordflow">for</span> (; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>; item++) {
<a name="l01271"></a>01271         <span class="keywordflow">if</span> (item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>[0] &amp;&amp; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a> &amp; value) {
<a name="l01272"></a>01272             identifier[index++] = item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>;
<a name="l01273"></a>01273         }
<a name="l01274"></a>01274     }
<a name="l01275"></a>01275     identifier[index] = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01276"></a>01276     <span class="keywordflow">return</span> index;
<a name="l01277"></a>01277 }
<a name="l01278"></a>01278 
<a name="l01279"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a5c9d50e9e863f7aee4fa74d065f12186">01279</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a5c9d50e9e863f7aee4fa74d065f12186">RNA_enum_name</a>(<a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *item, <span class="keyword">const</span> <span class="keywordtype">int</span> value, <span class="keyword">const</span> <span class="keywordtype">char</span> **name)
<a name="l01280"></a>01280 {
<a name="l01281"></a>01281     <span class="keywordflow">for</span> (; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>; item++) {
<a name="l01282"></a>01282         <span class="keywordflow">if</span> (item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>[0] &amp;&amp; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a> == value) {
<a name="l01283"></a>01283             *name = item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a7b7b028a28c6f9f13a9a1289ceabe8e8">name</a>;
<a name="l01284"></a>01284             <span class="keywordflow">return</span> 1;
<a name="l01285"></a>01285         }
<a name="l01286"></a>01286     }
<a name="l01287"></a>01287     <span class="keywordflow">return</span> 0;
<a name="l01288"></a>01288 }
<a name="l01289"></a>01289 
<a name="l01290"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ac5f32ba0f2ce43f2c8da1171142ca398">01290</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ac5f32ba0f2ce43f2c8da1171142ca398">RNA_enum_description</a>(<a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *item, <span class="keyword">const</span> <span class="keywordtype">int</span> value, <span class="keyword">const</span> <span class="keywordtype">char</span> **description)
<a name="l01291"></a>01291 {
<a name="l01292"></a>01292     <span class="keywordflow">for</span> (; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>; item++) {
<a name="l01293"></a>01293         <span class="keywordflow">if</span> (item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>[0] &amp;&amp; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a> == value) {
<a name="l01294"></a>01294             *description = item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#ac81c34dc2a0f20d96292c0179e347c6f">description</a>;
<a name="l01295"></a>01295             <span class="keywordflow">return</span> 1;
<a name="l01296"></a>01296         }
<a name="l01297"></a>01297     }
<a name="l01298"></a>01298     <span class="keywordflow">return</span> 0;
<a name="l01299"></a>01299 }
<a name="l01300"></a>01300 
<a name="l01301"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a05340081581e779fb9a38e789188f8df">01301</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a24e76de3457df8fe4dd44da06fb05811">RNA_property_enum_identifier</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keyword">const</span> <span class="keywordtype">int</span> value,
<a name="l01302"></a>01302                                  <span class="keyword">const</span> <span class="keywordtype">char</span> **identifier)
<a name="l01303"></a>01303 {
<a name="l01304"></a>01304     <a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *item = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01305"></a>01305     <span class="keywordtype">int</span> result, free;
<a name="l01306"></a>01306     
<a name="l01307"></a>01307     <a class="code" href="../../d3/d10/rna__access_8c.html#a6aa91339201dc8ef93a61ee60bd8099e">RNA_property_enum_items</a>(C, ptr, prop, &amp;item, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;free);
<a name="l01308"></a>01308     <span class="keywordflow">if</span> (item) {
<a name="l01309"></a>01309         result = <a class="code" href="../../d3/d10/rna__access_8c.html#a669f2ff5cb19fa232da9195d128f5452">RNA_enum_identifier</a>(item, value, identifier);
<a name="l01310"></a>01310         <span class="keywordflow">if</span> (free)
<a name="l01311"></a>01311             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(item);
<a name="l01312"></a>01312 
<a name="l01313"></a>01313         <span class="keywordflow">return</span> result;
<a name="l01314"></a>01314     }
<a name="l01315"></a>01315     <span class="keywordflow">return</span> 0;
<a name="l01316"></a>01316 }
<a name="l01317"></a>01317 
<a name="l01318"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#af1e9a494f9634133d92cafed79e7cc50">01318</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a7c1da74721bc9e37cfb13d01ce21982c">RNA_property_enum_name</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keyword">const</span> <span class="keywordtype">int</span> value, <span class="keyword">const</span> <span class="keywordtype">char</span> **name)
<a name="l01319"></a>01319 {
<a name="l01320"></a>01320     <a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *item = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01321"></a>01321     <span class="keywordtype">int</span> result, free;
<a name="l01322"></a>01322     
<a name="l01323"></a>01323     <a class="code" href="../../d3/d10/rna__access_8c.html#a6aa91339201dc8ef93a61ee60bd8099e">RNA_property_enum_items</a>(C, ptr, prop, &amp;item, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;free);
<a name="l01324"></a>01324     <span class="keywordflow">if</span> (item) {
<a name="l01325"></a>01325         result = <a class="code" href="../../d3/d10/rna__access_8c.html#a5c9d50e9e863f7aee4fa74d065f12186">RNA_enum_name</a>(item, value, name);
<a name="l01326"></a>01326         <span class="keywordflow">if</span> (free)
<a name="l01327"></a>01327             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(item);
<a name="l01328"></a>01328         
<a name="l01329"></a>01329         <span class="keywordflow">return</span> result;
<a name="l01330"></a>01330     }
<a name="l01331"></a>01331     <span class="keywordflow">return</span> 0;
<a name="l01332"></a>01332 }
<a name="l01333"></a>01333 
<a name="l01334"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a781efe66020a9064bb08a491ff9f33a8">01334</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a4cbdda20528279d21873ae061c470e56">RNA_property_enum_bitflag_identifiers</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keyword">const</span> <span class="keywordtype">int</span> value,
<a name="l01335"></a>01335                                           <span class="keyword">const</span> <span class="keywordtype">char</span> **identifier)
<a name="l01336"></a>01336 {
<a name="l01337"></a>01337     <a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *item = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01338"></a>01338     <span class="keywordtype">int</span> result, free;
<a name="l01339"></a>01339 
<a name="l01340"></a>01340     <a class="code" href="../../d3/d10/rna__access_8c.html#a6aa91339201dc8ef93a61ee60bd8099e">RNA_property_enum_items</a>(C, ptr, prop, &amp;item, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;free);
<a name="l01341"></a>01341     <span class="keywordflow">if</span> (item) {
<a name="l01342"></a>01342         result = <a class="code" href="../../d3/d10/rna__access_8c.html#a91829f8155a0575d68a0d9bdfb9d31b6">RNA_enum_bitflag_identifiers</a>(item, value, identifier);
<a name="l01343"></a>01343         <span class="keywordflow">if</span> (free)
<a name="l01344"></a>01344             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(item);
<a name="l01345"></a>01345 
<a name="l01346"></a>01346         <span class="keywordflow">return</span> result;
<a name="l01347"></a>01347     }
<a name="l01348"></a>01348     <span class="keywordflow">return</span> 0;
<a name="l01349"></a>01349 }
<a name="l01350"></a>01350 
<a name="l01351"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#abf941f0964c5e2f66e923e88fe845e7e">01351</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#abf941f0964c5e2f66e923e88fe845e7e">RNA_property_ui_name</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01352"></a>01352 {
<a name="l01353"></a>01353     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a8ac05e06f85b87af186548d93d5c9e59">rna_ensure_property_name</a>(prop);
<a name="l01354"></a>01354 }
<a name="l01355"></a>01355 
<a name="l01356"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ae861514ad8b9c519df13dc1351452fcc">01356</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#ae861514ad8b9c519df13dc1351452fcc">RNA_property_ui_description</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01357"></a>01357 {
<a name="l01358"></a>01358     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a05c82238af4c84ffe21b92ff02e8c85f">rna_ensure_property_description</a>(prop);
<a name="l01359"></a>01359 }
<a name="l01360"></a>01360 
<a name="l01361"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ae32a0426ca4602b3cb622d3a1962fdeb">01361</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ae32a0426ca4602b3cb622d3a1962fdeb">RNA_property_ui_icon</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01362"></a>01362 {
<a name="l01363"></a>01363     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop)-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#adf7df191e45c5b7965a91f70e1c5ab1c">icon</a>;
<a name="l01364"></a>01364 }
<a name="l01365"></a>01365 
<a name="l01366"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a7b96714575f85b97b8f19e9acfbbd777">01366</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a7b96714575f85b97b8f19e9acfbbd777">RNA_property_editable</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01367"></a>01367 {
<a name="l01368"></a>01368     <a class="code" href="../../d8/d7e/structID.html">ID</a> *<span class="keywordtype">id</span> = ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>;
<a name="l01369"></a>01369     <span class="keywordtype">int</span> flag;
<a name="l01370"></a>01370 
<a name="l01371"></a>01371     prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l01372"></a>01372     flag = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a5d71a8e5d7c789df08c32e3c34b55980">editable</a> ? prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a5d71a8e5d7c789df08c32e3c34b55980">editable</a>(ptr) : prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a>;
<a name="l01373"></a>01373     <span class="keywordflow">return</span> (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>) &amp;&amp; (!<span class="keywordtype">id</span> || !<span class="keywordtype">id</span>-&gt;lib || (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a4fddeba513c23e29fb9337e94fc4b9f6">PROP_LIB_EXCEPTION</a>));
<a name="l01374"></a>01374 }
<a name="l01375"></a>01375 
<a name="l01376"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#acc0f85590c2980dcfd0a5631bff973e7">01376</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#acc0f85590c2980dcfd0a5631bff973e7">RNA_property_editable_flag</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01377"></a>01377 {
<a name="l01378"></a>01378     <span class="keywordtype">int</span> flag;
<a name="l01379"></a>01379 
<a name="l01380"></a>01380     prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l01381"></a>01381     flag = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a5d71a8e5d7c789df08c32e3c34b55980">editable</a> ? prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a5d71a8e5d7c789df08c32e3c34b55980">editable</a>(ptr) : prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a>;
<a name="l01382"></a>01382     <span class="keywordflow">return</span> (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>);
<a name="l01383"></a>01383 }
<a name="l01384"></a>01384 
<a name="l01385"></a>01385 <span class="comment">/* same as RNA_property_editable(), except this checks individual items in an array */</span>
<a name="l01386"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aa7592ba2901b1f2192bfcabbfaa835aa">01386</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aa7592ba2901b1f2192bfcabbfaa835aa">RNA_property_editable_index</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> index)
<a name="l01387"></a>01387 {
<a name="l01388"></a>01388     <a class="code" href="../../d8/d7e/structID.html">ID</a> *id;
<a name="l01389"></a>01389     <span class="keywordtype">int</span> flag;
<a name="l01390"></a>01390 
<a name="l01391"></a>01391     prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l01392"></a>01392 
<a name="l01393"></a>01393     flag = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a>;
<a name="l01394"></a>01394     
<a name="l01395"></a>01395     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a5d71a8e5d7c789df08c32e3c34b55980">editable</a>)
<a name="l01396"></a>01396         flag &amp;= prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a5d71a8e5d7c789df08c32e3c34b55980">editable</a>(ptr);
<a name="l01397"></a>01397 
<a name="l01398"></a>01398     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a114a207b5d5bff2dfb47633d64b56316">itemeditable</a>)
<a name="l01399"></a>01399         flag &amp;= prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a114a207b5d5bff2dfb47633d64b56316">itemeditable</a>(ptr, index);
<a name="l01400"></a>01400 
<a name="l01401"></a>01401     <span class="keywordtype">id</span> = ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>;
<a name="l01402"></a>01402 
<a name="l01403"></a>01403     <span class="keywordflow">return</span> (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>) &amp;&amp; (!<span class="keywordtype">id</span> || !<span class="keywordtype">id</span>-&gt;lib || (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a4fddeba513c23e29fb9337e94fc4b9f6">PROP_LIB_EXCEPTION</a>));
<a name="l01404"></a>01404 }
<a name="l01405"></a>01405 
<a name="l01406"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a63b99969d7f69abd7809858a2687ae1c">01406</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a63b99969d7f69abd7809858a2687ae1c">RNA_property_animateable</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01407"></a>01407 {
<a name="l01408"></a>01408     <span class="comment">/* check that base ID-block can support animation data */</span>
<a name="l01409"></a>01409     <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d51/BKE__animsys_8h.html#aa05ab15282184d66041bf1f4d6e5b9ae">id_type_can_have_animdata</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>))
<a name="l01410"></a>01410         <span class="keywordflow">return</span> 0;
<a name="l01411"></a>01411     
<a name="l01412"></a>01412     prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l01413"></a>01413 
<a name="l01414"></a>01414     <span class="keywordflow">if</span> (!(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a28662069411ad0d81cca799732328af6">PROP_ANIMATABLE</a>))
<a name="l01415"></a>01415         <span class="keywordflow">return</span> 0;
<a name="l01416"></a>01416 
<a name="l01417"></a>01417     <span class="keywordflow">return</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>);
<a name="l01418"></a>01418 }
<a name="l01419"></a>01419 
<a name="l01420"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a9389b47f9b9d28e80c4514872138b942">01420</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a9389b47f9b9d28e80c4514872138b942">RNA_property_animated</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(ptr), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(prop))
<a name="l01421"></a>01421 {
<a name="l01422"></a>01422     <span class="comment">/* would need to ask animation system */</span>
<a name="l01423"></a>01423 
<a name="l01424"></a>01424     <span class="keywordflow">return</span> 0;
<a name="l01425"></a>01425 }
<a name="l01426"></a>01426 
<a name="l01427"></a>01427 
<a name="l01428"></a>01428 <span class="comment">/* this function is to check if its possible to create a valid path from the ID</span>
<a name="l01429"></a>01429 <span class="comment"> * its slow so don&#39;t call in a loop */</span>
<a name="l01430"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#af7b34b763693b327317571bd4737baa5">01430</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#af7b34b763693b327317571bd4737baa5">RNA_property_path_from_ID_check</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01431"></a>01431 {
<a name="l01432"></a>01432     <span class="keywordtype">char</span> *path = <a class="code" href="../../d3/d10/rna__access_8c.html#a66bdb30aeb21c0607ca3a0453e1d99eb">RNA_path_from_ID_to_property</a>(ptr, prop);
<a name="l01433"></a>01433     <span class="keywordtype">int</span> ret = 0;
<a name="l01434"></a>01434 
<a name="l01435"></a>01435     <span class="keywordflow">if</span> (path) {
<a name="l01436"></a>01436         <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> id_ptr;
<a name="l01437"></a>01437         <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> r_ptr;
<a name="l01438"></a>01438         <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *r_prop;
<a name="l01439"></a>01439 
<a name="l01440"></a>01440         <a class="code" href="../../d3/d10/rna__access_8c.html#a2ce5c1d9b520b00730820e0e118dd4e1">RNA_id_pointer_create</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>, &amp;id_ptr);
<a name="l01441"></a>01441         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a003cb660a44918af456e10e005495f86">RNA_path_resolve</a>(&amp;id_ptr, path, &amp;r_ptr, &amp;r_prop) == <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
<a name="l01442"></a>01442             ret = (prop == r_prop);
<a name="l01443"></a>01443         }
<a name="l01444"></a>01444         <span class="keywordflow">else</span> {
<a name="l01445"></a>01445             ret = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l01446"></a>01446         }
<a name="l01447"></a>01447         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(path);
<a name="l01448"></a>01448     }
<a name="l01449"></a>01449 
<a name="l01450"></a>01450     <span class="keywordflow">return</span> ret;
<a name="l01451"></a>01451 }
<a name="l01452"></a>01452 
<a name="l01453"></a>01453 
<a name="l01454"></a><a class="code" href="../../d3/d10/rna__access_8c.html#ab0fc38a5cea8cc162ed293a8f273a45f">01454</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ab0fc38a5cea8cc162ed293a8f273a45f">rna_property_update</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../d0/dc0/structMain.html">Main</a> *bmain, <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01455"></a>01455 {
<a name="l01456"></a>01456     <span class="keywordtype">int</span> is_rna = (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> == <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>);
<a name="l01457"></a>01457     prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l01458"></a>01458 
<a name="l01459"></a>01459     <span class="keywordflow">if</span> (is_rna) {
<a name="l01460"></a>01460         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aec60aeb3fd6c4d9419be2aa13fefed90">update</a>) {
<a name="l01461"></a>01461             <span class="comment">/* ideally no context would be needed for update, but there&#39;s some</span>
<a name="l01462"></a>01462 <span class="comment">             * parts of the code that need it still, so we have this exception */</span>
<a name="l01463"></a>01463             <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a22e3422e89920ab20d4ffc932e52e058">PROP_CONTEXT_UPDATE</a>) {
<a name="l01464"></a>01464                 <span class="keywordflow">if</span> (C) {
<a name="l01465"></a>01465                     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a568e3a89e081feecd9d1cdf983f3bde0">PROP_CONTEXT_PROPERTY_UPDATE</a>) {
<a name="l01466"></a>01466                         ((<a class="code" href="../../df/d02/rna__internal__types_8h.html#ad2a55265efb9218c6b6774742472ab07">ContextPropUpdateFunc</a>)prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aec60aeb3fd6c4d9419be2aa13fefed90">update</a>)(<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, ptr, prop);
<a name="l01467"></a>01467                     }
<a name="l01468"></a>01468                     <span class="keywordflow">else</span> {
<a name="l01469"></a>01469                         ((<a class="code" href="../../df/d02/rna__internal__types_8h.html#a43c9a4ab22bbd2704a56e6dc95a157c5">ContextUpdateFunc</a>)prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aec60aeb3fd6c4d9419be2aa13fefed90">update</a>)(<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, ptr);
<a name="l01470"></a>01470                     }
<a name="l01471"></a>01471                 }
<a name="l01472"></a>01472             }
<a name="l01473"></a>01473             <span class="keywordflow">else</span>
<a name="l01474"></a>01474                 prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aec60aeb3fd6c4d9419be2aa13fefed90">update</a>(bmain, scene, ptr);
<a name="l01475"></a>01475         }
<a name="l01476"></a>01476         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a49b4c8972743e6fbf0b9cd2ae27c8d8e">noteflag</a>)
<a name="l01477"></a>01477             <a class="code" href="../../df/db0/wm__event__system_8c.html#a2d4bab7477e1a026061d578f19247457">WM_main_add_notifier</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a49b4c8972743e6fbf0b9cd2ae27c8d8e">noteflag</a>, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>);
<a name="l01478"></a>01478     }
<a name="l01479"></a>01479     
<a name="l01480"></a>01480     <span class="keywordflow">if</span> (!is_rna || (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>)) {
<a name="l01481"></a>01481         <span class="comment">/* WARNING! This is so property drivers update the display!</span>
<a name="l01482"></a>01482 <span class="comment">         * not especially nice  */</span>
<a name="l01483"></a>01483         <a class="code" href="../../d2/da0/BKE__depsgraph_8h.html#a70d8c170e1f4bbcc010d94405d6a9817">DAG_id_tag_update</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>, <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a189b3a96923b2425ee7c0990c0b3fd20">OB_RECALC_OB</a>|<a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a5753f311c53d8a8f72b1937f33ebb527">OB_RECALC_DATA</a>|<a class="code" href="../../d9/dd9/DNA__object__types_8h.html#acd3a68b1b095992c7f50c74a480549bd">OB_RECALC_TIME</a>);
<a name="l01484"></a>01484         <a class="code" href="../../df/db0/wm__event__system_8c.html#a2d4bab7477e1a026061d578f19247457">WM_main_add_notifier</a>(<a class="code" href="../../d4/ddc/WM__types_8h.html#a0dce5c73d06bfc518c4c6b2189df325d">NC_WINDOW</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l01485"></a>01485     }
<a name="l01486"></a>01486 }
<a name="l01487"></a>01487 
<a name="l01488"></a>01488 <span class="comment">/* must keep in sync with &#39;rna_property_update&#39;</span>
<a name="l01489"></a>01489 <span class="comment"> * note, its possible this returns a false positive in the case of PROP_CONTEXT_UPDATE</span>
<a name="l01490"></a>01490 <span class="comment"> * but this isn&#39;t likely to be a performance problem. */</span>
<a name="l01491"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aea0282f1b45c8f93160f7e94c5171198">01491</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a3c375f7d553677cf189c83c379b29ec2">RNA_property_update_check</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01492"></a>01492 {
<a name="l01493"></a>01493     <span class="keywordflow">return</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> != <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a> || prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aec60aeb3fd6c4d9419be2aa13fefed90">update</a> || prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a49b4c8972743e6fbf0b9cd2ae27c8d8e">noteflag</a>);
<a name="l01494"></a>01494 }
<a name="l01495"></a>01495 
<a name="l01496"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aab48b03148e840e67ae86e39f00a82e8">01496</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a5fa7d69c3a73312275e1e6d20baf3bc6">RNA_property_update</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01497"></a>01497 {
<a name="l01498"></a>01498     <a class="code" href="../../d3/d10/rna__access_8c.html#ab0fc38a5cea8cc162ed293a8f273a45f">rna_property_update</a>(C, <a class="code" href="../../df/d01/BKE__context_8h.html#ae849d2f7c2427ac6b75ee0c5ffcead6c">CTX_data_main</a>(C), <a class="code" href="../../df/d01/BKE__context_8h.html#a0bcac8ad3452a040293c01084665a258">CTX_data_scene</a>(C), ptr, prop);
<a name="l01499"></a>01499 }
<a name="l01500"></a>01500 
<a name="l01501"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ac5bda582e4ede75ba1a9cdeabb9f5a57">01501</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a90f8f1854213a338500078f583fca727">RNA_property_update_main</a>(<a class="code" href="../../d0/dc0/structMain.html">Main</a> *bmain, <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01502"></a>01502 {
<a name="l01503"></a>01503     <a class="code" href="../../d3/d10/rna__access_8c.html#ab0fc38a5cea8cc162ed293a8f273a45f">rna_property_update</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, bmain, scene, ptr, prop);
<a name="l01504"></a>01504 }
<a name="l01505"></a>01505 
<a name="l01506"></a>01506 
<a name="l01507"></a>01507 <span class="comment">/* RNA Updates Cache ------------------------ */</span>
<a name="l01508"></a>01508 <span class="comment">/* Overview of RNA Update cache system:</span>
<a name="l01509"></a>01509 <span class="comment"> *</span>
<a name="l01510"></a>01510 <span class="comment"> * RNA Update calls need to be cached in order to maintain reasonable performance</span>
<a name="l01511"></a>01511 <span class="comment"> * of the animation system (i.e. maintaining a somewhat interactive framerate)</span>
<a name="l01512"></a>01512 <span class="comment"> * while still allowing updates to be called (necessary in particular for modifier</span>
<a name="l01513"></a>01513 <span class="comment"> * property updates to actually work).</span>
<a name="l01514"></a>01514 <span class="comment"> *</span>
<a name="l01515"></a>01515 <span class="comment"> * The cache is structured with a dual-layer structure</span>
<a name="l01516"></a>01516 <span class="comment"> * - L1 = PointerRNA used as key; id.data is used (it should always be defined,</span>
<a name="l01517"></a>01517 <span class="comment"> *       and most updates end up using just that anyways)</span>
<a name="l01518"></a>01518 <span class="comment"> * - L2 = Update functions to be called on those PointerRNA&#39;s</span>
<a name="l01519"></a>01519 <span class="comment"> */</span>
<a name="l01520"></a>01520 
<a name="l01521"></a>01521 <span class="comment">/* cache element */</span>
<a name="l01522"></a><a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html">01522</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html">tRnaUpdateCacheElem</a> {
<a name="l01523"></a><a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#ab6107b4b70780e5947d83b0e2038909c">01523</a>     <span class="keyword">struct </span><a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html">tRnaUpdateCacheElem</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a11092ec0acf6d7c53c1feff8f5e0e18c">next</a>, *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#ab6107b4b70780e5947d83b0e2038909c">prev</a>;
<a name="l01524"></a>01524     
<a name="l01525"></a><a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">01525</a>     <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> <a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>;     <span class="comment">/* L1 key - id as primary, data secondary/ignored? */</span>
<a name="l01526"></a><a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a8eede4a1fd99428ce2f41c50133e07fa">01526</a>     <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> <a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a8eede4a1fd99428ce2f41c50133e07fa">L2Funcs</a>;   <span class="comment">/* L2 functions (LinkData&lt;RnaUpdateFuncRef&gt;) */</span>
<a name="l01527"></a>01527 } <a class="code" href="../../d3/d10/rna__access_8c.html#a00871f9f9adfd267974c763e9b28c3ac">tRnaUpdateCacheElem</a>;
<a name="l01528"></a>01528 
<a name="l01529"></a>01529 <span class="comment">/* cache global (tRnaUpdateCacheElem&#39;s) - only accessible using these API calls */</span>
<a name="l01530"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a5bfdcd4a52490d40166386f9dde21f3c">01530</a> <span class="keyword">static</span> <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> <a class="code" href="../../d3/d10/rna__access_8c.html#a5bfdcd4a52490d40166386f9dde21f3c">rna_updates_cache</a> = {<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>};
<a name="l01531"></a>01531 
<a name="l01532"></a>01532 <span class="comment">/* ........................... */</span>
<a name="l01533"></a>01533 
<a name="l01534"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a9f5dfbd7796ed5b2a896715045dad181">01534</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a9f5dfbd7796ed5b2a896715045dad181">RNA_property_update_cache_add</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01535"></a>01535 {
<a name="l01536"></a>01536     <a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html">tRnaUpdateCacheElem</a> *uce = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01537"></a>01537     <a class="code" href="../../df/d02/rna__internal__types_8h.html#a3127b5a341edf4abdab833d9c59a102a">UpdateFunc</a> fn = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01538"></a>01538     <a class="code" href="../../d0/df2/structLinkData.html">LinkData</a> *ld;
<a name="l01539"></a>01539     <span class="keywordtype">short</span> is_rna = (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> == <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>);
<a name="l01540"></a>01540     
<a name="l01541"></a>01541     <span class="comment">/* sanity check */</span>
<a name="l01542"></a>01542     <span class="keywordflow">if</span> (<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a0b02ecc2161884c6587b77fd39150632">ELEM</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, ptr, prop))
<a name="l01543"></a>01543         <span class="keywordflow">return</span>;
<a name="l01544"></a>01544         
<a name="l01545"></a>01545     prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l01546"></a>01546     
<a name="l01547"></a>01547     <span class="comment">/* we can only handle update calls with no context args for now (makes animsys updates easier) */</span>
<a name="l01548"></a>01548     <span class="keywordflow">if</span> ((is_rna == 0) || (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aec60aeb3fd6c4d9419be2aa13fefed90">update</a> == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a22e3422e89920ab20d4ffc932e52e058">PROP_CONTEXT_UPDATE</a>))
<a name="l01549"></a>01549         <span class="keywordflow">return</span>;
<a name="l01550"></a>01550     fn = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aec60aeb3fd6c4d9419be2aa13fefed90">update</a>;
<a name="l01551"></a>01551         
<a name="l01552"></a>01552     <span class="comment">/* find cache element for which key matches... */</span>
<a name="l01553"></a>01553     <span class="keywordflow">for</span> (uce = rna_updates_cache.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; uce; uce = uce-&gt;<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a11092ec0acf6d7c53c1feff8f5e0e18c">next</a>) {
<a name="l01554"></a>01554         <span class="comment">/* just match by id only for now, since most update calls that we&#39;ll encounter only really care about this */</span>
<a name="l01555"></a>01555         <span class="comment">/* TODO: later, the cache might need to have some nesting on L1 to cope better</span>
<a name="l01556"></a>01556 <span class="comment">         * with these problems + some tagging to indicate we need this */</span>
<a name="l01557"></a>01557         <span class="keywordflow">if</span> (uce-&gt;<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> == ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>)
<a name="l01558"></a>01558             <span class="keywordflow">break</span>;
<a name="l01559"></a>01559     }
<a name="l01560"></a>01560     <span class="keywordflow">if</span> (uce == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l01561"></a>01561         <span class="comment">/* create new instance */</span>
<a name="l01562"></a>01562         uce = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html">tRnaUpdateCacheElem</a>), <span class="stringliteral">&quot;tRnaUpdateCacheElem&quot;</span>);
<a name="l01563"></a>01563         <a class="code" href="../../d1/d3e/BLI__listbase_8h.html#a28b9955d900264adc216d246f4057f05">BLI_addtail</a>(&amp;rna_updates_cache, uce);
<a name="l01564"></a>01564         
<a name="l01565"></a>01565         <span class="comment">/* copy pointer */</span>
<a name="l01566"></a>01566         <a class="code" href="../../d3/d10/rna__access_8c.html#a1f8fb80da9a6450a51ab2e9b97264f01">RNA_pointer_create</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>, &amp;uce-&gt;<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>);
<a name="l01567"></a>01567     }
<a name="l01568"></a>01568     
<a name="l01569"></a>01569     <span class="comment">/* check on the update func */</span>
<a name="l01570"></a>01570     <span class="keywordflow">for</span> (ld = uce-&gt;<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a8eede4a1fd99428ce2f41c50133e07fa">L2Funcs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ld; ld = ld-&gt;<a class="code" href="../../d0/df2/structLinkData.html#a5e24b2a72895050a8c968e55b8dce1e3">next</a>) {
<a name="l01571"></a>01571         <span class="comment">/* stop on match - function already cached */</span>
<a name="l01572"></a>01572         <span class="keywordflow">if</span> (fn == ld-&gt;<a class="code" href="../../d0/df2/structLinkData.html#a3591ce65917fa263d5e3c0586e90bf40">data</a>)
<a name="l01573"></a>01573             <span class="keywordflow">return</span>;
<a name="l01574"></a>01574     }
<a name="l01575"></a>01575     <span class="comment">/* else... if still here, we need to add it */</span>
<a name="l01576"></a>01576     <a class="code" href="../../d1/d3e/BLI__listbase_8h.html#a28b9955d900264adc216d246f4057f05">BLI_addtail</a>(&amp;uce-&gt;<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a8eede4a1fd99428ce2f41c50133e07fa">L2Funcs</a>, <a class="code" href="../../d1/d3e/BLI__listbase_8h.html#a45c2880c1c8f58f11583cf0ddcc06697">BLI_genericNodeN</a>(fn));
<a name="l01577"></a>01577 }
<a name="l01578"></a>01578 
<a name="l01579"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ac64f602f4cf47d62b9c68ed163a2adac">01579</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ab4abe64fda7c639edcfc7244f4009d7c">RNA_property_update_cache_flush</a>(<a class="code" href="../../d0/dc0/structMain.html">Main</a> *bmain, <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene)
<a name="l01580"></a>01580 {
<a name="l01581"></a>01581     <a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html">tRnaUpdateCacheElem</a> *uce;
<a name="l01582"></a>01582     
<a name="l01583"></a>01583     <span class="comment">/* TODO: should we check that bmain and scene are valid? The above stuff doesn&#39;t! */</span>
<a name="l01584"></a>01584     
<a name="l01585"></a>01585     <span class="comment">/* execute the cached updates */</span>
<a name="l01586"></a>01586     <span class="keywordflow">for</span> (uce = rna_updates_cache.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; uce; uce = uce-&gt;<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a11092ec0acf6d7c53c1feff8f5e0e18c">next</a>) {
<a name="l01587"></a>01587         <a class="code" href="../../d0/df2/structLinkData.html">LinkData</a> *ld;
<a name="l01588"></a>01588         
<a name="l01589"></a>01589         <span class="keywordflow">for</span> (ld = uce-&gt;<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a8eede4a1fd99428ce2f41c50133e07fa">L2Funcs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ld; ld = ld-&gt;<a class="code" href="../../d0/df2/structLinkData.html#a5e24b2a72895050a8c968e55b8dce1e3">next</a>) {
<a name="l01590"></a>01590             <a class="code" href="../../df/d02/rna__internal__types_8h.html#a3127b5a341edf4abdab833d9c59a102a">UpdateFunc</a> fn = (<a class="code" href="../../df/d02/rna__internal__types_8h.html#a3127b5a341edf4abdab833d9c59a102a">UpdateFunc</a>)ld-&gt;<a class="code" href="../../d0/df2/structLinkData.html#a3591ce65917fa263d5e3c0586e90bf40">data</a>;
<a name="l01591"></a>01591             fn(bmain, scene, &amp;uce-&gt;<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>);
<a name="l01592"></a>01592         }
<a name="l01593"></a>01593     }
<a name="l01594"></a>01594 }
<a name="l01595"></a>01595 
<a name="l01596"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#af548ac64a1f2356bed4e2988ac02cb82">01596</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#af548ac64a1f2356bed4e2988ac02cb82">RNA_property_update_cache_free</a>(<span class="keywordtype">void</span>)
<a name="l01597"></a>01597 {
<a name="l01598"></a>01598     <a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html">tRnaUpdateCacheElem</a> *uce, *ucn;
<a name="l01599"></a>01599     
<a name="l01600"></a>01600     <span class="keywordflow">for</span> (uce = rna_updates_cache.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; uce; uce = ucn) {
<a name="l01601"></a>01601         ucn = uce-&gt;<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a11092ec0acf6d7c53c1feff8f5e0e18c">next</a>;
<a name="l01602"></a>01602         
<a name="l01603"></a>01603         <span class="comment">/* free L2 cache */</span>
<a name="l01604"></a>01604         <a class="code" href="../../d1/d3e/BLI__listbase_8h.html#af94280dc0a245719304fdff91327b1e0">BLI_freelistN</a>(&amp;uce-&gt;<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a8eede4a1fd99428ce2f41c50133e07fa">L2Funcs</a>);
<a name="l01605"></a>01605         
<a name="l01606"></a>01606         <span class="comment">/* remove self */</span>
<a name="l01607"></a>01607         <a class="code" href="../../d1/d3e/BLI__listbase_8h.html#a2bb7ce226f8b42d21eb35100f0bb4580">BLI_freelinkN</a>(&amp;rna_updates_cache, uce);
<a name="l01608"></a>01608     }
<a name="l01609"></a>01609 }
<a name="l01610"></a>01610 
<a name="l01611"></a>01611 <span class="comment">/* ---------------------------------------------------------------------- */</span>
<a name="l01612"></a>01612 
<a name="l01613"></a>01613 <span class="comment">/* Property Data */</span>
<a name="l01614"></a>01614 
<a name="l01615"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a3a4a0d200b12ded21d24676dcff67732">01615</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a3a4a0d200b12ded21d24676dcff67732">RNA_property_boolean_get</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01616"></a>01616 {
<a name="l01617"></a>01617     <a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a> *bprop = (<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a>*)prop;
<a name="l01618"></a>01618     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l01619"></a>01619 
<a name="l01620"></a>01620     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>);
<a name="l01621"></a>01621     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) == 0);
<a name="l01622"></a>01622 
<a name="l01623"></a>01623     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr)))
<a name="l01624"></a>01624         <span class="keywordflow">return</span> <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1f9c0b8b528c710eac7c2afbf711ce2c">IDP_Int</a>(idprop);
<a name="l01625"></a>01625     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#ab002855a642299be3ea8a3e74f6cbd93">get</a>)
<a name="l01626"></a>01626         <span class="keywordflow">return</span> bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#ab002855a642299be3ea8a3e74f6cbd93">get</a>(ptr);
<a name="l01627"></a>01627     <span class="keywordflow">else</span>
<a name="l01628"></a>01628         <span class="keywordflow">return</span> bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#a9287a7685acddae109d6e77933d33e36">defaultvalue</a>;
<a name="l01629"></a>01629 }
<a name="l01630"></a>01630 
<a name="l01631"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a007e3f02d7d262b9cf7865abd6647db3">01631</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a007e3f02d7d262b9cf7865abd6647db3">RNA_property_boolean_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> value)
<a name="l01632"></a>01632 {
<a name="l01633"></a>01633     <a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a> *bprop = (<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a>*)prop;
<a name="l01634"></a>01634     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l01635"></a>01635 
<a name="l01636"></a>01636     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>);
<a name="l01637"></a>01637     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) == 0);
<a name="l01638"></a>01638 
<a name="l01639"></a>01639     <span class="comment">/* just in case other values are passed */</span>
<a name="l01640"></a>01640     <span class="keywordflow">if</span> (value) value = 1;
<a name="l01641"></a>01641 
<a name="l01642"></a>01642     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l01643"></a>01643         <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1f9c0b8b528c710eac7c2afbf711ce2c">IDP_Int</a>(idprop) = value;
<a name="l01644"></a>01644         <a class="code" href="../../d3/d10/rna__access_8c.html#ac6d40bd7ba173c63444a2851fb038cbb">rna_idproperty_touch</a>(idprop);
<a name="l01645"></a>01645     }
<a name="l01646"></a>01646     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#aa4b7a8febf3b265db636dad2899b7fce">set</a>)
<a name="l01647"></a>01647         bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#aa4b7a8febf3b265db636dad2899b7fce">set</a>(ptr, value);
<a name="l01648"></a>01648     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>) {
<a name="l01649"></a>01649         <a class="code" href="../../df/d2e/unionIDPropertyTemplate.html">IDPropertyTemplate</a> val = {0};
<a name="l01650"></a>01650         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group;
<a name="l01651"></a>01651 
<a name="l01652"></a>01652         val.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#aaf454900f7f5fb52d00e237a117b4d04">i</a> = value;
<a name="l01653"></a>01653 
<a name="l01654"></a>01654         group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 1);
<a name="l01655"></a>01655         <span class="keywordflow">if</span> (group)
<a name="l01656"></a>01656             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a138d36796279ac5dfae6a2819e1aaa8d">IDP_AddToGroup</a>(group, <a class="code" href="../../d5/d95/BKE__idprop_8h.html#ab2130fe4ddfd0002e655dbee991d517e">IDP_New</a>(<a class="code" href="../../d3/dfb/DNA__ID_8h.html#a13b6490097339e2b882a4d060f504d69">IDP_INT</a>, &amp;val, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01657"></a>01657     }
<a name="l01658"></a>01658 }
<a name="l01659"></a>01659 
<a name="l01660"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#af3af416215c3d866744c965e6d4faa10">01660</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#af3af416215c3d866744c965e6d4faa10">RNA_property_boolean_get_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> *values)
<a name="l01661"></a>01661 {
<a name="l01662"></a>01662     <a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a> *bprop = (<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a>*)prop;
<a name="l01663"></a>01663     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l01664"></a>01664 
<a name="l01665"></a>01665     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>);
<a name="l01666"></a>01666     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l01667"></a>01667 
<a name="l01668"></a>01668     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l01669"></a>01669         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l01670"></a>01670             values[0] = <a class="code" href="../../d3/d10/rna__access_8c.html#a3a4a0d200b12ded21d24676dcff67732">RNA_property_boolean_get</a>(ptr, prop);
<a name="l01671"></a>01671         <span class="keywordflow">else</span>
<a name="l01672"></a>01672             memcpy(values, <a class="code" href="../../d5/d95/BKE__idprop_8h.html#afcd801b64d87f8967273ddd406377549">IDP_Array</a>(idprop), <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>);
<a name="l01673"></a>01673     }
<a name="l01674"></a>01674     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l01675"></a>01675         values[0] = <a class="code" href="../../d3/d10/rna__access_8c.html#a3a4a0d200b12ded21d24676dcff67732">RNA_property_boolean_get</a>(ptr, prop);
<a name="l01676"></a>01676     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#af38a68b63e12461123465bdc74b74fc3">getarray</a>)
<a name="l01677"></a>01677         bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#af38a68b63e12461123465bdc74b74fc3">getarray</a>(ptr, values);
<a name="l01678"></a>01678     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#af8370f71b358dc644ae41a52537c0ad1">defaultarray</a>)
<a name="l01679"></a>01679         memcpy(values, bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#af8370f71b358dc644ae41a52537c0ad1">defaultarray</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l01680"></a>01680     <span class="keywordflow">else</span>
<a name="l01681"></a>01681         memset(values, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l01682"></a>01682 }
<a name="l01683"></a>01683 
<a name="l01684"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#acb4afecfe847861cf6ebf4593d2b42bf">01684</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#acb4afecfe847861cf6ebf4593d2b42bf">RNA_property_boolean_get_index</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> index)
<a name="l01685"></a>01685 {
<a name="l01686"></a>01686     <span class="keywordtype">int</span> tmp[<a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>];
<a name="l01687"></a>01687     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../d3/d10/rna__access_8c.html#aae6d8c91c0932dabb41cf4436777c609">rna_ensure_property_array_length</a>(ptr, prop);
<a name="l01688"></a>01688 
<a name="l01689"></a>01689     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>);
<a name="l01690"></a>01690     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l01691"></a>01691 
<a name="l01692"></a>01692     <span class="keywordflow">if</span> (len &lt;= <a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>) {
<a name="l01693"></a>01693         <a class="code" href="../../d3/d10/rna__access_8c.html#af3af416215c3d866744c965e6d4faa10">RNA_property_boolean_get_array</a>(ptr, prop, tmp);
<a name="l01694"></a>01694         <span class="keywordflow">return</span> tmp[index];
<a name="l01695"></a>01695     }
<a name="l01696"></a>01696     <span class="keywordflow">else</span> {
<a name="l01697"></a>01697         <span class="keywordtype">int</span> *tmparray, value;
<a name="l01698"></a>01698 
<a name="l01699"></a>01699         tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*len, <span class="stringliteral">&quot;RNA_property_boolean_get_index&quot;</span>);
<a name="l01700"></a>01700         <a class="code" href="../../d3/d10/rna__access_8c.html#af3af416215c3d866744c965e6d4faa10">RNA_property_boolean_get_array</a>(ptr, prop, tmparray);
<a name="l01701"></a>01701         value = tmparray[index];
<a name="l01702"></a>01702         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l01703"></a>01703 
<a name="l01704"></a>01704         <span class="keywordflow">return</span> value;
<a name="l01705"></a>01705     }
<a name="l01706"></a>01706 }
<a name="l01707"></a>01707 
<a name="l01708"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a131f6d2a8690b568ccb41f7311d007d7">01708</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a131f6d2a8690b568ccb41f7311d007d7">RNA_property_boolean_set_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keyword">const</span> <span class="keywordtype">int</span> *values)
<a name="l01709"></a>01709 {
<a name="l01710"></a>01710     <a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a> *bprop = (<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a>*)prop;
<a name="l01711"></a>01711     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l01712"></a>01712 
<a name="l01713"></a>01713     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>);
<a name="l01714"></a>01714     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l01715"></a>01715 
<a name="l01716"></a>01716     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l01717"></a>01717         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l01718"></a>01718             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1f9c0b8b528c710eac7c2afbf711ce2c">IDP_Int</a>(idprop) = values[0];
<a name="l01719"></a>01719         <span class="keywordflow">else</span>
<a name="l01720"></a>01720             memcpy(<a class="code" href="../../d5/d95/BKE__idprop_8h.html#afcd801b64d87f8967273ddd406377549">IDP_Array</a>(idprop), values, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>);
<a name="l01721"></a>01721 
<a name="l01722"></a>01722         <a class="code" href="../../d3/d10/rna__access_8c.html#ac6d40bd7ba173c63444a2851fb038cbb">rna_idproperty_touch</a>(idprop);
<a name="l01723"></a>01723     }
<a name="l01724"></a>01724     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l01725"></a>01725         <a class="code" href="../../d3/d10/rna__access_8c.html#a007e3f02d7d262b9cf7865abd6647db3">RNA_property_boolean_set</a>(ptr, prop, values[0]);
<a name="l01726"></a>01726     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#a7535d073b74cdb69dbb338efb46ea7ef">setarray</a>)
<a name="l01727"></a>01727         bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#a7535d073b74cdb69dbb338efb46ea7ef">setarray</a>(ptr, values);
<a name="l01728"></a>01728     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>) {
<a name="l01729"></a>01729         <a class="code" href="../../df/d2e/unionIDPropertyTemplate.html">IDPropertyTemplate</a> val = {0};
<a name="l01730"></a>01730         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group;
<a name="l01731"></a>01731 
<a name="l01732"></a>01732         val.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#a9955a6e4ecc473e7877e71aa4bc1cb77">array</a>.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#a77ed867f249646211029a5f196cf3afe">len</a> = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>;
<a name="l01733"></a>01733         val.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#a9955a6e4ecc473e7877e71aa4bc1cb77">array</a>.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#af53fdea9afbef841a1d6ceb3658835f3">type</a> = <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a13b6490097339e2b882a4d060f504d69">IDP_INT</a>;
<a name="l01734"></a>01734 
<a name="l01735"></a>01735         group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 1);
<a name="l01736"></a>01736         <span class="keywordflow">if</span> (group) {
<a name="l01737"></a>01737             idprop = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#ab2130fe4ddfd0002e655dbee991d517e">IDP_New</a>(<a class="code" href="../../d3/dfb/DNA__ID_8h.html#a271555be6be919d1b73afc38fae790bb">IDP_ARRAY</a>, &amp;val, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01738"></a>01738             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a138d36796279ac5dfae6a2819e1aaa8d">IDP_AddToGroup</a>(group, idprop);
<a name="l01739"></a>01739             memcpy(<a class="code" href="../../d5/d95/BKE__idprop_8h.html#afcd801b64d87f8967273ddd406377549">IDP_Array</a>(idprop), values, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>);
<a name="l01740"></a>01740         }
<a name="l01741"></a>01741     }
<a name="l01742"></a>01742 }
<a name="l01743"></a>01743 
<a name="l01744"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a658adde6477f2ecaf4b04402f1585e01">01744</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a658adde6477f2ecaf4b04402f1585e01">RNA_property_boolean_set_index</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> value)
<a name="l01745"></a>01745 {
<a name="l01746"></a>01746     <span class="keywordtype">int</span> tmp[<a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>];
<a name="l01747"></a>01747     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../d3/d10/rna__access_8c.html#aae6d8c91c0932dabb41cf4436777c609">rna_ensure_property_array_length</a>(ptr, prop);
<a name="l01748"></a>01748 
<a name="l01749"></a>01749     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>);
<a name="l01750"></a>01750     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l01751"></a>01751 
<a name="l01752"></a>01752     <span class="keywordflow">if</span> (len &lt;= <a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>) {
<a name="l01753"></a>01753         <a class="code" href="../../d3/d10/rna__access_8c.html#af3af416215c3d866744c965e6d4faa10">RNA_property_boolean_get_array</a>(ptr, prop, tmp);
<a name="l01754"></a>01754         tmp[index] = value;
<a name="l01755"></a>01755         <a class="code" href="../../d3/d10/rna__access_8c.html#a131f6d2a8690b568ccb41f7311d007d7">RNA_property_boolean_set_array</a>(ptr, prop, tmp);
<a name="l01756"></a>01756     }
<a name="l01757"></a>01757     <span class="keywordflow">else</span> {
<a name="l01758"></a>01758         <span class="keywordtype">int</span> *tmparray;
<a name="l01759"></a>01759 
<a name="l01760"></a>01760         tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*len, <span class="stringliteral">&quot;RNA_property_boolean_get_index&quot;</span>);
<a name="l01761"></a>01761         <a class="code" href="../../d3/d10/rna__access_8c.html#af3af416215c3d866744c965e6d4faa10">RNA_property_boolean_get_array</a>(ptr, prop, tmparray);
<a name="l01762"></a>01762         tmparray[index] = value;
<a name="l01763"></a>01763         <a class="code" href="../../d3/d10/rna__access_8c.html#a131f6d2a8690b568ccb41f7311d007d7">RNA_property_boolean_set_array</a>(ptr, prop, tmparray);
<a name="l01764"></a>01764         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l01765"></a>01765     }
<a name="l01766"></a>01766 }
<a name="l01767"></a>01767 
<a name="l01768"></a><a class="code" href="../../d3/d10/rna__access_8c.html#aba106dc38e3d33fdbb1188507fa92b4c">01768</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aba106dc38e3d33fdbb1188507fa92b4c">RNA_property_boolean_get_default</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01769"></a>01769 {
<a name="l01770"></a>01770     <a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a> *bprop = (<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a>*)prop;
<a name="l01771"></a>01771 
<a name="l01772"></a>01772     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>);
<a name="l01773"></a>01773     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) == 0);
<a name="l01774"></a>01774 
<a name="l01775"></a>01775     <span class="keywordflow">return</span> bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#a9287a7685acddae109d6e77933d33e36">defaultvalue</a>;
<a name="l01776"></a>01776 }
<a name="l01777"></a>01777 
<a name="l01778"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a602ff3c0e61cd4cebddcc46d624f0647">01778</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a602ff3c0e61cd4cebddcc46d624f0647">RNA_property_boolean_get_default_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> *values)
<a name="l01779"></a>01779 {
<a name="l01780"></a>01780     <a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a> *bprop = (<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a>*)prop;
<a name="l01781"></a>01781     
<a name="l01782"></a>01782     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>);
<a name="l01783"></a>01783     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l01784"></a>01784 
<a name="l01785"></a>01785     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l01786"></a>01786         values[0] = bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#a9287a7685acddae109d6e77933d33e36">defaultvalue</a>;
<a name="l01787"></a>01787     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#af8370f71b358dc644ae41a52537c0ad1">defaultarray</a>)
<a name="l01788"></a>01788         memcpy(values, bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#af8370f71b358dc644ae41a52537c0ad1">defaultarray</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l01789"></a>01789     <span class="keywordflow">else</span>
<a name="l01790"></a>01790         memset(values, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l01791"></a>01791 }
<a name="l01792"></a>01792 
<a name="l01793"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a9259ab04fd70d6313f549b37f56f1a17">01793</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a9259ab04fd70d6313f549b37f56f1a17">RNA_property_boolean_get_default_index</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> index)
<a name="l01794"></a>01794 {
<a name="l01795"></a>01795     <span class="keywordtype">int</span> tmp[<a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>];
<a name="l01796"></a>01796     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../d3/d10/rna__access_8c.html#aae6d8c91c0932dabb41cf4436777c609">rna_ensure_property_array_length</a>(ptr, prop);
<a name="l01797"></a>01797 
<a name="l01798"></a>01798     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>);
<a name="l01799"></a>01799     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l01800"></a>01800 
<a name="l01801"></a>01801     <span class="keywordflow">if</span> (len &lt;= <a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>) {
<a name="l01802"></a>01802         <a class="code" href="../../d3/d10/rna__access_8c.html#a602ff3c0e61cd4cebddcc46d624f0647">RNA_property_boolean_get_default_array</a>(ptr, prop, tmp);
<a name="l01803"></a>01803         <span class="keywordflow">return</span> tmp[index];
<a name="l01804"></a>01804     }
<a name="l01805"></a>01805     <span class="keywordflow">else</span> {
<a name="l01806"></a>01806         <span class="keywordtype">int</span> *tmparray, value;
<a name="l01807"></a>01807 
<a name="l01808"></a>01808         tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*len, <span class="stringliteral">&quot;RNA_property_boolean_get_default_index&quot;</span>);
<a name="l01809"></a>01809         <a class="code" href="../../d3/d10/rna__access_8c.html#a602ff3c0e61cd4cebddcc46d624f0647">RNA_property_boolean_get_default_array</a>(ptr, prop, tmparray);
<a name="l01810"></a>01810         value = tmparray[index];
<a name="l01811"></a>01811         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l01812"></a>01812 
<a name="l01813"></a>01813         <span class="keywordflow">return</span> value;
<a name="l01814"></a>01814     }
<a name="l01815"></a>01815 }
<a name="l01816"></a>01816 
<a name="l01817"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a7755e74d78f50e508966f2af17f7523e">01817</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a7755e74d78f50e508966f2af17f7523e">RNA_property_int_get</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01818"></a>01818 {
<a name="l01819"></a>01819     <a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a> *iprop = (<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)prop;
<a name="l01820"></a>01820     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l01821"></a>01821 
<a name="l01822"></a>01822     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>);
<a name="l01823"></a>01823     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) == 0);
<a name="l01824"></a>01824 
<a name="l01825"></a>01825     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr)))
<a name="l01826"></a>01826         <span class="keywordflow">return</span> <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1f9c0b8b528c710eac7c2afbf711ce2c">IDP_Int</a>(idprop);
<a name="l01827"></a>01827     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a05b1e1f8ecb1ae59b6f369a83dbcadab">get</a>)
<a name="l01828"></a>01828         <span class="keywordflow">return</span> iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a05b1e1f8ecb1ae59b6f369a83dbcadab">get</a>(ptr);
<a name="l01829"></a>01829     <span class="keywordflow">else</span>
<a name="l01830"></a>01830         <span class="keywordflow">return</span> iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#ab604c312ed42db6a1265e6eec399e3fa">defaultvalue</a>;
<a name="l01831"></a>01831 }
<a name="l01832"></a>01832 
<a name="l01833"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a0b521aa0072858134949f9639de7faff">01833</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a0b521aa0072858134949f9639de7faff">RNA_property_int_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> value)
<a name="l01834"></a>01834 {
<a name="l01835"></a>01835     <a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a> *iprop = (<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)prop;
<a name="l01836"></a>01836     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l01837"></a>01837 
<a name="l01838"></a>01838     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>);
<a name="l01839"></a>01839     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) == 0);
<a name="l01840"></a>01840     <span class="comment">/* useful to check on bad values but set function should clamp */</span>
<a name="l01841"></a>01841     <span class="comment">/* BLI_assert(RNA_property_int_clamp(ptr, prop, &amp;value) == 0); */</span>
<a name="l01842"></a>01842 
<a name="l01843"></a>01843     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l01844"></a>01844         <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1f9c0b8b528c710eac7c2afbf711ce2c">IDP_Int</a>(idprop) = value;
<a name="l01845"></a>01845         <a class="code" href="../../d3/d10/rna__access_8c.html#ac6d40bd7ba173c63444a2851fb038cbb">rna_idproperty_touch</a>(idprop);
<a name="l01846"></a>01846     }
<a name="l01847"></a>01847     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a4d0d92a22e08ba1a5d4b1af4be0c62b6">set</a>)
<a name="l01848"></a>01848         iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a4d0d92a22e08ba1a5d4b1af4be0c62b6">set</a>(ptr, value);
<a name="l01849"></a>01849     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>) {
<a name="l01850"></a>01850         <a class="code" href="../../df/d2e/unionIDPropertyTemplate.html">IDPropertyTemplate</a> val = {0};
<a name="l01851"></a>01851         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group;
<a name="l01852"></a>01852 
<a name="l01853"></a>01853         val.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#aaf454900f7f5fb52d00e237a117b4d04">i</a> = value;
<a name="l01854"></a>01854 
<a name="l01855"></a>01855         group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 1);
<a name="l01856"></a>01856         <span class="keywordflow">if</span> (group)
<a name="l01857"></a>01857             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a138d36796279ac5dfae6a2819e1aaa8d">IDP_AddToGroup</a>(group, <a class="code" href="../../d5/d95/BKE__idprop_8h.html#ab2130fe4ddfd0002e655dbee991d517e">IDP_New</a>(<a class="code" href="../../d3/dfb/DNA__ID_8h.html#a13b6490097339e2b882a4d060f504d69">IDP_INT</a>, &amp;val, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01858"></a>01858     }
<a name="l01859"></a>01859 }
<a name="l01860"></a>01860 
<a name="l01861"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ac0cb05a00f819cc37d4c5eea29c101bd">01861</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ac0cb05a00f819cc37d4c5eea29c101bd">RNA_property_int_get_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> *values)
<a name="l01862"></a>01862 {
<a name="l01863"></a>01863     <a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a> *iprop = (<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)prop;
<a name="l01864"></a>01864     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l01865"></a>01865 
<a name="l01866"></a>01866     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>);
<a name="l01867"></a>01867     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l01868"></a>01868 
<a name="l01869"></a>01869     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l01870"></a>01870         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l01871"></a>01871             values[0] = <a class="code" href="../../d3/d10/rna__access_8c.html#a7755e74d78f50e508966f2af17f7523e">RNA_property_int_get</a>(ptr, prop);
<a name="l01872"></a>01872         <span class="keywordflow">else</span>
<a name="l01873"></a>01873             memcpy(values, <a class="code" href="../../d5/d95/BKE__idprop_8h.html#afcd801b64d87f8967273ddd406377549">IDP_Array</a>(idprop), <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>);
<a name="l01874"></a>01874     }
<a name="l01875"></a>01875     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l01876"></a>01876         values[0] = <a class="code" href="../../d3/d10/rna__access_8c.html#a7755e74d78f50e508966f2af17f7523e">RNA_property_int_get</a>(ptr, prop);
<a name="l01877"></a>01877     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a1eb04ac10c6ac4c42cab8280d4df0bcb">getarray</a>)
<a name="l01878"></a>01878         iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a1eb04ac10c6ac4c42cab8280d4df0bcb">getarray</a>(ptr, values);
<a name="l01879"></a>01879     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a24501f71567d8465de9386f9aa228205">defaultarray</a>)
<a name="l01880"></a>01880         memcpy(values, iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a24501f71567d8465de9386f9aa228205">defaultarray</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l01881"></a>01881     <span class="keywordflow">else</span>
<a name="l01882"></a>01882         memset(values, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l01883"></a>01883 }
<a name="l01884"></a>01884 
<a name="l01885"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a9ba2596b5afb83528ebc06a44c59972f">01885</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a9ba2596b5afb83528ebc06a44c59972f">RNA_property_int_get_array_range</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> values[2])
<a name="l01886"></a>01886 {
<a name="l01887"></a>01887     <span class="keyword">const</span> <span class="keywordtype">int</span> array_len = <a class="code" href="../../d3/d10/rna__access_8c.html#aad51db9a31d245dba4ee1f50608f331c">RNA_property_array_length</a>(ptr, prop);
<a name="l01888"></a>01888 
<a name="l01889"></a>01889     <span class="keywordflow">if</span> (array_len &lt;= 0) {
<a name="l01890"></a>01890         values[0] = 0;
<a name="l01891"></a>01891         values[1] = 0;
<a name="l01892"></a>01892     }
<a name="l01893"></a>01893     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (array_len == 1) {
<a name="l01894"></a>01894         <a class="code" href="../../d3/d10/rna__access_8c.html#ac0cb05a00f819cc37d4c5eea29c101bd">RNA_property_int_get_array</a>(ptr, prop, values);
<a name="l01895"></a>01895         values[1] = values[0];
<a name="l01896"></a>01896     }
<a name="l01897"></a>01897     <span class="keywordflow">else</span> {
<a name="l01898"></a>01898         <span class="keywordtype">int</span> arr_stack[32];
<a name="l01899"></a>01899         <span class="keywordtype">int</span> *arr;
<a name="l01900"></a>01900         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l01901"></a>01901 
<a name="l01902"></a>01902         <span class="keywordflow">if</span> (array_len &gt; 32) {
<a name="l01903"></a>01903             arr = <a class="code" href="../../da/d2b/mallocn_8c.html#a2bfff00be1f0c49f1945b5d6f66af243">MEM_mallocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) * array_len, <span class="stringliteral">&quot;RNA_property_int_get_array_range&quot;</span>);
<a name="l01904"></a>01904         }
<a name="l01905"></a>01905         <span class="keywordflow">else</span> {
<a name="l01906"></a>01906             arr = arr_stack;
<a name="l01907"></a>01907         }
<a name="l01908"></a>01908 
<a name="l01909"></a>01909         <a class="code" href="../../d3/d10/rna__access_8c.html#ac0cb05a00f819cc37d4c5eea29c101bd">RNA_property_int_get_array</a>(ptr, prop, arr);
<a name="l01910"></a>01910         values[0] = values[1] = arr[0];
<a name="l01911"></a>01911         <span class="keywordflow">for</span> (i = 1; i &lt; array_len; i++) {
<a name="l01912"></a>01912             values[0] = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#af5febfb026bad0c08e7a9f7ab7c2b8f0">MIN2</a>(values[0], arr[i]);
<a name="l01913"></a>01913             values[1] = <a class="code" href="../../d0/dbd/bmfont_8c.html#a57562d98bd289bc7ea77ba251915d8fb">MAX2</a>(values[1], arr[i]);
<a name="l01914"></a>01914         }
<a name="l01915"></a>01915 
<a name="l01916"></a>01916         <span class="keywordflow">if</span> (arr != arr_stack) {
<a name="l01917"></a>01917             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(arr);
<a name="l01918"></a>01918         }
<a name="l01919"></a>01919     }
<a name="l01920"></a>01920 }
<a name="l01921"></a>01921 
<a name="l01922"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a30c78968af88b29eca251317dfbbece5">01922</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a30c78968af88b29eca251317dfbbece5">RNA_property_int_get_index</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> index)
<a name="l01923"></a>01923 {
<a name="l01924"></a>01924     <span class="keywordtype">int</span> tmp[<a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>];
<a name="l01925"></a>01925     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../d3/d10/rna__access_8c.html#aae6d8c91c0932dabb41cf4436777c609">rna_ensure_property_array_length</a>(ptr, prop);
<a name="l01926"></a>01926 
<a name="l01927"></a>01927     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>);
<a name="l01928"></a>01928     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l01929"></a>01929 
<a name="l01930"></a>01930     <span class="keywordflow">if</span> (len &lt;= <a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>) {
<a name="l01931"></a>01931         <a class="code" href="../../d3/d10/rna__access_8c.html#ac0cb05a00f819cc37d4c5eea29c101bd">RNA_property_int_get_array</a>(ptr, prop, tmp);
<a name="l01932"></a>01932         <span class="keywordflow">return</span> tmp[index];
<a name="l01933"></a>01933     }
<a name="l01934"></a>01934     <span class="keywordflow">else</span> {
<a name="l01935"></a>01935         <span class="keywordtype">int</span> *tmparray, value;
<a name="l01936"></a>01936 
<a name="l01937"></a>01937         tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*len, <span class="stringliteral">&quot;RNA_property_int_get_index&quot;</span>);
<a name="l01938"></a>01938         <a class="code" href="../../d3/d10/rna__access_8c.html#ac0cb05a00f819cc37d4c5eea29c101bd">RNA_property_int_get_array</a>(ptr, prop, tmparray);
<a name="l01939"></a>01939         value = tmparray[index];
<a name="l01940"></a>01940         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l01941"></a>01941 
<a name="l01942"></a>01942         <span class="keywordflow">return</span> value;
<a name="l01943"></a>01943     }
<a name="l01944"></a>01944 }
<a name="l01945"></a>01945 
<a name="l01946"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ab877ee5b31a7b931a427e2a1a0b55a4a">01946</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ab877ee5b31a7b931a427e2a1a0b55a4a">RNA_property_int_set_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keyword">const</span> <span class="keywordtype">int</span> *values)
<a name="l01947"></a>01947 {
<a name="l01948"></a>01948     <a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a> *iprop = (<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)prop;
<a name="l01949"></a>01949     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l01950"></a>01950 
<a name="l01951"></a>01951     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>);
<a name="l01952"></a>01952     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l01953"></a>01953 
<a name="l01954"></a>01954     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l01955"></a>01955         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l01956"></a>01956             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1f9c0b8b528c710eac7c2afbf711ce2c">IDP_Int</a>(idprop) = values[0];
<a name="l01957"></a>01957         <span class="keywordflow">else</span>
<a name="l01958"></a>01958             memcpy(<a class="code" href="../../d5/d95/BKE__idprop_8h.html#afcd801b64d87f8967273ddd406377549">IDP_Array</a>(idprop), values, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>);
<a name="l01959"></a>01959 
<a name="l01960"></a>01960         <a class="code" href="../../d3/d10/rna__access_8c.html#ac6d40bd7ba173c63444a2851fb038cbb">rna_idproperty_touch</a>(idprop);
<a name="l01961"></a>01961     }
<a name="l01962"></a>01962     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l01963"></a>01963         <a class="code" href="../../d3/d10/rna__access_8c.html#a0b521aa0072858134949f9639de7faff">RNA_property_int_set</a>(ptr, prop, values[0]);
<a name="l01964"></a>01964     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a385d89591c72c779ceda91b2157fe2b9">setarray</a>)
<a name="l01965"></a>01965         iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a385d89591c72c779ceda91b2157fe2b9">setarray</a>(ptr, values);
<a name="l01966"></a>01966     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>) {
<a name="l01967"></a>01967         <a class="code" href="../../df/d2e/unionIDPropertyTemplate.html">IDPropertyTemplate</a> val = {0};
<a name="l01968"></a>01968         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group;
<a name="l01969"></a>01969 
<a name="l01970"></a>01970         val.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#a9955a6e4ecc473e7877e71aa4bc1cb77">array</a>.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#a77ed867f249646211029a5f196cf3afe">len</a> = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>;
<a name="l01971"></a>01971         val.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#a9955a6e4ecc473e7877e71aa4bc1cb77">array</a>.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#af53fdea9afbef841a1d6ceb3658835f3">type</a> = <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a13b6490097339e2b882a4d060f504d69">IDP_INT</a>;
<a name="l01972"></a>01972 
<a name="l01973"></a>01973         group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 1);
<a name="l01974"></a>01974         <span class="keywordflow">if</span> (group) {
<a name="l01975"></a>01975             idprop = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#ab2130fe4ddfd0002e655dbee991d517e">IDP_New</a>(<a class="code" href="../../d3/dfb/DNA__ID_8h.html#a271555be6be919d1b73afc38fae790bb">IDP_ARRAY</a>, &amp;val, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01976"></a>01976             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a138d36796279ac5dfae6a2819e1aaa8d">IDP_AddToGroup</a>(group, idprop);
<a name="l01977"></a>01977             memcpy(<a class="code" href="../../d5/d95/BKE__idprop_8h.html#afcd801b64d87f8967273ddd406377549">IDP_Array</a>(idprop), values, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>);
<a name="l01978"></a>01978         }
<a name="l01979"></a>01979     }
<a name="l01980"></a>01980 }
<a name="l01981"></a>01981 
<a name="l01982"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a6d0776ad7e76eaa70237db22abfa414a">01982</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a6d0776ad7e76eaa70237db22abfa414a">RNA_property_int_set_index</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> value)
<a name="l01983"></a>01983 {
<a name="l01984"></a>01984     <span class="keywordtype">int</span> tmp[<a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>];
<a name="l01985"></a>01985     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../d3/d10/rna__access_8c.html#aae6d8c91c0932dabb41cf4436777c609">rna_ensure_property_array_length</a>(ptr, prop);
<a name="l01986"></a>01986 
<a name="l01987"></a>01987     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>);
<a name="l01988"></a>01988     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l01989"></a>01989 
<a name="l01990"></a>01990     <span class="keywordflow">if</span> (len &lt;= <a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>) {
<a name="l01991"></a>01991         <a class="code" href="../../d3/d10/rna__access_8c.html#ac0cb05a00f819cc37d4c5eea29c101bd">RNA_property_int_get_array</a>(ptr, prop, tmp);
<a name="l01992"></a>01992         tmp[index] = value;
<a name="l01993"></a>01993         <a class="code" href="../../d3/d10/rna__access_8c.html#ab877ee5b31a7b931a427e2a1a0b55a4a">RNA_property_int_set_array</a>(ptr, prop, tmp);
<a name="l01994"></a>01994     }
<a name="l01995"></a>01995     <span class="keywordflow">else</span> {
<a name="l01996"></a>01996         <span class="keywordtype">int</span> *tmparray;
<a name="l01997"></a>01997 
<a name="l01998"></a>01998         tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*len, <span class="stringliteral">&quot;RNA_property_int_get_index&quot;</span>);
<a name="l01999"></a>01999         <a class="code" href="../../d3/d10/rna__access_8c.html#ac0cb05a00f819cc37d4c5eea29c101bd">RNA_property_int_get_array</a>(ptr, prop, tmparray);
<a name="l02000"></a>02000         tmparray[index] = value;
<a name="l02001"></a>02001         <a class="code" href="../../d3/d10/rna__access_8c.html#ab877ee5b31a7b931a427e2a1a0b55a4a">RNA_property_int_set_array</a>(ptr, prop, tmparray);
<a name="l02002"></a>02002         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l02003"></a>02003     }
<a name="l02004"></a>02004 }
<a name="l02005"></a>02005 
<a name="l02006"></a><a class="code" href="../../d3/d10/rna__access_8c.html#aa4b70adbda58c9ec8dfa78f7709129e7">02006</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aa4b70adbda58c9ec8dfa78f7709129e7">RNA_property_int_get_default</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02007"></a>02007 {
<a name="l02008"></a>02008     <a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a> *iprop = (<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)prop;
<a name="l02009"></a>02009     <span class="keywordflow">return</span> iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#ab604c312ed42db6a1265e6eec399e3fa">defaultvalue</a>;
<a name="l02010"></a>02010 }
<a name="l02011"></a>02011 
<a name="l02012"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a31b94b4f657d4bcfb2b2cc56525a21ae">02012</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a31b94b4f657d4bcfb2b2cc56525a21ae">RNA_property_int_get_default_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> *values)
<a name="l02013"></a>02013 {
<a name="l02014"></a>02014     <a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a> *iprop = (<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)prop;
<a name="l02015"></a>02015     
<a name="l02016"></a>02016     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>);
<a name="l02017"></a>02017     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l02018"></a>02018 
<a name="l02019"></a>02019     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l02020"></a>02020         values[0] = iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#ab604c312ed42db6a1265e6eec399e3fa">defaultvalue</a>;
<a name="l02021"></a>02021     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a24501f71567d8465de9386f9aa228205">defaultarray</a>)
<a name="l02022"></a>02022         memcpy(values, iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a24501f71567d8465de9386f9aa228205">defaultarray</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l02023"></a>02023     <span class="keywordflow">else</span>
<a name="l02024"></a>02024         memset(values, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l02025"></a>02025 }
<a name="l02026"></a>02026 
<a name="l02027"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a63940bd2d50b4c45e86cf7835f0f83d1">02027</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a63940bd2d50b4c45e86cf7835f0f83d1">RNA_property_int_get_default_index</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> index)
<a name="l02028"></a>02028 {
<a name="l02029"></a>02029     <span class="keywordtype">int</span> tmp[<a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>];
<a name="l02030"></a>02030     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../d3/d10/rna__access_8c.html#aae6d8c91c0932dabb41cf4436777c609">rna_ensure_property_array_length</a>(ptr, prop);
<a name="l02031"></a>02031 
<a name="l02032"></a>02032     <span class="keywordflow">if</span> (len &lt;= <a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>) {
<a name="l02033"></a>02033         <a class="code" href="../../d3/d10/rna__access_8c.html#a31b94b4f657d4bcfb2b2cc56525a21ae">RNA_property_int_get_default_array</a>(ptr, prop, tmp);
<a name="l02034"></a>02034         <span class="keywordflow">return</span> tmp[index];
<a name="l02035"></a>02035     }
<a name="l02036"></a>02036     <span class="keywordflow">else</span> {
<a name="l02037"></a>02037         <span class="keywordtype">int</span> *tmparray, value;
<a name="l02038"></a>02038 
<a name="l02039"></a>02039         tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*len, <span class="stringliteral">&quot;RNA_property_int_get_default_index&quot;</span>);
<a name="l02040"></a>02040         <a class="code" href="../../d3/d10/rna__access_8c.html#a31b94b4f657d4bcfb2b2cc56525a21ae">RNA_property_int_get_default_array</a>(ptr, prop, tmparray);
<a name="l02041"></a>02041         value = tmparray[index];
<a name="l02042"></a>02042         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l02043"></a>02043 
<a name="l02044"></a>02044         <span class="keywordflow">return</span> value;
<a name="l02045"></a>02045     }
<a name="l02046"></a>02046 }
<a name="l02047"></a>02047 
<a name="l02048"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a01215512e696b97758a08e61833fb8bd">02048</a> <span class="keywordtype">float</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a01215512e696b97758a08e61833fb8bd">RNA_property_float_get</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02049"></a>02049 {
<a name="l02050"></a>02050     <a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a> *fprop = (<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)prop;
<a name="l02051"></a>02051     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02052"></a>02052 
<a name="l02053"></a>02053     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>);
<a name="l02054"></a>02054     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) == 0);
<a name="l02055"></a>02055 
<a name="l02056"></a>02056     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02057"></a>02057         <span class="keywordflow">if</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#aae48343470e4420e7a5a3839f45e7c0a">IDP_FLOAT</a>)
<a name="l02058"></a>02058             <span class="keywordflow">return</span> <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a0e7ca64917ca7001d453e2fb0e739bfd">IDP_Float</a>(idprop);
<a name="l02059"></a>02059         <span class="keywordflow">else</span>
<a name="l02060"></a>02060             <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)<a class="code" href="../../d5/d95/BKE__idprop_8h.html#aa64c4c42bdc987b8832548b6a2b1b42c">IDP_Double</a>(idprop);
<a name="l02061"></a>02061     }
<a name="l02062"></a>02062     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a37d7799d1e8366004cdcf421dda24465">get</a>)
<a name="l02063"></a>02063         <span class="keywordflow">return</span> fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a37d7799d1e8366004cdcf421dda24465">get</a>(ptr);
<a name="l02064"></a>02064     <span class="keywordflow">else</span>
<a name="l02065"></a>02065         <span class="keywordflow">return</span> fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#af57ac2a73207a6f50efaeffdcb948a06">defaultvalue</a>;
<a name="l02066"></a>02066 }
<a name="l02067"></a>02067 
<a name="l02068"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#abdb7455ec63efacab0c1d5b9fb25b0b0">02068</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#abdb7455ec63efacab0c1d5b9fb25b0b0">RNA_property_float_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">float</span> value)
<a name="l02069"></a>02069 {
<a name="l02070"></a>02070     <a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a> *fprop = (<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)prop;
<a name="l02071"></a>02071     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02072"></a>02072 
<a name="l02073"></a>02073     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>);
<a name="l02074"></a>02074     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) == 0);
<a name="l02075"></a>02075     <span class="comment">/* useful to check on bad values but set function should clamp */</span>
<a name="l02076"></a>02076     <span class="comment">/* BLI_assert(RNA_property_float_clamp(ptr, prop, &amp;value) == 0); */</span>
<a name="l02077"></a>02077 
<a name="l02078"></a>02078     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02079"></a>02079         <span class="keywordflow">if</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#aae48343470e4420e7a5a3839f45e7c0a">IDP_FLOAT</a>)
<a name="l02080"></a>02080             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a0e7ca64917ca7001d453e2fb0e739bfd">IDP_Float</a>(idprop) = value;
<a name="l02081"></a>02081         <span class="keywordflow">else</span>
<a name="l02082"></a>02082             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#aa64c4c42bdc987b8832548b6a2b1b42c">IDP_Double</a>(idprop) = value;
<a name="l02083"></a>02083 
<a name="l02084"></a>02084         <a class="code" href="../../d3/d10/rna__access_8c.html#ac6d40bd7ba173c63444a2851fb038cbb">rna_idproperty_touch</a>(idprop);
<a name="l02085"></a>02085     }
<a name="l02086"></a>02086     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#abf91278882ce2d3abd336c9eed9ac9e1">set</a>) {
<a name="l02087"></a>02087         fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#abf91278882ce2d3abd336c9eed9ac9e1">set</a>(ptr, value);
<a name="l02088"></a>02088     }
<a name="l02089"></a>02089     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>) {
<a name="l02090"></a>02090         <a class="code" href="../../df/d2e/unionIDPropertyTemplate.html">IDPropertyTemplate</a> val = {0};
<a name="l02091"></a>02091         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group;
<a name="l02092"></a>02092 
<a name="l02093"></a>02093         val.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#ae02231a899061142f432b91e71aa4a4e">f</a> = value;
<a name="l02094"></a>02094 
<a name="l02095"></a>02095         group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 1);
<a name="l02096"></a>02096         <span class="keywordflow">if</span> (group)
<a name="l02097"></a>02097             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a138d36796279ac5dfae6a2819e1aaa8d">IDP_AddToGroup</a>(group, <a class="code" href="../../d5/d95/BKE__idprop_8h.html#ab2130fe4ddfd0002e655dbee991d517e">IDP_New</a>(<a class="code" href="../../d3/dfb/DNA__ID_8h.html#aae48343470e4420e7a5a3839f45e7c0a">IDP_FLOAT</a>, &amp;val, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l02098"></a>02098     }
<a name="l02099"></a>02099 }
<a name="l02100"></a>02100 
<a name="l02101"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a151557228dae14af24d5e1b57495642b">02101</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a151557228dae14af24d5e1b57495642b">RNA_property_float_get_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">float</span> *values)
<a name="l02102"></a>02102 {
<a name="l02103"></a>02103     <a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a> *fprop = (<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)prop;
<a name="l02104"></a>02104     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02105"></a>02105     <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l02106"></a>02106 
<a name="l02107"></a>02107     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>);
<a name="l02108"></a>02108     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l02109"></a>02109 
<a name="l02110"></a>02110     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02111"></a>02111         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l02112"></a>02112             values[0] = <a class="code" href="../../d3/d10/rna__access_8c.html#a01215512e696b97758a08e61833fb8bd">RNA_property_float_get</a>(ptr, prop);
<a name="l02113"></a>02113         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#aec2d0f53108c1e8d492de12472c884f9">subtype</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#aae48343470e4420e7a5a3839f45e7c0a">IDP_FLOAT</a>) {
<a name="l02114"></a>02114             memcpy(values, <a class="code" href="../../d5/d95/BKE__idprop_8h.html#afcd801b64d87f8967273ddd406377549">IDP_Array</a>(idprop), <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>);
<a name="l02115"></a>02115         }
<a name="l02116"></a>02116         <span class="keywordflow">else</span> {
<a name="l02117"></a>02117             <span class="keywordflow">for</span> (i = 0; i&lt;idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>; i++)
<a name="l02118"></a>02118                 values[i] =  (<span class="keywordtype">float</span>)(((<span class="keywordtype">double</span>*)<a class="code" href="../../d5/d95/BKE__idprop_8h.html#afcd801b64d87f8967273ddd406377549">IDP_Array</a>(idprop))[i]);
<a name="l02119"></a>02119         }
<a name="l02120"></a>02120     }
<a name="l02121"></a>02121     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l02122"></a>02122         values[0] = <a class="code" href="../../d3/d10/rna__access_8c.html#a01215512e696b97758a08e61833fb8bd">RNA_property_float_get</a>(ptr, prop);
<a name="l02123"></a>02123     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a6cafd3ec71f94bbadbc99351e2426c8e">getarray</a>)
<a name="l02124"></a>02124         fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a6cafd3ec71f94bbadbc99351e2426c8e">getarray</a>(ptr, values);
<a name="l02125"></a>02125     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ac8661361049034d45c8ad47aad554f79">defaultarray</a>)
<a name="l02126"></a>02126         memcpy(values, fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ac8661361049034d45c8ad47aad554f79">defaultarray</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l02127"></a>02127     <span class="keywordflow">else</span>
<a name="l02128"></a>02128         memset(values, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l02129"></a>02129 }
<a name="l02130"></a>02130 
<a name="l02131"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a68d370dfcd3a572f000c05d8b1bd865d">02131</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a68d370dfcd3a572f000c05d8b1bd865d">RNA_property_float_get_array_range</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">float</span> values[2])
<a name="l02132"></a>02132 {
<a name="l02133"></a>02133     <span class="keyword">const</span> <span class="keywordtype">int</span> array_len = <a class="code" href="../../d3/d10/rna__access_8c.html#aad51db9a31d245dba4ee1f50608f331c">RNA_property_array_length</a>(ptr, prop);
<a name="l02134"></a>02134 
<a name="l02135"></a>02135     <span class="keywordflow">if</span> (array_len &lt;= 0) {
<a name="l02136"></a>02136         values[0] = 0.0f;
<a name="l02137"></a>02137         values[1] = 0.0f;
<a name="l02138"></a>02138     }
<a name="l02139"></a>02139     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (array_len == 1) {
<a name="l02140"></a>02140         <a class="code" href="../../d3/d10/rna__access_8c.html#a151557228dae14af24d5e1b57495642b">RNA_property_float_get_array</a>(ptr, prop, values);
<a name="l02141"></a>02141         values[1] = values[0];
<a name="l02142"></a>02142     }
<a name="l02143"></a>02143     <span class="keywordflow">else</span> {
<a name="l02144"></a>02144         <span class="keywordtype">float</span> arr_stack[32];
<a name="l02145"></a>02145         <span class="keywordtype">float</span> *arr;
<a name="l02146"></a>02146         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l02147"></a>02147 
<a name="l02148"></a>02148         <span class="keywordflow">if</span> (array_len &gt; 32) {
<a name="l02149"></a>02149             arr = <a class="code" href="../../da/d2b/mallocn_8c.html#a2bfff00be1f0c49f1945b5d6f66af243">MEM_mallocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * array_len, <span class="stringliteral">&quot;RNA_property_float_get_array_range&quot;</span>);
<a name="l02150"></a>02150         }
<a name="l02151"></a>02151         <span class="keywordflow">else</span> {
<a name="l02152"></a>02152             arr = arr_stack;
<a name="l02153"></a>02153         }
<a name="l02154"></a>02154 
<a name="l02155"></a>02155         <a class="code" href="../../d3/d10/rna__access_8c.html#a151557228dae14af24d5e1b57495642b">RNA_property_float_get_array</a>(ptr, prop, arr);
<a name="l02156"></a>02156         values[0] = values[1] = arr[0];
<a name="l02157"></a>02157         <span class="keywordflow">for</span> (i = 1; i &lt; array_len; i++) {
<a name="l02158"></a>02158             values[0] = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#af5febfb026bad0c08e7a9f7ab7c2b8f0">MIN2</a>(values[0], arr[i]);
<a name="l02159"></a>02159             values[1] = <a class="code" href="../../d0/dbd/bmfont_8c.html#a57562d98bd289bc7ea77ba251915d8fb">MAX2</a>(values[1], arr[i]);
<a name="l02160"></a>02160         }
<a name="l02161"></a>02161 
<a name="l02162"></a>02162         <span class="keywordflow">if</span> (arr != arr_stack) {
<a name="l02163"></a>02163             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(arr);
<a name="l02164"></a>02164         }
<a name="l02165"></a>02165     }
<a name="l02166"></a>02166 }
<a name="l02167"></a>02167 
<a name="l02168"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a402f3a472211a6817b5c1165566e35da">02168</a> <span class="keywordtype">float</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a402f3a472211a6817b5c1165566e35da">RNA_property_float_get_index</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> index)
<a name="l02169"></a>02169 {
<a name="l02170"></a>02170     <span class="keywordtype">float</span> tmp[<a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>];
<a name="l02171"></a>02171     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../d3/d10/rna__access_8c.html#aae6d8c91c0932dabb41cf4436777c609">rna_ensure_property_array_length</a>(ptr, prop);
<a name="l02172"></a>02172 
<a name="l02173"></a>02173     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>);
<a name="l02174"></a>02174     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l02175"></a>02175 
<a name="l02176"></a>02176     <span class="keywordflow">if</span> (len &lt;= <a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>) {
<a name="l02177"></a>02177         <a class="code" href="../../d3/d10/rna__access_8c.html#a151557228dae14af24d5e1b57495642b">RNA_property_float_get_array</a>(ptr, prop, tmp);
<a name="l02178"></a>02178         <span class="keywordflow">return</span> tmp[index];
<a name="l02179"></a>02179     }
<a name="l02180"></a>02180     <span class="keywordflow">else</span> {
<a name="l02181"></a>02181         <span class="keywordtype">float</span> *tmparray, value;
<a name="l02182"></a>02182 
<a name="l02183"></a>02183         tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*len, <span class="stringliteral">&quot;RNA_property_float_get_index&quot;</span>);
<a name="l02184"></a>02184         <a class="code" href="../../d3/d10/rna__access_8c.html#a151557228dae14af24d5e1b57495642b">RNA_property_float_get_array</a>(ptr, prop, tmparray);
<a name="l02185"></a>02185         value = tmparray[index];
<a name="l02186"></a>02186         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l02187"></a>02187 
<a name="l02188"></a>02188         <span class="keywordflow">return</span> value;
<a name="l02189"></a>02189     }
<a name="l02190"></a>02190 
<a name="l02191"></a>02191 }
<a name="l02192"></a>02192 
<a name="l02193"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ab7ca0e1bc4c13dcd06cdd992ca60917f">02193</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ab7ca0e1bc4c13dcd06cdd992ca60917f">RNA_property_float_set_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keyword">const</span> <span class="keywordtype">float</span> *values)
<a name="l02194"></a>02194 {
<a name="l02195"></a>02195     <a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a> *fprop = (<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)prop;
<a name="l02196"></a>02196     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02197"></a>02197     <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l02198"></a>02198 
<a name="l02199"></a>02199     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>);
<a name="l02200"></a>02200     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l02201"></a>02201 
<a name="l02202"></a>02202     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02203"></a>02203         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0) {
<a name="l02204"></a>02204             <span class="keywordflow">if</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#aae48343470e4420e7a5a3839f45e7c0a">IDP_FLOAT</a>)
<a name="l02205"></a>02205                 <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a0e7ca64917ca7001d453e2fb0e739bfd">IDP_Float</a>(idprop) = values[0];
<a name="l02206"></a>02206             <span class="keywordflow">else</span>
<a name="l02207"></a>02207                 <a class="code" href="../../d5/d95/BKE__idprop_8h.html#aa64c4c42bdc987b8832548b6a2b1b42c">IDP_Double</a>(idprop) = values[0];
<a name="l02208"></a>02208         }
<a name="l02209"></a>02209         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#aec2d0f53108c1e8d492de12472c884f9">subtype</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#aae48343470e4420e7a5a3839f45e7c0a">IDP_FLOAT</a>) {
<a name="l02210"></a>02210             memcpy(<a class="code" href="../../d5/d95/BKE__idprop_8h.html#afcd801b64d87f8967273ddd406377549">IDP_Array</a>(idprop), values, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>);
<a name="l02211"></a>02211         }
<a name="l02212"></a>02212         <span class="keywordflow">else</span> {
<a name="l02213"></a>02213             <span class="keywordflow">for</span> (i = 0; i&lt;idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>; i++)
<a name="l02214"></a>02214                 ((<span class="keywordtype">double</span>*)<a class="code" href="../../d5/d95/BKE__idprop_8h.html#afcd801b64d87f8967273ddd406377549">IDP_Array</a>(idprop))[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = values[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];
<a name="l02215"></a>02215         }
<a name="l02216"></a>02216 
<a name="l02217"></a>02217         <a class="code" href="../../d3/d10/rna__access_8c.html#ac6d40bd7ba173c63444a2851fb038cbb">rna_idproperty_touch</a>(idprop);
<a name="l02218"></a>02218     }
<a name="l02219"></a>02219     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l02220"></a>02220         <a class="code" href="../../d3/d10/rna__access_8c.html#abdb7455ec63efacab0c1d5b9fb25b0b0">RNA_property_float_set</a>(ptr, prop, values[0]);
<a name="l02221"></a>02221     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad46d3fa0dfee75ed8437809333c40c0c">setarray</a>) {
<a name="l02222"></a>02222         fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad46d3fa0dfee75ed8437809333c40c0c">setarray</a>(ptr, values);
<a name="l02223"></a>02223     }
<a name="l02224"></a>02224     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>) {
<a name="l02225"></a>02225         <a class="code" href="../../df/d2e/unionIDPropertyTemplate.html">IDPropertyTemplate</a> val = {0};
<a name="l02226"></a>02226         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group;
<a name="l02227"></a>02227 
<a name="l02228"></a>02228         val.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#a9955a6e4ecc473e7877e71aa4bc1cb77">array</a>.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#a77ed867f249646211029a5f196cf3afe">len</a> = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>;
<a name="l02229"></a>02229         val.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#a9955a6e4ecc473e7877e71aa4bc1cb77">array</a>.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#af53fdea9afbef841a1d6ceb3658835f3">type</a> = <a class="code" href="../../d3/dfb/DNA__ID_8h.html#aae48343470e4420e7a5a3839f45e7c0a">IDP_FLOAT</a>;
<a name="l02230"></a>02230 
<a name="l02231"></a>02231         group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 1);
<a name="l02232"></a>02232         <span class="keywordflow">if</span> (group) {
<a name="l02233"></a>02233             idprop = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#ab2130fe4ddfd0002e655dbee991d517e">IDP_New</a>(<a class="code" href="../../d3/dfb/DNA__ID_8h.html#a271555be6be919d1b73afc38fae790bb">IDP_ARRAY</a>, &amp;val, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02234"></a>02234             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a138d36796279ac5dfae6a2819e1aaa8d">IDP_AddToGroup</a>(group, idprop);
<a name="l02235"></a>02235             memcpy(<a class="code" href="../../d5/d95/BKE__idprop_8h.html#afcd801b64d87f8967273ddd406377549">IDP_Array</a>(idprop), values, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>);
<a name="l02236"></a>02236         }
<a name="l02237"></a>02237     }
<a name="l02238"></a>02238 }
<a name="l02239"></a>02239 
<a name="l02240"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a326106b1051fcba6776e8e7198c109c4">02240</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a326106b1051fcba6776e8e7198c109c4">RNA_property_float_set_index</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> index, <span class="keywordtype">float</span> value)
<a name="l02241"></a>02241 {
<a name="l02242"></a>02242     <span class="keywordtype">float</span> tmp[<a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>];
<a name="l02243"></a>02243     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../d3/d10/rna__access_8c.html#aae6d8c91c0932dabb41cf4436777c609">rna_ensure_property_array_length</a>(ptr, prop);
<a name="l02244"></a>02244 
<a name="l02245"></a>02245     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>);
<a name="l02246"></a>02246     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l02247"></a>02247 
<a name="l02248"></a>02248     <span class="keywordflow">if</span> (len &lt;= <a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>) {
<a name="l02249"></a>02249         <a class="code" href="../../d3/d10/rna__access_8c.html#a151557228dae14af24d5e1b57495642b">RNA_property_float_get_array</a>(ptr, prop, tmp);
<a name="l02250"></a>02250         tmp[index] = value;
<a name="l02251"></a>02251         <a class="code" href="../../d3/d10/rna__access_8c.html#ab7ca0e1bc4c13dcd06cdd992ca60917f">RNA_property_float_set_array</a>(ptr, prop, tmp);
<a name="l02252"></a>02252     }
<a name="l02253"></a>02253     <span class="keywordflow">else</span> {
<a name="l02254"></a>02254         <span class="keywordtype">float</span> *tmparray;
<a name="l02255"></a>02255 
<a name="l02256"></a>02256         tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*len, <span class="stringliteral">&quot;RNA_property_float_get_index&quot;</span>);
<a name="l02257"></a>02257         <a class="code" href="../../d3/d10/rna__access_8c.html#a151557228dae14af24d5e1b57495642b">RNA_property_float_get_array</a>(ptr, prop, tmparray);
<a name="l02258"></a>02258         tmparray[index] = value;
<a name="l02259"></a>02259         <a class="code" href="../../d3/d10/rna__access_8c.html#ab7ca0e1bc4c13dcd06cdd992ca60917f">RNA_property_float_set_array</a>(ptr, prop, tmparray);
<a name="l02260"></a>02260         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l02261"></a>02261     }
<a name="l02262"></a>02262 }
<a name="l02263"></a>02263 
<a name="l02264"></a><a class="code" href="../../d3/d10/rna__access_8c.html#aede8127280b5d3bd9a860a1043177b1e">02264</a> <span class="keywordtype">float</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aede8127280b5d3bd9a860a1043177b1e">RNA_property_float_get_default</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02265"></a>02265 {
<a name="l02266"></a>02266     <a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a> *fprop = (<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)prop;
<a name="l02267"></a>02267 
<a name="l02268"></a>02268     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>);
<a name="l02269"></a>02269     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) == 0);
<a name="l02270"></a>02270 
<a name="l02271"></a>02271     <span class="keywordflow">return</span> fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#af57ac2a73207a6f50efaeffdcb948a06">defaultvalue</a>;
<a name="l02272"></a>02272 }
<a name="l02273"></a>02273 
<a name="l02274"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a67d6760f4f70f4e5831f21f5338f58aa">02274</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a67d6760f4f70f4e5831f21f5338f58aa">RNA_property_float_get_default_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">float</span> *values)
<a name="l02275"></a>02275 {
<a name="l02276"></a>02276     <a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a> *fprop = (<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)prop;
<a name="l02277"></a>02277     
<a name="l02278"></a>02278     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>);
<a name="l02279"></a>02279     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l02280"></a>02280 
<a name="l02281"></a>02281     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> == 0)
<a name="l02282"></a>02282         values[0] = fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#af57ac2a73207a6f50efaeffdcb948a06">defaultvalue</a>;
<a name="l02283"></a>02283     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ac8661361049034d45c8ad47aad554f79">defaultarray</a>)
<a name="l02284"></a>02284         memcpy(values, fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ac8661361049034d45c8ad47aad554f79">defaultarray</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l02285"></a>02285     <span class="keywordflow">else</span>
<a name="l02286"></a>02286         memset(values, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l02287"></a>02287 }
<a name="l02288"></a>02288 
<a name="l02289"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a44c81312acceb9a2860d94a21e7a9af7">02289</a> <span class="keywordtype">float</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a44c81312acceb9a2860d94a21e7a9af7">RNA_property_float_get_default_index</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> index)
<a name="l02290"></a>02290 {
<a name="l02291"></a>02291     <span class="keywordtype">float</span> tmp[<a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>];
<a name="l02292"></a>02292     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../d3/d10/rna__access_8c.html#aae6d8c91c0932dabb41cf4436777c609">rna_ensure_property_array_length</a>(ptr, prop);
<a name="l02293"></a>02293 
<a name="l02294"></a>02294     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>);
<a name="l02295"></a>02295     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a2b969ea1007e1516895f65336025e529">RNA_property_array_check</a>(prop) != 0);
<a name="l02296"></a>02296 
<a name="l02297"></a>02297     <span class="keywordflow">if</span> (len &lt;= <a class="code" href="../../df/d02/rna__internal__types_8h.html#ac072833d7166b572ca8c3c5ee8b6ea1c">RNA_MAX_ARRAY_LENGTH</a>) {
<a name="l02298"></a>02298         <a class="code" href="../../d3/d10/rna__access_8c.html#a67d6760f4f70f4e5831f21f5338f58aa">RNA_property_float_get_default_array</a>(ptr, prop, tmp);
<a name="l02299"></a>02299         <span class="keywordflow">return</span> tmp[index];
<a name="l02300"></a>02300     }
<a name="l02301"></a>02301     <span class="keywordflow">else</span> {
<a name="l02302"></a>02302         <span class="keywordtype">float</span> *tmparray, value;
<a name="l02303"></a>02303 
<a name="l02304"></a>02304         tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*len, <span class="stringliteral">&quot;RNA_property_float_get_default_index&quot;</span>);
<a name="l02305"></a>02305         <a class="code" href="../../d3/d10/rna__access_8c.html#a67d6760f4f70f4e5831f21f5338f58aa">RNA_property_float_get_default_array</a>(ptr, prop, tmparray);
<a name="l02306"></a>02306         value = tmparray[index];
<a name="l02307"></a>02307         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l02308"></a>02308 
<a name="l02309"></a>02309         <span class="keywordflow">return</span> value;
<a name="l02310"></a>02310     }
<a name="l02311"></a>02311 }
<a name="l02312"></a>02312 
<a name="l02313"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a8cce1c1663f01ef0d74eb346bc9d445f">02313</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a8cce1c1663f01ef0d74eb346bc9d445f">RNA_property_string_get</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">char</span> *value)
<a name="l02314"></a>02314 {
<a name="l02315"></a>02315     <a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a> *sprop = (<a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a>*)prop;
<a name="l02316"></a>02316     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02317"></a>02317 
<a name="l02318"></a>02318     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>);
<a name="l02319"></a>02319 
<a name="l02320"></a>02320     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02321"></a>02321         <span class="comment">/* editing bytes is not 100% supported</span>
<a name="l02322"></a>02322 <span class="comment">         * since they can contain NIL chars */</span>
<a name="l02323"></a>02323         <span class="keywordflow">if</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#aec2d0f53108c1e8d492de12472c884f9">subtype</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a6baf90f8be38e50355a4bbc1e3867273">IDP_STRING_SUB_BYTE</a>) {
<a name="l02324"></a>02324             memcpy(value, <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a9622eaf730ae6ab9898a2742a217176d">IDP_String</a>(idprop), idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>);
<a name="l02325"></a>02325             value[idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l02326"></a>02326         }
<a name="l02327"></a>02327         <span class="keywordflow">else</span> {
<a name="l02328"></a>02328             memcpy(value, <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a9622eaf730ae6ab9898a2742a217176d">IDP_String</a>(idprop), idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>);
<a name="l02329"></a>02329         }
<a name="l02330"></a>02330     }
<a name="l02331"></a>02331     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#ac886cc47c50ad9f4a889f6571ed66e3b">get</a>) {
<a name="l02332"></a>02332         sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#ac886cc47c50ad9f4a889f6571ed66e3b">get</a>(ptr, value);
<a name="l02333"></a>02333     }
<a name="l02334"></a>02334     <span class="keywordflow">else</span> {
<a name="l02335"></a>02335         strcpy(value, sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a4615fd7801befd167d2094383ebd8f5d">defaultvalue</a>);
<a name="l02336"></a>02336     }
<a name="l02337"></a>02337 }
<a name="l02338"></a>02338 
<a name="l02339"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a6751615b211d7dd06640353d53198040">02339</a> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a6751615b211d7dd06640353d53198040">RNA_property_string_get_alloc</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop,
<a name="l02340"></a>02340                                     <span class="keywordtype">char</span> *fixedbuf, <span class="keywordtype">int</span> fixedlen, <span class="keywordtype">int</span> *r_len)
<a name="l02341"></a>02341 {
<a name="l02342"></a>02342     <span class="keywordtype">char</span> *buf;
<a name="l02343"></a>02343     <span class="keywordtype">int</span> <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>;
<a name="l02344"></a>02344 
<a name="l02345"></a>02345     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>);
<a name="l02346"></a>02346 
<a name="l02347"></a>02347     length = <a class="code" href="../../d3/d10/rna__access_8c.html#aea417df0ab60bb8ec13b115fb77d7a6e">RNA_property_string_length</a>(ptr, prop);
<a name="l02348"></a>02348 
<a name="l02349"></a>02349     <span class="keywordflow">if</span> (length+1 &lt; fixedlen)
<a name="l02350"></a>02350         buf = fixedbuf;
<a name="l02351"></a>02351     <span class="keywordflow">else</span>
<a name="l02352"></a>02352         buf = <a class="code" href="../../da/d2b/mallocn_8c.html#a2bfff00be1f0c49f1945b5d6f66af243">MEM_mallocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*(length+1), <span class="stringliteral">&quot;RNA_string_get_alloc&quot;</span>);
<a name="l02353"></a>02353 
<a name="l02354"></a>02354 <span class="preprocessor">#ifndef NDEBUG</span>
<a name="l02355"></a>02355 <span class="preprocessor"></span>    <span class="comment">/* safety check to ensure the string is actually set */</span>
<a name="l02356"></a>02356     buf[<a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>] = 255;
<a name="l02357"></a>02357 <span class="preprocessor">#endif</span>
<a name="l02358"></a>02358 <span class="preprocessor"></span>
<a name="l02359"></a>02359     <a class="code" href="../../d3/d10/rna__access_8c.html#a8cce1c1663f01ef0d74eb346bc9d445f">RNA_property_string_get</a>(ptr, prop, buf);
<a name="l02360"></a>02360 
<a name="l02361"></a>02361 <span class="preprocessor">#ifndef NDEBUG</span>
<a name="l02362"></a>02362 <span class="preprocessor"></span>    <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(buf[length] == <span class="charliteral">&#39;\0&#39;</span>);
<a name="l02363"></a>02363 <span class="preprocessor">#endif</span>
<a name="l02364"></a>02364 <span class="preprocessor"></span>
<a name="l02365"></a>02365     <span class="keywordflow">if</span> (r_len) {
<a name="l02366"></a>02366         *r_len = <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>;
<a name="l02367"></a>02367     }
<a name="l02368"></a>02368 
<a name="l02369"></a>02369     <span class="keywordflow">return</span> buf;
<a name="l02370"></a>02370 }
<a name="l02371"></a>02371 
<a name="l02372"></a>02372 <span class="comment">/* this is the length without \0 terminator */</span>
<a name="l02373"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aea417df0ab60bb8ec13b115fb77d7a6e">02373</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aea417df0ab60bb8ec13b115fb77d7a6e">RNA_property_string_length</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02374"></a>02374 {
<a name="l02375"></a>02375     <a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a> *sprop = (<a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a>*)prop;
<a name="l02376"></a>02376     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02377"></a>02377 
<a name="l02378"></a>02378     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>);
<a name="l02379"></a>02379 
<a name="l02380"></a>02380     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02381"></a>02381         <span class="keywordflow">if</span> (idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#aec2d0f53108c1e8d492de12472c884f9">subtype</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a6baf90f8be38e50355a4bbc1e3867273">IDP_STRING_SUB_BYTE</a>) {
<a name="l02382"></a>02382             <span class="keywordflow">return</span> idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>;
<a name="l02383"></a>02383         }
<a name="l02384"></a>02384         <span class="keywordflow">else</span> {
<a name="l02385"></a>02385 <span class="preprocessor">#ifndef NDEBUG</span>
<a name="l02386"></a>02386 <span class="preprocessor"></span>            <span class="comment">/* these _must_ stay in sync */</span>
<a name="l02387"></a>02387             <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d1/d22/stdosl_8h.html#af902ac638d8127503ad64a0eacb3a7e8">strlen</a>(<a class="code" href="../../d5/d95/BKE__idprop_8h.html#a9622eaf730ae6ab9898a2742a217176d">IDP_String</a>(idprop)) == idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a> - 1);
<a name="l02388"></a>02388 <span class="preprocessor">#endif</span>
<a name="l02389"></a>02389 <span class="preprocessor"></span>            <span class="keywordflow">return</span> idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a> - 1;
<a name="l02390"></a>02390         }
<a name="l02391"></a>02391     }
<a name="l02392"></a>02392     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a81bdf8f4989f95df5e6e90ba34e06039">length</a>)
<a name="l02393"></a>02393         <span class="keywordflow">return</span> sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a81bdf8f4989f95df5e6e90ba34e06039">length</a>(ptr);
<a name="l02394"></a>02394     <span class="keywordflow">else</span>
<a name="l02395"></a>02395         <span class="keywordflow">return</span> <a class="code" href="../../d1/d22/stdosl_8h.html#af902ac638d8127503ad64a0eacb3a7e8">strlen</a>(sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a4615fd7801befd167d2094383ebd8f5d">defaultvalue</a>);
<a name="l02396"></a>02396 }
<a name="l02397"></a>02397 
<a name="l02398"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#afce4fb987ac5a876e33a51d1b5cc2d6a">02398</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#afce4fb987ac5a876e33a51d1b5cc2d6a">RNA_property_string_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keyword">const</span> <span class="keywordtype">char</span> *value)
<a name="l02399"></a>02399 {
<a name="l02400"></a>02400     <a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a> *sprop = (<a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a>*)prop;
<a name="l02401"></a>02401     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02402"></a>02402 
<a name="l02403"></a>02403     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>);
<a name="l02404"></a>02404 
<a name="l02405"></a>02405     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02406"></a>02406         <span class="comment">/* both IDP_STRING_SUB_BYTE / IDP_STRING_SUB_UTF8 */</span>
<a name="l02407"></a>02407         <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1b7518726ce87d94118978cc513630eb">IDP_AssignString</a>(idprop, value, <a class="code" href="../../d3/d10/rna__access_8c.html#ab22df6fd8dc56c5f27e7bea55930f482">RNA_property_string_maxlength</a>(prop) - 1);
<a name="l02408"></a>02408         <a class="code" href="../../d3/d10/rna__access_8c.html#ac6d40bd7ba173c63444a2851fb038cbb">rna_idproperty_touch</a>(idprop);
<a name="l02409"></a>02409     }
<a name="l02410"></a>02410     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a3281606f113e61e29e85349fca73bb39">set</a>)
<a name="l02411"></a>02411         sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a3281606f113e61e29e85349fca73bb39">set</a>(ptr, value); <span class="comment">/* set function needs to clamp its self */</span>
<a name="l02412"></a>02412     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>) {
<a name="l02413"></a>02413         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group;
<a name="l02414"></a>02414 
<a name="l02415"></a>02415         group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 1);
<a name="l02416"></a>02416         <span class="keywordflow">if</span> (group)
<a name="l02417"></a>02417             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a138d36796279ac5dfae6a2819e1aaa8d">IDP_AddToGroup</a>(group, <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a40f2191f19627d0612f143532945e80c">IDP_NewString</a>(value, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, <a class="code" href="../../d3/d10/rna__access_8c.html#ab22df6fd8dc56c5f27e7bea55930f482">RNA_property_string_maxlength</a>(prop) - 1));
<a name="l02418"></a>02418     }
<a name="l02419"></a>02419 }
<a name="l02420"></a>02420 
<a name="l02421"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a9243896f4171837fe6bdb7a4df6a39a9">02421</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a9243896f4171837fe6bdb7a4df6a39a9">RNA_property_string_get_default</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">char</span> *value)
<a name="l02422"></a>02422 {
<a name="l02423"></a>02423     <a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a> *sprop = (<a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a>*)prop;
<a name="l02424"></a>02424 
<a name="l02425"></a>02425     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>);
<a name="l02426"></a>02426 
<a name="l02427"></a>02427     strcpy(value, sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a4615fd7801befd167d2094383ebd8f5d">defaultvalue</a>);
<a name="l02428"></a>02428 }
<a name="l02429"></a>02429 
<a name="l02430"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#adebf0f120dcb5bd50ef3d7aeec44a16c">02430</a> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#adebf0f120dcb5bd50ef3d7aeec44a16c">RNA_property_string_get_default_alloc</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">char</span> *fixedbuf, <span class="keywordtype">int</span> fixedlen)
<a name="l02431"></a>02431 {
<a name="l02432"></a>02432     <span class="keywordtype">char</span> *buf;
<a name="l02433"></a>02433     <span class="keywordtype">int</span> <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>;
<a name="l02434"></a>02434 
<a name="l02435"></a>02435     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>);
<a name="l02436"></a>02436 
<a name="l02437"></a>02437     length = <a class="code" href="../../d3/d10/rna__access_8c.html#a9b93f2dbebd70fa001264771868600de">RNA_property_string_default_length</a>(ptr, prop);
<a name="l02438"></a>02438 
<a name="l02439"></a>02439     <span class="keywordflow">if</span> (length+1 &lt; fixedlen)
<a name="l02440"></a>02440         buf = fixedbuf;
<a name="l02441"></a>02441     <span class="keywordflow">else</span>
<a name="l02442"></a>02442         buf = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*(length+1), <span class="stringliteral">&quot;RNA_string_get_alloc&quot;</span>);
<a name="l02443"></a>02443 
<a name="l02444"></a>02444     <a class="code" href="../../d3/d10/rna__access_8c.html#a9243896f4171837fe6bdb7a4df6a39a9">RNA_property_string_get_default</a>(ptr, prop, buf);
<a name="l02445"></a>02445 
<a name="l02446"></a>02446     <span class="keywordflow">return</span> buf;
<a name="l02447"></a>02447 }
<a name="l02448"></a>02448 
<a name="l02449"></a>02449 <span class="comment">/* this is the length without \0 terminator */</span>
<a name="l02450"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a9b93f2dbebd70fa001264771868600de">02450</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a9b93f2dbebd70fa001264771868600de">RNA_property_string_default_length</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02451"></a>02451 {
<a name="l02452"></a>02452     <a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a> *sprop = (<a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a>*)prop;
<a name="l02453"></a>02453 
<a name="l02454"></a>02454     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>);
<a name="l02455"></a>02455 
<a name="l02456"></a>02456     <span class="keywordflow">return</span> <a class="code" href="../../d1/d22/stdosl_8h.html#af902ac638d8127503ad64a0eacb3a7e8">strlen</a>(sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a4615fd7801befd167d2094383ebd8f5d">defaultvalue</a>);
<a name="l02457"></a>02457 }
<a name="l02458"></a>02458 
<a name="l02459"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#abb4862291354aedcb2cc916f1c30642b">02459</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#abb4862291354aedcb2cc916f1c30642b">RNA_property_enum_get</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02460"></a>02460 {
<a name="l02461"></a>02461     <a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a> *eprop = (<a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a>*)prop;
<a name="l02462"></a>02462     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02463"></a>02463 
<a name="l02464"></a>02464     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>);
<a name="l02465"></a>02465 
<a name="l02466"></a>02466     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr)))
<a name="l02467"></a>02467         <span class="keywordflow">return</span> <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1f9c0b8b528c710eac7c2afbf711ce2c">IDP_Int</a>(idprop);
<a name="l02468"></a>02468     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#a92f12b4c74e1c0150027a8a6a51b112c">get</a>)
<a name="l02469"></a>02469         <span class="keywordflow">return</span> eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#a92f12b4c74e1c0150027a8a6a51b112c">get</a>(ptr);
<a name="l02470"></a>02470     <span class="keywordflow">else</span>
<a name="l02471"></a>02471         <span class="keywordflow">return</span> eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#aaafd27278d2948ed86b3fc5ccec01531">defaultvalue</a>;
<a name="l02472"></a>02472 }
<a name="l02473"></a>02473 
<a name="l02474"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a557c923d4a24b42363256f33a6fb9205">02474</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a557c923d4a24b42363256f33a6fb9205">RNA_property_enum_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> value)
<a name="l02475"></a>02475 {
<a name="l02476"></a>02476     <a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a> *eprop = (<a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a>*)prop;
<a name="l02477"></a>02477     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02478"></a>02478 
<a name="l02479"></a>02479     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>);
<a name="l02480"></a>02480 
<a name="l02481"></a>02481     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02482"></a>02482         <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a1f9c0b8b528c710eac7c2afbf711ce2c">IDP_Int</a>(idprop) = value;
<a name="l02483"></a>02483         <a class="code" href="../../d3/d10/rna__access_8c.html#ac6d40bd7ba173c63444a2851fb038cbb">rna_idproperty_touch</a>(idprop);
<a name="l02484"></a>02484     }
<a name="l02485"></a>02485     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#aff533710b1ed83e95de01ad3ed642b8b">set</a>) {
<a name="l02486"></a>02486         eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#aff533710b1ed83e95de01ad3ed642b8b">set</a>(ptr, value);
<a name="l02487"></a>02487     }
<a name="l02488"></a>02488     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>) {
<a name="l02489"></a>02489         <a class="code" href="../../df/d2e/unionIDPropertyTemplate.html">IDPropertyTemplate</a> val = {0};
<a name="l02490"></a>02490         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group;
<a name="l02491"></a>02491 
<a name="l02492"></a>02492         val.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#aaf454900f7f5fb52d00e237a117b4d04">i</a> = value;
<a name="l02493"></a>02493 
<a name="l02494"></a>02494         group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 1);
<a name="l02495"></a>02495         <span class="keywordflow">if</span> (group)
<a name="l02496"></a>02496             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a138d36796279ac5dfae6a2819e1aaa8d">IDP_AddToGroup</a>(group, <a class="code" href="../../d5/d95/BKE__idprop_8h.html#ab2130fe4ddfd0002e655dbee991d517e">IDP_New</a>(<a class="code" href="../../d3/dfb/DNA__ID_8h.html#a13b6490097339e2b882a4d060f504d69">IDP_INT</a>, &amp;val, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l02497"></a>02497     }
<a name="l02498"></a>02498 }
<a name="l02499"></a>02499 
<a name="l02500"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a77741e5f6a46eef264e60d87cbc0e999">02500</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a77741e5f6a46eef264e60d87cbc0e999">RNA_property_enum_get_default</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02501"></a>02501 {
<a name="l02502"></a>02502     <a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a> *eprop = (<a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a>*)prop;
<a name="l02503"></a>02503 
<a name="l02504"></a>02504     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>);
<a name="l02505"></a>02505 
<a name="l02506"></a>02506     <span class="keywordflow">return</span> eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#aaafd27278d2948ed86b3fc5ccec01531">defaultvalue</a>;
<a name="l02507"></a>02507 }
<a name="l02508"></a>02508 
<a name="l02509"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a42d5a36a2c9f148da6a8155a025f67c8">02509</a> <span class="keywordtype">void</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a42d5a36a2c9f148da6a8155a025f67c8">RNA_property_enum_py_data_get</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02510"></a>02510 {
<a name="l02511"></a>02511     <a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a> *eprop = (<a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a>*)prop;
<a name="l02512"></a>02512 
<a name="l02513"></a>02513     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>);
<a name="l02514"></a>02514 
<a name="l02515"></a>02515     <span class="keywordflow">return</span> eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#a7e6114f9d0cc03dd68239eff1d95c701">py_data</a>;
<a name="l02516"></a>02516 }
<a name="l02517"></a>02517 
<a name="l02518"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a575c543a2a1f509f371bc1cee4fbe4d7">02518</a> <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> <a class="code" href="../../d3/d10/rna__access_8c.html#a575c543a2a1f509f371bc1cee4fbe4d7">RNA_property_pointer_get</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02519"></a>02519 {
<a name="l02520"></a>02520     <a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a> *pprop = (<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a>*)prop;
<a name="l02521"></a>02521     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02522"></a>02522 
<a name="l02523"></a>02523     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>);
<a name="l02524"></a>02524 
<a name="l02525"></a>02525     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02526"></a>02526         pprop = (<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a>*)prop;
<a name="l02527"></a>02527 
<a name="l02528"></a>02528         <span class="comment">/* for groups, data is idprop itself */</span>
<a name="l02529"></a>02529         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aa500b3bcb38a9f9a9dbbb587421cb1ae">rna_pointer_inherit_refine</a>(ptr, pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>, idprop);
<a name="l02530"></a>02530     }
<a name="l02531"></a>02531     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7e051ebaa5617c5cd3e3442b2be318b8">get</a>) {
<a name="l02532"></a>02532         <span class="keywordflow">return</span> pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7e051ebaa5617c5cd3e3442b2be318b8">get</a>(ptr);
<a name="l02533"></a>02533     }
<a name="l02534"></a>02534     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>) {
<a name="l02535"></a>02535         <span class="comment">/* XXX temporary hack to add it automatically, reading should</span>
<a name="l02536"></a>02536 <span class="comment">         * never do any write ops, to ensure thread safety etc .. */</span>
<a name="l02537"></a>02537         <a class="code" href="../../d3/d10/rna__access_8c.html#a5395100755d712c9fb3c5307fe72c19e">RNA_property_pointer_add</a>(ptr, prop);
<a name="l02538"></a>02538         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a575c543a2a1f509f371bc1cee4fbe4d7">RNA_property_pointer_get</a>(ptr, prop);
<a name="l02539"></a>02539     }
<a name="l02540"></a>02540     <span class="keywordflow">else</span> {
<a name="l02541"></a>02541         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a528bfdf8e4f3178d59d7ccd394166d20">PointerRNA_NULL</a>;
<a name="l02542"></a>02542     }
<a name="l02543"></a>02543 }
<a name="l02544"></a>02544 
<a name="l02545"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#adafe00269e3f01d8a6182040597fd020">02545</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#adafe00269e3f01d8a6182040597fd020">RNA_property_pointer_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> ptr_value)
<a name="l02546"></a>02546 {
<a name="l02547"></a>02547     <span class="comment">/*IDProperty *idprop;*/</span>
<a name="l02548"></a>02548 
<a name="l02549"></a>02549     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>);
<a name="l02550"></a>02550 
<a name="l02551"></a>02551     <span class="keywordflow">if</span> ((<span class="comment">/*idprop=*/</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02552"></a>02552         <span class="comment">/* not supported */</span>
<a name="l02553"></a>02553         <span class="comment">/* rna_idproperty_touch(idprop); */</span>
<a name="l02554"></a>02554     }
<a name="l02555"></a>02555     <span class="keywordflow">else</span> {
<a name="l02556"></a>02556         <a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a> *pprop = (<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a>*)prop;
<a name="l02557"></a>02557 
<a name="l02558"></a>02558         <span class="keywordflow">if</span> (        pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#ab36579bb615fdb1d8987ff0847edd34d">set</a> &amp;&amp;
<a name="l02559"></a>02559                 !((prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a5def8c59b8ee9008946cf4314433b69a">PROP_NEVER_NULL</a>) &amp;&amp; ptr_value.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp;
<a name="l02560"></a>02560                 !((prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411ac567a4814345fecbf94eed28cf694853">PROP_ID_SELF_CHECK</a>) &amp;&amp; ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> == ptr_value.<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>)
<a name="l02561"></a>02561         ) {
<a name="l02562"></a>02562             pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#ab36579bb615fdb1d8987ff0847edd34d">set</a>(ptr, ptr_value);
<a name="l02563"></a>02563         }
<a name="l02564"></a>02564     }
<a name="l02565"></a>02565 }
<a name="l02566"></a>02566 
<a name="l02567"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a882c3e3084b33d30ce23b45e89cf5620">02567</a> <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> <a class="code" href="../../d3/d10/rna__access_8c.html#a882c3e3084b33d30ce23b45e89cf5620">RNA_property_pointer_get_default</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(prop))
<a name="l02568"></a>02568 {
<a name="l02569"></a>02569     <span class="comment">/*PointerPropertyRNA *pprop= (PointerPropertyRNA*)prop; */</span>
<a name="l02570"></a>02570 
<a name="l02571"></a>02571     <span class="comment">/* BLI_assert(RNA_property_type(prop) == PROP_POINTER); */</span>
<a name="l02572"></a>02572 
<a name="l02573"></a>02573     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a528bfdf8e4f3178d59d7ccd394166d20">PointerRNA_NULL</a>; <span class="comment">/* FIXME: there has to be a way... */</span>
<a name="l02574"></a>02574 }
<a name="l02575"></a>02575 
<a name="l02576"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a5395100755d712c9fb3c5307fe72c19e">02576</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a5395100755d712c9fb3c5307fe72c19e">RNA_property_pointer_add</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02577"></a>02577 {
<a name="l02578"></a>02578     <span class="comment">/*IDProperty *idprop;*/</span>
<a name="l02579"></a>02579 
<a name="l02580"></a>02580     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>);
<a name="l02581"></a>02581 
<a name="l02582"></a>02582     <span class="keywordflow">if</span> ((<span class="comment">/*idprop=*/</span><a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02583"></a>02583         <span class="comment">/* already exists */</span>
<a name="l02584"></a>02584     }
<a name="l02585"></a>02585     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>) {
<a name="l02586"></a>02586         <a class="code" href="../../df/d2e/unionIDPropertyTemplate.html">IDPropertyTemplate</a> val = {0};
<a name="l02587"></a>02587         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group;
<a name="l02588"></a>02588 
<a name="l02589"></a>02589         val.<a class="code" href="../../df/d2e/unionIDPropertyTemplate.html#aaf454900f7f5fb52d00e237a117b4d04">i</a> = 0;
<a name="l02590"></a>02590 
<a name="l02591"></a>02591         group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 1);
<a name="l02592"></a>02592         <span class="keywordflow">if</span> (group)
<a name="l02593"></a>02593             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a138d36796279ac5dfae6a2819e1aaa8d">IDP_AddToGroup</a>(group, <a class="code" href="../../d5/d95/BKE__idprop_8h.html#ab2130fe4ddfd0002e655dbee991d517e">IDP_New</a>(<a class="code" href="../../d3/dfb/DNA__ID_8h.html#abf4b8c1027c684282b432b3c8033a2de">IDP_GROUP</a>, &amp;val, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l02594"></a>02594     }
<a name="l02595"></a>02595     <span class="keywordflow">else</span>
<a name="l02596"></a>02596         printf(<span class="stringliteral">&quot;%s %s.%s: only supported for id properties.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02597"></a>02597 }
<a name="l02598"></a>02598 
<a name="l02599"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ae8dd8bf4d3d370cd366c7f1aaea4ae8f">02599</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ae8dd8bf4d3d370cd366c7f1aaea4ae8f">RNA_property_pointer_remove</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02600"></a>02600 {
<a name="l02601"></a>02601     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop, *group;
<a name="l02602"></a>02602 
<a name="l02603"></a>02603     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>);
<a name="l02604"></a>02604 
<a name="l02605"></a>02605     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02606"></a>02606         group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 0);
<a name="l02607"></a>02607         
<a name="l02608"></a>02608         <span class="keywordflow">if</span> (group) {
<a name="l02609"></a>02609             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a7e0c50874c70b1c3060616c1071b1093">IDP_RemFromGroup</a>(group, idprop);
<a name="l02610"></a>02610             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#ac700fa8a94927f66ebc0c0e12378bbd1">IDP_FreeProperty</a>(idprop);
<a name="l02611"></a>02611             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(idprop);
<a name="l02612"></a>02612         }
<a name="l02613"></a>02613     }
<a name="l02614"></a>02614     <span class="keywordflow">else</span>
<a name="l02615"></a>02615         printf(<span class="stringliteral">&quot;%s %s.%s: only supported for id properties.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02616"></a>02616 }
<a name="l02617"></a>02617 
<a name="l02618"></a><a class="code" href="../../d3/d10/rna__access_8c.html#affdf68dffb6052b3306daacc109a6162">02618</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#affdf68dffb6052b3306daacc109a6162">rna_property_collection_get_idp</a>(<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter)
<a name="l02619"></a>02619 {
<a name="l02620"></a>02620     <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aef01482045cd68fa07779a800cbb459b">prop</a>;
<a name="l02621"></a>02621 
<a name="l02622"></a>02622     iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = <a class="code" href="../../d3/d10/rna__access_8c.html#a9229e555c1c676444ba3fafb5921e8bc">rna_iterator_array_get</a>(iter);
<a name="l02623"></a>02623     iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> = cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a>;
<a name="l02624"></a>02624     <a class="code" href="../../d3/d10/rna__access_8c.html#acff7204c81c71721495b88e306ac897a">rna_pointer_inherit_id</a>(cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a>, &amp;iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ae6b95410e6e240d2dd29aa365a84d3a9">parent</a>, &amp;iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>);
<a name="l02625"></a>02625 }
<a name="l02626"></a>02626 
<a name="l02627"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a4f618909376e31da97334bded1fb7994">02627</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a4f618909376e31da97334bded1fb7994">RNA_property_collection_begin</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter)
<a name="l02628"></a>02628 {
<a name="l02629"></a>02629     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02630"></a>02630 
<a name="l02631"></a>02631     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>);
<a name="l02632"></a>02632 
<a name="l02633"></a>02633     memset(iter, 0, <span class="keyword">sizeof</span>(*iter));
<a name="l02634"></a>02634 
<a name="l02635"></a>02635     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr)) || (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>)) {
<a name="l02636"></a>02636         iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ae6b95410e6e240d2dd29aa365a84d3a9">parent</a> = *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>;
<a name="l02637"></a>02637         iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aef01482045cd68fa07779a800cbb459b">prop</a> = prop;
<a name="l02638"></a>02638 
<a name="l02639"></a>02639         <span class="keywordflow">if</span> (idprop)
<a name="l02640"></a>02640             <a class="code" href="../../d3/d10/rna__access_8c.html#a031de9fc95cf28aac5ca59f600eb73af">rna_iterator_array_begin</a>(iter, <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a11544883f58b065b2943902c77e82aef">IDP_IDPArray</a>(idprop), <span class="keyword">sizeof</span>(<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>), idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>, 0, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02641"></a>02641         <span class="keywordflow">else</span>
<a name="l02642"></a>02642             <a class="code" href="../../d3/d10/rna__access_8c.html#a031de9fc95cf28aac5ca59f600eb73af">rna_iterator_array_begin</a>(iter, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>), 0, 0, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02643"></a>02643 
<a name="l02644"></a>02644         <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>)
<a name="l02645"></a>02645             <a class="code" href="../../d3/d10/rna__access_8c.html#affdf68dffb6052b3306daacc109a6162">rna_property_collection_get_idp</a>(iter);
<a name="l02646"></a>02646 
<a name="l02647"></a>02647         iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#abf6e4cad47f04e95caac843e1a273304">idprop</a> = 1;
<a name="l02648"></a>02648     }
<a name="l02649"></a>02649     <span class="keywordflow">else</span> {
<a name="l02650"></a>02650         <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)prop;
<a name="l02651"></a>02651         cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a810dead54b28eb961a333690e4a145e6">begin</a>(iter, ptr);
<a name="l02652"></a>02652     }
<a name="l02653"></a>02653 }
<a name="l02654"></a>02654 
<a name="l02655"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a786b29fd2755bb2c689152dca8bd5958">02655</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a786b29fd2755bb2c689152dca8bd5958">RNA_property_collection_next</a>(<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter)
<a name="l02656"></a>02656 {
<a name="l02657"></a>02657     <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)<a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aef01482045cd68fa07779a800cbb459b">prop</a>);
<a name="l02658"></a>02658 
<a name="l02659"></a>02659     <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#abf6e4cad47f04e95caac843e1a273304">idprop</a>) {
<a name="l02660"></a>02660         <a class="code" href="../../d3/d10/rna__access_8c.html#abb621316bba0b033c8669f9bdb686abb">rna_iterator_array_next</a>(iter);
<a name="l02661"></a>02661 
<a name="l02662"></a>02662         <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>)
<a name="l02663"></a>02663             <a class="code" href="../../d3/d10/rna__access_8c.html#affdf68dffb6052b3306daacc109a6162">rna_property_collection_get_idp</a>(iter);
<a name="l02664"></a>02664     }
<a name="l02665"></a>02665     <span class="keywordflow">else</span>
<a name="l02666"></a>02666         cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a538ed24fbf25d43e86c6206278616431">next</a>(iter);
<a name="l02667"></a>02667 }
<a name="l02668"></a>02668 
<a name="l02669"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ad52246262697932892515de6924d7aee">02669</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ad52246262697932892515de6924d7aee">RNA_property_collection_end</a>(<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter)
<a name="l02670"></a>02670 {
<a name="l02671"></a>02671     <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)<a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aef01482045cd68fa07779a800cbb459b">prop</a>);
<a name="l02672"></a>02672 
<a name="l02673"></a>02673     <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#abf6e4cad47f04e95caac843e1a273304">idprop</a>)
<a name="l02674"></a>02674         <a class="code" href="../../d3/d10/rna__access_8c.html#a1b1292d44989d9b6f86d2d926ef24372">rna_iterator_array_end</a>(iter);
<a name="l02675"></a>02675     <span class="keywordflow">else</span>
<a name="l02676"></a>02676         cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#aa6f541a3e80d455e296162ea2989d62e">end</a>(iter);
<a name="l02677"></a>02677 }
<a name="l02678"></a>02678 
<a name="l02679"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#afa268ad0fdaa32bbbf52be74426bfbd6">02679</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#afa268ad0fdaa32bbbf52be74426bfbd6">RNA_property_collection_length</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02680"></a>02680 {
<a name="l02681"></a>02681     <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)prop;
<a name="l02682"></a>02682     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02683"></a>02683 
<a name="l02684"></a>02684     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>);
<a name="l02685"></a>02685 
<a name="l02686"></a>02686     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02687"></a>02687         <span class="keywordflow">return</span> idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>;
<a name="l02688"></a>02688     }
<a name="l02689"></a>02689     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a57b67e8ad4dc9ffba53ed41b597ae6ba">length</a>) {
<a name="l02690"></a>02690         <span class="keywordflow">return</span> cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a57b67e8ad4dc9ffba53ed41b597ae6ba">length</a>(ptr);
<a name="l02691"></a>02691     }
<a name="l02692"></a>02692     <span class="keywordflow">else</span> {
<a name="l02693"></a>02693         <a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> iter;
<a name="l02694"></a>02694         <span class="keywordtype">int</span> <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a> = 0;
<a name="l02695"></a>02695 
<a name="l02696"></a>02696         <a class="code" href="../../d3/d10/rna__access_8c.html#a4f618909376e31da97334bded1fb7994">RNA_property_collection_begin</a>(ptr, prop, &amp;iter);
<a name="l02697"></a>02697         <span class="keywordflow">for</span> (; iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>; <a class="code" href="../../d3/d10/rna__access_8c.html#a786b29fd2755bb2c689152dca8bd5958">RNA_property_collection_next</a>(&amp;iter))
<a name="l02698"></a>02698             length++;
<a name="l02699"></a>02699         <a class="code" href="../../d3/d10/rna__access_8c.html#ad52246262697932892515de6924d7aee">RNA_property_collection_end</a>(&amp;iter);
<a name="l02700"></a>02700 
<a name="l02701"></a>02701         <span class="keywordflow">return</span> <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>;
<a name="l02702"></a>02702     }
<a name="l02703"></a>02703 }
<a name="l02704"></a>02704 
<a name="l02705"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aab8b3b9833568a452d4052f3f66288bb">02705</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aab8b3b9833568a452d4052f3f66288bb">RNA_property_collection_add</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *r_ptr)
<a name="l02706"></a>02706 {
<a name="l02707"></a>02707     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02708"></a>02708 <span class="comment">/*  CollectionPropertyRNA *cprop= (CollectionPropertyRNA*)prop; */</span>
<a name="l02709"></a>02709 
<a name="l02710"></a>02710     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>);
<a name="l02711"></a>02711 
<a name="l02712"></a>02712     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02713"></a>02713         <a class="code" href="../../df/d2e/unionIDPropertyTemplate.html">IDPropertyTemplate</a> val = {0};
<a name="l02714"></a>02714         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *item;
<a name="l02715"></a>02715 
<a name="l02716"></a>02716         item = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#ab2130fe4ddfd0002e655dbee991d517e">IDP_New</a>(<a class="code" href="../../d3/dfb/DNA__ID_8h.html#abf4b8c1027c684282b432b3c8033a2de">IDP_GROUP</a>, &amp;val, <span class="stringliteral">&quot;&quot;</span>);
<a name="l02717"></a>02717         <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a91d621ec0d63b4bccfa30b60aba10890">IDP_AppendArray</a>(idprop, item);
<a name="l02718"></a>02718         <span class="comment">/* IDP_FreeProperty(item);  */</span><span class="comment">/* IDP_AppendArray does a shallow copy (memcpy), only free memory  */</span>
<a name="l02719"></a>02719         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(item);
<a name="l02720"></a>02720     }
<a name="l02721"></a>02721     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>) {
<a name="l02722"></a>02722         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group, *item;
<a name="l02723"></a>02723         <a class="code" href="../../df/d2e/unionIDPropertyTemplate.html">IDPropertyTemplate</a> val = {0};
<a name="l02724"></a>02724 
<a name="l02725"></a>02725         group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(ptr, 1);
<a name="l02726"></a>02726         <span class="keywordflow">if</span> (group) {
<a name="l02727"></a>02727             idprop = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a76ac0514408848ac361cc9637ac86e0e">IDP_NewIDPArray</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02728"></a>02728             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a138d36796279ac5dfae6a2819e1aaa8d">IDP_AddToGroup</a>(group, idprop);
<a name="l02729"></a>02729 
<a name="l02730"></a>02730             item = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#ab2130fe4ddfd0002e655dbee991d517e">IDP_New</a>(<a class="code" href="../../d3/dfb/DNA__ID_8h.html#abf4b8c1027c684282b432b3c8033a2de">IDP_GROUP</a>, &amp;val, <span class="stringliteral">&quot;&quot;</span>);
<a name="l02731"></a>02731             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a91d621ec0d63b4bccfa30b60aba10890">IDP_AppendArray</a>(idprop, item);
<a name="l02732"></a>02732             <span class="comment">/* IDP_FreeProperty(item);  */</span><span class="comment">/* IDP_AppendArray does a shallow copy (memcpy), only free memory */</span>
<a name="l02733"></a>02733             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(item);
<a name="l02734"></a>02734         }
<a name="l02735"></a>02735     }
<a name="l02736"></a>02736 
<a name="l02737"></a>02737     <span class="comment">/* py api calls directly */</span>
<a name="l02738"></a>02738 <span class="preprocessor">#if 0</span>
<a name="l02739"></a>02739 <span class="preprocessor"></span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cprop-&gt;add) {
<a name="l02740"></a>02740         <span class="keywordflow">if</span> (!(cprop-&gt;add-&gt;flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217ac30084aae1a466ac0beb442001d6efc1">FUNC_USE_CONTEXT</a>)) { <span class="comment">/* XXX check for this somewhere else */</span>
<a name="l02741"></a>02741             <a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> params;
<a name="l02742"></a>02742             <a class="code" href="../../d3/d10/rna__access_8c.html#a3c1bf7ef082170354b5028f5eb9a5365">RNA_parameter_list_create</a>(&amp;params, ptr, cprop-&gt;add);
<a name="l02743"></a>02743             <a class="code" href="../../d3/d10/rna__access_8c.html#ac6b773aa68646faa15907966acf3011b">RNA_function_call</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, ptr, cprop-&gt;add, &amp;params);
<a name="l02744"></a>02744             <a class="code" href="../../d3/d10/rna__access_8c.html#a5a3b0aabe8c94b8c66847ac2f650170f">RNA_parameter_list_free</a>(&amp;params);
<a name="l02745"></a>02745         }
<a name="l02746"></a>02746     }
<a name="l02747"></a>02747     <span class="comment">/*else</span>
<a name="l02748"></a>02748 <span class="comment">        printf(&quot;%s %s.%s: not implemented for this property.\n&quot;, __func__, ptr-&gt;type-&gt;identifier, prop-&gt;identifier);*/</span>
<a name="l02749"></a>02749 <span class="preprocessor">#endif</span>
<a name="l02750"></a>02750 <span class="preprocessor"></span>
<a name="l02751"></a>02751     <span class="keywordflow">if</span> (r_ptr) {
<a name="l02752"></a>02752         <span class="keywordflow">if</span> (idprop) {
<a name="l02753"></a>02753             <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)prop;
<a name="l02754"></a>02754 
<a name="l02755"></a>02755             r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a2d74a5acb9bdef106afe3c1959a41025">IDP_GetIndexArray</a>(idprop, idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>-1);
<a name="l02756"></a>02756             r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> = cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a>;
<a name="l02757"></a>02757             <a class="code" href="../../d3/d10/rna__access_8c.html#acff7204c81c71721495b88e306ac897a">rna_pointer_inherit_id</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, ptr, r_ptr);
<a name="l02758"></a>02758         }
<a name="l02759"></a>02759         <span class="keywordflow">else</span>
<a name="l02760"></a>02760             memset(r_ptr, 0, <span class="keyword">sizeof</span>(*r_ptr));
<a name="l02761"></a>02761     }
<a name="l02762"></a>02762 }
<a name="l02763"></a>02763 
<a name="l02764"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a1e968bda117e1f9a9e44a789816f95e1">02764</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a1e968bda117e1f9a9e44a789816f95e1">RNA_property_collection_remove</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> key)
<a name="l02765"></a>02765 {
<a name="l02766"></a>02766     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02767"></a>02767 <span class="comment">/*  CollectionPropertyRNA *cprop= (CollectionPropertyRNA*)prop; */</span>
<a name="l02768"></a>02768 
<a name="l02769"></a>02769     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>);
<a name="l02770"></a>02770 
<a name="l02771"></a>02771     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02772"></a>02772         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> tmp, *<a class="code" href="../../d2/d41/classarray.html">array</a>;
<a name="l02773"></a>02773         <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>;
<a name="l02774"></a>02774 
<a name="l02775"></a>02775         len = idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>;
<a name="l02776"></a>02776         array = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a11544883f58b065b2943902c77e82aef">IDP_IDPArray</a>(idprop);
<a name="l02777"></a>02777 
<a name="l02778"></a>02778         <span class="keywordflow">if</span> (key &gt;= 0 &amp;&amp; key &lt; len) {
<a name="l02779"></a>02779             <span class="keywordflow">if</span> (key+1 &lt; len) {
<a name="l02780"></a>02780                 <span class="comment">/* move element to be removed to the back */</span>
<a name="l02781"></a>02781                 memcpy(&amp;tmp, &amp;array[key], <span class="keyword">sizeof</span>(<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>));
<a name="l02782"></a>02782                 memmove(array+key, array+key+1, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>)*(len-(key+1)));
<a name="l02783"></a>02783                 memcpy(&amp;array[len-1], &amp;tmp, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>));
<a name="l02784"></a>02784             }
<a name="l02785"></a>02785 
<a name="l02786"></a>02786             <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a9656aa2637d86307da90defa0a94b973">IDP_ResizeIDPArray</a>(idprop, len-1);
<a name="l02787"></a>02787         }
<a name="l02788"></a>02788 
<a name="l02789"></a>02789         <span class="keywordflow">return</span> 1;
<a name="l02790"></a>02790     }
<a name="l02791"></a>02791     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>)
<a name="l02792"></a>02792         <span class="keywordflow">return</span> 1;
<a name="l02793"></a>02793 
<a name="l02794"></a>02794     <span class="comment">/* py api calls directly */</span>
<a name="l02795"></a>02795 <span class="preprocessor">#if 0</span>
<a name="l02796"></a>02796 <span class="preprocessor"></span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cprop-&gt;remove) {
<a name="l02797"></a>02797         <span class="keywordflow">if</span> (!(cprop-&gt;remove-&gt;flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217ac30084aae1a466ac0beb442001d6efc1">FUNC_USE_CONTEXT</a>)) { <span class="comment">/* XXX check for this somewhere else */</span>
<a name="l02798"></a>02798             <a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> params;
<a name="l02799"></a>02799             <a class="code" href="../../d3/d10/rna__access_8c.html#a3c1bf7ef082170354b5028f5eb9a5365">RNA_parameter_list_create</a>(&amp;params, ptr, cprop-&gt;remove);
<a name="l02800"></a>02800             <a class="code" href="../../d3/d10/rna__access_8c.html#ac6b773aa68646faa15907966acf3011b">RNA_function_call</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, ptr, cprop-&gt;remove, &amp;params);
<a name="l02801"></a>02801             <a class="code" href="../../d3/d10/rna__access_8c.html#a5a3b0aabe8c94b8c66847ac2f650170f">RNA_parameter_list_free</a>(&amp;params);
<a name="l02802"></a>02802         }
<a name="l02803"></a>02803 
<a name="l02804"></a>02804         <span class="keywordflow">return</span> 0;
<a name="l02805"></a>02805     }
<a name="l02806"></a>02806     <span class="comment">/*else</span>
<a name="l02807"></a>02807 <span class="comment">        printf(&quot;%s %s.%s: only supported for id properties.\n&quot;, __func__, ptr-&gt;type-&gt;identifier, prop-&gt;identifier);*/</span>
<a name="l02808"></a>02808 <span class="preprocessor">#endif</span>
<a name="l02809"></a>02809 <span class="preprocessor"></span>    <span class="keywordflow">return</span> 0;
<a name="l02810"></a>02810 }
<a name="l02811"></a>02811 
<a name="l02812"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a1bace0dc9df2ee7c6958d373c176c491">02812</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a1bace0dc9df2ee7c6958d373c176c491">RNA_property_collection_move</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> key, <span class="keywordtype">int</span> pos)
<a name="l02813"></a>02813 {
<a name="l02814"></a>02814     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02815"></a>02815 
<a name="l02816"></a>02816     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>);
<a name="l02817"></a>02817 
<a name="l02818"></a>02818     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr))) {
<a name="l02819"></a>02819         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> tmp, *<a class="code" href="../../d2/d41/classarray.html">array</a>;
<a name="l02820"></a>02820         <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>;
<a name="l02821"></a>02821 
<a name="l02822"></a>02822         len = idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>;
<a name="l02823"></a>02823         array = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a11544883f58b065b2943902c77e82aef">IDP_IDPArray</a>(idprop);
<a name="l02824"></a>02824 
<a name="l02825"></a>02825         <span class="keywordflow">if</span> (key &gt;= 0 &amp;&amp; key &lt; len &amp;&amp; pos &gt;= 0 &amp;&amp; pos &lt; len &amp;&amp; key != pos) {
<a name="l02826"></a>02826             memcpy(&amp;tmp, &amp;array[key], <span class="keyword">sizeof</span>(<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>));
<a name="l02827"></a>02827             <span class="keywordflow">if</span> (pos &lt; key)
<a name="l02828"></a>02828                 memmove(array+pos+1, array+pos, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>)*(key - pos));
<a name="l02829"></a>02829             <span class="keywordflow">else</span>
<a name="l02830"></a>02830                 memmove(array+key, array+key+1, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>)*(pos - key));
<a name="l02831"></a>02831             memcpy(&amp;array[pos], &amp;tmp, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a>));
<a name="l02832"></a>02832         }
<a name="l02833"></a>02833 
<a name="l02834"></a>02834         <span class="keywordflow">return</span> 1;
<a name="l02835"></a>02835     }
<a name="l02836"></a>02836     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>)
<a name="l02837"></a>02837         <span class="keywordflow">return</span> 1;
<a name="l02838"></a>02838 
<a name="l02839"></a>02839     <span class="keywordflow">return</span> 0;
<a name="l02840"></a>02840 }
<a name="l02841"></a>02841 
<a name="l02842"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ad0a799f6d6cfab002d3c7fe2fd188088">02842</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ad0a799f6d6cfab002d3c7fe2fd188088">RNA_property_collection_clear</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02843"></a>02843 {
<a name="l02844"></a>02844     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop;
<a name="l02845"></a>02845 
<a name="l02846"></a>02846     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>);
<a name="l02847"></a>02847 
<a name="l02848"></a>02848     <span class="keywordflow">if</span> ((idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a1d217c31e38bae41e729c7165508429b">rna_idproperty_check</a>(&amp;prop, ptr)))
<a name="l02849"></a>02849         <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a9656aa2637d86307da90defa0a94b973">IDP_ResizeIDPArray</a>(idprop, 0);
<a name="l02850"></a>02850 }
<a name="l02851"></a>02851 
<a name="l02852"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aebf2e9500ca6d8ce39645be20deeb7c3">02852</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aebf2e9500ca6d8ce39645be20deeb7c3">RNA_property_collection_lookup_index</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *t_ptr)
<a name="l02853"></a>02853 {
<a name="l02854"></a>02854     <a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> iter;
<a name="l02855"></a>02855     <span class="keywordtype">int</span> index = 0;
<a name="l02856"></a>02856     
<a name="l02857"></a>02857     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>);
<a name="l02858"></a>02858 
<a name="l02859"></a>02859     <a class="code" href="../../d3/d10/rna__access_8c.html#a4f618909376e31da97334bded1fb7994">RNA_property_collection_begin</a>(ptr, prop, &amp;iter);
<a name="l02860"></a>02860     <span class="keywordflow">for</span> (index = 0; iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>; <a class="code" href="../../d3/d10/rna__access_8c.html#a786b29fd2755bb2c689152dca8bd5958">RNA_property_collection_next</a>(&amp;iter), index++) {
<a name="l02861"></a>02861         <span class="keywordflow">if</span> (iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> == t_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>)
<a name="l02862"></a>02862             <span class="keywordflow">break</span>;
<a name="l02863"></a>02863     }
<a name="l02864"></a>02864     <a class="code" href="../../d3/d10/rna__access_8c.html#ad52246262697932892515de6924d7aee">RNA_property_collection_end</a>(&amp;iter);
<a name="l02865"></a>02865     
<a name="l02866"></a>02866     <span class="comment">/* did we find it? */</span>
<a name="l02867"></a>02867     <span class="keywordflow">if</span> (iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>)
<a name="l02868"></a>02868         <span class="keywordflow">return</span> index;
<a name="l02869"></a>02869     <span class="keywordflow">else</span>
<a name="l02870"></a>02870         <span class="keywordflow">return</span> -1;
<a name="l02871"></a>02871 }
<a name="l02872"></a>02872 
<a name="l02873"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a58b904582f60f895ee9152cce19ec3ce">02873</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a58b904582f60f895ee9152cce19ec3ce">RNA_property_collection_lookup_int</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> key, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *r_ptr)
<a name="l02874"></a>02874 {
<a name="l02875"></a>02875     <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)<a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l02876"></a>02876 
<a name="l02877"></a>02877     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>);
<a name="l02878"></a>02878 
<a name="l02879"></a>02879     <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a77e970b438f1f5d15dd05f65aa82d074">lookupint</a>) {
<a name="l02880"></a>02880         <span class="comment">/* we have a callback defined, use it */</span>
<a name="l02881"></a>02881         <span class="keywordflow">return</span> cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a77e970b438f1f5d15dd05f65aa82d074">lookupint</a>(ptr, key, r_ptr);
<a name="l02882"></a>02882     }
<a name="l02883"></a>02883     <span class="keywordflow">else</span> {
<a name="l02884"></a>02884         <span class="comment">/* no callback defined, just iterate and find the nth item */</span>
<a name="l02885"></a>02885         <a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> iter;
<a name="l02886"></a>02886         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l02887"></a>02887 
<a name="l02888"></a>02888         <a class="code" href="../../d3/d10/rna__access_8c.html#a4f618909376e31da97334bded1fb7994">RNA_property_collection_begin</a>(ptr, prop, &amp;iter);
<a name="l02889"></a>02889         <span class="keywordflow">for</span> (i = 0; iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>; <a class="code" href="../../d3/d10/rna__access_8c.html#a786b29fd2755bb2c689152dca8bd5958">RNA_property_collection_next</a>(&amp;iter), i++) {
<a name="l02890"></a>02890             <span class="keywordflow">if</span> (i == key) {
<a name="l02891"></a>02891                 *r_ptr = iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>;
<a name="l02892"></a>02892                 <span class="keywordflow">break</span>;
<a name="l02893"></a>02893             }
<a name="l02894"></a>02894         }
<a name="l02895"></a>02895         <a class="code" href="../../d3/d10/rna__access_8c.html#ad52246262697932892515de6924d7aee">RNA_property_collection_end</a>(&amp;iter);
<a name="l02896"></a>02896 
<a name="l02897"></a>02897         <span class="keywordflow">if</span> (!iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>)
<a name="l02898"></a>02898             memset(r_ptr, 0, <span class="keyword">sizeof</span>(*r_ptr));
<a name="l02899"></a>02899 
<a name="l02900"></a>02900         <span class="keywordflow">return</span> iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>;
<a name="l02901"></a>02901     }
<a name="l02902"></a>02902 }
<a name="l02903"></a>02903 
<a name="l02904"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a7e95a4b6d962938da07182f12576251b">02904</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a7e95a4b6d962938da07182f12576251b">RNA_property_collection_lookup_string</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keyword">const</span> <span class="keywordtype">char</span> *key, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *r_ptr)
<a name="l02905"></a>02905 {
<a name="l02906"></a>02906     <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)<a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l02907"></a>02907 
<a name="l02908"></a>02908     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>);
<a name="l02909"></a>02909 
<a name="l02910"></a>02910     <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a574ad616e238bea073b3c3a6807be591">lookupstring</a>) {
<a name="l02911"></a>02911         <span class="comment">/* we have a callback defined, use it */</span>
<a name="l02912"></a>02912         <span class="keywordflow">return</span> cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a574ad616e238bea073b3c3a6807be591">lookupstring</a>(ptr, key, r_ptr);
<a name="l02913"></a>02913     }
<a name="l02914"></a>02914     <span class="keywordflow">else</span> {
<a name="l02915"></a>02915         <span class="comment">/* no callback defined, compare with name properties if they exist */</span>
<a name="l02916"></a>02916         <a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> iter;
<a name="l02917"></a>02917         <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *nameprop;
<a name="l02918"></a>02918         <span class="keywordtype">char</span> name[256], *nameptr;
<a name="l02919"></a>02919         <span class="keywordtype">int</span> found = 0;
<a name="l02920"></a>02920         <span class="keywordtype">int</span> keylen = <a class="code" href="../../d1/d22/stdosl_8h.html#af902ac638d8127503ad64a0eacb3a7e8">strlen</a>(key);
<a name="l02921"></a>02921         <span class="keywordtype">int</span> namelen;
<a name="l02922"></a>02922 
<a name="l02923"></a>02923         <a class="code" href="../../d3/d10/rna__access_8c.html#a4f618909376e31da97334bded1fb7994">RNA_property_collection_begin</a>(ptr, prop, &amp;iter);
<a name="l02924"></a>02924         <span class="keywordflow">for</span> (; iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>; <a class="code" href="../../d3/d10/rna__access_8c.html#a786b29fd2755bb2c689152dca8bd5958">RNA_property_collection_next</a>(&amp;iter)) {
<a name="l02925"></a>02925             <span class="keywordflow">if</span> (iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> &amp;&amp; iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a9f669d0c36485111d4f7e5101e907e04">nameproperty</a>) {
<a name="l02926"></a>02926                 nameprop = iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a9f669d0c36485111d4f7e5101e907e04">nameproperty</a>;
<a name="l02927"></a>02927 
<a name="l02928"></a>02928                 nameptr = <a class="code" href="../../d3/d10/rna__access_8c.html#a6751615b211d7dd06640353d53198040">RNA_property_string_get_alloc</a>(&amp;iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>, nameprop, name, <span class="keyword">sizeof</span>(name), &amp;namelen);
<a name="l02929"></a>02929 
<a name="l02930"></a>02930                 <span class="keywordflow">if</span> ((keylen == namelen) &amp;&amp; (strcmp(nameptr, key) == 0)) {
<a name="l02931"></a>02931                     *r_ptr = iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>;
<a name="l02932"></a>02932                     found = 1;
<a name="l02933"></a>02933                 }
<a name="l02934"></a>02934 
<a name="l02935"></a>02935                 <span class="keywordflow">if</span> ((<span class="keywordtype">char</span> *)&amp;name != nameptr)
<a name="l02936"></a>02936                     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(nameptr);
<a name="l02937"></a>02937 
<a name="l02938"></a>02938                 <span class="keywordflow">if</span> (found)
<a name="l02939"></a>02939                     <span class="keywordflow">break</span>;
<a name="l02940"></a>02940             }
<a name="l02941"></a>02941         }
<a name="l02942"></a>02942         <a class="code" href="../../d3/d10/rna__access_8c.html#ad52246262697932892515de6924d7aee">RNA_property_collection_end</a>(&amp;iter);
<a name="l02943"></a>02943 
<a name="l02944"></a>02944         <span class="keywordflow">if</span> (!iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>)
<a name="l02945"></a>02945             memset(r_ptr, 0, <span class="keyword">sizeof</span>(*r_ptr));
<a name="l02946"></a>02946 
<a name="l02947"></a>02947         <span class="keywordflow">return</span> iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>;
<a name="l02948"></a>02948     }
<a name="l02949"></a>02949 }
<a name="l02950"></a>02950 
<a name="l02951"></a>02951 <span class="comment">/* zero return is an assignment error */</span>
<a name="l02952"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a3df824298c1e0c2f3185231162279a44">02952</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a3df824298c1e0c2f3185231162279a44">RNA_property_collection_assign_int</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keyword">const</span> <span class="keywordtype">int</span> key, <span class="keyword">const</span> <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *assign_ptr)
<a name="l02953"></a>02953 {
<a name="l02954"></a>02954     <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)<a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop);
<a name="l02955"></a>02955 
<a name="l02956"></a>02956     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>);
<a name="l02957"></a>02957 
<a name="l02958"></a>02958     <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a91e29b777814b4cd39181e5d1472f24d">assignint</a>) {
<a name="l02959"></a>02959         <span class="comment">/* we have a callback defined, use it */</span>
<a name="l02960"></a>02960         <span class="keywordflow">return</span> cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a91e29b777814b4cd39181e5d1472f24d">assignint</a>(ptr, key, assign_ptr);
<a name="l02961"></a>02961     }
<a name="l02962"></a>02962 
<a name="l02963"></a>02963     <span class="keywordflow">return</span> 0;
<a name="l02964"></a>02964 }
<a name="l02965"></a>02965 
<a name="l02966"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ae608975ae26b5701d11d5a4493d4c50f">02966</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ae608975ae26b5701d11d5a4493d4c50f">RNA_property_collection_type_get</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *r_ptr)
<a name="l02967"></a>02967 {
<a name="l02968"></a>02968     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>);
<a name="l02969"></a>02969 
<a name="l02970"></a>02970     *r_ptr = *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>;
<a name="l02971"></a>02971     <span class="keywordflow">return</span> ((r_ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a> = <a class="code" href="../../d3/d10/rna__access_8c.html#a84950d8702f73ccaa524efe5ce3b252c">rna_ensure_property</a>(prop)-&gt;srna) ? 1:0);
<a name="l02972"></a>02972 }
<a name="l02973"></a>02973 
<a name="l02974"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aa6cc1dec992bf865834494b8ac1080d3">02974</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aa6cc1dec992bf865834494b8ac1080d3">RNA_property_collection_raw_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *itemprop, <a class="code" href="../../df/da1/structRawArray.html">RawArray</a> *<a class="code" href="../../d2/d41/classarray.html">array</a>)
<a name="l02975"></a>02975 {
<a name="l02976"></a>02976     <a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> iter;
<a name="l02977"></a>02977     <a class="code" href="../../dd/d66/structArrayIterator.html">ArrayIterator</a> *<span class="keyword">internal</span>;
<a name="l02978"></a>02978     <span class="keywordtype">char</span> *arrayp;
<a name="l02979"></a>02979 
<a name="l02980"></a>02980     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>);
<a name="l02981"></a>02981 
<a name="l02982"></a>02982     <span class="keywordflow">if</span> (!(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411aef6cb1f85525236d6032aa068519a6a1">PROP_RAW_ARRAY</a>) || !(itemprop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a25b3c9c6e12273140cdefbe3fe85e37b">PROP_RAW_ACCESS</a>))
<a name="l02983"></a>02983         <span class="keywordflow">return</span> 0;
<a name="l02984"></a>02984 
<a name="l02985"></a>02985     <a class="code" href="../../d3/d10/rna__access_8c.html#a4f618909376e31da97334bded1fb7994">RNA_property_collection_begin</a>(ptr, prop, &amp;iter);
<a name="l02986"></a>02986 
<a name="l02987"></a>02987     <span class="keywordflow">if</span> (iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>) {
<a name="l02988"></a>02988         <span class="comment">/* get data from array iterator and item property */</span>
<a name="l02989"></a>02989         <span class="keyword">internal</span> = iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ab4245c53b5dab83662bb0bb98f55eaef">internal</a>;
<a name="l02990"></a>02990         arrayp = (iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>)? iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>: <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l02991"></a>02991 
<a name="l02992"></a>02992         <a class="code" href="../../dd/db6/paraloopend_8h.html#a65986f23fef03474a87b62a14beafe42">if</a> (internal-&gt;skip || !<a class="code" href="../../d3/d10/rna__access_8c.html#a7b96714575f85b97b8f19e9acfbbd777">RNA_property_editable</a>(&amp;iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>, itemprop)) {
<a name="l02993"></a>02993             <span class="comment">/* we might skip some items, so it&#39;s not a proper array */</span>
<a name="l02994"></a>02994             <a class="code" href="../../d3/d10/rna__access_8c.html#ad52246262697932892515de6924d7aee">RNA_property_collection_end</a>(&amp;iter);
<a name="l02995"></a>02995             <span class="keywordflow">return</span> 0;
<a name="l02996"></a>02996         }
<a name="l02997"></a>02997 
<a name="l02998"></a>02998         array-&gt;<a class="code" href="../../df/da1/structRawArray.html#aa45164dd456e23032888d006536d609c">array</a> = arrayp + itemprop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aa5cce7208fd4ae4ec1cda346aef377b7">rawoffset</a>;
<a name="l02999"></a>02999         array-&gt;<a class="code" href="../../df/da1/structRawArray.html#ae7b68c8abebbc4770b836302789e8dc2">stride</a> = <span class="keyword">internal</span>-&gt;itemsize;
<a name="l03000"></a>03000         array-&gt;<a class="code" href="../../df/da1/structRawArray.html#a653b4724d9e09a24e270df4ae6c2e97c">len</a> = ((<span class="keywordtype">char</span>*)internal-&gt;endptr - arrayp)/<span class="keyword">internal</span>-&gt;itemsize;
<a name="l03001"></a>03001         array-&gt;<a class="code" href="../../df/da1/structRawArray.html#a021e326f8f9ceb3c6f9d12e0bfb550de">type</a> = itemprop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad5f2d3c325107cd8ea0ef7ca1c2b3105">rawtype</a>;
<a name="l03002"></a>03002     }
<a name="l03003"></a>03003     <span class="keywordflow">else</span>
<a name="l03004"></a>03004         memset(array, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../df/da1/structRawArray.html">RawArray</a>));
<a name="l03005"></a>03005 
<a name="l03006"></a>03006     <a class="code" href="../../d3/d10/rna__access_8c.html#ad52246262697932892515de6924d7aee">RNA_property_collection_end</a>(&amp;iter);
<a name="l03007"></a>03007 
<a name="l03008"></a>03008     <span class="keywordflow">return</span> 1;
<a name="l03009"></a>03009 }
<a name="l03010"></a>03010 
<a name="l03011"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a44882da418e5de2d91ccc2a18eaf7ff8">03011</a> <span class="preprocessor">#define RAW_GET(dtype, var, raw, a)                                           \</span>
<a name="l03012"></a>03012 <span class="preprocessor">{                                                                             \</span>
<a name="l03013"></a>03013 <span class="preprocessor">    switch (raw.type) {                                                       \</span>
<a name="l03014"></a>03014 <span class="preprocessor">        case PROP_RAW_CHAR: var = (dtype)((char*)raw.array)[a]; break;        \</span>
<a name="l03015"></a>03015 <span class="preprocessor">        case PROP_RAW_SHORT: var = (dtype)((short*)raw.array)[a]; break;      \</span>
<a name="l03016"></a>03016 <span class="preprocessor">        case PROP_RAW_INT: var = (dtype)((int*)raw.array)[a]; break;          \</span>
<a name="l03017"></a>03017 <span class="preprocessor">        case PROP_RAW_FLOAT: var = (dtype)((float*)raw.array)[a]; break;      \</span>
<a name="l03018"></a>03018 <span class="preprocessor">        case PROP_RAW_DOUBLE: var = (dtype)((double*)raw.array)[a]; break;    \</span>
<a name="l03019"></a>03019 <span class="preprocessor">        default: var = (dtype)0;                                              \</span>
<a name="l03020"></a>03020 <span class="preprocessor">    }                                                                         \</span>
<a name="l03021"></a>03021 <span class="preprocessor">}</span>
<a name="l03022"></a>03022 <span class="preprocessor"></span>
<a name="l03023"></a><a class="code" href="../../d3/d10/rna__access_8c.html#ae327fe6b582b7e19c333544d72a0996f">03023</a> <span class="preprocessor">#define RAW_SET(dtype, raw, a, var)                                           \</span>
<a name="l03024"></a>03024 <span class="preprocessor">{                                                                             \</span>
<a name="l03025"></a>03025 <span class="preprocessor">    switch (raw.type) {                                                       \</span>
<a name="l03026"></a>03026 <span class="preprocessor">        case PROP_RAW_CHAR: ((char*)raw.array)[a] = (char)var; break;         \</span>
<a name="l03027"></a>03027 <span class="preprocessor">        case PROP_RAW_SHORT: ((short*)raw.array)[a] = (short)var; break;      \</span>
<a name="l03028"></a>03028 <span class="preprocessor">        case PROP_RAW_INT: ((int*)raw.array)[a] = (int)var; break;            \</span>
<a name="l03029"></a>03029 <span class="preprocessor">        case PROP_RAW_FLOAT: ((float*)raw.array)[a] = (float)var; break;      \</span>
<a name="l03030"></a>03030 <span class="preprocessor">        case PROP_RAW_DOUBLE: ((double*)raw.array)[a] = (double)var; break;   \</span>
<a name="l03031"></a>03031 <span class="preprocessor">        default: break;                                                       \</span>
<a name="l03032"></a>03032 <span class="preprocessor">    }                                                                         \</span>
<a name="l03033"></a>03033 <span class="preprocessor">}</span>
<a name="l03034"></a>03034 <span class="preprocessor"></span>
<a name="l03035"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aeeafb21ec460650390609d6eb979aff2">03035</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aeeafb21ec460650390609d6eb979aff2">RNA_raw_type_sizeof</a>(<a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628">RawPropertyType</a> type)
<a name="l03036"></a>03036 {
<a name="l03037"></a>03037     <span class="keywordflow">switch</span> (type) {
<a name="l03038"></a>03038         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a4ae083171407e6672ae9bbbf9f355910">PROP_RAW_CHAR</a>: <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(char);
<a name="l03039"></a>03039         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628af045089644ab3ed667ac983560669182">PROP_RAW_SHORT</a>: <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(short);
<a name="l03040"></a>03040         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a23ffa2515c48515068b2b70dac56fa18">PROP_RAW_INT</a>: <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(int);
<a name="l03041"></a>03041         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a5ea7bd697b77a8d06dac2bab9dbb58d0">PROP_RAW_FLOAT</a>: <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(float);
<a name="l03042"></a>03042         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a830e5e473e8af42b07ad615e09937dda">PROP_RAW_DOUBLE</a>: <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(double);
<a name="l03043"></a>03043         <span class="keywordflow">default</span>: <span class="keywordflow">return</span> 0;
<a name="l03044"></a>03044     }
<a name="l03045"></a>03045 }
<a name="l03046"></a>03046 
<a name="l03047"></a><a class="code" href="../../d3/d10/rna__access_8c.html#af8b6024bd33dc8787c3885aef40076a1">03047</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#af8b6024bd33dc8787c3885aef40076a1">rna_raw_access</a>(<a class="code" href="../../df/df0/structReportList.html">ReportList</a> *reports, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keyword">const</span> <span class="keywordtype">char</span> *propname,
<a name="l03048"></a>03048                           <span class="keywordtype">void</span> *inarray, <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628">RawPropertyType</a> intype, <span class="keywordtype">int</span> inlen, <span class="keywordtype">int</span> <span class="keyword">set</span>)
<a name="l03049"></a>03049 {
<a name="l03050"></a>03050     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *ptype;
<a name="l03051"></a>03051     <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> itemptr;
<a name="l03052"></a>03052     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *itemprop, *iprop;
<a name="l03053"></a>03053     <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87">PropertyType</a> itemtype = 0;
<a name="l03054"></a>03054     <a class="code" href="../../df/da1/structRawArray.html">RawArray</a> in;
<a name="l03055"></a>03055     <span class="keywordtype">int</span> itemlen = 0;
<a name="l03056"></a>03056 
<a name="l03057"></a>03057     <span class="comment">/* initialize in array, stride assumed 0 in following code */</span>
<a name="l03058"></a>03058     in.<a class="code" href="../../df/da1/structRawArray.html#aa45164dd456e23032888d006536d609c">array</a> = inarray;
<a name="l03059"></a>03059     in.<a class="code" href="../../df/da1/structRawArray.html#a021e326f8f9ceb3c6f9d12e0bfb550de">type</a> = intype;
<a name="l03060"></a>03060     in.<a class="code" href="../../df/da1/structRawArray.html#a653b4724d9e09a24e270df4ae6c2e97c">len</a> = inlen;
<a name="l03061"></a>03061     in.<a class="code" href="../../df/da1/structRawArray.html#ae7b68c8abebbc4770b836302789e8dc2">stride</a> = 0;
<a name="l03062"></a>03062 
<a name="l03063"></a>03063     ptype = <a class="code" href="../../d3/d10/rna__access_8c.html#a90d864adedcd427f9c2dac19e025a092">RNA_property_pointer_type</a>(ptr, prop);
<a name="l03064"></a>03064 
<a name="l03065"></a>03065     <span class="comment">/* try to get item property pointer */</span>
<a name="l03066"></a>03066     <a class="code" href="../../d3/d10/rna__access_8c.html#a1f8fb80da9a6450a51ab2e9b97264f01">RNA_pointer_create</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, ptype, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;itemptr);
<a name="l03067"></a>03067     itemprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(&amp;itemptr, propname);
<a name="l03068"></a>03068 
<a name="l03069"></a>03069     <span class="keywordflow">if</span> (itemprop) {
<a name="l03070"></a>03070         <span class="comment">/* we have item property pointer */</span>
<a name="l03071"></a>03071         <a class="code" href="../../df/da1/structRawArray.html">RawArray</a> out;
<a name="l03072"></a>03072 
<a name="l03073"></a>03073         <span class="comment">/* check type */</span>
<a name="l03074"></a>03074         itemtype = <a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(itemprop);
<a name="l03075"></a>03075 
<a name="l03076"></a>03076         <span class="keywordflow">if</span> (!<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#ad3568ab74428f47aea1c855024e467f0">ELEM3</a>(itemtype, <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>)) {
<a name="l03077"></a>03077             <a class="code" href="../../d2/d40/BKE__report_8h.html#a704625c22b5bb0148eea14635968537a">BKE_report</a>(reports, <a class="code" href="../../de/dc1/DNA__windowmanager__types_8h.html#ae4f179a72db5cca021a37ec4c6fe4c68a77427e7d5e1c0e3f2fbe37425794e319">RPT_ERROR</a>, <span class="stringliteral">&quot;Only boolean, int and float properties supported&quot;</span>);
<a name="l03078"></a>03078             <span class="keywordflow">return</span> 0;
<a name="l03079"></a>03079         }
<a name="l03080"></a>03080 
<a name="l03081"></a>03081         <span class="comment">/* check item array */</span>
<a name="l03082"></a>03082         itemlen = <a class="code" href="../../d3/d10/rna__access_8c.html#aad51db9a31d245dba4ee1f50608f331c">RNA_property_array_length</a>(&amp;itemptr, itemprop);
<a name="l03083"></a>03083 
<a name="l03084"></a>03084         <span class="comment">/* try to access as raw array */</span>
<a name="l03085"></a>03085         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#aa6cc1dec992bf865834494b8ac1080d3">RNA_property_collection_raw_array</a>(ptr, prop, itemprop, &amp;out)) {
<a name="l03086"></a>03086             <span class="keywordtype">int</span> arraylen = (itemlen == 0) ? 1 : itemlen;
<a name="l03087"></a>03087             <span class="keywordflow">if</span> (in.<a class="code" href="../../df/da1/structRawArray.html#a653b4724d9e09a24e270df4ae6c2e97c">len</a> != arraylen*out.<a class="code" href="../../df/da1/structRawArray.html#a653b4724d9e09a24e270df4ae6c2e97c">len</a>) {
<a name="l03088"></a>03088                 <a class="code" href="../../d2/d40/BKE__report_8h.html#af25c247b3b620d13cef87ec2bed1698e">BKE_reportf</a>(reports, <a class="code" href="../../de/dc1/DNA__windowmanager__types_8h.html#ae4f179a72db5cca021a37ec4c6fe4c68a77427e7d5e1c0e3f2fbe37425794e319">RPT_ERROR</a>, <span class="stringliteral">&quot;Array length mismatch (expected %d, got %d)&quot;</span>,
<a name="l03089"></a>03089                             out.<a class="code" href="../../df/da1/structRawArray.html#a653b4724d9e09a24e270df4ae6c2e97c">len</a> * arraylen, in.<a class="code" href="../../df/da1/structRawArray.html#a653b4724d9e09a24e270df4ae6c2e97c">len</a>);
<a name="l03090"></a>03090                 <span class="keywordflow">return</span> 0;
<a name="l03091"></a>03091             }
<a name="l03092"></a>03092             
<a name="l03093"></a>03093             <span class="comment">/* matching raw types */</span>
<a name="l03094"></a>03094             <span class="keywordflow">if</span> (out.<a class="code" href="../../df/da1/structRawArray.html#a021e326f8f9ceb3c6f9d12e0bfb550de">type</a> == in.<a class="code" href="../../df/da1/structRawArray.html#a021e326f8f9ceb3c6f9d12e0bfb550de">type</a>) {
<a name="l03095"></a>03095                 <span class="keywordtype">void</span> *inp = in.<a class="code" href="../../df/da1/structRawArray.html#aa45164dd456e23032888d006536d609c">array</a>;
<a name="l03096"></a>03096                 <span class="keywordtype">void</span> *outp = out.<a class="code" href="../../df/da1/structRawArray.html#aa45164dd456e23032888d006536d609c">array</a>;
<a name="l03097"></a>03097                 <span class="keywordtype">int</span> a, <a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a>;
<a name="l03098"></a>03098 
<a name="l03099"></a>03099                 size = <a class="code" href="../../d3/d10/rna__access_8c.html#aeeafb21ec460650390609d6eb979aff2">RNA_raw_type_sizeof</a>(out.<a class="code" href="../../df/da1/structRawArray.html#a021e326f8f9ceb3c6f9d12e0bfb550de">type</a>) * arraylen;
<a name="l03100"></a>03100 
<a name="l03101"></a>03101                 <span class="keywordflow">for</span> (a = 0; a&lt;out.<a class="code" href="../../df/da1/structRawArray.html#a653b4724d9e09a24e270df4ae6c2e97c">len</a>; a++) {
<a name="l03102"></a>03102                     <span class="keywordflow">if</span> (<span class="keyword">set</span>) memcpy(outp, inp, size);
<a name="l03103"></a>03103                     <span class="keywordflow">else</span> memcpy(inp, outp, size);
<a name="l03104"></a>03104 
<a name="l03105"></a>03105                     inp = (<span class="keywordtype">char</span>*)inp + size;
<a name="l03106"></a>03106                     outp = (<span class="keywordtype">char</span>*)outp + out.<a class="code" href="../../df/da1/structRawArray.html#ae7b68c8abebbc4770b836302789e8dc2">stride</a>;
<a name="l03107"></a>03107                 }
<a name="l03108"></a>03108 
<a name="l03109"></a>03109                 <span class="keywordflow">return</span> 1;
<a name="l03110"></a>03110             }
<a name="l03111"></a>03111 
<a name="l03112"></a>03112             <span class="comment">/* could also be faster with non-matching types,</span>
<a name="l03113"></a>03113 <span class="comment">             * for now we just do slower loop .. */</span>
<a name="l03114"></a>03114         }
<a name="l03115"></a>03115     }
<a name="l03116"></a>03116 
<a name="l03117"></a>03117     {
<a name="l03118"></a>03118         <span class="keywordtype">void</span> *tmparray = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03119"></a>03119         <span class="keywordtype">int</span> tmplen = 0;
<a name="l03120"></a>03120         <span class="keywordtype">int</span> <a class="code" href="../../df/db3/freetypefont_8c.html#ab596967142db56aa5fbafe7c234eedda">err</a> = 0, j, a = 0;
<a name="l03121"></a>03121         <span class="keywordtype">int</span> needconv = 1;
<a name="l03122"></a>03122 
<a name="l03123"></a>03123         <span class="keywordflow">if</span> (((itemtype == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a> || itemtype == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>) &amp;&amp; in.<a class="code" href="../../df/da1/structRawArray.html#a021e326f8f9ceb3c6f9d12e0bfb550de">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a23ffa2515c48515068b2b70dac56fa18">PROP_RAW_INT</a>) ||
<a name="l03124"></a>03124             (itemtype == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a> &amp;&amp; in.<a class="code" href="../../df/da1/structRawArray.html#a021e326f8f9ceb3c6f9d12e0bfb550de">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a5ea7bd697b77a8d06dac2bab9dbb58d0">PROP_RAW_FLOAT</a>))
<a name="l03125"></a>03125             <span class="comment">/* avoid creating temporary buffer if the data type match */</span>
<a name="l03126"></a>03126             needconv = 0;
<a name="l03127"></a>03127 
<a name="l03128"></a>03128         <span class="comment">/* no item property pointer, can still be id property, or</span>
<a name="l03129"></a>03129 <span class="comment">         * property of a type derived from the collection pointer type */</span>
<a name="l03130"></a>03130         <a class="code" href="../../de/ddf/RNA__access_8h.html#a56f71b443d06f31f83fe3dfdf07fd4c4">RNA_PROP_BEGIN</a>(ptr, itemptr, prop) {
<a name="l03131"></a>03131             <span class="keywordflow">if</span> (itemptr.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>) {
<a name="l03132"></a>03132                 <span class="keywordflow">if</span> (itemprop) {
<a name="l03133"></a>03133                     <span class="comment">/* we got the property already */</span>
<a name="l03134"></a>03134                     iprop = itemprop;
<a name="l03135"></a>03135                 }
<a name="l03136"></a>03136                 <span class="keywordflow">else</span> {
<a name="l03137"></a>03137                     <span class="comment">/* not yet, look it up and verify if it is valid */</span>
<a name="l03138"></a>03138                     iprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(&amp;itemptr, propname);
<a name="l03139"></a>03139 
<a name="l03140"></a>03140                     <span class="keywordflow">if</span> (iprop) {
<a name="l03141"></a>03141                         itemlen = <a class="code" href="../../d3/d10/rna__access_8c.html#aad51db9a31d245dba4ee1f50608f331c">RNA_property_array_length</a>(&amp;itemptr, iprop);
<a name="l03142"></a>03142                         itemtype = <a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(iprop);
<a name="l03143"></a>03143                     }
<a name="l03144"></a>03144                     <span class="keywordflow">else</span> {
<a name="l03145"></a>03145                         <a class="code" href="../../d2/d40/BKE__report_8h.html#af25c247b3b620d13cef87ec2bed1698e">BKE_reportf</a>(reports, <a class="code" href="../../de/dc1/DNA__windowmanager__types_8h.html#ae4f179a72db5cca021a37ec4c6fe4c68a77427e7d5e1c0e3f2fbe37425794e319">RPT_ERROR</a>, <span class="stringliteral">&quot;Property named %s not found&quot;</span>, propname);
<a name="l03146"></a>03146                         err = 1;
<a name="l03147"></a>03147                         <span class="keywordflow">break</span>;
<a name="l03148"></a>03148                     }
<a name="l03149"></a>03149 
<a name="l03150"></a>03150                     <span class="keywordflow">if</span> (!<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#ad3568ab74428f47aea1c855024e467f0">ELEM3</a>(itemtype, <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>)) {
<a name="l03151"></a>03151                         <a class="code" href="../../d2/d40/BKE__report_8h.html#a704625c22b5bb0148eea14635968537a">BKE_report</a>(reports, <a class="code" href="../../de/dc1/DNA__windowmanager__types_8h.html#ae4f179a72db5cca021a37ec4c6fe4c68a77427e7d5e1c0e3f2fbe37425794e319">RPT_ERROR</a>, <span class="stringliteral">&quot;Only boolean, int and float properties supported&quot;</span>);
<a name="l03152"></a>03152                         err = 1;
<a name="l03153"></a>03153                         <span class="keywordflow">break</span>;
<a name="l03154"></a>03154                     }
<a name="l03155"></a>03155                 }
<a name="l03156"></a>03156 
<a name="l03157"></a>03157                 <span class="comment">/* editable check */</span>
<a name="l03158"></a>03158                 <span class="keywordflow">if</span> (!<span class="keyword">set</span> || <a class="code" href="../../d3/d10/rna__access_8c.html#a7b96714575f85b97b8f19e9acfbbd777">RNA_property_editable</a>(&amp;itemptr, iprop)) {
<a name="l03159"></a>03159                     <span class="keywordflow">if</span> (a+itemlen &gt; in.<a class="code" href="../../df/da1/structRawArray.html#a653b4724d9e09a24e270df4ae6c2e97c">len</a>) {
<a name="l03160"></a>03160                         <a class="code" href="../../d2/d40/BKE__report_8h.html#af25c247b3b620d13cef87ec2bed1698e">BKE_reportf</a>(reports, <a class="code" href="../../de/dc1/DNA__windowmanager__types_8h.html#ae4f179a72db5cca021a37ec4c6fe4c68a77427e7d5e1c0e3f2fbe37425794e319">RPT_ERROR</a>, <span class="stringliteral">&quot;Array length mismatch (got %d, expected more)&quot;</span>, in.<a class="code" href="../../df/da1/structRawArray.html#a653b4724d9e09a24e270df4ae6c2e97c">len</a>);
<a name="l03161"></a>03161                         err = 1;
<a name="l03162"></a>03162                         <span class="keywordflow">break</span>;
<a name="l03163"></a>03163                     }
<a name="l03164"></a>03164 
<a name="l03165"></a>03165                     <span class="keywordflow">if</span> (itemlen == 0) {
<a name="l03166"></a>03166                         <span class="comment">/* handle conversions */</span>
<a name="l03167"></a>03167                         <span class="keywordflow">if</span> (<span class="keyword">set</span>) {
<a name="l03168"></a>03168                             <span class="keywordflow">switch</span> (itemtype) {
<a name="l03169"></a>03169                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>: {
<a name="l03170"></a>03170                                     <span class="keywordtype">int</span> b;
<a name="l03171"></a>03171                                     <a class="code" href="../../d3/d10/rna__access_8c.html#a44882da418e5de2d91ccc2a18eaf7ff8">RAW_GET</a>(<span class="keywordtype">int</span>, b, in, a);
<a name="l03172"></a>03172                                     <a class="code" href="../../d3/d10/rna__access_8c.html#a007e3f02d7d262b9cf7865abd6647db3">RNA_property_boolean_set</a>(&amp;itemptr, iprop, b);
<a name="l03173"></a>03173                                     <span class="keywordflow">break</span>;
<a name="l03174"></a>03174                                 }
<a name="l03175"></a>03175                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>: {
<a name="l03176"></a>03176                                     <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l03177"></a>03177                                     <a class="code" href="../../d3/d10/rna__access_8c.html#a44882da418e5de2d91ccc2a18eaf7ff8">RAW_GET</a>(<span class="keywordtype">int</span>, i, in, a);
<a name="l03178"></a>03178                                     <a class="code" href="../../d3/d10/rna__access_8c.html#a0b521aa0072858134949f9639de7faff">RNA_property_int_set</a>(&amp;itemptr, iprop, i);
<a name="l03179"></a>03179                                     <span class="keywordflow">break</span>;
<a name="l03180"></a>03180                                 }
<a name="l03181"></a>03181                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>: {
<a name="l03182"></a>03182                                     <span class="keywordtype">float</span> f;
<a name="l03183"></a>03183                                     <a class="code" href="../../d3/d10/rna__access_8c.html#a44882da418e5de2d91ccc2a18eaf7ff8">RAW_GET</a>(<span class="keywordtype">float</span>, f, in, a);
<a name="l03184"></a>03184                                     <a class="code" href="../../d3/d10/rna__access_8c.html#abdb7455ec63efacab0c1d5b9fb25b0b0">RNA_property_float_set</a>(&amp;itemptr, iprop, f);
<a name="l03185"></a>03185                                     <span class="keywordflow">break</span>;
<a name="l03186"></a>03186                                 }
<a name="l03187"></a>03187                                 <span class="keywordflow">default</span>:
<a name="l03188"></a>03188                                     <span class="keywordflow">break</span>;
<a name="l03189"></a>03189                             }
<a name="l03190"></a>03190                         }
<a name="l03191"></a>03191                         <span class="keywordflow">else</span> {
<a name="l03192"></a>03192                             <span class="keywordflow">switch</span> (itemtype) {
<a name="l03193"></a>03193                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>: {
<a name="l03194"></a>03194                                     <span class="keywordtype">int</span> b = <a class="code" href="../../d3/d10/rna__access_8c.html#a3a4a0d200b12ded21d24676dcff67732">RNA_property_boolean_get</a>(&amp;itemptr, iprop);
<a name="l03195"></a>03195                                     <a class="code" href="../../d3/d10/rna__access_8c.html#ae327fe6b582b7e19c333544d72a0996f">RAW_SET</a>(<span class="keywordtype">int</span>, in, a, b);
<a name="l03196"></a>03196                                     <span class="keywordflow">break</span>;
<a name="l03197"></a>03197                                 }
<a name="l03198"></a>03198                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>: {
<a name="l03199"></a>03199                                     <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../d3/d10/rna__access_8c.html#a7755e74d78f50e508966f2af17f7523e">RNA_property_int_get</a>(&amp;itemptr, iprop);
<a name="l03200"></a>03200                                     <a class="code" href="../../d3/d10/rna__access_8c.html#ae327fe6b582b7e19c333544d72a0996f">RAW_SET</a>(<span class="keywordtype">int</span>, in, a, i);
<a name="l03201"></a>03201                                     <span class="keywordflow">break</span>;
<a name="l03202"></a>03202                                 }
<a name="l03203"></a>03203                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>: {
<a name="l03204"></a>03204                                     <span class="keywordtype">float</span> f = <a class="code" href="../../d3/d10/rna__access_8c.html#a01215512e696b97758a08e61833fb8bd">RNA_property_float_get</a>(&amp;itemptr, iprop);
<a name="l03205"></a>03205                                     <a class="code" href="../../d3/d10/rna__access_8c.html#ae327fe6b582b7e19c333544d72a0996f">RAW_SET</a>(<span class="keywordtype">float</span>, in, a, f);
<a name="l03206"></a>03206                                     <span class="keywordflow">break</span>;
<a name="l03207"></a>03207                                 }
<a name="l03208"></a>03208                                 <span class="keywordflow">default</span>:
<a name="l03209"></a>03209                                     <span class="keywordflow">break</span>;
<a name="l03210"></a>03210                             }
<a name="l03211"></a>03211                         }
<a name="l03212"></a>03212                         a++;
<a name="l03213"></a>03213                     }
<a name="l03214"></a>03214                     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (needconv == 1) {
<a name="l03215"></a>03215                         <span class="comment">/* allocate temporary array if needed */</span>
<a name="l03216"></a>03216                         <span class="keywordflow">if</span> (tmparray &amp;&amp; tmplen != itemlen) {
<a name="l03217"></a>03217                             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l03218"></a>03218                             tmparray = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03219"></a>03219                         }
<a name="l03220"></a>03220                         <span class="keywordflow">if</span> (!tmparray) {
<a name="l03221"></a>03221                             tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*itemlen, <span class="stringliteral">&quot;RNA tmparray\n&quot;</span>);
<a name="l03222"></a>03222                             tmplen = itemlen;
<a name="l03223"></a>03223                         }
<a name="l03224"></a>03224 
<a name="l03225"></a>03225                         <span class="comment">/* handle conversions */</span>
<a name="l03226"></a>03226                         <span class="keywordflow">if</span> (<span class="keyword">set</span>) {
<a name="l03227"></a>03227                             <span class="keywordflow">switch</span> (itemtype) {
<a name="l03228"></a>03228                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>: {
<a name="l03229"></a>03229                                     <span class="keywordflow">for</span> (j = 0; j&lt;itemlen; j++, a++)
<a name="l03230"></a>03230                                         <a class="code" href="../../d3/d10/rna__access_8c.html#a44882da418e5de2d91ccc2a18eaf7ff8">RAW_GET</a>(<span class="keywordtype">int</span>, ((<span class="keywordtype">int</span>*)tmparray)[j], in, a);
<a name="l03231"></a>03231                                     <a class="code" href="../../d3/d10/rna__access_8c.html#a131f6d2a8690b568ccb41f7311d007d7">RNA_property_boolean_set_array</a>(&amp;itemptr, iprop, tmparray);
<a name="l03232"></a>03232                                     <span class="keywordflow">break</span>;
<a name="l03233"></a>03233                                 }
<a name="l03234"></a>03234                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>: {
<a name="l03235"></a>03235                                     <span class="keywordflow">for</span> (j = 0; j&lt;itemlen; j++, a++)
<a name="l03236"></a>03236                                         <a class="code" href="../../d3/d10/rna__access_8c.html#a44882da418e5de2d91ccc2a18eaf7ff8">RAW_GET</a>(<span class="keywordtype">int</span>, ((<span class="keywordtype">int</span>*)tmparray)[j], in, a);
<a name="l03237"></a>03237                                     <a class="code" href="../../d3/d10/rna__access_8c.html#ab877ee5b31a7b931a427e2a1a0b55a4a">RNA_property_int_set_array</a>(&amp;itemptr, iprop, tmparray);
<a name="l03238"></a>03238                                     <span class="keywordflow">break</span>;
<a name="l03239"></a>03239                                 }
<a name="l03240"></a>03240                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>: {
<a name="l03241"></a>03241                                     <span class="keywordflow">for</span> (j = 0; j&lt;itemlen; j++, a++)
<a name="l03242"></a>03242                                         <a class="code" href="../../d3/d10/rna__access_8c.html#a44882da418e5de2d91ccc2a18eaf7ff8">RAW_GET</a>(<span class="keywordtype">float</span>, ((<span class="keywordtype">float</span>*)tmparray)[j], in, a);
<a name="l03243"></a>03243                                     <a class="code" href="../../d3/d10/rna__access_8c.html#ab7ca0e1bc4c13dcd06cdd992ca60917f">RNA_property_float_set_array</a>(&amp;itemptr, iprop, tmparray);
<a name="l03244"></a>03244                                     <span class="keywordflow">break</span>;
<a name="l03245"></a>03245                                 }
<a name="l03246"></a>03246                                 <span class="keywordflow">default</span>:
<a name="l03247"></a>03247                                     <span class="keywordflow">break</span>;
<a name="l03248"></a>03248                             }
<a name="l03249"></a>03249                         }
<a name="l03250"></a>03250                         <span class="keywordflow">else</span> {
<a name="l03251"></a>03251                             <span class="keywordflow">switch</span> (itemtype) {
<a name="l03252"></a>03252                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>: {
<a name="l03253"></a>03253                                     <a class="code" href="../../d3/d10/rna__access_8c.html#af3af416215c3d866744c965e6d4faa10">RNA_property_boolean_get_array</a>(&amp;itemptr, iprop, tmparray);
<a name="l03254"></a>03254                                     <span class="keywordflow">for</span> (j = 0; j&lt;itemlen; j++, a++)
<a name="l03255"></a>03255                                         <a class="code" href="../../d3/d10/rna__access_8c.html#ae327fe6b582b7e19c333544d72a0996f">RAW_SET</a>(<span class="keywordtype">int</span>, in, a, ((<span class="keywordtype">int</span>*)tmparray)[j]);
<a name="l03256"></a>03256                                     <span class="keywordflow">break</span>;
<a name="l03257"></a>03257                                 }
<a name="l03258"></a>03258                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>: {
<a name="l03259"></a>03259                                     <a class="code" href="../../d3/d10/rna__access_8c.html#ac0cb05a00f819cc37d4c5eea29c101bd">RNA_property_int_get_array</a>(&amp;itemptr, iprop, tmparray);
<a name="l03260"></a>03260                                     <span class="keywordflow">for</span> (j = 0; j&lt;itemlen; j++, a++)
<a name="l03261"></a>03261                                         <a class="code" href="../../d3/d10/rna__access_8c.html#ae327fe6b582b7e19c333544d72a0996f">RAW_SET</a>(<span class="keywordtype">int</span>, in, a, ((<span class="keywordtype">int</span>*)tmparray)[j]);
<a name="l03262"></a>03262                                     <span class="keywordflow">break</span>;
<a name="l03263"></a>03263                                 }
<a name="l03264"></a>03264                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>: {
<a name="l03265"></a>03265                                     <a class="code" href="../../d3/d10/rna__access_8c.html#a151557228dae14af24d5e1b57495642b">RNA_property_float_get_array</a>(&amp;itemptr, iprop, tmparray);
<a name="l03266"></a>03266                                     <span class="keywordflow">for</span> (j = 0; j&lt;itemlen; j++, a++)
<a name="l03267"></a>03267                                         <a class="code" href="../../d3/d10/rna__access_8c.html#ae327fe6b582b7e19c333544d72a0996f">RAW_SET</a>(<span class="keywordtype">float</span>, in, a, ((<span class="keywordtype">float</span>*)tmparray)[j]);
<a name="l03268"></a>03268                                     <span class="keywordflow">break</span>;
<a name="l03269"></a>03269                                 }
<a name="l03270"></a>03270                                 <span class="keywordflow">default</span>:
<a name="l03271"></a>03271                                     <span class="keywordflow">break</span>;
<a name="l03272"></a>03272                             }
<a name="l03273"></a>03273                         }
<a name="l03274"></a>03274                     }
<a name="l03275"></a>03275                     <span class="keywordflow">else</span> {
<a name="l03276"></a>03276                         <span class="keywordflow">if</span> (<span class="keyword">set</span>) {
<a name="l03277"></a>03277                             <span class="keywordflow">switch</span> (itemtype) {
<a name="l03278"></a>03278                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>: {
<a name="l03279"></a>03279                                     <a class="code" href="../../d3/d10/rna__access_8c.html#a131f6d2a8690b568ccb41f7311d007d7">RNA_property_boolean_set_array</a>(&amp;itemptr, iprop, &amp;((<span class="keywordtype">int</span>*)in.<a class="code" href="../../df/da1/structRawArray.html#aa45164dd456e23032888d006536d609c">array</a>)[a]);
<a name="l03280"></a>03280                                     a += itemlen;
<a name="l03281"></a>03281                                     <span class="keywordflow">break</span>;
<a name="l03282"></a>03282                                 }
<a name="l03283"></a>03283                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>: {
<a name="l03284"></a>03284                                     <a class="code" href="../../d3/d10/rna__access_8c.html#ab877ee5b31a7b931a427e2a1a0b55a4a">RNA_property_int_set_array</a>(&amp;itemptr, iprop, &amp;((<span class="keywordtype">int</span>*)in.<a class="code" href="../../df/da1/structRawArray.html#aa45164dd456e23032888d006536d609c">array</a>)[a]);
<a name="l03285"></a>03285                                     a += itemlen;
<a name="l03286"></a>03286                                     <span class="keywordflow">break</span>;
<a name="l03287"></a>03287                                 }
<a name="l03288"></a>03288                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>: {
<a name="l03289"></a>03289                                     <a class="code" href="../../d3/d10/rna__access_8c.html#ab7ca0e1bc4c13dcd06cdd992ca60917f">RNA_property_float_set_array</a>(&amp;itemptr, iprop, &amp;((<span class="keywordtype">float</span>*)in.<a class="code" href="../../df/da1/structRawArray.html#aa45164dd456e23032888d006536d609c">array</a>)[a]);
<a name="l03290"></a>03290                                     a += itemlen;
<a name="l03291"></a>03291                                     <span class="keywordflow">break</span>;
<a name="l03292"></a>03292                                 }
<a name="l03293"></a>03293                                 <span class="keywordflow">default</span>:
<a name="l03294"></a>03294                                     <span class="keywordflow">break</span>;
<a name="l03295"></a>03295                             }
<a name="l03296"></a>03296                         }
<a name="l03297"></a>03297                         <span class="keywordflow">else</span> {
<a name="l03298"></a>03298                             <span class="keywordflow">switch</span> (itemtype) {
<a name="l03299"></a>03299                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>: {
<a name="l03300"></a>03300                                     <a class="code" href="../../d3/d10/rna__access_8c.html#af3af416215c3d866744c965e6d4faa10">RNA_property_boolean_get_array</a>(&amp;itemptr, iprop, &amp;((<span class="keywordtype">int</span>*)in.<a class="code" href="../../df/da1/structRawArray.html#aa45164dd456e23032888d006536d609c">array</a>)[a]);
<a name="l03301"></a>03301                                     a += itemlen;
<a name="l03302"></a>03302                                     <span class="keywordflow">break</span>;
<a name="l03303"></a>03303                                 }
<a name="l03304"></a>03304                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>: {
<a name="l03305"></a>03305                                     <a class="code" href="../../d3/d10/rna__access_8c.html#ac0cb05a00f819cc37d4c5eea29c101bd">RNA_property_int_get_array</a>(&amp;itemptr, iprop, &amp;((<span class="keywordtype">int</span>*)in.<a class="code" href="../../df/da1/structRawArray.html#aa45164dd456e23032888d006536d609c">array</a>)[a]);
<a name="l03306"></a>03306                                     a += itemlen;
<a name="l03307"></a>03307                                     <span class="keywordflow">break</span>;
<a name="l03308"></a>03308                                 }
<a name="l03309"></a>03309                                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>: {
<a name="l03310"></a>03310                                     <a class="code" href="../../d3/d10/rna__access_8c.html#a151557228dae14af24d5e1b57495642b">RNA_property_float_get_array</a>(&amp;itemptr, iprop, &amp;((<span class="keywordtype">float</span>*)in.<a class="code" href="../../df/da1/structRawArray.html#aa45164dd456e23032888d006536d609c">array</a>)[a]);
<a name="l03311"></a>03311                                     a += itemlen;
<a name="l03312"></a>03312                                     <span class="keywordflow">break</span>;
<a name="l03313"></a>03313                                 }
<a name="l03314"></a>03314                                 <span class="keywordflow">default</span>:
<a name="l03315"></a>03315                                     <span class="keywordflow">break</span>;
<a name="l03316"></a>03316                             }
<a name="l03317"></a>03317                         }
<a name="l03318"></a>03318                     }
<a name="l03319"></a>03319                 }
<a name="l03320"></a>03320             }
<a name="l03321"></a>03321         }
<a name="l03322"></a>03322         <a class="code" href="../../de/ddf/RNA__access_8h.html#a00c9cc0174c79826c145c3e235e2b689">RNA_PROP_END</a>;
<a name="l03323"></a>03323 
<a name="l03324"></a>03324         <span class="keywordflow">if</span> (tmparray)
<a name="l03325"></a>03325             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l03326"></a>03326 
<a name="l03327"></a>03327         <span class="keywordflow">return</span> !<a class="code" href="../../df/db3/freetypefont_8c.html#ab596967142db56aa5fbafe7c234eedda">err</a>;
<a name="l03328"></a>03328     }
<a name="l03329"></a>03329 }
<a name="l03330"></a>03330 
<a name="l03331"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a97d5a5eed939353d88938ffda9614523">03331</a> <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628">RawPropertyType</a> <a class="code" href="../../d3/d10/rna__access_8c.html#a97d5a5eed939353d88938ffda9614523">RNA_property_raw_type</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l03332"></a>03332 {
<a name="l03333"></a>03333     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad5f2d3c325107cd8ea0ef7ca1c2b3105">rawtype</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a2e5ba41d85c0ca1330ea693f0352cbef">PROP_RAW_UNSET</a>) {
<a name="l03334"></a>03334         <span class="comment">/* this property has no raw access, yet we try to provide a raw type to help building the array */</span>
<a name="l03335"></a>03335         <span class="keywordflow">switch</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>) {
<a name="l03336"></a>03336         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>:
<a name="l03337"></a>03337             <span class="keywordflow">return</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a23ffa2515c48515068b2b70dac56fa18">PROP_RAW_INT</a>;
<a name="l03338"></a>03338         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>:
<a name="l03339"></a>03339             <span class="keywordflow">return</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a23ffa2515c48515068b2b70dac56fa18">PROP_RAW_INT</a>;
<a name="l03340"></a>03340         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>:
<a name="l03341"></a>03341             <span class="keywordflow">return</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a5ea7bd697b77a8d06dac2bab9dbb58d0">PROP_RAW_FLOAT</a>;
<a name="l03342"></a>03342         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>:
<a name="l03343"></a>03343             <span class="keywordflow">return</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a23ffa2515c48515068b2b70dac56fa18">PROP_RAW_INT</a>;
<a name="l03344"></a>03344         <span class="keywordflow">default</span>:
<a name="l03345"></a>03345             <span class="keywordflow">break</span>;
<a name="l03346"></a>03346         }
<a name="l03347"></a>03347     }
<a name="l03348"></a>03348     <span class="keywordflow">return</span> prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad5f2d3c325107cd8ea0ef7ca1c2b3105">rawtype</a>;
<a name="l03349"></a>03349 }
<a name="l03350"></a>03350 
<a name="l03351"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a43602feb955d99742ebc1fb8d4f2daf9">03351</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a464cce7806a0642af8636dbc4638ba0a">RNA_property_collection_raw_get</a>(<a class="code" href="../../df/df0/structReportList.html">ReportList</a> *reports, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keyword">const</span> <span class="keywordtype">char</span> *propname,
<a name="l03352"></a>03352                                     <span class="keywordtype">void</span> *<a class="code" href="../../d2/d41/classarray.html">array</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628">RawPropertyType</a> type, <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>)
<a name="l03353"></a>03353 {
<a name="l03354"></a>03354     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#af8b6024bd33dc8787c3885aef40076a1">rna_raw_access</a>(reports, ptr, prop, propname, array, type, len, 0);
<a name="l03355"></a>03355 }
<a name="l03356"></a>03356 
<a name="l03357"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#abf6b3da93b32c184afd3cbf0a04eea21">03357</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#af25bec69186852180c42f9508ae27951">RNA_property_collection_raw_set</a>(<a class="code" href="../../df/df0/structReportList.html">ReportList</a> *reports, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keyword">const</span> <span class="keywordtype">char</span> *propname,
<a name="l03358"></a>03358                                     <span class="keywordtype">void</span> *<a class="code" href="../../d2/d41/classarray.html">array</a>, <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628">RawPropertyType</a> type, <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>)
<a name="l03359"></a>03359 {
<a name="l03360"></a>03360     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#af8b6024bd33dc8787c3885aef40076a1">rna_raw_access</a>(reports, ptr, prop, propname, array, type, len, 1);
<a name="l03361"></a>03361 }
<a name="l03362"></a>03362 
<a name="l03363"></a>03363 <span class="comment">/* Standard iterator functions */</span>
<a name="l03364"></a>03364 
<a name="l03365"></a><a class="code" href="../../d1/d29/rna__internal_8h.html#a6bfb03e2cae99c30cce2728f9791d67f">03365</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a633fe2628a3b51495fd62ff5444801ac">rna_iterator_listbase_begin</a>(<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb, <a class="code" href="../../d1/d29/rna__internal_8h.html#a743d5587371f1e05354b7b62ce36c067">IteratorSkipFunc</a> skip)
<a name="l03366"></a>03366 {
<a name="l03367"></a>03367     <a class="code" href="../../d4/d2a/structListBaseIterator.html">ListBaseIterator</a> *<span class="keyword">internal</span>;
<a name="l03368"></a>03368 
<a name="l03369"></a>03369     <span class="keyword">internal</span> = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d2a/structListBaseIterator.html">ListBaseIterator</a>), <span class="stringliteral">&quot;ListBaseIterator&quot;</span>);
<a name="l03370"></a>03370     <span class="keyword">internal</span>-&gt;link = (lb)? lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>: <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03371"></a>03371     internal-&gt;skip = skip;
<a name="l03372"></a>03372 
<a name="l03373"></a>03373     iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ab4245c53b5dab83662bb0bb98f55eaef">internal</a> = <span class="keyword">internal</span>;
<a name="l03374"></a>03374     iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a> = (internal-&gt;link != <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l03375"></a>03375 
<a name="l03376"></a>03376     <span class="keywordflow">if</span> (skip &amp;&amp; iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a> &amp;&amp; skip(iter, internal-&gt;link))
<a name="l03377"></a>03377         <a class="code" href="../../d3/d10/rna__access_8c.html#a9c5641b808779954fc36cdd3d3ba44ab">rna_iterator_listbase_next</a>(iter);
<a name="l03378"></a>03378 }
<a name="l03379"></a>03379 
<a name="l03380"></a><a class="code" href="../../d1/d29/rna__internal_8h.html#a443d16e8c79e56bceac6a7b4d1781b46">03380</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a9c5641b808779954fc36cdd3d3ba44ab">rna_iterator_listbase_next</a>(<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter)
<a name="l03381"></a>03381 {
<a name="l03382"></a>03382     <a class="code" href="../../d4/d2a/structListBaseIterator.html">ListBaseIterator</a> *<span class="keyword">internal</span> = iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ab4245c53b5dab83662bb0bb98f55eaef">internal</a>;
<a name="l03383"></a>03383 
<a name="l03384"></a>03384     <span class="keywordflow">if</span> (internal-&gt;skip) {
<a name="l03385"></a>03385         <span class="keywordflow">do</span> {
<a name="l03386"></a>03386             <span class="keyword">internal</span>-&gt;link = <span class="keyword">internal</span>-&gt;link-&gt;next;
<a name="l03387"></a>03387             iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a> = (<span class="keyword">internal</span>-&gt;link != <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l03388"></a>03388         } <span class="keywordflow">while</span> (iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a> &amp;&amp; internal-&gt;skip(iter, internal-&gt;link));
<a name="l03389"></a>03389     }
<a name="l03390"></a>03390     <span class="keywordflow">else</span> {
<a name="l03391"></a>03391         <span class="keyword">internal</span>-&gt;link = <span class="keyword">internal</span>-&gt;link-&gt;next;
<a name="l03392"></a>03392         iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a> = (<span class="keyword">internal</span>-&gt;link != <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l03393"></a>03393     }
<a name="l03394"></a>03394 }
<a name="l03395"></a>03395 
<a name="l03396"></a><a class="code" href="../../d1/d29/rna__internal_8h.html#a7f5568450b65c9798d2aa3c46e0bb34c">03396</a> <span class="keywordtype">void</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#af397575dc2508ec19dcfadc4e4c1bc7f">rna_iterator_listbase_get</a>(<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter)
<a name="l03397"></a>03397 {
<a name="l03398"></a>03398     <a class="code" href="../../d4/d2a/structListBaseIterator.html">ListBaseIterator</a> *<span class="keyword">internal</span> = iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ab4245c53b5dab83662bb0bb98f55eaef">internal</a>;
<a name="l03399"></a>03399 
<a name="l03400"></a>03400     <span class="keywordflow">return</span> <span class="keyword">internal</span>-&gt;link;
<a name="l03401"></a>03401 }
<a name="l03402"></a>03402 
<a name="l03403"></a><a class="code" href="../../d1/d29/rna__internal_8h.html#a77f0cceb1eac84bb343335bd5a47ce36">03403</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a24dcb578285223c005be258041900e67">rna_iterator_listbase_end</a>(<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter)
<a name="l03404"></a>03404 {
<a name="l03405"></a>03405     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ab4245c53b5dab83662bb0bb98f55eaef">internal</a>);
<a name="l03406"></a>03406     iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ab4245c53b5dab83662bb0bb98f55eaef">internal</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03407"></a>03407 }
<a name="l03408"></a>03408 
<a name="l03409"></a><a class="code" href="../../d1/d29/rna__internal_8h.html#a795ac4c3412e35a7700061c14e8bf36e">03409</a> <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> <a class="code" href="../../d3/d10/rna__access_8c.html#a795ac4c3412e35a7700061c14e8bf36e">rna_listbase_lookup_int</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type, <span class="keyword">struct</span> <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb, <span class="keywordtype">int</span> index)
<a name="l03410"></a>03410 {
<a name="l03411"></a>03411     <span class="keywordtype">void</span> *<a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a> = <a class="code" href="../../d1/d3e/BLI__listbase_8h.html#a09f13df59d10774f0bcf69a054f9d865">BLI_findlink</a>(lb, index);
<a name="l03412"></a>03412     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aa500b3bcb38a9f9a9dbbb587421cb1ae">rna_pointer_inherit_refine</a>(ptr, type, data);
<a name="l03413"></a>03413 }
<a name="l03414"></a>03414 
<a name="l03415"></a><a class="code" href="../../d1/d29/rna__internal_8h.html#afe53a4e9539abe76d250e27487205d14">03415</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a031de9fc95cf28aac5ca59f600eb73af">rna_iterator_array_begin</a>(<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter, <span class="keywordtype">void</span> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <span class="keywordtype">int</span> itemsize, <span class="keywordtype">int</span> <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>,
<a name="l03416"></a>03416                               <span class="keywordtype">int</span> free_ptr, <a class="code" href="../../d1/d29/rna__internal_8h.html#a743d5587371f1e05354b7b62ce36c067">IteratorSkipFunc</a> skip)
<a name="l03417"></a>03417 {
<a name="l03418"></a>03418     <a class="code" href="../../dd/d66/structArrayIterator.html">ArrayIterator</a> *<span class="keyword">internal</span>;
<a name="l03419"></a>03419 
<a name="l03420"></a>03420     <span class="keywordflow">if</span> (ptr == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l03421"></a>03421         length = 0;
<a name="l03422"></a>03422     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (length == 0) {
<a name="l03423"></a>03423         ptr = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03424"></a>03424         itemsize = 0;
<a name="l03425"></a>03425     }
<a name="l03426"></a>03426 
<a name="l03427"></a>03427     <span class="keyword">internal</span> = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../dd/d66/structArrayIterator.html">ArrayIterator</a>), <span class="stringliteral">&quot;ArrayIterator&quot;</span>);
<a name="l03428"></a>03428     <span class="keyword">internal</span>-&gt;ptr = <a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>;
<a name="l03429"></a>03429     <span class="keyword">internal</span>-&gt;free_ptr = free_ptr ? ptr:<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03430"></a>03430     <span class="keyword">internal</span>-&gt;endptr = ((<span class="keywordtype">char</span>*)ptr)+length*itemsize;
<a name="l03431"></a>03431     <span class="keyword">internal</span>-&gt;itemsize = itemsize;
<a name="l03432"></a>03432     <span class="keyword">internal</span>-&gt;skip = skip;
<a name="l03433"></a>03433     <span class="keyword">internal</span>-&gt;length = <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>;
<a name="l03434"></a>03434     
<a name="l03435"></a>03435     iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ab4245c53b5dab83662bb0bb98f55eaef">internal</a> = <span class="keyword">internal</span>;
<a name="l03436"></a>03436     iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a> = (<span class="keyword">internal</span>-&gt;ptr != <span class="keyword">internal</span>-&gt;endptr);
<a name="l03437"></a>03437 
<a name="l03438"></a>03438     <span class="keywordflow">if</span> (skip &amp;&amp; iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a> &amp;&amp; skip(iter, internal-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>))
<a name="l03439"></a>03439         <a class="code" href="../../d3/d10/rna__access_8c.html#abb621316bba0b033c8669f9bdb686abb">rna_iterator_array_next</a>(iter);
<a name="l03440"></a>03440 }
<a name="l03441"></a>03441 
<a name="l03442"></a><a class="code" href="../../d1/d29/rna__internal_8h.html#a38f453745266ddc85b91e460c3b8271a">03442</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#abb621316bba0b033c8669f9bdb686abb">rna_iterator_array_next</a>(<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter)
<a name="l03443"></a>03443 {
<a name="l03444"></a>03444     <a class="code" href="../../dd/d66/structArrayIterator.html">ArrayIterator</a> *<span class="keyword">internal</span> = iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ab4245c53b5dab83662bb0bb98f55eaef">internal</a>;
<a name="l03445"></a>03445 
<a name="l03446"></a>03446     <span class="keywordflow">if</span> (internal-&gt;skip) {
<a name="l03447"></a>03447         <span class="keywordflow">do</span> {
<a name="l03448"></a>03448             <span class="keyword">internal</span>-&gt;ptr += <span class="keyword">internal</span>-&gt;itemsize;
<a name="l03449"></a>03449             iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a> = (<span class="keyword">internal</span>-&gt;ptr != <span class="keyword">internal</span>-&gt;endptr);
<a name="l03450"></a>03450         } <span class="keywordflow">while</span> (iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a> &amp;&amp; internal-&gt;skip(iter, internal-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>));
<a name="l03451"></a>03451     }
<a name="l03452"></a>03452     <span class="keywordflow">else</span> {
<a name="l03453"></a>03453         <span class="keyword">internal</span>-&gt;ptr += <span class="keyword">internal</span>-&gt;itemsize;
<a name="l03454"></a>03454         iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a> = (<span class="keyword">internal</span>-&gt;ptr != <span class="keyword">internal</span>-&gt;endptr);
<a name="l03455"></a>03455     }
<a name="l03456"></a>03456 }
<a name="l03457"></a>03457 
<a name="l03458"></a><a class="code" href="../../d1/d29/rna__internal_8h.html#a8fc7f2cae64b887663abbb8ae7f52b60">03458</a> <span class="keywordtype">void</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a9229e555c1c676444ba3fafb5921e8bc">rna_iterator_array_get</a>(<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter)
<a name="l03459"></a>03459 {
<a name="l03460"></a>03460     <a class="code" href="../../dd/d66/structArrayIterator.html">ArrayIterator</a> *<span class="keyword">internal</span> = iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ab4245c53b5dab83662bb0bb98f55eaef">internal</a>;
<a name="l03461"></a>03461 
<a name="l03462"></a>03462     <span class="keywordflow">return</span> <span class="keyword">internal</span>-&gt;ptr;
<a name="l03463"></a>03463 }
<a name="l03464"></a>03464 
<a name="l03465"></a><a class="code" href="../../d1/d29/rna__internal_8h.html#ab45161e1ae4927cdfa4af7de80e376b9">03465</a> <span class="keywordtype">void</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#ae68985f2f5f4d5bbe9b1321d1b7657cf">rna_iterator_array_dereference_get</a>(<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter)
<a name="l03466"></a>03466 {
<a name="l03467"></a>03467     <a class="code" href="../../dd/d66/structArrayIterator.html">ArrayIterator</a> *<span class="keyword">internal</span> = iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ab4245c53b5dab83662bb0bb98f55eaef">internal</a>;
<a name="l03468"></a>03468 
<a name="l03469"></a>03469     <span class="comment">/* for ** arrays */</span>
<a name="l03470"></a>03470     <span class="keywordflow">return</span> *(<span class="keywordtype">void</span>**)(internal-&gt;ptr);
<a name="l03471"></a>03471 }
<a name="l03472"></a>03472 
<a name="l03473"></a><a class="code" href="../../d1/d29/rna__internal_8h.html#a3340716f7c49e6660348aad4d660b3f1">03473</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a1b1292d44989d9b6f86d2d926ef24372">rna_iterator_array_end</a>(<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter)
<a name="l03474"></a>03474 {
<a name="l03475"></a>03475     <a class="code" href="../../dd/d66/structArrayIterator.html">ArrayIterator</a> *<span class="keyword">internal</span> = iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ab4245c53b5dab83662bb0bb98f55eaef">internal</a>;
<a name="l03476"></a>03476     
<a name="l03477"></a>03477     <span class="keywordflow">if</span> (internal-&gt;free_ptr) {
<a name="l03478"></a>03478         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(internal-&gt;free_ptr);
<a name="l03479"></a>03479         <span class="keyword">internal</span>-&gt;free_ptr = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03480"></a>03480     }
<a name="l03481"></a>03481     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ab4245c53b5dab83662bb0bb98f55eaef">internal</a>);
<a name="l03482"></a>03482     iter-&gt;<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#ab4245c53b5dab83662bb0bb98f55eaef">internal</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03483"></a>03483 }
<a name="l03484"></a>03484 
<a name="l03485"></a><a class="code" href="../../d1/d29/rna__internal_8h.html#a671cbddb945ff32616063f567ca8ef55">03485</a> <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> <a class="code" href="../../d3/d10/rna__access_8c.html#a671cbddb945ff32616063f567ca8ef55">rna_array_lookup_int</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type, <span class="keywordtype">void</span> *<a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>, <span class="keywordtype">int</span> itemsize, <span class="keywordtype">int</span> <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>, <span class="keywordtype">int</span> index)
<a name="l03486"></a>03486 {
<a name="l03487"></a>03487     <span class="keywordflow">if</span> (index &lt; 0 || index &gt;= length)
<a name="l03488"></a>03488         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a528bfdf8e4f3178d59d7ccd394166d20">PointerRNA_NULL</a>;
<a name="l03489"></a>03489 
<a name="l03490"></a>03490     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aa500b3bcb38a9f9a9dbbb587421cb1ae">rna_pointer_inherit_refine</a>(ptr, type, ((<span class="keywordtype">char</span>*)data) + index*itemsize);
<a name="l03491"></a>03491 }
<a name="l03492"></a>03492 
<a name="l03493"></a>03493 <span class="comment">/* RNA Path - Experiment */</span>
<a name="l03494"></a>03494 
<a name="l03495"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a888daa92e1a6b8e9645db1e22350b1a3">03495</a> <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a888daa92e1a6b8e9645db1e22350b1a3">rna_path_token</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> **path, <span class="keywordtype">char</span> *fixedbuf, <span class="keywordtype">int</span> fixedlen, <span class="keywordtype">int</span> bracket)
<a name="l03496"></a>03496 {
<a name="l03497"></a>03497     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dd/d05/noise_8c.html#aa5b68af6f39f968261f8942af260e938">p</a>;
<a name="l03498"></a>03498     <span class="keywordtype">char</span> *buf;
<a name="l03499"></a>03499     <span class="keywordtype">char</span> quote = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l03500"></a>03500     <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>, escape;
<a name="l03501"></a>03501 
<a name="l03502"></a>03502     len = 0;
<a name="l03503"></a>03503 
<a name="l03504"></a>03504     <span class="keywordflow">if</span> (bracket) {
<a name="l03505"></a>03505         <span class="comment">/* get data between [], check escaping ] with \] */</span>
<a name="l03506"></a>03506         <span class="keywordflow">if</span> (**path == <span class="charliteral">&#39;[&#39;</span>) (*path)++;
<a name="l03507"></a>03507         <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03508"></a>03508 
<a name="l03509"></a>03509         p = *path;
<a name="l03510"></a>03510 
<a name="l03511"></a>03511         <span class="comment">/* 2 kinds of lookups now, quoted or unquoted */</span>
<a name="l03512"></a>03512         quote = *<a class="code" href="../../dd/d05/noise_8c.html#aa5b68af6f39f968261f8942af260e938">p</a>;
<a name="l03513"></a>03513 
<a name="l03514"></a>03514         <span class="keywordflow">if</span> (quote != <span class="charliteral">&#39;&quot;&#39;</span>) <span class="comment">/* &quot; - this comment is hack for Aligorith&#39;s text editor&#39;s sanity */</span>
<a name="l03515"></a>03515             quote = 0;
<a name="l03516"></a>03516 
<a name="l03517"></a>03517         <span class="keywordflow">if</span> (quote == 0) {
<a name="l03518"></a>03518             <span class="keywordflow">while</span> (*p &amp;&amp; (*p != <span class="charliteral">&#39;]&#39;</span>)) {
<a name="l03519"></a>03519                 len++;
<a name="l03520"></a>03520                 p++;
<a name="l03521"></a>03521             }
<a name="l03522"></a>03522         }
<a name="l03523"></a>03523         <span class="keywordflow">else</span> {
<a name="l03524"></a>03524             escape = 0;
<a name="l03525"></a>03525             <span class="comment">/* skip the first quote */</span>
<a name="l03526"></a>03526             len++;
<a name="l03527"></a>03527             p++;
<a name="l03528"></a>03528             <span class="keywordflow">while</span> (*p &amp;&amp; (*p != quote || escape)) {
<a name="l03529"></a>03529                 escape = (*p == <span class="charliteral">&#39;\\&#39;</span>);
<a name="l03530"></a>03530                 len++;
<a name="l03531"></a>03531                 p++;
<a name="l03532"></a>03532             }
<a name="l03533"></a>03533             
<a name="l03534"></a>03534             <span class="comment">/* skip the last quoted char to get the &#39;]&#39; */</span>
<a name="l03535"></a>03535             len++;
<a name="l03536"></a>03536             p++;
<a name="l03537"></a>03537         }
<a name="l03538"></a>03538 
<a name="l03539"></a>03539         <span class="keywordflow">if</span> (*p != <span class="charliteral">&#39;]&#39;</span>) <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03540"></a>03540     }
<a name="l03541"></a>03541     <span class="keywordflow">else</span> {
<a name="l03542"></a>03542         <span class="comment">/* get data until . or [ */</span>
<a name="l03543"></a>03543         p = *path;
<a name="l03544"></a>03544 
<a name="l03545"></a>03545         <span class="keywordflow">while</span> (*p &amp;&amp; *p != <span class="charliteral">&#39;.&#39;</span> &amp;&amp; *p != <span class="charliteral">&#39;[&#39;</span>) {
<a name="l03546"></a>03546             len++;
<a name="l03547"></a>03547             p++;
<a name="l03548"></a>03548         }
<a name="l03549"></a>03549     }
<a name="l03550"></a>03550     
<a name="l03551"></a>03551     <span class="comment">/* empty, return */</span>
<a name="l03552"></a>03552     <span class="keywordflow">if</span> (len == 0)
<a name="l03553"></a>03553         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03554"></a>03554     
<a name="l03555"></a>03555     <span class="comment">/* try to use fixed buffer if possible */</span>
<a name="l03556"></a>03556     <span class="keywordflow">if</span> (len+1 &lt; fixedlen)
<a name="l03557"></a>03557         buf = fixedbuf;
<a name="l03558"></a>03558     <span class="keywordflow">else</span>
<a name="l03559"></a>03559         buf = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*(len+1), <span class="stringliteral">&quot;rna_path_token&quot;</span>);
<a name="l03560"></a>03560 
<a name="l03561"></a>03561     <span class="comment">/* copy string, taking into account escaped ] */</span>
<a name="l03562"></a>03562     <span class="keywordflow">if</span> (bracket) {
<a name="l03563"></a>03563         <span class="keywordflow">for</span> (p = *path, i = 0, j = 0; i&lt;<a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>; i++, p++) {
<a name="l03564"></a>03564             <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;\\&#39;</span> &amp;&amp; *(p+1) == quote);
<a name="l03565"></a>03565             <span class="keywordflow">else</span> buf[j++] = *<a class="code" href="../../dd/d05/noise_8c.html#aa5b68af6f39f968261f8942af260e938">p</a>;
<a name="l03566"></a>03566         }
<a name="l03567"></a>03567 
<a name="l03568"></a>03568         buf[j] = 0;
<a name="l03569"></a>03569     }
<a name="l03570"></a>03570     <span class="keywordflow">else</span> {
<a name="l03571"></a>03571         memcpy(buf, *path, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*len);
<a name="l03572"></a>03572         buf[<a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l03573"></a>03573     }
<a name="l03574"></a>03574 
<a name="l03575"></a>03575     <span class="comment">/* set path to start of next token */</span>
<a name="l03576"></a>03576     <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;]&#39;</span>) p++;
<a name="l03577"></a>03577     <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;.&#39;</span>) p++;
<a name="l03578"></a>03578     *path = <a class="code" href="../../dd/d05/noise_8c.html#aa5b68af6f39f968261f8942af260e938">p</a>;
<a name="l03579"></a>03579 
<a name="l03580"></a>03580     <span class="keywordflow">return</span> buf;
<a name="l03581"></a>03581 }
<a name="l03582"></a>03582 
<a name="l03583"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a66c566ce5b757a3732f4f28a8a2fc4f8">03583</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a66c566ce5b757a3732f4f28a8a2fc4f8">rna_token_strip_quotes</a>(<span class="keywordtype">char</span> *token)
<a name="l03584"></a>03584 {
<a name="l03585"></a>03585     <span class="keywordflow">if</span> (token[0] ==<span class="charliteral">&#39;&quot;&#39;</span>) {
<a name="l03586"></a>03586         <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../d1/d22/stdosl_8h.html#af902ac638d8127503ad64a0eacb3a7e8">strlen</a>(token);
<a name="l03587"></a>03587         <span class="keywordflow">if</span> (len &gt;= 2 &amp;&amp; token[len-1] ==<span class="charliteral">&#39;&quot;&#39;</span>) {
<a name="l03588"></a>03588             <span class="comment">/* strip away &quot;&quot; */</span>
<a name="l03589"></a>03589             token[len-1] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l03590"></a>03590             <span class="keywordflow">return</span> 1;
<a name="l03591"></a>03591         }
<a name="l03592"></a>03592     }
<a name="l03593"></a>03593     <span class="keywordflow">return</span> 0;
<a name="l03594"></a>03594 }
<a name="l03595"></a>03595 
<a name="l03596"></a>03596 <span class="comment">/* Resolve the given RNA path to find the pointer+property indicated at the end of the path */</span>
<a name="l03597"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a003cb660a44918af456e10e005495f86">03597</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a003cb660a44918af456e10e005495f86">RNA_path_resolve</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *path, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *r_ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> **r_prop)
<a name="l03598"></a>03598 {
<a name="l03599"></a>03599     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aba39c18e773e458ac0fc02a46fd9d05f">RNA_path_resolve_full</a>(ptr, path, r_ptr, r_prop, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l03600"></a>03600 }
<a name="l03601"></a>03601 
<a name="l03602"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aba39c18e773e458ac0fc02a46fd9d05f">03602</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aba39c18e773e458ac0fc02a46fd9d05f">RNA_path_resolve_full</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *path, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *r_ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> **r_prop, <span class="keywordtype">int</span> *index)
<a name="l03603"></a>03603 {
<a name="l03604"></a>03604     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop;
<a name="l03605"></a>03605     <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> curptr, nextptr;
<a name="l03606"></a>03606     <span class="keywordtype">char</span> fixedbuf[256], *token;
<a name="l03607"></a>03607     <span class="keywordtype">int</span> type, intkey;
<a name="l03608"></a>03608 
<a name="l03609"></a>03609     prop = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03610"></a>03610     curptr = *<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>;
<a name="l03611"></a>03611 
<a name="l03612"></a>03612     <span class="keywordflow">if</span> (path == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || *path ==<span class="charliteral">&#39;\0&#39;</span>)
<a name="l03613"></a>03613         <span class="keywordflow">return</span> 0;
<a name="l03614"></a>03614 
<a name="l03615"></a>03615     <span class="keywordflow">while</span> (*path) {
<a name="l03616"></a>03616         <span class="keywordtype">int</span> use_id_prop = (*path ==<span class="charliteral">&#39;[&#39;</span>) ? 1:0;
<a name="l03617"></a>03617         <span class="comment">/* custom property lookup ?</span>
<a name="l03618"></a>03618 <span class="comment">         * C.object[&quot;someprop&quot;]</span>
<a name="l03619"></a>03619 <span class="comment">         */</span>
<a name="l03620"></a>03620 
<a name="l03621"></a>03621         <span class="comment">/* look up property name in current struct */</span>
<a name="l03622"></a>03622         token = <a class="code" href="../../d3/d10/rna__access_8c.html#a888daa92e1a6b8e9645db1e22350b1a3">rna_path_token</a>(&amp;path, fixedbuf, <span class="keyword">sizeof</span>(fixedbuf), use_id_prop);
<a name="l03623"></a>03623 
<a name="l03624"></a>03624         <span class="keywordflow">if</span> (!token)
<a name="l03625"></a>03625             <span class="keywordflow">return</span> 0;
<a name="l03626"></a>03626 
<a name="l03627"></a>03627         <span class="keywordflow">if</span> (use_id_prop) { <span class="comment">/* look up property name in current struct */</span>
<a name="l03628"></a>03628             <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *group = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(&amp;curptr, 0);
<a name="l03629"></a>03629             <span class="keywordflow">if</span> (group &amp;&amp; <a class="code" href="../../d3/d10/rna__access_8c.html#a66c566ce5b757a3732f4f28a8a2fc4f8">rna_token_strip_quotes</a>(token))
<a name="l03630"></a>03630                 prop = (<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *)<a class="code" href="../../d5/d95/BKE__idprop_8h.html#abf2facca64e1d32419686163fb1b0414">IDP_GetPropertyFromGroup</a>(group, token+1);
<a name="l03631"></a>03631         }
<a name="l03632"></a>03632         <span class="keywordflow">else</span> {
<a name="l03633"></a>03633             prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(&amp;curptr, token);
<a name="l03634"></a>03634         }
<a name="l03635"></a>03635 
<a name="l03636"></a>03636         <span class="keywordflow">if</span> (token != fixedbuf)
<a name="l03637"></a>03637             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(token);
<a name="l03638"></a>03638 
<a name="l03639"></a>03639         <span class="keywordflow">if</span> (!prop)
<a name="l03640"></a>03640             <span class="keywordflow">return</span> 0;
<a name="l03641"></a>03641 
<a name="l03642"></a>03642         type = <a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop);
<a name="l03643"></a>03643 
<a name="l03644"></a>03644         <span class="comment">/* now look up the value of this property if it is a pointer or</span>
<a name="l03645"></a>03645 <span class="comment">         * collection, otherwise return the property rna so that the</span>
<a name="l03646"></a>03646 <span class="comment">         * caller can read the value of the property itself */</span>
<a name="l03647"></a>03647         <span class="keywordflow">switch</span> (type) {
<a name="l03648"></a>03648         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>:
<a name="l03649"></a>03649             nextptr = <a class="code" href="../../d3/d10/rna__access_8c.html#a575c543a2a1f509f371bc1cee4fbe4d7">RNA_property_pointer_get</a>(&amp;curptr, prop);
<a name="l03650"></a>03650 
<a name="l03651"></a>03651             <span class="keywordflow">if</span> (nextptr.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>) {
<a name="l03652"></a>03652                 curptr = nextptr;
<a name="l03653"></a>03653                 prop = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">/* now we have a PointerRNA, the prop is our parent so forget it */</span>
<a name="l03654"></a>03654                 <span class="keywordflow">if</span> (index) *index = -1;
<a name="l03655"></a>03655             }
<a name="l03656"></a>03656             <span class="keywordflow">else</span>
<a name="l03657"></a>03657                 <span class="keywordflow">return</span> 0;
<a name="l03658"></a>03658 
<a name="l03659"></a>03659             <span class="keywordflow">break</span>;
<a name="l03660"></a>03660         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>:
<a name="l03661"></a>03661             <span class="keywordflow">if</span> (*path) {
<a name="l03662"></a>03662                 <span class="keywordflow">if</span> (*path == <span class="charliteral">&#39;[&#39;</span>) {
<a name="l03663"></a>03663                     <span class="comment">/* resolve the lookup with [] brackets */</span>
<a name="l03664"></a>03664                     token = <a class="code" href="../../d3/d10/rna__access_8c.html#a888daa92e1a6b8e9645db1e22350b1a3">rna_path_token</a>(&amp;path, fixedbuf, <span class="keyword">sizeof</span>(fixedbuf), 1);
<a name="l03665"></a>03665     
<a name="l03666"></a>03666                     <span class="keywordflow">if</span> (!token)
<a name="l03667"></a>03667                         <span class="keywordflow">return</span> 0;
<a name="l03668"></a>03668     
<a name="l03669"></a>03669                     <span class="comment">/* check for &quot;&quot; to see if it is a string */</span>
<a name="l03670"></a>03670                     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a66c566ce5b757a3732f4f28a8a2fc4f8">rna_token_strip_quotes</a>(token)) {
<a name="l03671"></a>03671                         <a class="code" href="../../d3/d10/rna__access_8c.html#a7e95a4b6d962938da07182f12576251b">RNA_property_collection_lookup_string</a>(&amp;curptr, prop, token+1, &amp;nextptr);
<a name="l03672"></a>03672                     }
<a name="l03673"></a>03673                     <span class="keywordflow">else</span> {
<a name="l03674"></a>03674                         <span class="comment">/* otherwise do int lookup */</span>
<a name="l03675"></a>03675                         intkey = atoi(token);
<a name="l03676"></a>03676                         <span class="keywordflow">if</span> (intkey == 0 &amp;&amp; (token[0] != <span class="charliteral">&#39;0&#39;</span> || token[1] != <span class="charliteral">&#39;\0&#39;</span>)) {
<a name="l03677"></a>03677                             <span class="keywordflow">return</span> 0; <span class="comment">/* we can be sure the fixedbuf was used in this case */</span>
<a name="l03678"></a>03678                         }
<a name="l03679"></a>03679                         <a class="code" href="../../d3/d10/rna__access_8c.html#a58b904582f60f895ee9152cce19ec3ce">RNA_property_collection_lookup_int</a>(&amp;curptr, prop, intkey, &amp;nextptr);
<a name="l03680"></a>03680                     }
<a name="l03681"></a>03681 
<a name="l03682"></a>03682                     <span class="keywordflow">if</span> (token != fixedbuf) {
<a name="l03683"></a>03683                         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(token);
<a name="l03684"></a>03684                     }
<a name="l03685"></a>03685                 }
<a name="l03686"></a>03686                 <span class="keywordflow">else</span> {
<a name="l03687"></a>03687                     <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> c_ptr;
<a name="l03688"></a>03688                     
<a name="l03689"></a>03689                     <span class="comment">/* ensure we quit on invalid values */</span>
<a name="l03690"></a>03690                     nextptr.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03691"></a>03691 
<a name="l03692"></a>03692                     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#ae608975ae26b5701d11d5a4493d4c50f">RNA_property_collection_type_get</a>(&amp;curptr, prop, &amp;c_ptr)) {
<a name="l03693"></a>03693                         nextptr = c_ptr;
<a name="l03694"></a>03694                     }
<a name="l03695"></a>03695                 }
<a name="l03696"></a>03696 
<a name="l03697"></a>03697                 <span class="keywordflow">if</span> (nextptr.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>) {
<a name="l03698"></a>03698                     curptr = nextptr;
<a name="l03699"></a>03699                     prop = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">/* now we have a PointerRNA, the prop is our parent so forget it */</span>
<a name="l03700"></a>03700                     <span class="keywordflow">if</span> (index) *index = -1;
<a name="l03701"></a>03701                 }
<a name="l03702"></a>03702                 <span class="keywordflow">else</span>
<a name="l03703"></a>03703                     <span class="keywordflow">return</span> 0;
<a name="l03704"></a>03704             }
<a name="l03705"></a>03705             
<a name="l03706"></a>03706             <span class="keywordflow">break</span>;
<a name="l03707"></a>03707         <span class="keywordflow">default</span>:
<a name="l03708"></a>03708             <span class="keywordflow">if</span> (index == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l03709"></a>03709                 <span class="keywordflow">break</span>;
<a name="l03710"></a>03710 
<a name="l03711"></a>03711             *index = -1;
<a name="l03712"></a>03712 
<a name="l03713"></a>03713             <span class="keywordflow">if</span> (*path) {
<a name="l03714"></a>03714                 <span class="keywordtype">int</span> index_arr[<a class="code" href="../../df/d02/rna__internal__types_8h.html#af6a7ae5c75d006595fb672abedc1fd48">RNA_MAX_ARRAY_DIMENSION</a>] = {0};
<a name="l03715"></a>03715                 <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>[<a class="code" href="../../df/d02/rna__internal__types_8h.html#af6a7ae5c75d006595fb672abedc1fd48">RNA_MAX_ARRAY_DIMENSION</a>];
<a name="l03716"></a>03716                 <span class="keyword">const</span> <span class="keywordtype">int</span> dim = <a class="code" href="../../d3/d10/rna__access_8c.html#a3e3d7cdaf45e397fcca6c8ddcb7b24a6">RNA_property_array_dimension</a>(&amp;curptr, prop, len);
<a name="l03717"></a>03717                 <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, temp_index;
<a name="l03718"></a>03718 
<a name="l03719"></a>03719                 <span class="keywordflow">for</span> (i = 0; i&lt;dim; i++) {
<a name="l03720"></a>03720                     temp_index = -1;
<a name="l03721"></a>03721 
<a name="l03722"></a>03722                     <span class="comment">/* multi index resolve */</span>
<a name="l03723"></a>03723                     <span class="keywordflow">if</span> (*path ==<span class="charliteral">&#39;[&#39;</span>) {
<a name="l03724"></a>03724                         token = <a class="code" href="../../d3/d10/rna__access_8c.html#a888daa92e1a6b8e9645db1e22350b1a3">rna_path_token</a>(&amp;path, fixedbuf, <span class="keyword">sizeof</span>(fixedbuf), 1);
<a name="l03725"></a>03725     
<a name="l03726"></a>03726                         <span class="keywordflow">if</span> (token == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l03727"></a>03727                             <span class="comment">/* invalid syntax blah[] */</span>
<a name="l03728"></a>03728                             <span class="keywordflow">return</span> 0;
<a name="l03729"></a>03729                         }
<a name="l03730"></a>03730                         <span class="comment">/* check for &quot;&quot; to see if it is a string */</span>
<a name="l03731"></a>03731                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a66c566ce5b757a3732f4f28a8a2fc4f8">rna_token_strip_quotes</a>(token)) {
<a name="l03732"></a>03732                             temp_index = <a class="code" href="../../d3/d10/rna__access_8c.html#ad844af27f1bfdf9138a045100132e496">RNA_property_array_item_index</a>(prop, *(token+1));
<a name="l03733"></a>03733                         }
<a name="l03734"></a>03734                         <span class="keywordflow">else</span> {
<a name="l03735"></a>03735                             <span class="comment">/* otherwise do int lookup */</span>
<a name="l03736"></a>03736                             temp_index = atoi(token);
<a name="l03737"></a>03737 
<a name="l03738"></a>03738                             <span class="keywordflow">if</span> (temp_index == 0 &amp;&amp; (token[0] != <span class="charliteral">&#39;0&#39;</span> || token[1] != <span class="charliteral">&#39;\0&#39;</span>)) {
<a name="l03739"></a>03739                                 <span class="keywordflow">if</span> (token != fixedbuf) {
<a name="l03740"></a>03740                                     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(token);
<a name="l03741"></a>03741                                 }
<a name="l03742"></a>03742 
<a name="l03743"></a>03743                                 <span class="keywordflow">return</span> 0;
<a name="l03744"></a>03744                             }
<a name="l03745"></a>03745                         }
<a name="l03746"></a>03746                     }
<a name="l03747"></a>03747                     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dim == 1) {
<a name="l03748"></a>03748                         <span class="comment">/* location.x || scale.X, single dimension arrays only */</span>
<a name="l03749"></a>03749                         token = <a class="code" href="../../d3/d10/rna__access_8c.html#a888daa92e1a6b8e9645db1e22350b1a3">rna_path_token</a>(&amp;path, fixedbuf, <span class="keyword">sizeof</span>(fixedbuf), 0);
<a name="l03750"></a>03750                         <span class="keywordflow">if</span> (token == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l03751"></a>03751                             <span class="comment">/* invalid syntax blah.. */</span>
<a name="l03752"></a>03752                             <span class="keywordflow">return</span> 0;
<a name="l03753"></a>03753                         }
<a name="l03754"></a>03754                         temp_index = <a class="code" href="../../d3/d10/rna__access_8c.html#ad844af27f1bfdf9138a045100132e496">RNA_property_array_item_index</a>(prop, *token);
<a name="l03755"></a>03755                     }
<a name="l03756"></a>03756     
<a name="l03757"></a>03757                     <span class="keywordflow">if</span> (token != fixedbuf) {
<a name="l03758"></a>03758                         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(token);
<a name="l03759"></a>03759                     }
<a name="l03760"></a>03760                     
<a name="l03761"></a>03761                     <span class="comment">/* out of range */</span>
<a name="l03762"></a>03762                     <span class="keywordflow">if</span> (temp_index &lt; 0 || temp_index &gt;= len[i])
<a name="l03763"></a>03763                         <span class="keywordflow">return</span> 0;
<a name="l03764"></a>03764 
<a name="l03765"></a>03765                     index_arr[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = temp_index;
<a name="l03766"></a>03766                     <span class="comment">/* end multi index resolve */</span>
<a name="l03767"></a>03767                 }
<a name="l03768"></a>03768 
<a name="l03769"></a>03769                 <span class="comment">/* arrays always contain numbers so further values are not valid */</span>
<a name="l03770"></a>03770                 <span class="keywordflow">if</span> (*path) {
<a name="l03771"></a>03771                     <span class="keywordflow">return</span> 0;
<a name="l03772"></a>03772                 }
<a name="l03773"></a>03773                 <span class="keywordflow">else</span> {
<a name="l03774"></a>03774                     <span class="keywordtype">int</span> totdim = 1;
<a name="l03775"></a>03775                     <span class="keywordtype">int</span> flat_index = 0;
<a name="l03776"></a>03776 
<a name="l03777"></a>03777                     <span class="keywordflow">for</span> (i = dim-1; i &gt;= 0; i--) {
<a name="l03778"></a>03778                         flat_index += index_arr[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] * totdim;
<a name="l03779"></a>03779                         totdim *= len[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];
<a name="l03780"></a>03780                     }
<a name="l03781"></a>03781 
<a name="l03782"></a>03782                     *index = flat_index;
<a name="l03783"></a>03783                 }
<a name="l03784"></a>03784             }
<a name="l03785"></a>03785         }
<a name="l03786"></a>03786     }
<a name="l03787"></a>03787 
<a name="l03788"></a>03788     *r_ptr = curptr;
<a name="l03789"></a>03789     *r_prop = prop;
<a name="l03790"></a>03790 
<a name="l03791"></a>03791     <span class="keywordflow">return</span> 1;
<a name="l03792"></a>03792 }
<a name="l03793"></a>03793 
<a name="l03794"></a>03794 
<a name="l03795"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a7ba0ba65855598ed93ee6f944816ac31">03795</a> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a7ba0ba65855598ed93ee6f944816ac31">RNA_path_append</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(<a class="code" href="../../d9/d86/structtRnaUpdateCacheElem.html#a5efaae536d6617c079407a1f05a36417">ptr</a>), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> intkey, <span class="keyword">const</span> <span class="keywordtype">char</span> *strkey)
<a name="l03796"></a>03796 {
<a name="l03797"></a>03797     <a class="code" href="../../d4/de5/structDynStr.html">DynStr</a> *dynstr;
<a name="l03798"></a>03798     <span class="keyword">const</span> <span class="keywordtype">char</span> *s;
<a name="l03799"></a>03799     <span class="keywordtype">char</span> appendstr[128], *result;
<a name="l03800"></a>03800     
<a name="l03801"></a>03801     dynstr = <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#ae83ee20abb290558ce2e8f151ed54227">BLI_dynstr_new</a>();
<a name="l03802"></a>03802 
<a name="l03803"></a>03803     <span class="comment">/* add .identifier */</span>
<a name="l03804"></a>03804     <span class="keywordflow">if</span> (path) {
<a name="l03805"></a>03805         <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, (<span class="keywordtype">char</span>*)path);
<a name="l03806"></a>03806         <span class="keywordflow">if</span> (*path)
<a name="l03807"></a>03807             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;.&quot;</span>);
<a name="l03808"></a>03808     }
<a name="l03809"></a>03809 
<a name="l03810"></a>03810     <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <a class="code" href="../../d3/d10/rna__access_8c.html#ad6f3c9684a8786587872fc6baf17dfc9">RNA_property_identifier</a>(prop));
<a name="l03811"></a>03811 
<a name="l03812"></a>03812     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>) {
<a name="l03813"></a>03813         <span class="comment">/* add [&quot;strkey&quot;] or [intkey] */</span>
<a name="l03814"></a>03814         <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;[&quot;</span>);
<a name="l03815"></a>03815 
<a name="l03816"></a>03816         <span class="keywordflow">if</span> (strkey) {
<a name="l03817"></a>03817             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;\&quot;&quot;</span>);
<a name="l03818"></a>03818             <span class="keywordflow">for</span> (s = strkey; *s; s++) {
<a name="l03819"></a>03819                 <span class="keywordflow">if</span> (*s == <span class="charliteral">&#39;[&#39;</span>) {
<a name="l03820"></a>03820                     appendstr[0] = <span class="charliteral">&#39;\\&#39;</span>;
<a name="l03821"></a>03821                     appendstr[1] = *s;
<a name="l03822"></a>03822                     appendstr[2] = 0;
<a name="l03823"></a>03823                 }
<a name="l03824"></a>03824                 <span class="keywordflow">else</span> {
<a name="l03825"></a>03825                     appendstr[0] = *s;
<a name="l03826"></a>03826                     appendstr[1] = 0;
<a name="l03827"></a>03827                 }
<a name="l03828"></a>03828                 <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, appendstr);
<a name="l03829"></a>03829             }
<a name="l03830"></a>03830             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;\&quot;&quot;</span>);
<a name="l03831"></a>03831         }
<a name="l03832"></a>03832         <span class="keywordflow">else</span> {
<a name="l03833"></a>03833             <a class="code" href="../../d3/db3/BLI__string_8h.html#a150551c0e3b1dc65b4c9021461f468a9">BLI_snprintf</a>(appendstr, <span class="keyword">sizeof</span>(appendstr), <span class="stringliteral">&quot;%d&quot;</span>, intkey);
<a name="l03834"></a>03834             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, appendstr);
<a name="l03835"></a>03835         }
<a name="l03836"></a>03836 
<a name="l03837"></a>03837         <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;]&quot;</span>);
<a name="l03838"></a>03838     }
<a name="l03839"></a>03839 
<a name="l03840"></a>03840     result = <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a4ec5498b239c83c6657f206d2f2f4968">BLI_dynstr_get_cstring</a>(dynstr);
<a name="l03841"></a>03841     <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a3687f0d324bc2026a013872ce32d157a">BLI_dynstr_free</a>(dynstr);
<a name="l03842"></a>03842 
<a name="l03843"></a>03843     <span class="keywordflow">return</span> result;
<a name="l03844"></a>03844 }
<a name="l03845"></a>03845 
<a name="l03846"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a415e4f7b020dac91f473fe3abc50cb95">03846</a> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a415e4f7b020dac91f473fe3abc50cb95">RNA_path_back</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path)
<a name="l03847"></a>03847 {
<a name="l03848"></a>03848     <span class="keywordtype">char</span> fixedbuf[256];
<a name="l03849"></a>03849     <span class="keyword">const</span> <span class="keywordtype">char</span> *previous, *current;
<a name="l03850"></a>03850     <span class="keywordtype">char</span> *result, *token;
<a name="l03851"></a>03851     <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l03852"></a>03852 
<a name="l03853"></a>03853     <span class="keywordflow">if</span> (!path)
<a name="l03854"></a>03854         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03855"></a>03855 
<a name="l03856"></a>03856     previous = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03857"></a>03857     current = path;
<a name="l03858"></a>03858 
<a name="l03859"></a>03859     <span class="comment">/* parse token by token until the end, then we back up to the previous</span>
<a name="l03860"></a>03860 <span class="comment">     * position and strip of the next token to get the path one step back */</span>
<a name="l03861"></a>03861     <span class="keywordflow">while</span> (*current) {
<a name="l03862"></a>03862         token = <a class="code" href="../../d3/d10/rna__access_8c.html#a888daa92e1a6b8e9645db1e22350b1a3">rna_path_token</a>(&amp;current, fixedbuf, <span class="keyword">sizeof</span>(fixedbuf), 0);
<a name="l03863"></a>03863 
<a name="l03864"></a>03864         <span class="keywordflow">if</span> (!token)
<a name="l03865"></a>03865             <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03866"></a>03866         <span class="keywordflow">if</span> (token != fixedbuf)
<a name="l03867"></a>03867             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(token);
<a name="l03868"></a>03868 
<a name="l03869"></a>03869         <span class="comment">/* in case of collection we also need to strip off [] */</span>
<a name="l03870"></a>03870         token = <a class="code" href="../../d3/d10/rna__access_8c.html#a888daa92e1a6b8e9645db1e22350b1a3">rna_path_token</a>(&amp;current, fixedbuf, <span class="keyword">sizeof</span>(fixedbuf), 1);
<a name="l03871"></a>03871         <span class="keywordflow">if</span> (token &amp;&amp; token != fixedbuf)
<a name="l03872"></a>03872             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(token);
<a name="l03873"></a>03873         
<a name="l03874"></a>03874         <span class="keywordflow">if</span> (!*current)
<a name="l03875"></a>03875             <span class="keywordflow">break</span>;
<a name="l03876"></a>03876 
<a name="l03877"></a>03877         previous = current;
<a name="l03878"></a>03878     }
<a name="l03879"></a>03879 
<a name="l03880"></a>03880     <span class="keywordflow">if</span> (!previous)
<a name="l03881"></a>03881         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03882"></a>03882 
<a name="l03883"></a>03883     <span class="comment">/* copy and strip off last token */</span>
<a name="l03884"></a>03884     i = previous - path;
<a name="l03885"></a>03885     result = <a class="code" href="../../d3/db3/BLI__string_8h.html#a45da837b000b29e7937f81c37bfbf72e">BLI_strdup</a>(path);
<a name="l03886"></a>03886 
<a name="l03887"></a>03887     <span class="keywordflow">if</span> (i &gt; 0 &amp;&amp; result[i-1] == <span class="charliteral">&#39;.&#39;</span>) i--;
<a name="l03888"></a>03888     result[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;
<a name="l03889"></a>03889 
<a name="l03890"></a>03890     <span class="keywordflow">return</span> result;
<a name="l03891"></a>03891 }
<a name="l03892"></a>03892 
<a name="l03893"></a>03893 <span class="comment">/* generic path search func</span>
<a name="l03894"></a>03894 <span class="comment"> * if its needed this could also reference the IDProperty direct */</span>
<a name="l03895"></a><a class="code" href="../../d1/d08/structIDP__Chain.html">03895</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d08/structIDP__Chain.html">IDP_Chain</a> {
<a name="l03896"></a><a class="code" href="../../d1/d08/structIDP__Chain.html#a74da1d0caabb3bd46358a2b7dce6bb95">03896</a>     <span class="keyword">struct </span><a class="code" href="../../d1/d08/structIDP__Chain.html">IDP_Chain</a> *<a class="code" href="../../d1/d08/structIDP__Chain.html#a74da1d0caabb3bd46358a2b7dce6bb95">up</a>; <span class="comment">/* parent member, reverse and set to child for path conversion. */</span>
<a name="l03897"></a>03897 
<a name="l03898"></a><a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">03898</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>;
<a name="l03899"></a><a class="code" href="../../d1/d08/structIDP__Chain.html#aec3fa61fdbb1c30196dfbdfb5c4b4441">03899</a>     <span class="keywordtype">int</span> <a class="code" href="../../d1/d08/structIDP__Chain.html#aec3fa61fdbb1c30196dfbdfb5c4b4441">index</a>;
<a name="l03900"></a>03900 
<a name="l03901"></a>03901 } <a class="code" href="../../d3/d10/rna__access_8c.html#aa70326aac1fd2ed42c3a1d86fce1eb6c">IDP_Chain</a>;
<a name="l03902"></a>03902 
<a name="l03903"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a8dbac4abe9e40849d002b4736aba31d0">03903</a> <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a8dbac4abe9e40849d002b4736aba31d0">rna_idp_path_create</a>(<a class="code" href="../../d1/d08/structIDP__Chain.html">IDP_Chain</a> *child_link)
<a name="l03904"></a>03904 {
<a name="l03905"></a>03905     <a class="code" href="../../d4/de5/structDynStr.html">DynStr</a> *dynstr = <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#ae83ee20abb290558ce2e8f151ed54227">BLI_dynstr_new</a>();
<a name="l03906"></a>03906     <span class="keywordtype">char</span> *path;
<a name="l03907"></a>03907     <span class="keywordtype">short</span> first = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l03908"></a>03908 
<a name="l03909"></a>03909     <span class="keywordtype">int</span> tot = 0;
<a name="l03910"></a>03910     <a class="code" href="../../d1/d08/structIDP__Chain.html">IDP_Chain</a> *<a class="code" href="../../d0/dea/sp__coletree_8c.html#aaa63f127f8b967960d824c4cf6e93ca0">link</a> = child_link;
<a name="l03911"></a>03911 
<a name="l03912"></a>03912     <span class="comment">/* reverse the list */</span>
<a name="l03913"></a>03913     <a class="code" href="../../d1/d08/structIDP__Chain.html">IDP_Chain</a> *link_prev;
<a name="l03914"></a>03914     link_prev = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03915"></a>03915     <span class="keywordflow">while</span> (link) {
<a name="l03916"></a>03916         <a class="code" href="../../d1/d08/structIDP__Chain.html">IDP_Chain</a> *link_next = link-&gt;<a class="code" href="../../d1/d08/structIDP__Chain.html#a74da1d0caabb3bd46358a2b7dce6bb95">up</a>;
<a name="l03917"></a>03917         link-&gt;<a class="code" href="../../d1/d08/structIDP__Chain.html#a74da1d0caabb3bd46358a2b7dce6bb95">up</a> = link_prev;
<a name="l03918"></a>03918         link_prev = <a class="code" href="../../d0/dea/sp__coletree_8c.html#aaa63f127f8b967960d824c4cf6e93ca0">link</a>;
<a name="l03919"></a>03919         link = link_next;
<a name="l03920"></a>03920         tot++;
<a name="l03921"></a>03921     }
<a name="l03922"></a>03922 
<a name="l03923"></a>03923     <span class="keywordflow">for</span> (link = link_prev; <a class="code" href="../../d0/dea/sp__coletree_8c.html#aaa63f127f8b967960d824c4cf6e93ca0">link</a>; link = link-&gt;<a class="code" href="../../d1/d08/structIDP__Chain.html#a74da1d0caabb3bd46358a2b7dce6bb95">up</a>) {
<a name="l03924"></a>03924         <span class="comment">/* pass */</span>
<a name="l03925"></a>03925         <span class="keywordflow">if</span> (link-&gt;<a class="code" href="../../d1/d08/structIDP__Chain.html#aec3fa61fdbb1c30196dfbdfb5c4b4441">index</a> &gt;= 0) {
<a name="l03926"></a>03926             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a5220af66d1325c122e7276140580b873">BLI_dynstr_appendf</a>(dynstr, first ? <span class="stringliteral">&quot;%s[%d]&quot;</span> : <span class="stringliteral">&quot;.%s[%d]&quot;</span>, link-&gt;<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, link-&gt;<a class="code" href="../../d1/d08/structIDP__Chain.html#aec3fa61fdbb1c30196dfbdfb5c4b4441">index</a>);
<a name="l03927"></a>03927         }
<a name="l03928"></a>03928         <span class="keywordflow">else</span> {
<a name="l03929"></a>03929             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a5220af66d1325c122e7276140580b873">BLI_dynstr_appendf</a>(dynstr, first ? <span class="stringliteral">&quot;%s&quot;</span> : <span class="stringliteral">&quot;.%s&quot;</span>, link-&gt;<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>);
<a name="l03930"></a>03930         }
<a name="l03931"></a>03931 
<a name="l03932"></a>03932         first = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l03933"></a>03933     }
<a name="l03934"></a>03934 
<a name="l03935"></a>03935     path = <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a4ec5498b239c83c6657f206d2f2f4968">BLI_dynstr_get_cstring</a>(dynstr);
<a name="l03936"></a>03936     <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a3687f0d324bc2026a013872ce32d157a">BLI_dynstr_free</a>(dynstr);
<a name="l03937"></a>03937 
<a name="l03938"></a>03938     <span class="keywordflow">if</span> (*path ==<span class="charliteral">&#39;\0&#39;</span>) {
<a name="l03939"></a>03939         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(path);
<a name="l03940"></a>03940         path = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03941"></a>03941     }
<a name="l03942"></a>03942 
<a name="l03943"></a>03943     <span class="keywordflow">return</span> path;
<a name="l03944"></a>03944 }
<a name="l03945"></a>03945 
<a name="l03946"></a><a class="code" href="../../d3/d10/rna__access_8c.html#ad0f86e6246e0ea831a7de9db481369da">03946</a> <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#ad0f86e6246e0ea831a7de9db481369da">rna_idp_path</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *haystack, <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *needle, <a class="code" href="../../d1/d08/structIDP__Chain.html">IDP_Chain</a> *parent_link)
<a name="l03947"></a>03947 {
<a name="l03948"></a>03948     <span class="keywordtype">char</span> *path = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03949"></a>03949     <a class="code" href="../../d1/d08/structIDP__Chain.html">IDP_Chain</a> <a class="code" href="../../d0/dea/sp__coletree_8c.html#aaa63f127f8b967960d824c4cf6e93ca0">link</a>;
<a name="l03950"></a>03950 
<a name="l03951"></a>03951     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *iter;
<a name="l03952"></a>03952     <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l03953"></a>03953 
<a name="l03954"></a>03954     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(haystack-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#abf4b8c1027c684282b432b3c8033a2de">IDP_GROUP</a>);
<a name="l03955"></a>03955 
<a name="l03956"></a>03956     link.<a class="code" href="../../d1/d08/structIDP__Chain.html#a74da1d0caabb3bd46358a2b7dce6bb95">up</a> = parent_link;
<a name="l03957"></a>03957     link.<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03958"></a>03958     link.<a class="code" href="../../d1/d08/structIDP__Chain.html#aec3fa61fdbb1c30196dfbdfb5c4b4441">index</a> = -1;
<a name="l03959"></a>03959 
<a name="l03960"></a>03960     <span class="keywordflow">for</span> (i = 0, iter = haystack-&gt;<a class="code" href="../../df/d42/structIDProperty.html#ab81781154390478d322a370681d54e3e">data</a>.<a class="code" href="../../da/dbd/structIDPropertyData.html#a656cd00581ccba5491691f77e1b5e6da">group</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; iter; iter = iter-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a6a1233a8db3fd1ee1b07db13323b65cf">next</a>, i++) {
<a name="l03961"></a>03961         <span class="keywordflow">if</span> (needle == iter) {  <span class="comment">/* found! */</span>
<a name="l03962"></a>03962             link.<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a> = iter-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a8bd8e0db8e7c4748785327a9167d87a4">name</a>;
<a name="l03963"></a>03963             path = <a class="code" href="../../d3/d10/rna__access_8c.html#a8dbac4abe9e40849d002b4736aba31d0">rna_idp_path_create</a>(&amp;link);
<a name="l03964"></a>03964             <span class="keywordflow">break</span>;
<a name="l03965"></a>03965         }
<a name="l03966"></a>03966         <span class="keywordflow">else</span> {
<a name="l03967"></a>03967             <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#abf4b8c1027c684282b432b3c8033a2de">IDP_GROUP</a>) {
<a name="l03968"></a>03968                 <span class="comment">/* ensure this is RNA */</span>
<a name="l03969"></a>03969                 <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> child_ptr = <a class="code" href="../../d3/d10/rna__access_8c.html#a243277576891ecaf204382563ed46364">RNA_pointer_get</a>(ptr, iter-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a8bd8e0db8e7c4748785327a9167d87a4">name</a>);
<a name="l03970"></a>03970                 <span class="keywordflow">if</span> (child_ptr.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>) {
<a name="l03971"></a>03971                     link.<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a> = iter-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a8bd8e0db8e7c4748785327a9167d87a4">name</a>;
<a name="l03972"></a>03972                     <span class="keywordflow">if</span> ((path = <a class="code" href="../../d3/d10/rna__access_8c.html#ad0f86e6246e0ea831a7de9db481369da">rna_idp_path</a>(&amp;child_ptr, iter, needle, &amp;link))) {
<a name="l03973"></a>03973                         <span class="keywordflow">break</span>;
<a name="l03974"></a>03974                     }
<a name="l03975"></a>03975                 }
<a name="l03976"></a>03976             }
<a name="l03977"></a>03977             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../df/d42/structIDProperty.html#afc4e09dbab4908446252e5fcb1b3c5ae">type</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a22b5486a9e963a270e0e59526cbba3d8">IDP_IDPARRAY</a>) {
<a name="l03978"></a>03978                 <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, iter-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a8bd8e0db8e7c4748785327a9167d87a4">name</a>);
<a name="l03979"></a>03979                 <span class="keywordflow">if</span> (prop &amp;&amp; prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>) {
<a name="l03980"></a>03980                     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *<a class="code" href="../../d2/d41/classarray.html">array</a> = <a class="code" href="../../d5/d95/BKE__idprop_8h.html#a11544883f58b065b2943902c77e82aef">IDP_IDPArray</a>(iter);
<a name="l03981"></a>03981                     <span class="keywordflow">if</span> (needle &gt;= array &amp;&amp; needle &lt; (iter-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a> + array)) { <span class="comment">/* found! */</span>
<a name="l03982"></a>03982                         link.<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a> = iter-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a8bd8e0db8e7c4748785327a9167d87a4">name</a>;
<a name="l03983"></a>03983                         link.<a class="code" href="../../d1/d08/structIDP__Chain.html#aec3fa61fdbb1c30196dfbdfb5c4b4441">index</a> = (int)(needle - array);
<a name="l03984"></a>03984                         path = <a class="code" href="../../d3/d10/rna__access_8c.html#a8dbac4abe9e40849d002b4736aba31d0">rna_idp_path_create</a>(&amp;link);
<a name="l03985"></a>03985                         <span class="keywordflow">break</span>;
<a name="l03986"></a>03986                     }
<a name="l03987"></a>03987                     <span class="keywordflow">else</span> {
<a name="l03988"></a>03988                         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l03989"></a>03989                         link.<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a> = iter-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a8bd8e0db8e7c4748785327a9167d87a4">name</a>;
<a name="l03990"></a>03990                         <span class="keywordflow">for</span> (i = 0; i &lt; iter-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a29547849bca3ad9e553d7d6c715e86ca">len</a>; i++, array++) {
<a name="l03991"></a>03991                             <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> child_ptr;
<a name="l03992"></a>03992                             <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a58b904582f60f895ee9152cce19ec3ce">RNA_property_collection_lookup_int</a>(ptr, prop, i, &amp;child_ptr)) {
<a name="l03993"></a>03993                                 link.<a class="code" href="../../d1/d08/structIDP__Chain.html#aec3fa61fdbb1c30196dfbdfb5c4b4441">index</a> = <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l03994"></a>03994                                 <span class="keywordflow">if</span> ((path = <a class="code" href="../../d3/d10/rna__access_8c.html#ad0f86e6246e0ea831a7de9db481369da">rna_idp_path</a>(&amp;child_ptr, array, needle, &amp;link))) {
<a name="l03995"></a>03995                                     <span class="keywordflow">break</span>;
<a name="l03996"></a>03996                                 }
<a name="l03997"></a>03997                             }
<a name="l03998"></a>03998                         }
<a name="l03999"></a>03999                         <span class="keywordflow">if</span> (path)
<a name="l04000"></a>04000                             <span class="keywordflow">break</span>;
<a name="l04001"></a>04001                     }
<a name="l04002"></a>04002                 }
<a name="l04003"></a>04003             }
<a name="l04004"></a>04004         }
<a name="l04005"></a>04005     }
<a name="l04006"></a>04006 
<a name="l04007"></a>04007     <span class="keywordflow">return</span> path;
<a name="l04008"></a>04008 }
<a name="l04009"></a>04009 
<a name="l04010"></a><a class="code" href="../../d3/d10/rna__access_8c.html#aad8226d3155a949e008f77484ce53a0f">04010</a> <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#aad8226d3155a949e008f77484ce53a0f">rna_path_from_ID_to_idpgroup</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr)
<a name="l04011"></a>04011 {
<a name="l04012"></a>04012     <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> id_ptr;
<a name="l04013"></a>04013     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *haystack;
<a name="l04014"></a>04014     <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *needle;
<a name="l04015"></a>04015 
<a name="l04016"></a>04016     <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa0fb403a3d83d016acdc506b2d4607cb">BLI_assert</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> != <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l04017"></a>04017 
<a name="l04018"></a>04018     <span class="comment">/* TODO, Support Bones/PoseBones. no pointers stored to the bones from here, only the ID. See example in [#25746]</span>
<a name="l04019"></a>04019 <span class="comment">     *       Unless this is added only way to find this is to also search all bones and pose bones</span>
<a name="l04020"></a>04020 <span class="comment">     *       of an armature or object */</span>
<a name="l04021"></a>04021     <a class="code" href="../../d3/d10/rna__access_8c.html#a2ce5c1d9b520b00730820e0e118dd4e1">RNA_id_pointer_create</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>, &amp;id_ptr);
<a name="l04022"></a>04022 
<a name="l04023"></a>04023     haystack = <a class="code" href="../../d3/d10/rna__access_8c.html#a47084d12fea3068403ff6fa195c0da69">RNA_struct_idprops</a>(&amp;id_ptr, <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
<a name="l04024"></a>04024     <span class="keywordflow">if</span> (haystack) { <span class="comment">/* can fail when called on bones */</span>
<a name="l04025"></a>04025         needle = ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>;
<a name="l04026"></a>04026         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ad0f86e6246e0ea831a7de9db481369da">rna_idp_path</a>(&amp;id_ptr, haystack, needle, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l04027"></a>04027     }
<a name="l04028"></a>04028     <span class="keywordflow">else</span> {
<a name="l04029"></a>04029         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04030"></a>04030     }
<a name="l04031"></a>04031 }
<a name="l04032"></a>04032 
<a name="l04033"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ae1c7e009b00148380cc038303ef271c5">04033</a> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#ae1c7e009b00148380cc038303ef271c5">RNA_path_from_ID_to_struct</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr)
<a name="l04034"></a>04034 {
<a name="l04035"></a>04035     <span class="keywordtype">char</span> *ptrpath = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04036"></a>04036 
<a name="l04037"></a>04037     <span class="keywordflow">if</span> (!ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> || !ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>)
<a name="l04038"></a>04038         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04039"></a>04039     
<a name="l04040"></a>04040     <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d10/rna__access_8c.html#a04e91d163fed9c15bedf299f51732110">RNA_struct_is_ID</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>)) {
<a name="l04041"></a>04041         <span class="keywordflow">if</span> (ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#af5cb5942459b94566f7ab91b0d6ae6aa">path</a>) {
<a name="l04042"></a>04042             <span class="comment">/* if type has a path to some ID, use it */</span>
<a name="l04043"></a>04043             ptrpath = ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#af5cb5942459b94566f7ab91b0d6ae6aa">path</a>(ptr);
<a name="l04044"></a>04044         }
<a name="l04045"></a>04045         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a8f07c5c2ca30bcab391ec8b6095d99aa">nested</a> &amp;&amp; <a class="code" href="../../d3/d10/rna__access_8c.html#a04e91d163fed9c15bedf299f51732110">RNA_struct_is_ID</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a8f07c5c2ca30bcab391ec8b6095d99aa">nested</a>)) {
<a name="l04046"></a>04046             <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> parentptr;
<a name="l04047"></a>04047             <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *userprop;
<a name="l04048"></a>04048             
<a name="l04049"></a>04049             <span class="comment">/* find the property in the struct we&#39;re nested in that references this struct, and</span>
<a name="l04050"></a>04050 <span class="comment">             * use its identifier as the first part of the path used...</span>
<a name="l04051"></a>04051 <span class="comment">             */</span>
<a name="l04052"></a>04052             <a class="code" href="../../d3/d10/rna__access_8c.html#a2ce5c1d9b520b00730820e0e118dd4e1">RNA_id_pointer_create</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>, &amp;parentptr);
<a name="l04053"></a>04053             userprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a36ec4a06df6cb8534f3bb3914a935660">RNA_struct_find_nested</a>(&amp;parentptr, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>);
<a name="l04054"></a>04054             
<a name="l04055"></a>04055             <span class="keywordflow">if</span> (userprop)
<a name="l04056"></a>04056                 ptrpath = <a class="code" href="../../d3/db3/BLI__string_8h.html#a45da837b000b29e7937f81c37bfbf72e">BLI_strdup</a>(<a class="code" href="../../d3/d10/rna__access_8c.html#ad6f3c9684a8786587872fc6baf17dfc9">RNA_property_identifier</a>(userprop));
<a name="l04057"></a>04057             <span class="keywordflow">else</span>
<a name="l04058"></a>04058                 <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">/* can&#39;t do anything about this case yet... */</span>
<a name="l04059"></a>04059         }
<a name="l04060"></a>04060         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#ab0ac980958da7c9390bc055c30bf429b">RNA_struct_is_a</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>, &amp;<a class="code" href="../../d1/d29/rna__internal_8h.html#ab24fdaa042074f1bdc85cce0513fd61a">RNA_PropertyGroup</a>)) {
<a name="l04061"></a>04061             <span class="comment">/* special case, easier to deal with here then in ptr-&gt;type-&gt;path() */</span>
<a name="l04062"></a>04062             <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aad8226d3155a949e008f77484ce53a0f">rna_path_from_ID_to_idpgroup</a>(ptr);
<a name="l04063"></a>04063         }
<a name="l04064"></a>04064         <span class="keywordflow">else</span>
<a name="l04065"></a>04065             <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04066"></a>04066     }
<a name="l04067"></a>04067     
<a name="l04068"></a>04068     <span class="keywordflow">return</span> ptrpath;
<a name="l04069"></a>04069 }
<a name="l04070"></a>04070 
<a name="l04071"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a66bdb30aeb21c0607ca3a0453e1d99eb">04071</a> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a66bdb30aeb21c0607ca3a0453e1d99eb">RNA_path_from_ID_to_property</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l04072"></a>04072 {
<a name="l04073"></a>04073     <span class="keywordtype">int</span> is_rna = (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> == <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>);
<a name="l04074"></a>04074     <span class="keyword">const</span> <span class="keywordtype">char</span> *propname;
<a name="l04075"></a>04075     <span class="keywordtype">char</span> *ptrpath, *path;
<a name="l04076"></a>04076 
<a name="l04077"></a>04077     <span class="keywordflow">if</span> (!ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a7afa52885727738cb03bbdf46e808e1b">id</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> || !ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a> || !prop)
<a name="l04078"></a>04078         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04079"></a>04079     
<a name="l04080"></a>04080     <span class="comment">/* path from ID to the struct holding this property */</span>
<a name="l04081"></a>04081     ptrpath = <a class="code" href="../../d3/d10/rna__access_8c.html#ae1c7e009b00148380cc038303ef271c5">RNA_path_from_ID_to_struct</a>(ptr);
<a name="l04082"></a>04082 
<a name="l04083"></a>04083     propname = <a class="code" href="../../d3/d10/rna__access_8c.html#ad6f3c9684a8786587872fc6baf17dfc9">RNA_property_identifier</a>(prop);
<a name="l04084"></a>04084 
<a name="l04085"></a>04085     <span class="keywordflow">if</span> (ptrpath) {
<a name="l04086"></a>04086         path = <a class="code" href="../../d3/db3/BLI__string_8h.html#a17694667060f4df89dab999b472e42c7">BLI_sprintfN</a>(is_rna ? <span class="stringliteral">&quot;%s.%s&quot;</span>:<span class="stringliteral">&quot;%s[\&quot;%s\&quot;]&quot;</span>, ptrpath, propname);
<a name="l04087"></a>04087         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(ptrpath);
<a name="l04088"></a>04088     }
<a name="l04089"></a>04089     <span class="keywordflow">else</span> {
<a name="l04090"></a>04090         <span class="keywordflow">if</span> (is_rna)
<a name="l04091"></a>04091             path = <a class="code" href="../../d3/db3/BLI__string_8h.html#a45da837b000b29e7937f81c37bfbf72e">BLI_strdup</a>(propname);
<a name="l04092"></a>04092         <span class="keywordflow">else</span>
<a name="l04093"></a>04093             path = <a class="code" href="../../d3/db3/BLI__string_8h.html#a17694667060f4df89dab999b472e42c7">BLI_sprintfN</a>(<span class="stringliteral">&quot;[\&quot;%s\&quot;]&quot;</span>, propname);
<a name="l04094"></a>04094     }
<a name="l04095"></a>04095 
<a name="l04096"></a>04096     <span class="keywordflow">return</span> path;
<a name="l04097"></a>04097 }
<a name="l04098"></a>04098 
<a name="l04099"></a>04099 <span class="comment">/* Quick name based property access */</span>
<a name="l04100"></a>04100 
<a name="l04101"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a3a81efded6e2e77b384a5d7db179d4b9">04101</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a3a81efded6e2e77b384a5d7db179d4b9">RNA_boolean_get</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>)
<a name="l04102"></a>04102 {
<a name="l04103"></a>04103     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04104"></a>04104 
<a name="l04105"></a>04105     <span class="keywordflow">if</span> (prop) {
<a name="l04106"></a>04106         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a3a4a0d200b12ded21d24676dcff67732">RNA_property_boolean_get</a>(ptr, prop);
<a name="l04107"></a>04107     }
<a name="l04108"></a>04108     <span class="keywordflow">else</span> {
<a name="l04109"></a>04109         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04110"></a>04110         <span class="keywordflow">return</span> 0;
<a name="l04111"></a>04111     }
<a name="l04112"></a>04112 }
<a name="l04113"></a>04113 
<a name="l04114"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a1741c6fd78b5d828bb7b83517e2766db">04114</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a1741c6fd78b5d828bb7b83517e2766db">RNA_boolean_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keywordtype">int</span> value)
<a name="l04115"></a>04115 {
<a name="l04116"></a>04116     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04117"></a>04117 
<a name="l04118"></a>04118     <span class="keywordflow">if</span> (prop)
<a name="l04119"></a>04119         <a class="code" href="../../d3/d10/rna__access_8c.html#a007e3f02d7d262b9cf7865abd6647db3">RNA_property_boolean_set</a>(ptr, prop, value);
<a name="l04120"></a>04120     <span class="keywordflow">else</span>
<a name="l04121"></a>04121         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04122"></a>04122 }
<a name="l04123"></a>04123 
<a name="l04124"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aa6f877dbceba4351370022e29f70d05c">04124</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aa6f877dbceba4351370022e29f70d05c">RNA_boolean_get_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keywordtype">int</span> *values)
<a name="l04125"></a>04125 {
<a name="l04126"></a>04126     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04127"></a>04127 
<a name="l04128"></a>04128     <span class="keywordflow">if</span> (prop)
<a name="l04129"></a>04129         <a class="code" href="../../d3/d10/rna__access_8c.html#af3af416215c3d866744c965e6d4faa10">RNA_property_boolean_get_array</a>(ptr, prop, values);
<a name="l04130"></a>04130     <span class="keywordflow">else</span>
<a name="l04131"></a>04131         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04132"></a>04132 }
<a name="l04133"></a>04133 
<a name="l04134"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a2ea1f2b49c7ca763d10ac478196863e7">04134</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a2ea1f2b49c7ca763d10ac478196863e7">RNA_boolean_set_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keyword">const</span> <span class="keywordtype">int</span> *values)
<a name="l04135"></a>04135 {
<a name="l04136"></a>04136     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04137"></a>04137 
<a name="l04138"></a>04138     <span class="keywordflow">if</span> (prop)
<a name="l04139"></a>04139         <a class="code" href="../../d3/d10/rna__access_8c.html#a131f6d2a8690b568ccb41f7311d007d7">RNA_property_boolean_set_array</a>(ptr, prop, values);
<a name="l04140"></a>04140     <span class="keywordflow">else</span>
<a name="l04141"></a>04141         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04142"></a>04142 }
<a name="l04143"></a>04143 
<a name="l04144"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a852d694fd9e9dbdc92b6a6608e3a73ef">04144</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a852d694fd9e9dbdc92b6a6608e3a73ef">RNA_int_get</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>)
<a name="l04145"></a>04145 {
<a name="l04146"></a>04146     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04147"></a>04147 
<a name="l04148"></a>04148     <span class="keywordflow">if</span> (prop) {
<a name="l04149"></a>04149         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a7755e74d78f50e508966f2af17f7523e">RNA_property_int_get</a>(ptr, prop);
<a name="l04150"></a>04150     }
<a name="l04151"></a>04151     <span class="keywordflow">else</span> {
<a name="l04152"></a>04152         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04153"></a>04153         <span class="keywordflow">return</span> 0;
<a name="l04154"></a>04154     }
<a name="l04155"></a>04155 }
<a name="l04156"></a>04156 
<a name="l04157"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a55040b7e90ed07022f7a82575f3b3e1d">04157</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a55040b7e90ed07022f7a82575f3b3e1d">RNA_int_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keywordtype">int</span> value)
<a name="l04158"></a>04158 {
<a name="l04159"></a>04159     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04160"></a>04160 
<a name="l04161"></a>04161     <span class="keywordflow">if</span> (prop)
<a name="l04162"></a>04162         <a class="code" href="../../d3/d10/rna__access_8c.html#a0b521aa0072858134949f9639de7faff">RNA_property_int_set</a>(ptr, prop, value);
<a name="l04163"></a>04163     <span class="keywordflow">else</span>
<a name="l04164"></a>04164         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04165"></a>04165 }
<a name="l04166"></a>04166 
<a name="l04167"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a1b4f34d2a7327fff936fef0827f88c82">04167</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a1b4f34d2a7327fff936fef0827f88c82">RNA_int_get_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keywordtype">int</span> *values)
<a name="l04168"></a>04168 {
<a name="l04169"></a>04169     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04170"></a>04170 
<a name="l04171"></a>04171     <span class="keywordflow">if</span> (prop)
<a name="l04172"></a>04172         <a class="code" href="../../d3/d10/rna__access_8c.html#ac0cb05a00f819cc37d4c5eea29c101bd">RNA_property_int_get_array</a>(ptr, prop, values);
<a name="l04173"></a>04173     <span class="keywordflow">else</span>
<a name="l04174"></a>04174         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04175"></a>04175 }
<a name="l04176"></a>04176 
<a name="l04177"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a07d118fd9a475df360075da1d92f0c84">04177</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a07d118fd9a475df360075da1d92f0c84">RNA_int_set_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keyword">const</span> <span class="keywordtype">int</span> *values)
<a name="l04178"></a>04178 {
<a name="l04179"></a>04179     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04180"></a>04180 
<a name="l04181"></a>04181     <span class="keywordflow">if</span> (prop)
<a name="l04182"></a>04182         <a class="code" href="../../d3/d10/rna__access_8c.html#ab877ee5b31a7b931a427e2a1a0b55a4a">RNA_property_int_set_array</a>(ptr, prop, values);
<a name="l04183"></a>04183     <span class="keywordflow">else</span>
<a name="l04184"></a>04184         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04185"></a>04185 }
<a name="l04186"></a>04186 
<a name="l04187"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a99bfb3295a4df6fef29f16924fd24c79">04187</a> <span class="keywordtype">float</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a99bfb3295a4df6fef29f16924fd24c79">RNA_float_get</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>)
<a name="l04188"></a>04188 {
<a name="l04189"></a>04189     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04190"></a>04190 
<a name="l04191"></a>04191     <span class="keywordflow">if</span> (prop) {
<a name="l04192"></a>04192         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a01215512e696b97758a08e61833fb8bd">RNA_property_float_get</a>(ptr, prop);
<a name="l04193"></a>04193     }
<a name="l04194"></a>04194     <span class="keywordflow">else</span> {
<a name="l04195"></a>04195         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04196"></a>04196         <span class="keywordflow">return</span> 0;
<a name="l04197"></a>04197     }
<a name="l04198"></a>04198 }
<a name="l04199"></a>04199 
<a name="l04200"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aa36f2cf0133a312c322490ba0bff9b72">04200</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aa36f2cf0133a312c322490ba0bff9b72">RNA_float_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keywordtype">float</span> value)
<a name="l04201"></a>04201 {
<a name="l04202"></a>04202     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04203"></a>04203 
<a name="l04204"></a>04204     <span class="keywordflow">if</span> (prop)
<a name="l04205"></a>04205         <a class="code" href="../../d3/d10/rna__access_8c.html#abdb7455ec63efacab0c1d5b9fb25b0b0">RNA_property_float_set</a>(ptr, prop, value);
<a name="l04206"></a>04206     <span class="keywordflow">else</span>
<a name="l04207"></a>04207         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04208"></a>04208 }
<a name="l04209"></a>04209 
<a name="l04210"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a5d95f86ccce314676ae750034fb56709">04210</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a5d95f86ccce314676ae750034fb56709">RNA_float_get_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keywordtype">float</span> *values)
<a name="l04211"></a>04211 {
<a name="l04212"></a>04212     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04213"></a>04213 
<a name="l04214"></a>04214     <span class="keywordflow">if</span> (prop)
<a name="l04215"></a>04215         <a class="code" href="../../d3/d10/rna__access_8c.html#a151557228dae14af24d5e1b57495642b">RNA_property_float_get_array</a>(ptr, prop, values);
<a name="l04216"></a>04216     <span class="keywordflow">else</span>
<a name="l04217"></a>04217         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04218"></a>04218 }
<a name="l04219"></a>04219 
<a name="l04220"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ad8067a3fc34e361ac2283352ff2f906c">04220</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ad8067a3fc34e361ac2283352ff2f906c">RNA_float_set_array</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keyword">const</span> <span class="keywordtype">float</span> *values)
<a name="l04221"></a>04221 {
<a name="l04222"></a>04222     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04223"></a>04223 
<a name="l04224"></a>04224     <span class="keywordflow">if</span> (prop)
<a name="l04225"></a>04225         <a class="code" href="../../d3/d10/rna__access_8c.html#ab7ca0e1bc4c13dcd06cdd992ca60917f">RNA_property_float_set_array</a>(ptr, prop, values);
<a name="l04226"></a>04226     <span class="keywordflow">else</span>
<a name="l04227"></a>04227         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04228"></a>04228 }
<a name="l04229"></a>04229 
<a name="l04230"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#adf28976d740b269f80b747eb62fea6ce">04230</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#adf28976d740b269f80b747eb62fea6ce">RNA_enum_get</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>)
<a name="l04231"></a>04231 {
<a name="l04232"></a>04232     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04233"></a>04233 
<a name="l04234"></a>04234     <span class="keywordflow">if</span> (prop) {
<a name="l04235"></a>04235         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#abb4862291354aedcb2cc916f1c30642b">RNA_property_enum_get</a>(ptr, prop);
<a name="l04236"></a>04236     }
<a name="l04237"></a>04237     <span class="keywordflow">else</span> {
<a name="l04238"></a>04238         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04239"></a>04239         <span class="keywordflow">return</span> 0;
<a name="l04240"></a>04240     }
<a name="l04241"></a>04241 }
<a name="l04242"></a>04242 
<a name="l04243"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ad70d450cec9fe951de69b8c9128b8cc4">04243</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ad70d450cec9fe951de69b8c9128b8cc4">RNA_enum_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keywordtype">int</span> value)
<a name="l04244"></a>04244 {
<a name="l04245"></a>04245     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04246"></a>04246 
<a name="l04247"></a>04247     <span class="keywordflow">if</span> (prop)
<a name="l04248"></a>04248         <a class="code" href="../../d3/d10/rna__access_8c.html#a557c923d4a24b42363256f33a6fb9205">RNA_property_enum_set</a>(ptr, prop, value);
<a name="l04249"></a>04249     <span class="keywordflow">else</span>
<a name="l04250"></a>04250         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04251"></a>04251 }
<a name="l04252"></a>04252 
<a name="l04253"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a0e77331bfc275df4af69070ae1544b90">04253</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a0e77331bfc275df4af69070ae1544b90">RNA_enum_set_identifier</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span>)
<a name="l04254"></a>04254 {
<a name="l04255"></a>04255     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04256"></a>04256 
<a name="l04257"></a>04257     <span class="keywordflow">if</span> (prop) {
<a name="l04258"></a>04258         <span class="keywordtype">int</span> value;
<a name="l04259"></a>04259         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a8989b147a2429d31bd5efba4e788c1e6">RNA_property_enum_value</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, ptr, prop, <span class="keywordtype">id</span>, &amp;value))
<a name="l04260"></a>04260             <a class="code" href="../../d3/d10/rna__access_8c.html#a557c923d4a24b42363256f33a6fb9205">RNA_property_enum_set</a>(ptr, prop, value);
<a name="l04261"></a>04261         <span class="keywordflow">else</span>
<a name="l04262"></a>04262             printf(<span class="stringliteral">&quot;%s: %s.%s has no enum id &#39;%s&#39;.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name, <span class="keywordtype">id</span>);
<a name="l04263"></a>04263     }
<a name="l04264"></a>04264     <span class="keywordflow">else</span> {
<a name="l04265"></a>04265         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04266"></a>04266     }
<a name="l04267"></a>04267 }
<a name="l04268"></a>04268 
<a name="l04269"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a7747c72da2a42f6c935eae1c6ddf9b0d">04269</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ae026212818f00ada2a6dd35886eff3fd">RNA_enum_is_equal</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *enumname)
<a name="l04270"></a>04270 {
<a name="l04271"></a>04271     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04272"></a>04272     <a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *item;
<a name="l04273"></a>04273     <span class="keywordtype">int</span> free;
<a name="l04274"></a>04274 
<a name="l04275"></a>04275     <span class="keywordflow">if</span> (prop) {
<a name="l04276"></a>04276         <a class="code" href="../../d3/d10/rna__access_8c.html#a6aa91339201dc8ef93a61ee60bd8099e">RNA_property_enum_items</a>(C, ptr, prop, &amp;item, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;free);
<a name="l04277"></a>04277 
<a name="l04278"></a>04278         <span class="keywordflow">for</span> (; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>; item++)
<a name="l04279"></a>04279             <span class="keywordflow">if</span> (strcmp(item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>, enumname) == 0)
<a name="l04280"></a>04280                 <span class="keywordflow">return</span> (item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a> == <a class="code" href="../../d3/d10/rna__access_8c.html#abb4862291354aedcb2cc916f1c30642b">RNA_property_enum_get</a>(ptr, prop));
<a name="l04281"></a>04281 
<a name="l04282"></a>04282         <span class="keywordflow">if</span> (free)
<a name="l04283"></a>04283             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(item);
<a name="l04284"></a>04284 
<a name="l04285"></a>04285         printf(<span class="stringliteral">&quot;%s: %s.%s item %s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name, enumname);
<a name="l04286"></a>04286         <span class="keywordflow">return</span> 0;
<a name="l04287"></a>04287     }
<a name="l04288"></a>04288     <span class="keywordflow">else</span> {
<a name="l04289"></a>04289         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04290"></a>04290         <span class="keywordflow">return</span> 0;
<a name="l04291"></a>04291     }
<a name="l04292"></a>04292 }
<a name="l04293"></a>04293 
<a name="l04294"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a37e45129f24413ebd6e0f648988f1599">04294</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a37e45129f24413ebd6e0f648988f1599">RNA_enum_value_from_id</a>(<a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *item, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier, <span class="keywordtype">int</span> *value)
<a name="l04295"></a>04295 {
<a name="l04296"></a>04296     <span class="keywordflow">for</span> ( ; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>; item++) {
<a name="l04297"></a>04297         <span class="keywordflow">if</span> (strcmp(item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>, identifier) == 0) {
<a name="l04298"></a>04298             *value = item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a>;
<a name="l04299"></a>04299             <span class="keywordflow">return</span> 1;
<a name="l04300"></a>04300         }
<a name="l04301"></a>04301     }
<a name="l04302"></a>04302     
<a name="l04303"></a>04303     <span class="keywordflow">return</span> 0;
<a name="l04304"></a>04304 }
<a name="l04305"></a>04305 
<a name="l04306"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a04f9c1d6202fccb2bfc6b2991a5896f1">04306</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a04f9c1d6202fccb2bfc6b2991a5896f1">RNA_enum_id_from_value</a>(<a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *item, <span class="keywordtype">int</span> value, <span class="keyword">const</span> <span class="keywordtype">char</span> **identifier)
<a name="l04307"></a>04307 {
<a name="l04308"></a>04308     <span class="keywordflow">for</span> ( ; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>; item++) {
<a name="l04309"></a>04309         <span class="keywordflow">if</span> (item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a> == value) {
<a name="l04310"></a>04310             *identifier = item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>;
<a name="l04311"></a>04311             <span class="keywordflow">return</span> 1;
<a name="l04312"></a>04312         }
<a name="l04313"></a>04313     }
<a name="l04314"></a>04314 
<a name="l04315"></a>04315     <span class="keywordflow">return</span> 0;
<a name="l04316"></a>04316 }
<a name="l04317"></a>04317 
<a name="l04318"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a88794ed4a738cdb08b1d8649d246dc89">04318</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a88794ed4a738cdb08b1d8649d246dc89">RNA_enum_icon_from_value</a>(<a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *item, <span class="keywordtype">int</span> value, <span class="keywordtype">int</span> *icon)
<a name="l04319"></a>04319 {
<a name="l04320"></a>04320     <span class="keywordflow">for</span> ( ; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>; item++) {
<a name="l04321"></a>04321         <span class="keywordflow">if</span> (item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a> == value) {
<a name="l04322"></a>04322             *icon = item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#ae38fe62a960118663d463fffdbc42512">icon</a>;
<a name="l04323"></a>04323             <span class="keywordflow">return</span> 1;
<a name="l04324"></a>04324         }
<a name="l04325"></a>04325     }
<a name="l04326"></a>04326     
<a name="l04327"></a>04327     <span class="keywordflow">return</span> 0;
<a name="l04328"></a>04328 }
<a name="l04329"></a>04329 
<a name="l04330"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a810e909d61281bbb2d9fe99f9f2219ab">04330</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a810e909d61281bbb2d9fe99f9f2219ab">RNA_string_get</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keywordtype">char</span> *value)
<a name="l04331"></a>04331 {
<a name="l04332"></a>04332     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04333"></a>04333 
<a name="l04334"></a>04334     <span class="keywordflow">if</span> (prop) {
<a name="l04335"></a>04335         <a class="code" href="../../d3/d10/rna__access_8c.html#a8cce1c1663f01ef0d74eb346bc9d445f">RNA_property_string_get</a>(ptr, prop, value);
<a name="l04336"></a>04336     }
<a name="l04337"></a>04337     <span class="keywordflow">else</span> {
<a name="l04338"></a>04338         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04339"></a>04339         value[0] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l04340"></a>04340     }
<a name="l04341"></a>04341 }
<a name="l04342"></a>04342 
<a name="l04343"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#afeb202c69e280217f90b9504ad559876">04343</a> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#afeb202c69e280217f90b9504ad559876">RNA_string_get_alloc</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keywordtype">char</span> *fixedbuf, <span class="keywordtype">int</span> fixedlen)
<a name="l04344"></a>04344 {
<a name="l04345"></a>04345     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04346"></a>04346 
<a name="l04347"></a>04347     <span class="keywordflow">if</span> (prop) {
<a name="l04348"></a>04348         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a6751615b211d7dd06640353d53198040">RNA_property_string_get_alloc</a>(ptr, prop, fixedbuf, fixedlen, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); <span class="comment">/* TODO, pass length */</span>
<a name="l04349"></a>04349     }
<a name="l04350"></a>04350     <span class="keywordflow">else</span> {
<a name="l04351"></a>04351         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04352"></a>04352         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04353"></a>04353     }
<a name="l04354"></a>04354 }
<a name="l04355"></a>04355 
<a name="l04356"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aa4d15be9e4e8b9266dfed329e5ca5434">04356</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aa4d15be9e4e8b9266dfed329e5ca5434">RNA_string_length</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>)
<a name="l04357"></a>04357 {
<a name="l04358"></a>04358     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04359"></a>04359 
<a name="l04360"></a>04360     <span class="keywordflow">if</span> (prop) {
<a name="l04361"></a>04361         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aea417df0ab60bb8ec13b115fb77d7a6e">RNA_property_string_length</a>(ptr, prop);
<a name="l04362"></a>04362     }
<a name="l04363"></a>04363     <span class="keywordflow">else</span> {
<a name="l04364"></a>04364         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04365"></a>04365         <span class="keywordflow">return</span> 0;
<a name="l04366"></a>04366     }
<a name="l04367"></a>04367 }
<a name="l04368"></a>04368 
<a name="l04369"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a229b9421e0a1d2e5fd079ec933a2d6f5">04369</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a229b9421e0a1d2e5fd079ec933a2d6f5">RNA_string_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *value)
<a name="l04370"></a>04370 {
<a name="l04371"></a>04371     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04372"></a>04372 
<a name="l04373"></a>04373     <span class="keywordflow">if</span> (prop)
<a name="l04374"></a>04374         <a class="code" href="../../d3/d10/rna__access_8c.html#afce4fb987ac5a876e33a51d1b5cc2d6a">RNA_property_string_set</a>(ptr, prop, value);
<a name="l04375"></a>04375     <span class="keywordflow">else</span>
<a name="l04376"></a>04376         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04377"></a>04377 }
<a name="l04378"></a>04378 
<a name="l04379"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a243277576891ecaf204382563ed46364">04379</a> <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> <a class="code" href="../../d3/d10/rna__access_8c.html#a243277576891ecaf204382563ed46364">RNA_pointer_get</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>)
<a name="l04380"></a>04380 {
<a name="l04381"></a>04381     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04382"></a>04382 
<a name="l04383"></a>04383     <span class="keywordflow">if</span> (prop) {
<a name="l04384"></a>04384         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a575c543a2a1f509f371bc1cee4fbe4d7">RNA_property_pointer_get</a>(ptr, prop);
<a name="l04385"></a>04385     }
<a name="l04386"></a>04386     <span class="keywordflow">else</span> {
<a name="l04387"></a>04387         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04388"></a>04388 
<a name="l04389"></a>04389         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a528bfdf8e4f3178d59d7ccd394166d20">PointerRNA_NULL</a>;
<a name="l04390"></a>04390     }
<a name="l04391"></a>04391 }
<a name="l04392"></a>04392 
<a name="l04393"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a2bd2375efa3f1e3b240387bfcf80f36d">04393</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a2bd2375efa3f1e3b240387bfcf80f36d">RNA_pointer_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> ptr_value)
<a name="l04394"></a>04394 {
<a name="l04395"></a>04395     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04396"></a>04396 
<a name="l04397"></a>04397     <span class="keywordflow">if</span> (prop) {
<a name="l04398"></a>04398         <a class="code" href="../../d3/d10/rna__access_8c.html#adafe00269e3f01d8a6182040597fd020">RNA_property_pointer_set</a>(ptr, prop, ptr_value);
<a name="l04399"></a>04399     }
<a name="l04400"></a>04400     <span class="keywordflow">else</span> {
<a name="l04401"></a>04401         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04402"></a>04402     }
<a name="l04403"></a>04403 }
<a name="l04404"></a>04404 
<a name="l04405"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a44ca39ddeaa14b171dcc13623bdeea34">04405</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a44ca39ddeaa14b171dcc13623bdeea34">RNA_pointer_add</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>)
<a name="l04406"></a>04406 {
<a name="l04407"></a>04407     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04408"></a>04408 
<a name="l04409"></a>04409     <span class="keywordflow">if</span> (prop)
<a name="l04410"></a>04410         <a class="code" href="../../d3/d10/rna__access_8c.html#a5395100755d712c9fb3c5307fe72c19e">RNA_property_pointer_add</a>(ptr, prop);
<a name="l04411"></a>04411     <span class="keywordflow">else</span>
<a name="l04412"></a>04412         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04413"></a>04413 }
<a name="l04414"></a>04414 
<a name="l04415"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aa8945827810283ccef9beb80a6f68d79">04415</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aa8945827810283ccef9beb80a6f68d79">RNA_collection_begin</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> *iter)
<a name="l04416"></a>04416 {
<a name="l04417"></a>04417     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04418"></a>04418 
<a name="l04419"></a>04419     <span class="keywordflow">if</span> (prop)
<a name="l04420"></a>04420         <a class="code" href="../../d3/d10/rna__access_8c.html#a4f618909376e31da97334bded1fb7994">RNA_property_collection_begin</a>(ptr, prop, iter);
<a name="l04421"></a>04421     <span class="keywordflow">else</span>
<a name="l04422"></a>04422         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04423"></a>04423 }
<a name="l04424"></a>04424 
<a name="l04425"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a79f02ed37d6dff0e7fd3a13eed9c5c4f">04425</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a79f02ed37d6dff0e7fd3a13eed9c5c4f">RNA_collection_add</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *r_value)
<a name="l04426"></a>04426 {
<a name="l04427"></a>04427     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04428"></a>04428 
<a name="l04429"></a>04429     <span class="keywordflow">if</span> (prop)
<a name="l04430"></a>04430         <a class="code" href="../../d3/d10/rna__access_8c.html#aab8b3b9833568a452d4052f3f66288bb">RNA_property_collection_add</a>(ptr, prop, r_value);
<a name="l04431"></a>04431     <span class="keywordflow">else</span>
<a name="l04432"></a>04432         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04433"></a>04433 }
<a name="l04434"></a>04434 
<a name="l04435"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a3c8de8c476bbc5b7516cf85fddb7f88d">04435</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a3c8de8c476bbc5b7516cf85fddb7f88d">RNA_collection_clear</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>)
<a name="l04436"></a>04436 {
<a name="l04437"></a>04437     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04438"></a>04438 
<a name="l04439"></a>04439     <span class="keywordflow">if</span> (prop)
<a name="l04440"></a>04440         <a class="code" href="../../d3/d10/rna__access_8c.html#ad0a799f6d6cfab002d3c7fe2fd188088">RNA_property_collection_clear</a>(ptr, prop);
<a name="l04441"></a>04441     <span class="keywordflow">else</span>
<a name="l04442"></a>04442         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04443"></a>04443 }
<a name="l04444"></a>04444 
<a name="l04445"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a24cc024625d28577d9a692e654fbbbb3">04445</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a24cc024625d28577d9a692e654fbbbb3">RNA_collection_length</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/d08/structIDP__Chain.html#ab38a1882b5f68bcdd4b364976ea69a80">name</a>)
<a name="l04446"></a>04446 {
<a name="l04447"></a>04447     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, name);
<a name="l04448"></a>04448 
<a name="l04449"></a>04449     <span class="keywordflow">if</span> (prop) {
<a name="l04450"></a>04450         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#afa268ad0fdaa32bbbf52be74426bfbd6">RNA_property_collection_length</a>(ptr, prop);
<a name="l04451"></a>04451     }
<a name="l04452"></a>04452     <span class="keywordflow">else</span> {
<a name="l04453"></a>04453         printf(<span class="stringliteral">&quot;%s: %s.%s not found.\n&quot;</span>, __func__, ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, name);
<a name="l04454"></a>04454         <span class="keywordflow">return</span> 0;
<a name="l04455"></a>04455     }
<a name="l04456"></a>04456 }
<a name="l04457"></a>04457 
<a name="l04458"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aea62b52ab1ded987e5f473c820a26fd8">04458</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aea62b52ab1ded987e5f473c820a26fd8">RNA_property_is_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l04459"></a>04459 {
<a name="l04460"></a>04460     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>) {
<a name="l04461"></a>04461         <a class="code" href="../../df/d42/structIDProperty.html">IDProperty</a> *idprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a324eb44149f175c8eff17bf9b0b6bf94">rna_idproperty_find</a>(ptr, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l04462"></a>04462         <span class="keywordflow">return</span> ((idprop != <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; !(idprop-&gt;<a class="code" href="../../df/d42/structIDProperty.html#a08c840175d6551e2d7f8fb564729fad7">flag</a> &amp; <a class="code" href="../../d3/dfb/DNA__ID_8h.html#ab3fe456283e35aa75a314fa16103444a">IDP_FLAG_GHOST</a>));
<a name="l04463"></a>04463     }
<a name="l04464"></a>04464     <span class="keywordflow">else</span> {
<a name="l04465"></a>04465         <span class="keywordflow">return</span> 1;
<a name="l04466"></a>04466     }
<a name="l04467"></a>04467 }
<a name="l04468"></a>04468 
<a name="l04469"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a6134701e8798d50496b725c9cb1b6868">04469</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a6134701e8798d50496b725c9cb1b6868">RNA_struct_property_is_set</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier)
<a name="l04470"></a>04470 {
<a name="l04471"></a>04471     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr, identifier);
<a name="l04472"></a>04472 
<a name="l04473"></a>04473     <span class="keywordflow">if</span> (prop) {
<a name="l04474"></a>04474         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aea62b52ab1ded987e5f473c820a26fd8">RNA_property_is_set</a>(ptr, prop);
<a name="l04475"></a>04475     }
<a name="l04476"></a>04476     <span class="keywordflow">else</span> {
<a name="l04477"></a>04477         <span class="comment">/* python raises an error */</span>
<a name="l04478"></a>04478         <span class="comment">/* printf(&quot;%s: %s.%s not found.\n&quot;, __func__, ptr-&gt;type-&gt;identifier, name); */</span>
<a name="l04479"></a>04479         <span class="keywordflow">return</span> 0;
<a name="l04480"></a>04480     }
<a name="l04481"></a>04481 }
<a name="l04482"></a>04482 
<a name="l04483"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#af9ada66b45a954f166cc34065819b7a5">04483</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#af9ada66b45a954f166cc34065819b7a5">RNA_property_is_idprop</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l04484"></a>04484 {
<a name="l04485"></a>04485     <span class="keywordflow">return</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a> != <a class="code" href="../../d1/d29/rna__internal_8h.html#ae0c11f0a58b3bc2e34b1b2e6acacd8fb">RNA_MAGIC</a>);
<a name="l04486"></a>04486 }
<a name="l04487"></a>04487 
<a name="l04488"></a>04488 <span class="comment">/* string representation of a property, python</span>
<a name="l04489"></a>04489 <span class="comment"> * compatible but can be used for display too,</span>
<a name="l04490"></a>04490 <span class="comment"> * context may be NULL */</span>
<a name="l04491"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ad7aa359a99b0324d764525b8fa9aae6c">04491</a> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#ae7b84af210b47aa83ea9101a28374b8c">RNA_pointer_as_string</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr)
<a name="l04492"></a>04492 {
<a name="l04493"></a>04493     <a class="code" href="../../d4/de5/structDynStr.html">DynStr</a> *dynstr = <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#ae83ee20abb290558ce2e8f151ed54227">BLI_dynstr_new</a>();
<a name="l04494"></a>04494     <span class="keywordtype">char</span> *cstring;
<a name="l04495"></a>04495     
<a name="l04496"></a>04496     <span class="keyword">const</span> <span class="keywordtype">char</span> *propname;
<a name="l04497"></a>04497     <span class="keywordtype">int</span> first_time = 1;
<a name="l04498"></a>04498     
<a name="l04499"></a>04499     <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;{&quot;</span>);
<a name="l04500"></a>04500     
<a name="l04501"></a>04501     <a class="code" href="../../de/ddf/RNA__access_8h.html#a0969a790d2bade8d53b911a425188202">RNA_STRUCT_BEGIN</a>(ptr, prop) {
<a name="l04502"></a>04502         propname = <a class="code" href="../../d3/d10/rna__access_8c.html#ad6f3c9684a8786587872fc6baf17dfc9">RNA_property_identifier</a>(prop);
<a name="l04503"></a>04503         
<a name="l04504"></a>04504         <span class="keywordflow">if</span> (strcmp(propname, <span class="stringliteral">&quot;rna_type&quot;</span>) == 0)
<a name="l04505"></a>04505             <span class="keywordflow">continue</span>;
<a name="l04506"></a>04506         
<a name="l04507"></a>04507         <span class="keywordflow">if</span> (first_time == 0)
<a name="l04508"></a>04508             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l04509"></a>04509         first_time = 0;
<a name="l04510"></a>04510         
<a name="l04511"></a>04511         cstring = <a class="code" href="../../d3/d10/rna__access_8c.html#a437e960686c04643e447eb84cf72ca23">RNA_property_as_string</a>(C, ptr, prop);
<a name="l04512"></a>04512         <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a5220af66d1325c122e7276140580b873">BLI_dynstr_appendf</a>(dynstr, <span class="stringliteral">&quot;\&quot;%s\&quot;:%s&quot;</span>, propname, cstring);
<a name="l04513"></a>04513         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(cstring);
<a name="l04514"></a>04514     }
<a name="l04515"></a>04515     <a class="code" href="../../de/ddf/RNA__access_8h.html#a187bb3c525d1f0717e3c27837eaae8e1">RNA_STRUCT_END</a>;
<a name="l04516"></a>04516 
<a name="l04517"></a>04517     <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;}&quot;</span>);
<a name="l04518"></a>04518     
<a name="l04519"></a>04519     
<a name="l04520"></a>04520     cstring = <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a4ec5498b239c83c6657f206d2f2f4968">BLI_dynstr_get_cstring</a>(dynstr);
<a name="l04521"></a>04521     <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a3687f0d324bc2026a013872ce32d157a">BLI_dynstr_free</a>(dynstr);
<a name="l04522"></a>04522     <span class="keywordflow">return</span> cstring;
<a name="l04523"></a>04523 }
<a name="l04524"></a>04524 
<a name="l04525"></a>04525 
<a name="l04526"></a>04526 <span class="comment">/* context and ptr_default can be NULL */</span>
<a name="l04527"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a2adb1859cc39864bbb0e0d87362b1896">04527</a> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a1a6cd3b9c5a755589d49f144e2cdc08d">RNA_pointer_as_string_keywords_ex</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr_default,
<a name="l04528"></a>04528                                         <span class="keyword">const</span> <span class="keywordtype">short</span> as_function, <span class="keyword">const</span> <span class="keywordtype">short</span> all_args,
<a name="l04529"></a>04529                                         <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *iterprop)
<a name="l04530"></a>04530 {
<a name="l04531"></a>04531     <span class="keyword">const</span> <span class="keywordtype">char</span> *arg_name = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04532"></a>04532 
<a name="l04533"></a>04533     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop;
<a name="l04534"></a>04534 
<a name="l04535"></a>04535     <a class="code" href="../../d4/de5/structDynStr.html">DynStr</a> *dynstr = <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#ae83ee20abb290558ce2e8f151ed54227">BLI_dynstr_new</a>();
<a name="l04536"></a>04536     <span class="keywordtype">char</span> *cstring, *buf;
<a name="l04537"></a>04537     <span class="keywordtype">int</span> first_iter = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>, ok = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l04538"></a>04538     <span class="keywordtype">int</span> flag;
<a name="l04539"></a>04539 
<a name="l04540"></a>04540     <span class="comment">/* only to get the orginal props for comparisons */</span>
<a name="l04541"></a>04541     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop_default;
<a name="l04542"></a>04542     <span class="keywordtype">char</span> *buf_default;
<a name="l04543"></a>04543 
<a name="l04544"></a>04544     <a class="code" href="../../de/ddf/RNA__access_8h.html#a56f71b443d06f31f83fe3dfdf07fd4c4">RNA_PROP_BEGIN</a>(ptr, propptr, iterprop) {
<a name="l04545"></a>04545         prop = propptr.data;
<a name="l04546"></a>04546 
<a name="l04547"></a>04547         flag = <a class="code" href="../../d3/d10/rna__access_8c.html#a977a3c85a8d6d0a8b126e99a4955c634">RNA_property_flag</a>(prop);
<a name="l04548"></a>04548 
<a name="l04549"></a>04549         <span class="keywordflow">if</span> (as_function &amp;&amp; (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af756c66a992455155baf9febc96b857f">PROP_OUTPUT</a>)) {
<a name="l04550"></a>04550             <span class="keywordflow">continue</span>;
<a name="l04551"></a>04551         }
<a name="l04552"></a>04552 
<a name="l04553"></a>04553         arg_name = <a class="code" href="../../d3/d10/rna__access_8c.html#ad6f3c9684a8786587872fc6baf17dfc9">RNA_property_identifier</a>(prop);
<a name="l04554"></a>04554 
<a name="l04555"></a>04555         <span class="keywordflow">if</span> (strcmp(arg_name, <span class="stringliteral">&quot;rna_type&quot;</span>) == 0) {
<a name="l04556"></a>04556             <span class="keywordflow">continue</span>;
<a name="l04557"></a>04557         }
<a name="l04558"></a>04558 
<a name="l04559"></a>04559         <span class="keywordflow">if</span> (as_function &amp;&amp; (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a8ced6b2c2bdd10488b4ee95d770c89f7">PROP_REQUIRED</a>)) {
<a name="l04560"></a>04560             <span class="comment">/* required args don&#39;t have useful defaults */</span>
<a name="l04561"></a>04561             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a5220af66d1325c122e7276140580b873">BLI_dynstr_appendf</a>(dynstr, first_iter ? <span class="stringliteral">&quot;%s&quot;</span>:<span class="stringliteral">&quot;, %s&quot;</span>, arg_name);
<a name="l04562"></a>04562             first_iter = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l04563"></a>04563         }
<a name="l04564"></a>04564         <span class="keywordflow">else</span> {
<a name="l04565"></a>04565             <span class="keywordflow">if</span> (as_function &amp;&amp; <a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>) {
<a name="l04566"></a>04566                 <span class="comment">/* don&#39;t expand pointers for functions */</span>
<a name="l04567"></a>04567                 <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a5def8c59b8ee9008946cf4314433b69a">PROP_NEVER_NULL</a>) {
<a name="l04568"></a>04568                     <span class="comment">/* we cant really do the right thing here. arg=arg?, hrmf! */</span>
<a name="l04569"></a>04569                     buf = <a class="code" href="../../d3/db3/BLI__string_8h.html#a45da837b000b29e7937f81c37bfbf72e">BLI_strdup</a>(arg_name);
<a name="l04570"></a>04570                 }
<a name="l04571"></a>04571                 <span class="keywordflow">else</span> {
<a name="l04572"></a>04572                     buf = <a class="code" href="../../d3/db3/BLI__string_8h.html#a45da837b000b29e7937f81c37bfbf72e">BLI_strdup</a>(<span class="stringliteral">&quot;None&quot;</span>);
<a name="l04573"></a>04573                 }
<a name="l04574"></a>04574             }
<a name="l04575"></a>04575             <span class="keywordflow">else</span> {
<a name="l04576"></a>04576                 buf = <a class="code" href="../../d3/d10/rna__access_8c.html#a437e960686c04643e447eb84cf72ca23">RNA_property_as_string</a>(C, ptr, prop);
<a name="l04577"></a>04577             }
<a name="l04578"></a>04578 
<a name="l04579"></a>04579             ok = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l04580"></a>04580 
<a name="l04581"></a>04581             <span class="keywordflow">if</span> (all_args == <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a> &amp;&amp; ptr_default) {
<a name="l04582"></a>04582                 <span class="comment">/* not verbose, so only add in attributes that use non-default values</span>
<a name="l04583"></a>04583 <span class="comment">                 * slow but good for tooltips */</span>
<a name="l04584"></a>04584                 prop_default = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(ptr_default, arg_name);
<a name="l04585"></a>04585 
<a name="l04586"></a>04586                 <span class="keywordflow">if</span> (prop_default) {
<a name="l04587"></a>04587                     buf_default = <a class="code" href="../../d3/d10/rna__access_8c.html#a437e960686c04643e447eb84cf72ca23">RNA_property_as_string</a>(C, ptr_default, prop_default);
<a name="l04588"></a>04588 
<a name="l04589"></a>04589                     <span class="keywordflow">if</span> (strcmp(buf, buf_default) == 0)
<a name="l04590"></a>04590                         ok = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* values match, don&#39;t bother printing */</span>
<a name="l04591"></a>04591 
<a name="l04592"></a>04592                     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(buf_default);
<a name="l04593"></a>04593                 }
<a name="l04594"></a>04594             }
<a name="l04595"></a>04595             <span class="keywordflow">if</span> (ok) {
<a name="l04596"></a>04596                 <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a5220af66d1325c122e7276140580b873">BLI_dynstr_appendf</a>(dynstr, first_iter ? <span class="stringliteral">&quot;%s=%s&quot;</span>:<span class="stringliteral">&quot;, %s=%s&quot;</span>, arg_name, buf);
<a name="l04597"></a>04597                 first_iter = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l04598"></a>04598             }
<a name="l04599"></a>04599 
<a name="l04600"></a>04600             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(buf);
<a name="l04601"></a>04601         }
<a name="l04602"></a>04602     }
<a name="l04603"></a>04603     <a class="code" href="../../de/ddf/RNA__access_8h.html#a00c9cc0174c79826c145c3e235e2b689">RNA_PROP_END</a>;
<a name="l04604"></a>04604 
<a name="l04605"></a>04605     cstring = <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a4ec5498b239c83c6657f206d2f2f4968">BLI_dynstr_get_cstring</a>(dynstr);
<a name="l04606"></a>04606     <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a3687f0d324bc2026a013872ce32d157a">BLI_dynstr_free</a>(dynstr);
<a name="l04607"></a>04607     <span class="keywordflow">return</span> cstring;
<a name="l04608"></a>04608 }
<a name="l04609"></a>04609 
<a name="l04610"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a3cc0117a02028c6e805f9f17353c816c">04610</a> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a5cf1a70913734f5ff54cbb25a8cbecdf">RNA_pointer_as_string_keywords</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr_default,
<a name="l04611"></a>04611                                      <span class="keyword">const</span> <span class="keywordtype">short</span> as_function, <span class="keyword">const</span> <span class="keywordtype">short</span> all_args)
<a name="l04612"></a>04612 {
<a name="l04613"></a>04613     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *iterprop;
<a name="l04614"></a>04614 
<a name="l04615"></a>04615     iterprop = <a class="code" href="../../d3/d10/rna__access_8c.html#ae962a8cfab91f9848e59a0f2b2401816">RNA_struct_iterator_property</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>);
<a name="l04616"></a>04616 
<a name="l04617"></a>04617     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a1a6cd3b9c5a755589d49f144e2cdc08d">RNA_pointer_as_string_keywords_ex</a>(C, ptr, ptr_default, as_function, all_args,
<a name="l04618"></a>04618                                              iterprop);
<a name="l04619"></a>04619 }
<a name="l04620"></a>04620 
<a name="l04621"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a61f5cefd885dfc96885de655497549a7">04621</a> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#ae17af596fa33f8609ab19f4d205d92ba">RNA_function_as_string_keywords</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr_default,
<a name="l04622"></a>04622                                      <span class="keyword">const</span> <span class="keywordtype">short</span> as_function, <span class="keyword">const</span> <span class="keywordtype">short</span> all_args)
<a name="l04623"></a>04623 {
<a name="l04624"></a>04624     <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> funcptr;
<a name="l04625"></a>04625     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *iterprop;
<a name="l04626"></a>04626 
<a name="l04627"></a>04627     <a class="code" href="../../d3/d10/rna__access_8c.html#a1f8fb80da9a6450a51ab2e9b97264f01">RNA_pointer_create</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code" href="../../de/ddf/RNA__access_8h.html#a20ddb0aaad8606eaac527447220e3b55">RNA_Function</a>, func, &amp;funcptr);
<a name="l04628"></a>04628 
<a name="l04629"></a>04629     iterprop = <a class="code" href="../../d3/d10/rna__access_8c.html#a58253ea33cfb6f09202907a524090aab">RNA_struct_find_property</a>(&amp;funcptr, <span class="stringliteral">&quot;parameters&quot;</span>);
<a name="l04630"></a>04630 
<a name="l04631"></a>04631     <a class="code" href="../../d3/d10/rna__access_8c.html#ae962a8cfab91f9848e59a0f2b2401816">RNA_struct_iterator_property</a>(funcptr.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>);
<a name="l04632"></a>04632 
<a name="l04633"></a>04633     <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a1a6cd3b9c5a755589d49f144e2cdc08d">RNA_pointer_as_string_keywords_ex</a>(C, &amp;funcptr, ptr_default, as_function, all_args,
<a name="l04634"></a>04634                                              iterprop);
<a name="l04635"></a>04635 }
<a name="l04636"></a>04636 
<a name="l04637"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ad10d0c01bcf8473403724c78083257af">04637</a> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a437e960686c04643e447eb84cf72ca23">RNA_property_as_string</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l04638"></a>04638 {
<a name="l04639"></a>04639     <span class="keywordtype">int</span> type = <a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop);
<a name="l04640"></a>04640     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../d3/d10/rna__access_8c.html#aad51db9a31d245dba4ee1f50608f331c">RNA_property_array_length</a>(ptr, prop);
<a name="l04641"></a>04641     <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l04642"></a>04642 
<a name="l04643"></a>04643     <a class="code" href="../../d4/de5/structDynStr.html">DynStr</a> *dynstr = <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#ae83ee20abb290558ce2e8f151ed54227">BLI_dynstr_new</a>();
<a name="l04644"></a>04644     <span class="keywordtype">char</span> *cstring;
<a name="l04645"></a>04645     
<a name="l04646"></a>04646 
<a name="l04647"></a>04647     <span class="comment">/* see if we can coorce into a python type - PropertyType */</span>
<a name="l04648"></a>04648     <span class="keywordflow">switch</span> (type) {
<a name="l04649"></a>04649     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>:
<a name="l04650"></a>04650         <span class="keywordflow">if</span> (len == 0) {
<a name="l04651"></a>04651             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <a class="code" href="../../d3/d10/rna__access_8c.html#a3a4a0d200b12ded21d24676dcff67732">RNA_property_boolean_get</a>(ptr, prop) ? <span class="stringliteral">&quot;True&quot;</span> : <span class="stringliteral">&quot;False&quot;</span>);
<a name="l04652"></a>04652         }
<a name="l04653"></a>04653         <span class="keywordflow">else</span> {
<a name="l04654"></a>04654             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;(&quot;</span>);
<a name="l04655"></a>04655             <span class="keywordflow">for</span> (i = 0; i&lt;<a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>; i++) {
<a name="l04656"></a>04656                 <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a5220af66d1325c122e7276140580b873">BLI_dynstr_appendf</a>(dynstr, i ? <span class="stringliteral">&quot;, %s&quot;</span> : <span class="stringliteral">&quot;%s&quot;</span>,
<a name="l04657"></a>04657                                    <a class="code" href="../../d3/d10/rna__access_8c.html#acb4afecfe847861cf6ebf4593d2b42bf">RNA_property_boolean_get_index</a>(ptr, prop, i) ? <span class="stringliteral">&quot;True&quot;</span> : <span class="stringliteral">&quot;False&quot;</span>);
<a name="l04658"></a>04658             }
<a name="l04659"></a>04659             <span class="keywordflow">if</span> (len == 1)
<a name="l04660"></a>04660                 <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;,&quot;</span>); <span class="comment">/* otherwise python wont see it as a tuple */</span>
<a name="l04661"></a>04661             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;)&quot;</span>);
<a name="l04662"></a>04662         }
<a name="l04663"></a>04663         <span class="keywordflow">break</span>;
<a name="l04664"></a>04664     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>:
<a name="l04665"></a>04665         <span class="keywordflow">if</span> (len == 0) {
<a name="l04666"></a>04666             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a5220af66d1325c122e7276140580b873">BLI_dynstr_appendf</a>(dynstr, <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../d3/d10/rna__access_8c.html#a7755e74d78f50e508966f2af17f7523e">RNA_property_int_get</a>(ptr, prop));
<a name="l04667"></a>04667         }
<a name="l04668"></a>04668         <span class="keywordflow">else</span> {
<a name="l04669"></a>04669             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;(&quot;</span>);
<a name="l04670"></a>04670             <span class="keywordflow">for</span> (i = 0; i&lt;<a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>; i++) {
<a name="l04671"></a>04671                 <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a5220af66d1325c122e7276140580b873">BLI_dynstr_appendf</a>(dynstr, i?<span class="stringliteral">&quot;, %d&quot;</span>:<span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../d3/d10/rna__access_8c.html#a30c78968af88b29eca251317dfbbece5">RNA_property_int_get_index</a>(ptr, prop, i));
<a name="l04672"></a>04672             }
<a name="l04673"></a>04673             <span class="keywordflow">if</span> (len == 1)
<a name="l04674"></a>04674                 <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;,&quot;</span>); <span class="comment">/* otherwise python wont see it as a tuple */</span>
<a name="l04675"></a>04675             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;)&quot;</span>);
<a name="l04676"></a>04676         }
<a name="l04677"></a>04677         <span class="keywordflow">break</span>;
<a name="l04678"></a>04678     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>:
<a name="l04679"></a>04679         <span class="keywordflow">if</span> (len == 0) {
<a name="l04680"></a>04680             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a5220af66d1325c122e7276140580b873">BLI_dynstr_appendf</a>(dynstr, <span class="stringliteral">&quot;%g&quot;</span>, <a class="code" href="../../d3/d10/rna__access_8c.html#a01215512e696b97758a08e61833fb8bd">RNA_property_float_get</a>(ptr, prop));
<a name="l04681"></a>04681         }
<a name="l04682"></a>04682         <span class="keywordflow">else</span> {
<a name="l04683"></a>04683             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;(&quot;</span>);
<a name="l04684"></a>04684             <span class="keywordflow">for</span> (i = 0; i&lt;<a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>; i++) {
<a name="l04685"></a>04685                 <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a5220af66d1325c122e7276140580b873">BLI_dynstr_appendf</a>(dynstr, i?<span class="stringliteral">&quot;, %g&quot;</span>:<span class="stringliteral">&quot;%g&quot;</span>, <a class="code" href="../../d3/d10/rna__access_8c.html#a402f3a472211a6817b5c1165566e35da">RNA_property_float_get_index</a>(ptr, prop, i));
<a name="l04686"></a>04686             }
<a name="l04687"></a>04687             <span class="keywordflow">if</span> (len == 1)
<a name="l04688"></a>04688                 <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;,&quot;</span>); <span class="comment">/* otherwise python wont see it as a tuple */</span>
<a name="l04689"></a>04689             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;)&quot;</span>);
<a name="l04690"></a>04690         }
<a name="l04691"></a>04691         <span class="keywordflow">break</span>;
<a name="l04692"></a>04692     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>:
<a name="l04693"></a>04693     {
<a name="l04694"></a>04694         <span class="keywordtype">char</span> *buf_esc;
<a name="l04695"></a>04695         <span class="keywordtype">char</span> *buf;
<a name="l04696"></a>04696         <span class="keywordtype">int</span> <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>;
<a name="l04697"></a>04697 
<a name="l04698"></a>04698         length = <a class="code" href="../../d3/d10/rna__access_8c.html#aea417df0ab60bb8ec13b115fb77d7a6e">RNA_property_string_length</a>(ptr, prop);
<a name="l04699"></a>04699         buf = <a class="code" href="../../da/d2b/mallocn_8c.html#a2bfff00be1f0c49f1945b5d6f66af243">MEM_mallocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*(length+1), <span class="stringliteral">&quot;RNA_property_as_string&quot;</span>);
<a name="l04700"></a>04700         buf_esc = <a class="code" href="../../da/d2b/mallocn_8c.html#a2bfff00be1f0c49f1945b5d6f66af243">MEM_mallocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*(length*2+1), <span class="stringliteral">&quot;RNA_property_as_string esc&quot;</span>);
<a name="l04701"></a>04701         <a class="code" href="../../d3/d10/rna__access_8c.html#a8cce1c1663f01ef0d74eb346bc9d445f">RNA_property_string_get</a>(ptr, prop, buf);
<a name="l04702"></a>04702         <a class="code" href="../../d3/db3/BLI__string_8h.html#adfc8c66324e39ef22043f42e4bf3e6d4">BLI_strescape</a>(buf_esc, buf, length*2+1);
<a name="l04703"></a>04703         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(buf);
<a name="l04704"></a>04704         <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a5220af66d1325c122e7276140580b873">BLI_dynstr_appendf</a>(dynstr, <span class="stringliteral">&quot;\&quot;%s\&quot;&quot;</span>, buf_esc);
<a name="l04705"></a>04705         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(buf_esc);
<a name="l04706"></a>04706         <span class="keywordflow">break</span>;
<a name="l04707"></a>04707     }
<a name="l04708"></a>04708     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>:
<a name="l04709"></a>04709     {
<a name="l04710"></a>04710         <span class="comment">/* string arrays don&#39;t exist */</span>
<a name="l04711"></a>04711         <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier;
<a name="l04712"></a>04712         <span class="keywordtype">int</span> val = <a class="code" href="../../d3/d10/rna__access_8c.html#abb4862291354aedcb2cc916f1c30642b">RNA_property_enum_get</a>(ptr, prop);
<a name="l04713"></a>04713 
<a name="l04714"></a>04714         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a977a3c85a8d6d0a8b126e99a4955c634">RNA_property_flag</a>(prop) &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a4a6fd56ed59432e5f4c6f4e44b8b8599">PROP_ENUM_FLAG</a>) {
<a name="l04715"></a>04715             <span class="comment">/* represent as a python set */</span>
<a name="l04716"></a>04716             <span class="keywordflow">if</span> (val) {
<a name="l04717"></a>04717                 <a class="code" href="../../d1/d8a/structEnumPropertyItem.html">EnumPropertyItem</a> *item = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04718"></a>04718                 <span class="keywordtype">int</span> free;
<a name="l04719"></a>04719 
<a name="l04720"></a>04720                 <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;{&quot;</span>);
<a name="l04721"></a>04721 
<a name="l04722"></a>04722                 <a class="code" href="../../d3/d10/rna__access_8c.html#a6aa91339201dc8ef93a61ee60bd8099e">RNA_property_enum_items</a>(C, ptr, prop, &amp;item, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;free);
<a name="l04723"></a>04723                 <span class="keywordflow">if</span> (item) {
<a name="l04724"></a>04724                     <span class="keywordtype">short</span> is_first = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l04725"></a>04725                     <span class="keywordflow">for</span> (; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>; item++) {
<a name="l04726"></a>04726                         <span class="keywordflow">if</span> (item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>[0] &amp;&amp; item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a> &amp; val) {
<a name="l04727"></a>04727                             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a5220af66d1325c122e7276140580b873">BLI_dynstr_appendf</a>(dynstr, is_first ? <span class="stringliteral">&quot;&#39;%s&#39;&quot;</span> : <span class="stringliteral">&quot;, &#39;%s&#39;&quot;</span>, item-&gt;<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>);
<a name="l04728"></a>04728                             is_first = <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l04729"></a>04729                         }
<a name="l04730"></a>04730                     }
<a name="l04731"></a>04731 
<a name="l04732"></a>04732                     <span class="keywordflow">if</span> (free) {
<a name="l04733"></a>04733                         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(item);
<a name="l04734"></a>04734                     }
<a name="l04735"></a>04735                 }
<a name="l04736"></a>04736 
<a name="l04737"></a>04737                 <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;}&quot;</span>);
<a name="l04738"></a>04738             }
<a name="l04739"></a>04739             <span class="keywordflow">else</span> {
<a name="l04740"></a>04740                 <span class="comment">/* annoying exception, don&#39;t confuse with dictionary syntax above: {} */</span>
<a name="l04741"></a>04741                 <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;set()&quot;</span>);
<a name="l04742"></a>04742             }
<a name="l04743"></a>04743         }
<a name="l04744"></a>04744         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a24e76de3457df8fe4dd44da06fb05811">RNA_property_enum_identifier</a>(C, ptr, prop, val, &amp;identifier)) {
<a name="l04745"></a>04745             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a5220af66d1325c122e7276140580b873">BLI_dynstr_appendf</a>(dynstr, <span class="stringliteral">&quot;&#39;%s&#39;&quot;</span>, identifier);
<a name="l04746"></a>04746         }
<a name="l04747"></a>04747         <span class="keywordflow">else</span> {
<a name="l04748"></a>04748             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;&#39;&lt;UNKNOWN ENUM&gt;&#39;&quot;</span>);
<a name="l04749"></a>04749         }
<a name="l04750"></a>04750         <span class="keywordflow">break</span>;
<a name="l04751"></a>04751     }
<a name="l04752"></a>04752     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>:
<a name="l04753"></a>04753     {
<a name="l04754"></a>04754         <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> tptr = <a class="code" href="../../d3/d10/rna__access_8c.html#a575c543a2a1f509f371bc1cee4fbe4d7">RNA_property_pointer_get</a>(ptr, prop);
<a name="l04755"></a>04755         cstring = <a class="code" href="../../d3/d10/rna__access_8c.html#ae7b84af210b47aa83ea9101a28374b8c">RNA_pointer_as_string</a>(C, &amp;tptr);
<a name="l04756"></a>04756         <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, cstring);
<a name="l04757"></a>04757         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(cstring);
<a name="l04758"></a>04758         <span class="keywordflow">break</span>;
<a name="l04759"></a>04759     }
<a name="l04760"></a>04760     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>:
<a name="l04761"></a>04761     {
<a name="l04762"></a>04762         <span class="keywordtype">int</span> first_time = 1;
<a name="l04763"></a>04763         <a class="code" href="../../dd/d07/structCollectionPropertyIterator.html">CollectionPropertyIterator</a> collect_iter;
<a name="l04764"></a>04764         <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;[&quot;</span>);
<a name="l04765"></a>04765         
<a name="l04766"></a>04766         <span class="keywordflow">for</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a4f618909376e31da97334bded1fb7994">RNA_property_collection_begin</a>(ptr, prop, &amp;collect_iter); collect_iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#adf636b2bf44c292f935aae5436f5cc3e">valid</a>;
<a name="l04767"></a>04767              <a class="code" href="../../d3/d10/rna__access_8c.html#a786b29fd2755bb2c689152dca8bd5958">RNA_property_collection_next</a>(&amp;collect_iter)) {
<a name="l04768"></a>04768             <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> itemptr = collect_iter.<a class="code" href="../../dd/d07/structCollectionPropertyIterator.html#aa8eb884ef4c172ffaa42ce8369bcaffc">ptr</a>;
<a name="l04769"></a>04769             
<a name="l04770"></a>04770             <span class="keywordflow">if</span> (first_time == 0)
<a name="l04771"></a>04771                 <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l04772"></a>04772             first_time = 0;
<a name="l04773"></a>04773             
<a name="l04774"></a>04774             <span class="comment">/* now get every prop of the collection */</span>
<a name="l04775"></a>04775             cstring = <a class="code" href="../../d3/d10/rna__access_8c.html#ae7b84af210b47aa83ea9101a28374b8c">RNA_pointer_as_string</a>(C, &amp;itemptr);
<a name="l04776"></a>04776             <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, cstring);
<a name="l04777"></a>04777             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(cstring);
<a name="l04778"></a>04778         }
<a name="l04779"></a>04779         
<a name="l04780"></a>04780         <a class="code" href="../../d3/d10/rna__access_8c.html#ad52246262697932892515de6924d7aee">RNA_property_collection_end</a>(&amp;collect_iter);
<a name="l04781"></a>04781         <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;]&quot;</span>);
<a name="l04782"></a>04782         <span class="keywordflow">break</span>;
<a name="l04783"></a>04783     }
<a name="l04784"></a>04784     <span class="keywordflow">default</span>:
<a name="l04785"></a>04785         <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a55db0fd7c4f2fd5714777dbbd56238b4">BLI_dynstr_append</a>(dynstr, <span class="stringliteral">&quot;&#39;&lt;UNKNOWN TYPE&gt;&#39;&quot;</span>); <span class="comment">/* TODO */</span>
<a name="l04786"></a>04786         <span class="keywordflow">break</span>;
<a name="l04787"></a>04787     }
<a name="l04788"></a>04788 
<a name="l04789"></a>04789     cstring = <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a4ec5498b239c83c6657f206d2f2f4968">BLI_dynstr_get_cstring</a>(dynstr);
<a name="l04790"></a>04790     <a class="code" href="../../d7/dc9/BLI__dynstr_8h.html#a3687f0d324bc2026a013872ce32d157a">BLI_dynstr_free</a>(dynstr);
<a name="l04791"></a>04791     <span class="keywordflow">return</span> cstring;
<a name="l04792"></a>04792 }
<a name="l04793"></a>04793 
<a name="l04794"></a>04794 <span class="comment">/* Function */</span>
<a name="l04795"></a>04795 
<a name="l04796"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a07ec900326cf4818efbb897302a320e7">04796</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#a07ec900326cf4818efbb897302a320e7">RNA_function_identifier</a>(<a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func)
<a name="l04797"></a>04797 {
<a name="l04798"></a>04798     <span class="keywordflow">return</span> func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a31dbda90220cff3985c6ccdbb90171ab">identifier</a>;
<a name="l04799"></a>04799 }
<a name="l04800"></a>04800 
<a name="l04801"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#af1d2f6df00417f7d57a92ecc721a70df">04801</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d3/d10/rna__access_8c.html#af1d2f6df00417f7d57a92ecc721a70df">RNA_function_ui_description</a>(<a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func)
<a name="l04802"></a>04802 {
<a name="l04803"></a>04803     <span class="keywordflow">return</span> func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#ab23719cc61bd9f3102a10d8447da5fd1">description</a>;
<a name="l04804"></a>04804 }
<a name="l04805"></a>04805 
<a name="l04806"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a8d1a989a535520524424d7f09c57952d">04806</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a8d1a989a535520524424d7f09c57952d">RNA_function_flag</a>(<a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func)
<a name="l04807"></a>04807 {
<a name="l04808"></a>04808     <span class="keywordflow">return</span> func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a>;
<a name="l04809"></a>04809 }
<a name="l04810"></a>04810 
<a name="l04811"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a3a184de9f87a9265c80e90fd70ae832b">04811</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a3a184de9f87a9265c80e90fd70ae832b">RNA_function_defined</a>(<a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func)
<a name="l04812"></a>04812 {
<a name="l04813"></a>04813     <span class="keywordflow">return</span> func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a2e01b7dfa8833568f0fa7301effcea0a">call</a> != <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04814"></a>04814 }
<a name="l04815"></a>04815 
<a name="l04816"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a8d80e346ee13e9d3d7396579c8a5c363">04816</a> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a8d80e346ee13e9d3d7396579c8a5c363">RNA_function_get_parameter</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(ptr), <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func, <span class="keywordtype">int</span> <a class="code" href="../../d1/d08/structIDP__Chain.html#aec3fa61fdbb1c30196dfbdfb5c4b4441">index</a>)
<a name="l04817"></a>04817 {
<a name="l04818"></a>04818     <span class="keywordflow">return</span> <a class="code" href="../../d1/d3e/BLI__listbase_8h.html#a09f13df59d10774f0bcf69a054f9d865">BLI_findlink</a>(&amp;func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>, index);
<a name="l04819"></a>04819 }
<a name="l04820"></a>04820 
<a name="l04821"></a><a class="code" href="../../d3/d10/rna__access_8c.html#ad0d91313a4482393c76f4b137e585950">04821</a> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#ad0d91313a4482393c76f4b137e585950">RNA_function_find_parameter</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(ptr), <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier)
<a name="l04822"></a>04822 {
<a name="l04823"></a>04823     <span class="keywordflow">return</span> <a class="code" href="../../d1/d3e/BLI__listbase_8h.html#a07f40c87b9211c9d5fef01d4a4e9054d">BLI_findstring</a>(&amp;func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>, identifier, offsetof(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>, identifier));
<a name="l04824"></a>04824 }
<a name="l04825"></a>04825 
<a name="l04826"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#af108a9916d7376915efe795192908242">04826</a> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#af108a9916d7376915efe795192908242">RNA_function_defined_parameters</a>(<a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func)
<a name="l04827"></a>04827 {
<a name="l04828"></a>04828     <span class="keywordflow">return</span> &amp;func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>;
<a name="l04829"></a>04829 }
<a name="l04830"></a>04830 
<a name="l04831"></a>04831 <span class="comment">/* Utility */</span>
<a name="l04832"></a>04832 
<a name="l04833"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a3c1bf7ef082170354b5028f5eb9a5365">04833</a> <a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *<a class="code" href="../../d3/d10/rna__access_8c.html#a3c1bf7ef082170354b5028f5eb9a5365">RNA_parameter_list_create</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(ptr), <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func)
<a name="l04834"></a>04834 {
<a name="l04835"></a>04835     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *parm;
<a name="l04836"></a>04836     <span class="keywordtype">void</span> *<a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>;
<a name="l04837"></a>04837     <span class="keywordtype">int</span> alloc_size = 0, <a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a>;
<a name="l04838"></a>04838 
<a name="l04839"></a>04839     parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#aa4431aea9e9919dfa4661c0b16b614ab">arg_count</a> = 0;
<a name="l04840"></a>04840     parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#a44052d91cc92beeb64b949a855243061">ret_count</a> = 0;
<a name="l04841"></a>04841 
<a name="l04842"></a>04842     <span class="comment">/* allocate data */</span>
<a name="l04843"></a>04843     <span class="keywordflow">for</span> (parm = func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; parm; parm = parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>) {
<a name="l04844"></a>04844         alloc_size += <a class="code" href="../../dc/d7e/rna__define_8c.html#a439a0e735031237e76582033c8005611">rna_parameter_size_alloc</a>(parm);
<a name="l04845"></a>04845 
<a name="l04846"></a>04846         <span class="keywordflow">if</span> (parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af756c66a992455155baf9febc96b857f">PROP_OUTPUT</a>)
<a name="l04847"></a>04847             parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#a44052d91cc92beeb64b949a855243061">ret_count</a>++;
<a name="l04848"></a>04848         <span class="keywordflow">else</span>
<a name="l04849"></a>04849             parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#aa4431aea9e9919dfa4661c0b16b614ab">arg_count</a>++;
<a name="l04850"></a>04850     }
<a name="l04851"></a>04851 
<a name="l04852"></a>04852     parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#a77e351db6b3055e0038c0f289677855f">data</a> = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(alloc_size, <span class="stringliteral">&quot;RNA_parameter_list_create&quot;</span>);
<a name="l04853"></a>04853     parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#ae36dc5094be23ab46a32e7784177ec0c">func</a> = func;
<a name="l04854"></a>04854     parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#aa73cdab8ac8959e9fb0872e3929b0339">alloc_size</a> = alloc_size;
<a name="l04855"></a>04855 
<a name="l04856"></a>04856     <span class="comment">/* set default values */</span>
<a name="l04857"></a>04857     data = parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#a77e351db6b3055e0038c0f289677855f">data</a>;
<a name="l04858"></a>04858 
<a name="l04859"></a>04859     <span class="keywordflow">for</span> (parm = func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; parm; parm = parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>) {
<a name="l04860"></a>04860         <a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a> = <a class="code" href="../../dc/d7e/rna__define_8c.html#ab53dd1de42e42b3ea37800483595508a">rna_parameter_size</a>(parm);
<a name="l04861"></a>04861 
<a name="l04862"></a>04862         <span class="comment">/* set length to 0, these need to be set later, see bpy_array.c&#39;s py_to_array */</span>
<a name="l04863"></a>04863         <span class="keywordflow">if</span> (parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a2201e5526a5719021ae9f6641266bc62">PROP_DYNAMIC</a>) {
<a name="l04864"></a>04864             <a class="code" href="../../db/d4b/structParameterDynAlloc.html">ParameterDynAlloc</a> *data_alloc = <a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>;
<a name="l04865"></a>04865             data_alloc-&gt;<a class="code" href="../../db/d4b/structParameterDynAlloc.html#a7ab5692fadc6ab871f74dfa81e0a8690">array_tot</a> = 0;
<a name="l04866"></a>04866             data_alloc-&gt;<a class="code" href="../../db/d4b/structParameterDynAlloc.html#aa2b39dce62911214d2059fd6bfb21125">array</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04867"></a>04867         }
<a name="l04868"></a>04868         
<a name="l04869"></a>04869         <span class="keywordflow">if</span> (!(parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a8ced6b2c2bdd10488b4ee95d770c89f7">PROP_REQUIRED</a>) &amp;&amp; !(parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a2201e5526a5719021ae9f6641266bc62">PROP_DYNAMIC</a>)) {
<a name="l04870"></a>04870             <span class="keywordflow">switch</span> (parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>) {
<a name="l04871"></a>04871                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>:
<a name="l04872"></a>04872                     <span class="keywordflow">if</span> (parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>) memcpy(data, ((<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a>*)parm)-&gt;defaultarray, <a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a>);
<a name="l04873"></a>04873                     <span class="keywordflow">else</span> memcpy(data, &amp;((<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a>*)parm)-&gt;defaultvalue, <a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a>);
<a name="l04874"></a>04874                     <span class="keywordflow">break</span>;
<a name="l04875"></a>04875                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>:
<a name="l04876"></a>04876                     <span class="keywordflow">if</span> (parm-&gt;arraydimension) memcpy(data, ((<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)parm)-&gt;defaultarray, <a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a>);
<a name="l04877"></a>04877                     <span class="keywordflow">else</span> memcpy(data, &amp;((<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)parm)-&gt;defaultvalue, <a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a>);
<a name="l04878"></a>04878                     <span class="keywordflow">break</span>;
<a name="l04879"></a>04879                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>:
<a name="l04880"></a>04880                     <span class="keywordflow">if</span> (parm-&gt;arraydimension) memcpy(data, ((<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)parm)-&gt;defaultarray, <a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a>);
<a name="l04881"></a>04881                     <span class="keywordflow">else</span> memcpy(data, &amp;((<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)parm)-&gt;defaultvalue, <a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a>);
<a name="l04882"></a>04882                     <span class="keywordflow">break</span>;
<a name="l04883"></a>04883                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>:
<a name="l04884"></a>04884                     memcpy(data, &amp;((<a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a>*)parm)-&gt;defaultvalue, <a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a>);
<a name="l04885"></a>04885                     <span class="keywordflow">break</span>;
<a name="l04886"></a>04886                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>: {
<a name="l04887"></a>04887                     <span class="keyword">const</span> <span class="keywordtype">char</span> *defvalue = ((<a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a>*)parm)-&gt;defaultvalue;
<a name="l04888"></a>04888                     <span class="keywordflow">if</span> (defvalue &amp;&amp; defvalue[0]) {
<a name="l04889"></a>04889                         <span class="comment">/* causes bug [#29988], possibly this is only correct for thick wrapped</span>
<a name="l04890"></a>04890 <span class="comment">                         * need to look further into it - campbell */</span>
<a name="l04891"></a>04891 <span class="preprocessor">#if 0</span>
<a name="l04892"></a>04892 <span class="preprocessor"></span>                        <a class="code" href="../../d3/db3/BLI__string_8h.html#a98d7c9cb4a81dbe506d1972b306300ce">BLI_strncpy</a>(data, defvalue, <a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a>);
<a name="l04893"></a>04893 <span class="preprocessor">#else</span>
<a name="l04894"></a>04894 <span class="preprocessor"></span>                        memcpy(data, &amp;defvalue, <a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a>);
<a name="l04895"></a>04895 <span class="preprocessor">#endif</span>
<a name="l04896"></a>04896 <span class="preprocessor"></span>                    }
<a name="l04897"></a>04897                     <span class="keywordflow">break</span>;
<a name="l04898"></a>04898                 }
<a name="l04899"></a>04899                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>:
<a name="l04900"></a>04900                 <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>:
<a name="l04901"></a>04901                     <span class="keywordflow">break</span>;
<a name="l04902"></a>04902             }
<a name="l04903"></a>04903         }
<a name="l04904"></a>04904 
<a name="l04905"></a>04905         data = ((<span class="keywordtype">char</span>*)data) + <a class="code" href="../../dc/d7e/rna__define_8c.html#a439a0e735031237e76582033c8005611">rna_parameter_size_alloc</a>(parm);
<a name="l04906"></a>04906     }
<a name="l04907"></a>04907 
<a name="l04908"></a>04908     <span class="keywordflow">return</span> parms;
<a name="l04909"></a>04909 }
<a name="l04910"></a>04910 
<a name="l04911"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a5a3b0aabe8c94b8c66847ac2f650170f">04911</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a5a3b0aabe8c94b8c66847ac2f650170f">RNA_parameter_list_free</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms)
<a name="l04912"></a>04912 {
<a name="l04913"></a>04913     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *parm;
<a name="l04914"></a>04914     <span class="keywordtype">int</span> tot;
<a name="l04915"></a>04915 
<a name="l04916"></a>04916     parm = parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#ae36dc5094be23ab46a32e7784177ec0c">func</a>-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l04917"></a>04917     <span class="keywordflow">for</span> (tot = 0; parm; parm = parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>) {
<a name="l04918"></a>04918         <span class="keywordflow">if</span> (parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>)
<a name="l04919"></a>04919             <a class="code" href="../../d1/d3e/BLI__listbase_8h.html#af94280dc0a245719304fdff91327b1e0">BLI_freelistN</a>((<a class="code" href="../../d6/d85/structListBase.html">ListBase</a>*)((<span class="keywordtype">char</span>*)parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#a77e351db6b3055e0038c0f289677855f">data</a>+tot));
<a name="l04920"></a>04920         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a2201e5526a5719021ae9f6641266bc62">PROP_DYNAMIC</a>) {
<a name="l04921"></a>04921             <span class="comment">/* for dynamic arrays and strings, data is a pointer to an array */</span>
<a name="l04922"></a>04922             <a class="code" href="../../db/d4b/structParameterDynAlloc.html">ParameterDynAlloc</a> *data_alloc = (<span class="keywordtype">void</span> *)(((<span class="keywordtype">char</span> *)parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#a77e351db6b3055e0038c0f289677855f">data</a>) + tot);
<a name="l04923"></a>04923             <span class="keywordflow">if</span> (data_alloc-&gt;<a class="code" href="../../db/d4b/structParameterDynAlloc.html#aa2b39dce62911214d2059fd6bfb21125">array</a>)
<a name="l04924"></a>04924                 <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(data_alloc-&gt;<a class="code" href="../../db/d4b/structParameterDynAlloc.html#aa2b39dce62911214d2059fd6bfb21125">array</a>);
<a name="l04925"></a>04925         }
<a name="l04926"></a>04926 
<a name="l04927"></a>04927         tot += <a class="code" href="../../dc/d7e/rna__define_8c.html#a439a0e735031237e76582033c8005611">rna_parameter_size_alloc</a>(parm);
<a name="l04928"></a>04928     }
<a name="l04929"></a>04929 
<a name="l04930"></a>04930     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#a77e351db6b3055e0038c0f289677855f">data</a>);
<a name="l04931"></a>04931     parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#a77e351db6b3055e0038c0f289677855f">data</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04932"></a>04932 
<a name="l04933"></a>04933     parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#ae36dc5094be23ab46a32e7784177ec0c">func</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04934"></a>04934 }
<a name="l04935"></a>04935 
<a name="l04936"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ace9306d6aa416e2f08dc6c66472b86b0">04936</a> <span class="keywordtype">int</span>  <a class="code" href="../../d3/d10/rna__access_8c.html#ace9306d6aa416e2f08dc6c66472b86b0">RNA_parameter_list_size</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms)
<a name="l04937"></a>04937 {
<a name="l04938"></a>04938     <span class="keywordflow">return</span> parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#aa73cdab8ac8959e9fb0872e3929b0339">alloc_size</a>;
<a name="l04939"></a>04939 }
<a name="l04940"></a>04940 
<a name="l04941"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a40f5f29be671ae1d8ad4ba2fb2755b86">04941</a> <span class="keywordtype">int</span>  <a class="code" href="../../d3/d10/rna__access_8c.html#a40f5f29be671ae1d8ad4ba2fb2755b86">RNA_parameter_list_arg_count</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms)
<a name="l04942"></a>04942 {
<a name="l04943"></a>04943     <span class="keywordflow">return</span> parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#aa4431aea9e9919dfa4661c0b16b614ab">arg_count</a>;
<a name="l04944"></a>04944 }
<a name="l04945"></a>04945 
<a name="l04946"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a4a746d0b5b4b3ad15c8ab81a1d2eefb4">04946</a> <span class="keywordtype">int</span>  <a class="code" href="../../d3/d10/rna__access_8c.html#a4a746d0b5b4b3ad15c8ab81a1d2eefb4">RNA_parameter_list_ret_count</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms)
<a name="l04947"></a>04947 {
<a name="l04948"></a>04948     <span class="keywordflow">return</span> parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#a44052d91cc92beeb64b949a855243061">ret_count</a>;
<a name="l04949"></a>04949 }
<a name="l04950"></a>04950 
<a name="l04951"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ae53b18faf7406a98972aba132597c46b">04951</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ae53b18faf7406a98972aba132597c46b">RNA_parameter_list_begin</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms, <a class="code" href="../../d1/d1c/structParameterIterator.html">ParameterIterator</a> *iter)
<a name="l04952"></a>04952 {
<a name="l04953"></a>04953     <span class="comment">/* may be useful but unused now */</span>
<a name="l04954"></a>04954     <span class="comment">/* RNA_pointer_create(NULL, &amp;RNA_Function, parms-&gt;func, &amp;iter-&gt;funcptr); */</span> <span class="comment">/*UNUSED*/</span>
<a name="l04955"></a>04955 
<a name="l04956"></a>04956     iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#aa442217c0fd1304e78b7c3a087a2ab2c">parms</a> = parms;
<a name="l04957"></a>04957     iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a6c3c46e7ca430a20819cb3ffa50de4d5">parm</a> = parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#ae36dc5094be23ab46a32e7784177ec0c">func</a>-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l04958"></a>04958     iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a3d441e84922fa5b45ab945d1f3aacef5">valid</a> = iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a6c3c46e7ca430a20819cb3ffa50de4d5">parm</a> != <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04959"></a>04959     iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a1fe96f51ee45d0084be09b7ae67dae42">offset</a> = 0;
<a name="l04960"></a>04960 
<a name="l04961"></a>04961     <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a3d441e84922fa5b45ab945d1f3aacef5">valid</a>) {
<a name="l04962"></a>04962         iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#ae40bc1f4467afedf984aa0cdd18fad68">size</a> = <a class="code" href="../../dc/d7e/rna__define_8c.html#a439a0e735031237e76582033c8005611">rna_parameter_size_alloc</a>(iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a6c3c46e7ca430a20819cb3ffa50de4d5">parm</a>);
<a name="l04963"></a>04963         iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a045714cade9a6312875d5071e13707b1">data</a> = (((<span class="keywordtype">char</span>*)iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#aa442217c0fd1304e78b7c3a087a2ab2c">parms</a>-&gt;<a class="code" href="../../d9/d95/structParameterList.html#a77e351db6b3055e0038c0f289677855f">data</a>)); <span class="comment">/* +iter-&gt;offset, always 0 */</span>
<a name="l04964"></a>04964     }
<a name="l04965"></a>04965 }
<a name="l04966"></a>04966 
<a name="l04967"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a7a231ea933d0681f423e730cf9ffcc09">04967</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a7a231ea933d0681f423e730cf9ffcc09">RNA_parameter_list_next</a>(<a class="code" href="../../d1/d1c/structParameterIterator.html">ParameterIterator</a> *iter)
<a name="l04968"></a>04968 {
<a name="l04969"></a>04969     iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a1fe96f51ee45d0084be09b7ae67dae42">offset</a> += iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#ae40bc1f4467afedf984aa0cdd18fad68">size</a>;
<a name="l04970"></a>04970     iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a6c3c46e7ca430a20819cb3ffa50de4d5">parm</a> = iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a6c3c46e7ca430a20819cb3ffa50de4d5">parm</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>;
<a name="l04971"></a>04971     iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a3d441e84922fa5b45ab945d1f3aacef5">valid</a> = iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a6c3c46e7ca430a20819cb3ffa50de4d5">parm</a> != <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04972"></a>04972 
<a name="l04973"></a>04973     <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a3d441e84922fa5b45ab945d1f3aacef5">valid</a>) {
<a name="l04974"></a>04974         iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#ae40bc1f4467afedf984aa0cdd18fad68">size</a> = <a class="code" href="../../dc/d7e/rna__define_8c.html#a439a0e735031237e76582033c8005611">rna_parameter_size_alloc</a>(iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a6c3c46e7ca430a20819cb3ffa50de4d5">parm</a>);
<a name="l04975"></a>04975         iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a045714cade9a6312875d5071e13707b1">data</a> = (((<span class="keywordtype">char</span>*)iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#aa442217c0fd1304e78b7c3a087a2ab2c">parms</a>-&gt;<a class="code" href="../../d9/d95/structParameterList.html#a77e351db6b3055e0038c0f289677855f">data</a>)+iter-&gt;<a class="code" href="../../d1/d1c/structParameterIterator.html#a1fe96f51ee45d0084be09b7ae67dae42">offset</a>);
<a name="l04976"></a>04976     }
<a name="l04977"></a>04977 }
<a name="l04978"></a>04978 
<a name="l04979"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a8cef0605311fe6618788f7421335d6da">04979</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a8cef0605311fe6618788f7421335d6da">RNA_parameter_list_end</a>(<a class="code" href="../../d1/d1c/structParameterIterator.html">ParameterIterator</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(iter))
<a name="l04980"></a>04980 {
<a name="l04981"></a>04981     <span class="comment">/* nothing to do */</span>
<a name="l04982"></a>04982 }
<a name="l04983"></a>04983 
<a name="l04984"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a8ac1587214b12e794fa9d2bd3359354d">04984</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a8ac1587214b12e794fa9d2bd3359354d">RNA_parameter_get</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *parm, <span class="keywordtype">void</span> **value)
<a name="l04985"></a>04985 {
<a name="l04986"></a>04986     <a class="code" href="../../d1/d1c/structParameterIterator.html">ParameterIterator</a> iter;
<a name="l04987"></a>04987 
<a name="l04988"></a>04988     <a class="code" href="../../d3/d10/rna__access_8c.html#ae53b18faf7406a98972aba132597c46b">RNA_parameter_list_begin</a>(parms, &amp;iter);
<a name="l04989"></a>04989 
<a name="l04990"></a>04990     <span class="keywordflow">for</span> (; iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a3d441e84922fa5b45ab945d1f3aacef5">valid</a>; <a class="code" href="../../d3/d10/rna__access_8c.html#a7a231ea933d0681f423e730cf9ffcc09">RNA_parameter_list_next</a>(&amp;iter))
<a name="l04991"></a>04991         <span class="keywordflow">if</span> (iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a6c3c46e7ca430a20819cb3ffa50de4d5">parm</a> == parm)
<a name="l04992"></a>04992             <span class="keywordflow">break</span>;
<a name="l04993"></a>04993 
<a name="l04994"></a>04994     <span class="keywordflow">if</span> (iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a3d441e84922fa5b45ab945d1f3aacef5">valid</a>)
<a name="l04995"></a>04995         *value = iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a045714cade9a6312875d5071e13707b1">data</a>;
<a name="l04996"></a>04996     <span class="keywordflow">else</span>
<a name="l04997"></a>04997         *value = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l04998"></a>04998 
<a name="l04999"></a>04999     <a class="code" href="../../d3/d10/rna__access_8c.html#a8cef0605311fe6618788f7421335d6da">RNA_parameter_list_end</a>(&amp;iter);
<a name="l05000"></a>05000 }
<a name="l05001"></a>05001 
<a name="l05002"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a298f03a07824fc1ce874423eccf34925">05002</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a298f03a07824fc1ce874423eccf34925">RNA_parameter_get_lookup</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier, <span class="keywordtype">void</span> **value)
<a name="l05003"></a>05003 {
<a name="l05004"></a>05004     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *parm;
<a name="l05005"></a>05005 
<a name="l05006"></a>05006     parm = parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#ae36dc5094be23ab46a32e7784177ec0c">func</a>-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l05007"></a>05007     <span class="keywordflow">for</span> (; parm; parm = parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>)
<a name="l05008"></a>05008         <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d3/d10/rna__access_8c.html#ad6f3c9684a8786587872fc6baf17dfc9">RNA_property_identifier</a>(parm), identifier) == 0)
<a name="l05009"></a>05009             <span class="keywordflow">break</span>;
<a name="l05010"></a>05010 
<a name="l05011"></a>05011     <span class="keywordflow">if</span> (parm)
<a name="l05012"></a>05012         <a class="code" href="../../d3/d10/rna__access_8c.html#a8ac1587214b12e794fa9d2bd3359354d">RNA_parameter_get</a>(parms, parm, value);
<a name="l05013"></a>05013 }
<a name="l05014"></a>05014 
<a name="l05015"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a4c12d11c757a0fe7ec2b135c28b4c0cc">05015</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a4c12d11c757a0fe7ec2b135c28b4c0cc">RNA_parameter_set</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *parm, <span class="keyword">const</span> <span class="keywordtype">void</span> *value)
<a name="l05016"></a>05016 {
<a name="l05017"></a>05017     <a class="code" href="../../d1/d1c/structParameterIterator.html">ParameterIterator</a> iter;
<a name="l05018"></a>05018 
<a name="l05019"></a>05019     <a class="code" href="../../d3/d10/rna__access_8c.html#ae53b18faf7406a98972aba132597c46b">RNA_parameter_list_begin</a>(parms, &amp;iter);
<a name="l05020"></a>05020 
<a name="l05021"></a>05021     <span class="keywordflow">for</span> (; iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a3d441e84922fa5b45ab945d1f3aacef5">valid</a>; <a class="code" href="../../d3/d10/rna__access_8c.html#a7a231ea933d0681f423e730cf9ffcc09">RNA_parameter_list_next</a>(&amp;iter))
<a name="l05022"></a>05022         <span class="keywordflow">if</span> (iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a6c3c46e7ca430a20819cb3ffa50de4d5">parm</a> == parm)
<a name="l05023"></a>05023             <span class="keywordflow">break</span>;
<a name="l05024"></a>05024 
<a name="l05025"></a>05025     <span class="keywordflow">if</span> (iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a3d441e84922fa5b45ab945d1f3aacef5">valid</a>)
<a name="l05026"></a>05026         memcpy(iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a045714cade9a6312875d5071e13707b1">data</a>, value, iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#ae40bc1f4467afedf984aa0cdd18fad68">size</a>);
<a name="l05027"></a>05027 
<a name="l05028"></a>05028     <a class="code" href="../../d3/d10/rna__access_8c.html#a8cef0605311fe6618788f7421335d6da">RNA_parameter_list_end</a>(&amp;iter);
<a name="l05029"></a>05029 }
<a name="l05030"></a>05030 
<a name="l05031"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aa0d9ccad82aeaf34cb2d3c2914c5f990">05031</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aa0d9ccad82aeaf34cb2d3c2914c5f990">RNA_parameter_set_lookup</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier, <span class="keyword">const</span> <span class="keywordtype">void</span> *value)
<a name="l05032"></a>05032 {
<a name="l05033"></a>05033     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *parm;
<a name="l05034"></a>05034 
<a name="l05035"></a>05035     parm = parms-&gt;<a class="code" href="../../d9/d95/structParameterList.html#ae36dc5094be23ab46a32e7784177ec0c">func</a>-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l05036"></a>05036     <span class="keywordflow">for</span> (; parm; parm = parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>)
<a name="l05037"></a>05037         <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d3/d10/rna__access_8c.html#ad6f3c9684a8786587872fc6baf17dfc9">RNA_property_identifier</a>(parm), identifier) == 0)
<a name="l05038"></a>05038             <span class="keywordflow">break</span>;
<a name="l05039"></a>05039 
<a name="l05040"></a>05040     <span class="keywordflow">if</span> (parm)
<a name="l05041"></a>05041         <a class="code" href="../../d3/d10/rna__access_8c.html#a4c12d11c757a0fe7ec2b135c28b4c0cc">RNA_parameter_set</a>(parms, parm, value);
<a name="l05042"></a>05042 }
<a name="l05043"></a>05043 
<a name="l05044"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a9e611d7630c7f87d4054343cb8181cd0">05044</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a9e611d7630c7f87d4054343cb8181cd0">RNA_parameter_length_get</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *parm)
<a name="l05045"></a>05045 {
<a name="l05046"></a>05046     <a class="code" href="../../d1/d1c/structParameterIterator.html">ParameterIterator</a> iter;
<a name="l05047"></a>05047     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = 0;
<a name="l05048"></a>05048 
<a name="l05049"></a>05049     <a class="code" href="../../d3/d10/rna__access_8c.html#ae53b18faf7406a98972aba132597c46b">RNA_parameter_list_begin</a>(parms, &amp;iter);
<a name="l05050"></a>05050 
<a name="l05051"></a>05051     <span class="keywordflow">for</span> (; iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a3d441e84922fa5b45ab945d1f3aacef5">valid</a>; <a class="code" href="../../d3/d10/rna__access_8c.html#a7a231ea933d0681f423e730cf9ffcc09">RNA_parameter_list_next</a>(&amp;iter))
<a name="l05052"></a>05052         <span class="keywordflow">if</span> (iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a6c3c46e7ca430a20819cb3ffa50de4d5">parm</a> == parm)
<a name="l05053"></a>05053             <span class="keywordflow">break</span>;
<a name="l05054"></a>05054 
<a name="l05055"></a>05055     <span class="keywordflow">if</span> (iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a3d441e84922fa5b45ab945d1f3aacef5">valid</a>)
<a name="l05056"></a>05056         len = <a class="code" href="../../d3/d10/rna__access_8c.html#af8ca57465c7317c9d46d5783d07ab859">RNA_parameter_length_get_data</a>(parms, parm, iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a045714cade9a6312875d5071e13707b1">data</a>);
<a name="l05057"></a>05057 
<a name="l05058"></a>05058     <a class="code" href="../../d3/d10/rna__access_8c.html#a8cef0605311fe6618788f7421335d6da">RNA_parameter_list_end</a>(&amp;iter);
<a name="l05059"></a>05059 
<a name="l05060"></a>05060     <span class="keywordflow">return</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>;
<a name="l05061"></a>05061 }
<a name="l05062"></a>05062 
<a name="l05063"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a0a19f7ffaa2e8f70f874cb97d6a5b1e4">05063</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a0a19f7ffaa2e8f70f874cb97d6a5b1e4">RNA_parameter_length_set</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *parm, <span class="keywordtype">int</span> <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>)
<a name="l05064"></a>05064 {
<a name="l05065"></a>05065     <a class="code" href="../../d1/d1c/structParameterIterator.html">ParameterIterator</a> iter;
<a name="l05066"></a>05066 
<a name="l05067"></a>05067     <a class="code" href="../../d3/d10/rna__access_8c.html#ae53b18faf7406a98972aba132597c46b">RNA_parameter_list_begin</a>(parms, &amp;iter);
<a name="l05068"></a>05068 
<a name="l05069"></a>05069     <span class="keywordflow">for</span> (; iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a3d441e84922fa5b45ab945d1f3aacef5">valid</a>; <a class="code" href="../../d3/d10/rna__access_8c.html#a7a231ea933d0681f423e730cf9ffcc09">RNA_parameter_list_next</a>(&amp;iter))
<a name="l05070"></a>05070         <span class="keywordflow">if</span> (iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a6c3c46e7ca430a20819cb3ffa50de4d5">parm</a> == parm)
<a name="l05071"></a>05071             <span class="keywordflow">break</span>;
<a name="l05072"></a>05072 
<a name="l05073"></a>05073     <span class="keywordflow">if</span> (iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a3d441e84922fa5b45ab945d1f3aacef5">valid</a>)
<a name="l05074"></a>05074         <a class="code" href="../../d3/d10/rna__access_8c.html#a71c83a7b85c0ce058a9a23c25b8e79c6">RNA_parameter_length_set_data</a>(parms, parm, iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a045714cade9a6312875d5071e13707b1">data</a>, length);
<a name="l05075"></a>05075 
<a name="l05076"></a>05076     <a class="code" href="../../d3/d10/rna__access_8c.html#a8cef0605311fe6618788f7421335d6da">RNA_parameter_list_end</a>(&amp;iter);
<a name="l05077"></a>05077 }
<a name="l05078"></a>05078 
<a name="l05079"></a><a class="code" href="../../d3/d10/rna__access_8c.html#af8ca57465c7317c9d46d5783d07ab859">05079</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#af8ca57465c7317c9d46d5783d07ab859">RNA_parameter_length_get_data</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(parms), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(parm), <span class="keywordtype">void</span> *<a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>)
<a name="l05080"></a>05080 {
<a name="l05081"></a>05081     <span class="keywordflow">return</span> *((<span class="keywordtype">int</span> *)((<span class="keywordtype">char</span> *)<a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>));
<a name="l05082"></a>05082 }
<a name="l05083"></a>05083 
<a name="l05084"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a71c83a7b85c0ce058a9a23c25b8e79c6">05084</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a71c83a7b85c0ce058a9a23c25b8e79c6">RNA_parameter_length_set_data</a>(<a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(parms), <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(parm), <span class="keywordtype">void</span> *<a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>, <span class="keywordtype">int</span> <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>)
<a name="l05085"></a>05085 {
<a name="l05086"></a>05086     *((<span class="keywordtype">int</span> *)data) = <a class="code" href="../../d1/d22/stdosl_8h.html#a939ad05d43eeb38dcadd8218e52d9648">length</a>;
<a name="l05087"></a>05087 }
<a name="l05088"></a>05088 
<a name="l05089"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#abad6889307a05d3ff048d672554d0187">05089</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ac6b773aa68646faa15907966acf3011b">RNA_function_call</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../df/df0/structReportList.html">ReportList</a> *reports, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func, <a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms)
<a name="l05090"></a>05090 {
<a name="l05091"></a>05091     <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a2e01b7dfa8833568f0fa7301effcea0a">call</a>) {
<a name="l05092"></a>05092         func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a2e01b7dfa8833568f0fa7301effcea0a">call</a>(C, reports, ptr, parms);
<a name="l05093"></a>05093 
<a name="l05094"></a>05094         <span class="keywordflow">return</span> 0;
<a name="l05095"></a>05095     }
<a name="l05096"></a>05096 
<a name="l05097"></a>05097     <span class="keywordflow">return</span> -1;
<a name="l05098"></a>05098 }
<a name="l05099"></a>05099 
<a name="l05100"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a34a6f9e3d18988fb0b690e8e56cf1244">05100</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aaf8ffeb9916db25c012894030bbbaa12">RNA_function_call_lookup</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../df/df0/structReportList.html">ReportList</a> *reports, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier,
<a name="l05101"></a>05101                              <a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> *parms)
<a name="l05102"></a>05102 {
<a name="l05103"></a>05103     <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func;
<a name="l05104"></a>05104 
<a name="l05105"></a>05105     func = <a class="code" href="../../d3/d10/rna__access_8c.html#a71575c131f654fe7ca940a7c5479116b">RNA_struct_find_function</a>(ptr, identifier);
<a name="l05106"></a>05106 
<a name="l05107"></a>05107     <span class="keywordflow">if</span> (func)
<a name="l05108"></a>05108         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ac6b773aa68646faa15907966acf3011b">RNA_function_call</a>(C, reports, ptr, func, parms);
<a name="l05109"></a>05109 
<a name="l05110"></a>05110     <span class="keywordflow">return</span> -1;
<a name="l05111"></a>05111 }
<a name="l05112"></a>05112 
<a name="l05113"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a8754fe378cd42592459953d3fdb2e192">05113</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ac55bfbb2143568a1057742c34a90bea9">RNA_function_call_direct</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../df/df0/structReportList.html">ReportList</a> *reports, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func,
<a name="l05114"></a>05114                              <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...)
<a name="l05115"></a>05115 {
<a name="l05116"></a>05116     va_list args;
<a name="l05117"></a>05117     <span class="keywordtype">int</span> ret;
<a name="l05118"></a>05118 
<a name="l05119"></a>05119     va_start(args, format);
<a name="l05120"></a>05120 
<a name="l05121"></a>05121     ret = <a class="code" href="../../d3/d10/rna__access_8c.html#a12ae00923a27be13c8ff17fd88c8a51f">RNA_function_call_direct_va</a>(C, reports, ptr, func, format, args);
<a name="l05122"></a>05122 
<a name="l05123"></a>05123     va_end(args);
<a name="l05124"></a>05124 
<a name="l05125"></a>05125     <span class="keywordflow">return</span> ret;
<a name="l05126"></a>05126 }
<a name="l05127"></a>05127 
<a name="l05128"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#af722b5064323c03a95831dcd73e57c56">05128</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a0305b2bfc0cbd83f282dcc156c33851b">RNA_function_call_direct_lookup</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../df/df0/structReportList.html">ReportList</a> *reports, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier,
<a name="l05129"></a>05129                                     <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...)
<a name="l05130"></a>05130 {
<a name="l05131"></a>05131     <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func;
<a name="l05132"></a>05132 
<a name="l05133"></a>05133     func = <a class="code" href="../../d3/d10/rna__access_8c.html#a71575c131f654fe7ca940a7c5479116b">RNA_struct_find_function</a>(ptr, identifier);
<a name="l05134"></a>05134 
<a name="l05135"></a>05135     <span class="keywordflow">if</span> (func) {
<a name="l05136"></a>05136         va_list args;
<a name="l05137"></a>05137         <span class="keywordtype">int</span> ret;
<a name="l05138"></a>05138 
<a name="l05139"></a>05139         va_start(args, format);
<a name="l05140"></a>05140 
<a name="l05141"></a>05141         ret = <a class="code" href="../../d3/d10/rna__access_8c.html#a12ae00923a27be13c8ff17fd88c8a51f">RNA_function_call_direct_va</a>(C, reports, ptr, func, format, args);
<a name="l05142"></a>05142 
<a name="l05143"></a>05143         va_end(args);
<a name="l05144"></a>05144 
<a name="l05145"></a>05145         <span class="keywordflow">return</span> ret;
<a name="l05146"></a>05146     }
<a name="l05147"></a>05147 
<a name="l05148"></a>05148     <span class="keywordflow">return</span> -1;
<a name="l05149"></a>05149 }
<a name="l05150"></a>05150 
<a name="l05151"></a><a class="code" href="../../d3/d10/rna__access_8c.html#aff88d9fd9f76a85e9e59b25e71958537">05151</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#aff88d9fd9f76a85e9e59b25e71958537">rna_function_format_array_length</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, <span class="keywordtype">int</span> ofs, <span class="keywordtype">int</span> flen)
<a name="l05152"></a>05152 {
<a name="l05153"></a>05153     <span class="keywordtype">char</span> lenbuf[16];
<a name="l05154"></a>05154     <span class="keywordtype">int</span> idx = 0;
<a name="l05155"></a>05155 
<a name="l05156"></a>05156     <span class="keywordflow">if</span> (format[ofs++] ==<span class="charliteral">&#39;[&#39;</span>)
<a name="l05157"></a>05157         <span class="keywordflow">for</span> (; ofs&lt;flen &amp;&amp; format[ofs] !=<span class="charliteral">&#39;]&#39;</span> &amp;&amp; idx&lt;<span class="keyword">sizeof</span>(*lenbuf)-1; idx++, ofs++)
<a name="l05158"></a>05158             lenbuf[idx] = format[ofs];
<a name="l05159"></a>05159 
<a name="l05160"></a>05160     <span class="keywordflow">if</span> (ofs&lt;flen &amp;&amp; format[ofs+1] ==<span class="charliteral">&#39;]&#39;</span>) {
<a name="l05161"></a>05161         <span class="comment">/* XXX put better error reporting for ofs&gt;=flen or idx over lenbuf capacity */</span>
<a name="l05162"></a>05162         lenbuf[idx] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l05163"></a>05163         <span class="keywordflow">return</span> atoi(lenbuf);
<a name="l05164"></a>05164     }
<a name="l05165"></a>05165 
<a name="l05166"></a>05166     <span class="keywordflow">return</span> 0;
<a name="l05167"></a>05167 }
<a name="l05168"></a>05168 
<a name="l05169"></a><a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">05169</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">rna_function_parameter_parse</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87">PropertyType</a> type,
<a name="l05170"></a>05170                                         <span class="keywordtype">char</span> ftype, <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>, <span class="keywordtype">void</span> *dest, <span class="keywordtype">void</span> *src, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna,
<a name="l05171"></a>05171                                         <span class="keyword">const</span> <span class="keywordtype">char</span> *tid, <span class="keyword">const</span> <span class="keywordtype">char</span> *fid, <span class="keyword">const</span> <span class="keywordtype">char</span> *pid)
<a name="l05172"></a>05172 {
<a name="l05173"></a>05173     <span class="comment">/* ptr is always a function pointer, prop always a parameter */</span>
<a name="l05174"></a>05174 
<a name="l05175"></a>05175     <span class="keywordflow">switch</span> (type) {
<a name="l05176"></a>05176     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>:
<a name="l05177"></a>05177         {
<a name="l05178"></a>05178             <span class="keywordflow">if</span> (ftype !=<span class="charliteral">&#39;b&#39;</span>) {
<a name="l05179"></a>05179                 fprintf(stderr, <span class="stringliteral">&quot;%s.%s: wrong type for parameter %s, a boolean was expected\n&quot;</span>, tid, fid, pid);
<a name="l05180"></a>05180                 <span class="keywordflow">return</span> -1;
<a name="l05181"></a>05181             }
<a name="l05182"></a>05182 
<a name="l05183"></a>05183             <span class="keywordflow">if</span> (len == 0)
<a name="l05184"></a>05184                 *((<span class="keywordtype">int</span>*)dest) = *((<span class="keywordtype">int</span>*)src);
<a name="l05185"></a>05185             <span class="keywordflow">else</span>
<a name="l05186"></a>05186                 memcpy(dest, src, len*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l05187"></a>05187 
<a name="l05188"></a>05188             <span class="keywordflow">break</span>;
<a name="l05189"></a>05189         }
<a name="l05190"></a>05190     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>:
<a name="l05191"></a>05191         {
<a name="l05192"></a>05192             <span class="keywordflow">if</span> (ftype !=<span class="charliteral">&#39;i&#39;</span>) {
<a name="l05193"></a>05193                 fprintf(stderr, <span class="stringliteral">&quot;%s.%s: wrong type for parameter %s, an integer was expected\n&quot;</span>, tid, fid, pid);
<a name="l05194"></a>05194                 <span class="keywordflow">return</span> -1;
<a name="l05195"></a>05195             }
<a name="l05196"></a>05196 
<a name="l05197"></a>05197             <span class="keywordflow">if</span> (len == 0)
<a name="l05198"></a>05198                 *((<span class="keywordtype">int</span>*)dest) = *((<span class="keywordtype">int</span>*)src);
<a name="l05199"></a>05199             <span class="keywordflow">else</span>
<a name="l05200"></a>05200                 memcpy(dest, src, len*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l05201"></a>05201 
<a name="l05202"></a>05202             <span class="keywordflow">break</span>;
<a name="l05203"></a>05203         }
<a name="l05204"></a>05204     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>:
<a name="l05205"></a>05205         {
<a name="l05206"></a>05206             <span class="keywordflow">if</span> (ftype !=<span class="charliteral">&#39;f&#39;</span>) {
<a name="l05207"></a>05207                 fprintf(stderr, <span class="stringliteral">&quot;%s.%s: wrong type for parameter %s, a float was expected\n&quot;</span>, tid, fid, pid);
<a name="l05208"></a>05208                 <span class="keywordflow">return</span> -1;
<a name="l05209"></a>05209             }
<a name="l05210"></a>05210 
<a name="l05211"></a>05211             <span class="keywordflow">if</span> (len == 0)
<a name="l05212"></a>05212                 *((<span class="keywordtype">float</span>*)dest) = *((<span class="keywordtype">float</span>*)src);
<a name="l05213"></a>05213             <span class="keywordflow">else</span>
<a name="l05214"></a>05214                 memcpy(dest, src, len*<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
<a name="l05215"></a>05215 
<a name="l05216"></a>05216             <span class="keywordflow">break</span>;
<a name="l05217"></a>05217         }
<a name="l05218"></a>05218     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>:
<a name="l05219"></a>05219         {
<a name="l05220"></a>05220             <span class="keywordflow">if</span> (ftype !=<span class="charliteral">&#39;s&#39;</span>) {
<a name="l05221"></a>05221                 fprintf(stderr, <span class="stringliteral">&quot;%s.%s: wrong type for parameter %s, a string was expected\n&quot;</span>, tid, fid, pid);
<a name="l05222"></a>05222                 <span class="keywordflow">return</span> -1;
<a name="l05223"></a>05223             }
<a name="l05224"></a>05224 
<a name="l05225"></a>05225             *((<span class="keywordtype">char</span>**)dest) = *((<span class="keywordtype">char</span>**)src);
<a name="l05226"></a>05226 
<a name="l05227"></a>05227             <span class="keywordflow">break</span>;
<a name="l05228"></a>05228         }
<a name="l05229"></a>05229     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>:
<a name="l05230"></a>05230         {
<a name="l05231"></a>05231             <span class="keywordflow">if</span> (ftype !=<span class="charliteral">&#39;e&#39;</span>) {
<a name="l05232"></a>05232                 fprintf(stderr, <span class="stringliteral">&quot;%s.%s: wrong type for parameter %s, an enum was expected\n&quot;</span>, tid, fid, pid);
<a name="l05233"></a>05233                 <span class="keywordflow">return</span> -1;
<a name="l05234"></a>05234             }
<a name="l05235"></a>05235 
<a name="l05236"></a>05236             *((<span class="keywordtype">int</span>*)dest) = *((<span class="keywordtype">int</span>*)src);
<a name="l05237"></a>05237 
<a name="l05238"></a>05238             <span class="keywordflow">break</span>;
<a name="l05239"></a>05239         }
<a name="l05240"></a>05240     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>:
<a name="l05241"></a>05241         {
<a name="l05242"></a>05242             <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *ptype;
<a name="l05243"></a>05243 
<a name="l05244"></a>05244             <span class="keywordflow">if</span> (ftype !=<span class="charliteral">&#39;O&#39;</span>) {
<a name="l05245"></a>05245                 fprintf(stderr, <span class="stringliteral">&quot;%s.%s: wrong type for parameter %s, an object was expected\n&quot;</span>, tid, fid, pid);
<a name="l05246"></a>05246                 <span class="keywordflow">return</span> -1;
<a name="l05247"></a>05247             }
<a name="l05248"></a>05248 
<a name="l05249"></a>05249             ptype = <a class="code" href="../../d3/d10/rna__access_8c.html#a90d864adedcd427f9c2dac19e025a092">RNA_property_pointer_type</a>(ptr, prop);
<a name="l05250"></a>05250 
<a name="l05251"></a>05251             <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a88f6c010a50eab9e38cd86ab35059120">PROP_RNAPTR</a>) {
<a name="l05252"></a>05252                 *((<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a>*)dest) = *((<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a>*)src);
<a name="l05253"></a>05253                 <span class="keywordflow">break</span>;
<a name="l05254"></a>05254              }
<a name="l05255"></a>05255             
<a name="l05256"></a>05256             <span class="keywordflow">if</span> (ptype != srna &amp;&amp; !<a class="code" href="../../d3/d10/rna__access_8c.html#ab0ac980958da7c9390bc055c30bf429b">RNA_struct_is_a</a>(srna, ptype)) {
<a name="l05257"></a>05257                 fprintf(stderr, <span class="stringliteral">&quot;%s.%s: wrong type for parameter %s, &quot;</span>
<a name="l05258"></a>05258                         <span class="stringliteral">&quot;an object of type %s was expected, passed an object of type %s\n&quot;</span>,
<a name="l05259"></a>05259                         tid, fid, pid, <a class="code" href="../../d3/d10/rna__access_8c.html#abe9be1dcaf1b1767038a753cd0edb9ab">RNA_struct_identifier</a>(ptype), <a class="code" href="../../d3/d10/rna__access_8c.html#abe9be1dcaf1b1767038a753cd0edb9ab">RNA_struct_identifier</a>(srna));
<a name="l05260"></a>05260                 <span class="keywordflow">return</span> -1;
<a name="l05261"></a>05261             }
<a name="l05262"></a>05262  
<a name="l05263"></a>05263             *((<span class="keywordtype">void</span>**)dest) = *((<span class="keywordtype">void</span>**)src);
<a name="l05264"></a>05264 
<a name="l05265"></a>05265             <span class="keywordflow">break</span>;
<a name="l05266"></a>05266         }
<a name="l05267"></a>05267     <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>:
<a name="l05268"></a>05268         {
<a name="l05269"></a>05269             <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *ptype;
<a name="l05270"></a>05270             <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb, *clb;
<a name="l05271"></a>05271             <a class="code" href="../../df/d0c/structLink.html">Link</a> *<a class="code" href="../../d0/dea/sp__coletree_8c.html#aaa63f127f8b967960d824c4cf6e93ca0">link</a>;
<a name="l05272"></a>05272             <a class="code" href="../../d1/dce/structCollectionPointerLink.html">CollectionPointerLink</a> *clink;
<a name="l05273"></a>05273 
<a name="l05274"></a>05274             <span class="keywordflow">if</span> (ftype !=<span class="charliteral">&#39;C&#39;</span>) {
<a name="l05275"></a>05275                 fprintf(stderr, <span class="stringliteral">&quot;%s.%s: wrong type for parameter %s, a collection was expected\n&quot;</span>, tid, fid, pid);
<a name="l05276"></a>05276                 <span class="keywordflow">return</span> -1;
<a name="l05277"></a>05277             }
<a name="l05278"></a>05278 
<a name="l05279"></a>05279             lb = (<a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *)src;
<a name="l05280"></a>05280             clb = (<a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *)dest;
<a name="l05281"></a>05281             ptype = <a class="code" href="../../d3/d10/rna__access_8c.html#a90d864adedcd427f9c2dac19e025a092">RNA_property_pointer_type</a>(ptr, prop);
<a name="l05282"></a>05282             
<a name="l05283"></a>05283             <span class="keywordflow">if</span> (ptype != srna &amp;&amp; !<a class="code" href="../../d3/d10/rna__access_8c.html#ab0ac980958da7c9390bc055c30bf429b">RNA_struct_is_a</a>(srna, ptype)) {
<a name="l05284"></a>05284                 fprintf(stderr, <span class="stringliteral">&quot;%s.%s: wrong type for parameter %s, &quot;</span>
<a name="l05285"></a>05285                         <span class="stringliteral">&quot;a collection of objects of type %s was expected, &quot;</span>
<a name="l05286"></a>05286                         <span class="stringliteral">&quot;passed a collection of objects of type %s\n&quot;</span>,
<a name="l05287"></a>05287                         tid, fid, pid, <a class="code" href="../../d3/d10/rna__access_8c.html#abe9be1dcaf1b1767038a753cd0edb9ab">RNA_struct_identifier</a>(ptype), <a class="code" href="../../d3/d10/rna__access_8c.html#abe9be1dcaf1b1767038a753cd0edb9ab">RNA_struct_identifier</a>(srna));
<a name="l05288"></a>05288                 <span class="keywordflow">return</span> -1;
<a name="l05289"></a>05289             }
<a name="l05290"></a>05290 
<a name="l05291"></a>05291             <span class="keywordflow">for</span> (link = lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; link; link = link-&gt;<a class="code" href="../../df/d0c/structLink.html#a4c0511c20c869c43fda58d1eeeed7e73">next</a>) {
<a name="l05292"></a>05292                 clink = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d1/dce/structCollectionPointerLink.html">CollectionPointerLink</a>), <span class="stringliteral">&quot;CCollectionPointerLink&quot;</span>);
<a name="l05293"></a>05293                 <a class="code" href="../../d3/d10/rna__access_8c.html#a1f8fb80da9a6450a51ab2e9b97264f01">RNA_pointer_create</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, srna, link, &amp;clink-&gt;<a class="code" href="../../d1/dce/structCollectionPointerLink.html#a77b144cf92c0a85e3ad247d6b012dddb">ptr</a>);
<a name="l05294"></a>05294                 <a class="code" href="../../d1/d3e/BLI__listbase_8h.html#a28b9955d900264adc216d246f4057f05">BLI_addtail</a>(clb, clink);
<a name="l05295"></a>05295             }
<a name="l05296"></a>05296 
<a name="l05297"></a>05297             <span class="keywordflow">break</span>;
<a name="l05298"></a>05298         }
<a name="l05299"></a>05299     <span class="keywordflow">default</span>:
<a name="l05300"></a>05300         {
<a name="l05301"></a>05301             <span class="keywordflow">if</span> (len == 0)
<a name="l05302"></a>05302                 fprintf(stderr, <span class="stringliteral">&quot;%s.%s: unknown type for parameter %s\n&quot;</span>, tid, fid, pid);
<a name="l05303"></a>05303             <span class="keywordflow">else</span>
<a name="l05304"></a>05304                 fprintf(stderr, <span class="stringliteral">&quot;%s.%s: unknown array type for parameter %s\n&quot;</span>, tid, fid, pid);
<a name="l05305"></a>05305 
<a name="l05306"></a>05306             <span class="keywordflow">return</span> -1;
<a name="l05307"></a>05307         }
<a name="l05308"></a>05308     }
<a name="l05309"></a>05309 
<a name="l05310"></a>05310     <span class="keywordflow">return</span> 0;
<a name="l05311"></a>05311 }
<a name="l05312"></a>05312 
<a name="l05313"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#aa0f9602d5aee3e879a5437f11f52af5e">05313</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a12ae00923a27be13c8ff17fd88c8a51f">RNA_function_call_direct_va</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../df/df0/structReportList.html">ReportList</a> *reports, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func,
<a name="l05314"></a>05314                                 <span class="keyword">const</span> <span class="keywordtype">char</span> *format, va_list args)
<a name="l05315"></a>05315 {
<a name="l05316"></a>05316     <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> funcptr;
<a name="l05317"></a>05317     <a class="code" href="../../d9/d95/structParameterList.html">ParameterList</a> parms;
<a name="l05318"></a>05318     <a class="code" href="../../d1/d1c/structParameterIterator.html">ParameterIterator</a> iter;
<a name="l05319"></a>05319     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *pret, *parm;
<a name="l05320"></a>05320     <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87">PropertyType</a> type;
<a name="l05321"></a>05321     <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, ofs, flen, flag, <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>, alen, <a class="code" href="../../df/db3/freetypefont_8c.html#ab596967142db56aa5fbafe7c234eedda">err</a> = 0;
<a name="l05322"></a>05322     <span class="keyword">const</span> <span class="keywordtype">char</span> *tid, *fid, *pid = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l05323"></a>05323     <span class="keywordtype">char</span> ftype;
<a name="l05324"></a>05324     <span class="keywordtype">void</span> **retdata = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l05325"></a>05325 
<a name="l05326"></a>05326     <a class="code" href="../../d3/d10/rna__access_8c.html#a1f8fb80da9a6450a51ab2e9b97264f01">RNA_pointer_create</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code" href="../../de/ddf/RNA__access_8h.html#a20ddb0aaad8606eaac527447220e3b55">RNA_Function</a>, func, &amp;funcptr);
<a name="l05327"></a>05327 
<a name="l05328"></a>05328     tid = <a class="code" href="../../d3/d10/rna__access_8c.html#abe9be1dcaf1b1767038a753cd0edb9ab">RNA_struct_identifier</a>(ptr-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>);
<a name="l05329"></a>05329     fid = <a class="code" href="../../d3/d10/rna__access_8c.html#a07ec900326cf4818efbb897302a320e7">RNA_function_identifier</a>(func);
<a name="l05330"></a>05330     pret = func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>;
<a name="l05331"></a>05331     flen = <a class="code" href="../../d1/d22/stdosl_8h.html#af902ac638d8127503ad64a0eacb3a7e8">strlen</a>(format);
<a name="l05332"></a>05332 
<a name="l05333"></a>05333     <a class="code" href="../../d3/d10/rna__access_8c.html#a3c1bf7ef082170354b5028f5eb9a5365">RNA_parameter_list_create</a>(&amp;parms, ptr, func);
<a name="l05334"></a>05334     <a class="code" href="../../d3/d10/rna__access_8c.html#ae53b18faf7406a98972aba132597c46b">RNA_parameter_list_begin</a>(&amp;parms, &amp;iter);
<a name="l05335"></a>05335 
<a name="l05336"></a>05336     <span class="keywordflow">for</span> (i = 0, ofs = 0; iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a3d441e84922fa5b45ab945d1f3aacef5">valid</a>; <a class="code" href="../../d3/d10/rna__access_8c.html#a7a231ea933d0681f423e730cf9ffcc09">RNA_parameter_list_next</a>(&amp;iter), i++) {
<a name="l05337"></a>05337         parm = iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a6c3c46e7ca430a20819cb3ffa50de4d5">parm</a>;
<a name="l05338"></a>05338         flag = <a class="code" href="../../d3/d10/rna__access_8c.html#a977a3c85a8d6d0a8b126e99a4955c634">RNA_property_flag</a>(parm);
<a name="l05339"></a>05339 
<a name="l05340"></a>05340         <span class="keywordflow">if</span> (parm == pret) {
<a name="l05341"></a>05341             retdata = iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a045714cade9a6312875d5071e13707b1">data</a>;
<a name="l05342"></a>05342             <span class="keywordflow">continue</span>;
<a name="l05343"></a>05343         }
<a name="l05344"></a>05344         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af756c66a992455155baf9febc96b857f">PROP_OUTPUT</a>) {
<a name="l05345"></a>05345             <span class="keywordflow">continue</span>;
<a name="l05346"></a>05346         }
<a name="l05347"></a>05347 
<a name="l05348"></a>05348         pid = <a class="code" href="../../d3/d10/rna__access_8c.html#ad6f3c9684a8786587872fc6baf17dfc9">RNA_property_identifier</a>(parm);
<a name="l05349"></a>05349 
<a name="l05350"></a>05350         <span class="keywordflow">if</span> (ofs &gt;= flen || format[ofs] ==<span class="charliteral">&#39;N&#39;</span>) {
<a name="l05351"></a>05351             <span class="keywordflow">if</span> (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a8ced6b2c2bdd10488b4ee95d770c89f7">PROP_REQUIRED</a>) {
<a name="l05352"></a>05352                 err = -1;
<a name="l05353"></a>05353                 fprintf(stderr, <span class="stringliteral">&quot;%s.%s: missing required parameter %s\n&quot;</span>, tid, fid, pid);
<a name="l05354"></a>05354                 <span class="keywordflow">break</span>;
<a name="l05355"></a>05355             }
<a name="l05356"></a>05356             ofs++;
<a name="l05357"></a>05357             <span class="keywordflow">continue</span>;
<a name="l05358"></a>05358         }
<a name="l05359"></a>05359 
<a name="l05360"></a>05360         type = <a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(parm);
<a name="l05361"></a>05361         ftype = format[ofs++];
<a name="l05362"></a>05362         len = <a class="code" href="../../d3/d10/rna__access_8c.html#aad51db9a31d245dba4ee1f50608f331c">RNA_property_array_length</a>(&amp;funcptr, parm);
<a name="l05363"></a>05363         alen = <a class="code" href="../../d3/d10/rna__access_8c.html#aff88d9fd9f76a85e9e59b25e71958537">rna_function_format_array_length</a>(format, ofs, flen);
<a name="l05364"></a>05364 
<a name="l05365"></a>05365         <span class="keywordflow">if</span> (len != alen) {
<a name="l05366"></a>05366             err = -1;
<a name="l05367"></a>05367             fprintf(stderr, <span class="stringliteral">&quot;%s.%s: for parameter %s, &quot;</span>
<a name="l05368"></a>05368                     <span class="stringliteral">&quot;was expecting an array of %i elements, &quot;</span>
<a name="l05369"></a>05369                     <span class="stringliteral">&quot;passed %i elements instead\n&quot;</span>,
<a name="l05370"></a>05370                     tid, fid, pid, len, alen);
<a name="l05371"></a>05371             <span class="keywordflow">break</span>;
<a name="l05372"></a>05372         }
<a name="l05373"></a>05373 
<a name="l05374"></a>05374         <span class="keywordflow">switch</span> (type) {
<a name="l05375"></a>05375         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>:
<a name="l05376"></a>05376         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>:
<a name="l05377"></a>05377         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>:
<a name="l05378"></a>05378             {
<a name="l05379"></a>05379                 <span class="keywordtype">int</span> arg = va_arg(args, <span class="keywordtype">int</span>);
<a name="l05380"></a>05380                 err = <a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">rna_function_parameter_parse</a>(&amp;funcptr, parm, type, ftype, len, iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a045714cade9a6312875d5071e13707b1">data</a>, &amp;arg,
<a name="l05381"></a>05381                                                    <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, tid, fid, pid);
<a name="l05382"></a>05382                 <span class="keywordflow">break</span>;
<a name="l05383"></a>05383             }
<a name="l05384"></a>05384         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>:
<a name="l05385"></a>05385             {
<a name="l05386"></a>05386                 <span class="keywordtype">double</span> arg = va_arg(args, <span class="keywordtype">double</span>);
<a name="l05387"></a>05387                 err = <a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">rna_function_parameter_parse</a>(&amp;funcptr, parm, type, ftype, len, iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a045714cade9a6312875d5071e13707b1">data</a>, &amp;arg,
<a name="l05388"></a>05388                                                    <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, tid, fid, pid);
<a name="l05389"></a>05389                 <span class="keywordflow">break</span>;
<a name="l05390"></a>05390             }
<a name="l05391"></a>05391         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>:
<a name="l05392"></a>05392             {
<a name="l05393"></a>05393                 <span class="keywordtype">char</span> *arg = va_arg(args, <span class="keywordtype">char</span>*);
<a name="l05394"></a>05394                 err = <a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">rna_function_parameter_parse</a>(&amp;funcptr, parm, type, ftype, len, iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a045714cade9a6312875d5071e13707b1">data</a>, &amp;arg,
<a name="l05395"></a>05395                                                    <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, tid, fid, pid);
<a name="l05396"></a>05396                 <span class="keywordflow">break</span>;
<a name="l05397"></a>05397             }
<a name="l05398"></a>05398         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>:
<a name="l05399"></a>05399             {
<a name="l05400"></a>05400                 <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna = va_arg(args, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a>*);
<a name="l05401"></a>05401                 <span class="keywordtype">void</span> *arg = va_arg(args, <span class="keywordtype">void</span>*);
<a name="l05402"></a>05402                 err = <a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">rna_function_parameter_parse</a>(&amp;funcptr, parm, type, ftype, len, iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a045714cade9a6312875d5071e13707b1">data</a>, &amp;arg,
<a name="l05403"></a>05403                                                    srna, tid, fid, pid);
<a name="l05404"></a>05404                 <span class="keywordflow">break</span>;
<a name="l05405"></a>05405             }
<a name="l05406"></a>05406         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>:
<a name="l05407"></a>05407             {
<a name="l05408"></a>05408                 <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna = va_arg(args, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a>*);
<a name="l05409"></a>05409                 <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *arg = va_arg(args, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a>*);
<a name="l05410"></a>05410                 err = <a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">rna_function_parameter_parse</a>(&amp;funcptr, parm, type, ftype, len, iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a045714cade9a6312875d5071e13707b1">data</a>, &amp;arg,
<a name="l05411"></a>05411                                                    srna, tid, fid, pid);
<a name="l05412"></a>05412                 <span class="keywordflow">break</span>;
<a name="l05413"></a>05413             }
<a name="l05414"></a>05414         <span class="keywordflow">default</span>:
<a name="l05415"></a>05415             {
<a name="l05416"></a>05416                 <span class="comment">/* handle errors */</span>
<a name="l05417"></a>05417                 err = <a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">rna_function_parameter_parse</a>(&amp;funcptr, parm, type, ftype, len, iter.<a class="code" href="../../d1/d1c/structParameterIterator.html#a045714cade9a6312875d5071e13707b1">data</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,
<a name="l05418"></a>05418                                                    <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, tid, fid, pid);
<a name="l05419"></a>05419                 <span class="keywordflow">break</span>;
<a name="l05420"></a>05420             }
<a name="l05421"></a>05421         }
<a name="l05422"></a>05422 
<a name="l05423"></a>05423         <span class="keywordflow">if</span> (err != 0)
<a name="l05424"></a>05424             <span class="keywordflow">break</span>;
<a name="l05425"></a>05425     }
<a name="l05426"></a>05426 
<a name="l05427"></a>05427     <span class="keywordflow">if</span> (err == 0)
<a name="l05428"></a>05428         err = <a class="code" href="../../d3/d10/rna__access_8c.html#ac6b773aa68646faa15907966acf3011b">RNA_function_call</a>(C, reports, ptr, func, &amp;parms);
<a name="l05429"></a>05429 
<a name="l05430"></a>05430     <span class="comment">/* XXX throw error when more parameters than those needed are passed or leave silent? */</span>
<a name="l05431"></a>05431     <span class="keywordflow">if</span> (err == 0 &amp;&amp; pret &amp;&amp; ofs&lt;flen &amp;&amp; format[ofs++] ==<span class="charliteral">&#39;R&#39;</span>) {
<a name="l05432"></a>05432         parm = pret;
<a name="l05433"></a>05433 
<a name="l05434"></a>05434         type = <a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(parm);
<a name="l05435"></a>05435         ftype = format[ofs++];
<a name="l05436"></a>05436         len = <a class="code" href="../../d3/d10/rna__access_8c.html#aad51db9a31d245dba4ee1f50608f331c">RNA_property_array_length</a>(&amp;funcptr, parm);
<a name="l05437"></a>05437         alen = <a class="code" href="../../d3/d10/rna__access_8c.html#aff88d9fd9f76a85e9e59b25e71958537">rna_function_format_array_length</a>(format, ofs, flen);
<a name="l05438"></a>05438 
<a name="l05439"></a>05439         <span class="keywordflow">if</span> (len != alen) {
<a name="l05440"></a>05440             err = -1;
<a name="l05441"></a>05441             fprintf(stderr, <span class="stringliteral">&quot;%s.%s: for return parameter %s, &quot;</span>
<a name="l05442"></a>05442                     <span class="stringliteral">&quot;was expecting an array of %i elements, passed %i elements instead\n&quot;</span>,
<a name="l05443"></a>05443                     tid, fid, pid, len, alen);
<a name="l05444"></a>05444         }
<a name="l05445"></a>05445         <span class="keywordflow">else</span> {
<a name="l05446"></a>05446             <span class="keywordflow">switch</span> (type) {
<a name="l05447"></a>05447             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>:
<a name="l05448"></a>05448             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>:
<a name="l05449"></a>05449             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>:
<a name="l05450"></a>05450                 {
<a name="l05451"></a>05451                     <span class="keywordtype">int</span> *arg = va_arg(args, <span class="keywordtype">int</span>*);
<a name="l05452"></a>05452                     err = <a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">rna_function_parameter_parse</a>(&amp;funcptr, parm, type, ftype, len, arg, retdata,
<a name="l05453"></a>05453                                                        <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, tid, fid, pid);
<a name="l05454"></a>05454                     <span class="keywordflow">break</span>;
<a name="l05455"></a>05455                 }
<a name="l05456"></a>05456             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>:
<a name="l05457"></a>05457                 {
<a name="l05458"></a>05458                     <span class="keywordtype">float</span> *arg = va_arg(args, <span class="keywordtype">float</span>*);
<a name="l05459"></a>05459                     err = <a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">rna_function_parameter_parse</a>(&amp;funcptr, parm, type, ftype, len, arg, retdata,
<a name="l05460"></a>05460                                                        <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, tid, fid, pid);
<a name="l05461"></a>05461                     <span class="keywordflow">break</span>;
<a name="l05462"></a>05462                 }
<a name="l05463"></a>05463             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>:
<a name="l05464"></a>05464                 {
<a name="l05465"></a>05465                     <span class="keywordtype">char</span> **arg = va_arg(args, <span class="keywordtype">char</span>**);
<a name="l05466"></a>05466                     err = <a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">rna_function_parameter_parse</a>(&amp;funcptr, parm, type, ftype, len, arg, retdata,
<a name="l05467"></a>05467                                                        <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, tid, fid, pid);
<a name="l05468"></a>05468                     <span class="keywordflow">break</span>;
<a name="l05469"></a>05469                 }
<a name="l05470"></a>05470             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>:
<a name="l05471"></a>05471                 {
<a name="l05472"></a>05472                     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna = va_arg(args, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a>*);
<a name="l05473"></a>05473                     <span class="keywordtype">void</span> **arg = va_arg(args, <span class="keywordtype">void</span>**);
<a name="l05474"></a>05474                     err = <a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">rna_function_parameter_parse</a>(&amp;funcptr, parm, type, ftype, len, arg, retdata,
<a name="l05475"></a>05475                                                        srna, tid, fid, pid);
<a name="l05476"></a>05476                     <span class="keywordflow">break</span>;
<a name="l05477"></a>05477                 }
<a name="l05478"></a>05478             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>:
<a name="l05479"></a>05479                 {
<a name="l05480"></a>05480                     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna = va_arg(args, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a>*);
<a name="l05481"></a>05481                     <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> **arg = va_arg(args, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a>**);
<a name="l05482"></a>05482                     err = <a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">rna_function_parameter_parse</a>(&amp;funcptr, parm, type, ftype, len, arg, retdata,
<a name="l05483"></a>05483                                                        srna, tid, fid, pid);
<a name="l05484"></a>05484                     <span class="keywordflow">break</span>;
<a name="l05485"></a>05485                 }
<a name="l05486"></a>05486             <span class="keywordflow">default</span>:
<a name="l05487"></a>05487                 {
<a name="l05488"></a>05488                     <span class="comment">/* handle errors */</span>
<a name="l05489"></a>05489                     err = <a class="code" href="../../d3/d10/rna__access_8c.html#a60bc7caa801fff4861e7a3fe5fb6e77d">rna_function_parameter_parse</a>(&amp;funcptr, parm, type, ftype, len, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,
<a name="l05490"></a>05490                                                        <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, tid, fid, pid);
<a name="l05491"></a>05491                     <span class="keywordflow">break</span>;
<a name="l05492"></a>05492                 }
<a name="l05493"></a>05493             }
<a name="l05494"></a>05494         }
<a name="l05495"></a>05495     }
<a name="l05496"></a>05496 
<a name="l05497"></a>05497     <a class="code" href="../../d3/d10/rna__access_8c.html#a8cef0605311fe6618788f7421335d6da">RNA_parameter_list_end</a>(&amp;iter);
<a name="l05498"></a>05498     <a class="code" href="../../d3/d10/rna__access_8c.html#a5a3b0aabe8c94b8c66847ac2f650170f">RNA_parameter_list_free</a>(&amp;parms);
<a name="l05499"></a>05499 
<a name="l05500"></a>05500     <span class="keywordflow">return</span> <a class="code" href="../../df/db3/freetypefont_8c.html#ab596967142db56aa5fbafe7c234eedda">err</a>;
<a name="l05501"></a>05501 }
<a name="l05502"></a>05502 
<a name="l05503"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a197473b1418a22206589f33efa5fd705">05503</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a18c1dd78ea01bfc996f2efe15db3d837">RNA_function_call_direct_va_lookup</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <a class="code" href="../../df/df0/structReportList.html">ReportList</a> *reports, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr,
<a name="l05504"></a>05504                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *identifier, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, va_list args)
<a name="l05505"></a>05505 {
<a name="l05506"></a>05506     <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func;
<a name="l05507"></a>05507 
<a name="l05508"></a>05508     func = <a class="code" href="../../d3/d10/rna__access_8c.html#a71575c131f654fe7ca940a7c5479116b">RNA_struct_find_function</a>(ptr, identifier);
<a name="l05509"></a>05509 
<a name="l05510"></a>05510     <span class="keywordflow">if</span> (func)
<a name="l05511"></a>05511         <span class="keywordflow">return</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a12ae00923a27be13c8ff17fd88c8a51f">RNA_function_call_direct_va</a>(C, reports, ptr, func, format, args);
<a name="l05512"></a>05512 
<a name="l05513"></a>05513     <span class="keywordflow">return</span> 0;
<a name="l05514"></a>05514 }
<a name="l05515"></a>05515 
<a name="l05516"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a3ef6380e44e957caa10d3adb9feb6518">05516</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a3ef6380e44e957caa10d3adb9feb6518">RNA_property_reset</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> index)
<a name="l05517"></a>05517 {
<a name="l05518"></a>05518     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>;
<a name="l05519"></a>05519 
<a name="l05520"></a>05520     <span class="comment">/* get the length of the array to work with */</span>
<a name="l05521"></a>05521     len = <a class="code" href="../../d3/d10/rna__access_8c.html#aad51db9a31d245dba4ee1f50608f331c">RNA_property_array_length</a>(ptr, prop);
<a name="l05522"></a>05522     
<a name="l05523"></a>05523     <span class="comment">/* get and set the default values as appropriate for the various types */</span>
<a name="l05524"></a>05524     <span class="keywordflow">switch</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop)) {
<a name="l05525"></a>05525         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>:
<a name="l05526"></a>05526             <span class="keywordflow">if</span> (len) {
<a name="l05527"></a>05527                 <span class="keywordflow">if</span> (index == -1) {
<a name="l05528"></a>05528                     <span class="keywordtype">int</span> *tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*len, <span class="stringliteral">&quot;reset_defaults - boolean&quot;</span>);
<a name="l05529"></a>05529                     
<a name="l05530"></a>05530                     <a class="code" href="../../d3/d10/rna__access_8c.html#a602ff3c0e61cd4cebddcc46d624f0647">RNA_property_boolean_get_default_array</a>(ptr, prop, tmparray);
<a name="l05531"></a>05531                     <a class="code" href="../../d3/d10/rna__access_8c.html#a131f6d2a8690b568ccb41f7311d007d7">RNA_property_boolean_set_array</a>(ptr, prop, tmparray);
<a name="l05532"></a>05532                     
<a name="l05533"></a>05533                     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l05534"></a>05534                 }
<a name="l05535"></a>05535                 <span class="keywordflow">else</span> {
<a name="l05536"></a>05536                     <span class="keywordtype">int</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#a9259ab04fd70d6313f549b37f56f1a17">RNA_property_boolean_get_default_index</a>(ptr, prop, index);
<a name="l05537"></a>05537                     <a class="code" href="../../d3/d10/rna__access_8c.html#a658adde6477f2ecaf4b04402f1585e01">RNA_property_boolean_set_index</a>(ptr, prop, index, value);
<a name="l05538"></a>05538                 }
<a name="l05539"></a>05539             }
<a name="l05540"></a>05540             <span class="keywordflow">else</span> {
<a name="l05541"></a>05541                 <span class="keywordtype">int</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#aba106dc38e3d33fdbb1188507fa92b4c">RNA_property_boolean_get_default</a>(ptr, prop);
<a name="l05542"></a>05542                 <a class="code" href="../../d3/d10/rna__access_8c.html#a007e3f02d7d262b9cf7865abd6647db3">RNA_property_boolean_set</a>(ptr, prop, value);
<a name="l05543"></a>05543             }
<a name="l05544"></a>05544             <span class="keywordflow">return</span> 1;
<a name="l05545"></a>05545         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>:
<a name="l05546"></a>05546             <span class="keywordflow">if</span> (len) {
<a name="l05547"></a>05547                 <span class="keywordflow">if</span> (index == -1) {
<a name="l05548"></a>05548                     <span class="keywordtype">int</span> *tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*len, <span class="stringliteral">&quot;reset_defaults - int&quot;</span>);
<a name="l05549"></a>05549                     
<a name="l05550"></a>05550                     <a class="code" href="../../d3/d10/rna__access_8c.html#a31b94b4f657d4bcfb2b2cc56525a21ae">RNA_property_int_get_default_array</a>(ptr, prop, tmparray);
<a name="l05551"></a>05551                     <a class="code" href="../../d3/d10/rna__access_8c.html#ab877ee5b31a7b931a427e2a1a0b55a4a">RNA_property_int_set_array</a>(ptr, prop, tmparray);
<a name="l05552"></a>05552                     
<a name="l05553"></a>05553                     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l05554"></a>05554                 }
<a name="l05555"></a>05555                 <span class="keywordflow">else</span> {
<a name="l05556"></a>05556                     <span class="keywordtype">int</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#a63940bd2d50b4c45e86cf7835f0f83d1">RNA_property_int_get_default_index</a>(ptr, prop, index);
<a name="l05557"></a>05557                     <a class="code" href="../../d3/d10/rna__access_8c.html#a6d0776ad7e76eaa70237db22abfa414a">RNA_property_int_set_index</a>(ptr, prop, index, value);
<a name="l05558"></a>05558                 }
<a name="l05559"></a>05559             }
<a name="l05560"></a>05560             <span class="keywordflow">else</span> {
<a name="l05561"></a>05561                 <span class="keywordtype">int</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#aa4b70adbda58c9ec8dfa78f7709129e7">RNA_property_int_get_default</a>(ptr, prop);
<a name="l05562"></a>05562                 <a class="code" href="../../d3/d10/rna__access_8c.html#a0b521aa0072858134949f9639de7faff">RNA_property_int_set</a>(ptr, prop, value);
<a name="l05563"></a>05563             }
<a name="l05564"></a>05564             <span class="keywordflow">return</span> 1;
<a name="l05565"></a>05565         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>:
<a name="l05566"></a>05566             <span class="keywordflow">if</span> (len) {
<a name="l05567"></a>05567                 <span class="keywordflow">if</span> (index == -1) {
<a name="l05568"></a>05568                     <span class="keywordtype">float</span> *tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*len, <span class="stringliteral">&quot;reset_defaults - float&quot;</span>);
<a name="l05569"></a>05569                     
<a name="l05570"></a>05570                     <a class="code" href="../../d3/d10/rna__access_8c.html#a67d6760f4f70f4e5831f21f5338f58aa">RNA_property_float_get_default_array</a>(ptr, prop, tmparray);
<a name="l05571"></a>05571                     <a class="code" href="../../d3/d10/rna__access_8c.html#ab7ca0e1bc4c13dcd06cdd992ca60917f">RNA_property_float_set_array</a>(ptr, prop, tmparray);
<a name="l05572"></a>05572                     
<a name="l05573"></a>05573                     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l05574"></a>05574                 }
<a name="l05575"></a>05575                 <span class="keywordflow">else</span> {
<a name="l05576"></a>05576                     <span class="keywordtype">float</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#a44c81312acceb9a2860d94a21e7a9af7">RNA_property_float_get_default_index</a>(ptr, prop, index);
<a name="l05577"></a>05577                     <a class="code" href="../../d3/d10/rna__access_8c.html#a326106b1051fcba6776e8e7198c109c4">RNA_property_float_set_index</a>(ptr, prop, index, value);
<a name="l05578"></a>05578                 }
<a name="l05579"></a>05579             }
<a name="l05580"></a>05580             <span class="keywordflow">else</span> {
<a name="l05581"></a>05581                 <span class="keywordtype">float</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#aede8127280b5d3bd9a860a1043177b1e">RNA_property_float_get_default</a>(ptr, prop);
<a name="l05582"></a>05582                 <a class="code" href="../../d3/d10/rna__access_8c.html#abdb7455ec63efacab0c1d5b9fb25b0b0">RNA_property_float_set</a>(ptr, prop, value);
<a name="l05583"></a>05583             }
<a name="l05584"></a>05584             <span class="keywordflow">return</span> 1;
<a name="l05585"></a>05585         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>:
<a name="l05586"></a>05586         {
<a name="l05587"></a>05587             <span class="keywordtype">int</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#a77741e5f6a46eef264e60d87cbc0e999">RNA_property_enum_get_default</a>(ptr, prop);
<a name="l05588"></a>05588             <a class="code" href="../../d3/d10/rna__access_8c.html#a557c923d4a24b42363256f33a6fb9205">RNA_property_enum_set</a>(ptr, prop, value);
<a name="l05589"></a>05589             <span class="keywordflow">return</span> 1;
<a name="l05590"></a>05590         }
<a name="l05591"></a>05591         
<a name="l05592"></a>05592         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>:
<a name="l05593"></a>05593         {
<a name="l05594"></a>05594             <span class="keywordtype">char</span> *value = <a class="code" href="../../d3/d10/rna__access_8c.html#adebf0f120dcb5bd50ef3d7aeec44a16c">RNA_property_string_get_default_alloc</a>(ptr, prop, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);
<a name="l05595"></a>05595             <a class="code" href="../../d3/d10/rna__access_8c.html#afce4fb987ac5a876e33a51d1b5cc2d6a">RNA_property_string_set</a>(ptr, prop, value);
<a name="l05596"></a>05596             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(value);
<a name="l05597"></a>05597             <span class="keywordflow">return</span> 1;
<a name="l05598"></a>05598         }
<a name="l05599"></a>05599         
<a name="l05600"></a>05600         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>:
<a name="l05601"></a>05601         {
<a name="l05602"></a>05602             <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> value = <a class="code" href="../../d3/d10/rna__access_8c.html#a882c3e3084b33d30ce23b45e89cf5620">RNA_property_pointer_get_default</a>(ptr, prop);
<a name="l05603"></a>05603             <a class="code" href="../../d3/d10/rna__access_8c.html#adafe00269e3f01d8a6182040597fd020">RNA_property_pointer_set</a>(ptr, prop, value);
<a name="l05604"></a>05604             <span class="keywordflow">return</span> 1;
<a name="l05605"></a>05605         }
<a name="l05606"></a>05606         
<a name="l05607"></a>05607         <span class="keywordflow">default</span>:
<a name="l05608"></a>05608             <span class="comment">/* FIXME: are there still any cases that haven&#39;t been handled? comment out &quot;default&quot; block to check :) */</span>
<a name="l05609"></a>05609             <span class="keywordflow">return</span> 0;
<a name="l05610"></a>05610     }
<a name="l05611"></a>05611 }
<a name="l05612"></a>05612     
<a name="l05613"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#ad9ea9520af9cb88c96b8b73f486907f1">05613</a> <span class="keywordtype">int</span> <a class="code" href="../../d3/d10/rna__access_8c.html#ad9ea9520af9cb88c96b8b73f486907f1">RNA_property_copy</a>(<a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr, <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *fromptr, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> index)
<a name="l05614"></a>05614 {
<a name="l05615"></a>05615     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>, fromlen;
<a name="l05616"></a>05616 
<a name="l05617"></a>05617     <span class="comment">/* get the length of the array to work with */</span>
<a name="l05618"></a>05618     len = <a class="code" href="../../d3/d10/rna__access_8c.html#aad51db9a31d245dba4ee1f50608f331c">RNA_property_array_length</a>(ptr, prop);
<a name="l05619"></a>05619     fromlen = <a class="code" href="../../d3/d10/rna__access_8c.html#aad51db9a31d245dba4ee1f50608f331c">RNA_property_array_length</a>(ptr, prop);
<a name="l05620"></a>05620 
<a name="l05621"></a>05621     <span class="keywordflow">if</span> (len != fromlen)
<a name="l05622"></a>05622         <span class="keywordflow">return</span> 0;
<a name="l05623"></a>05623     
<a name="l05624"></a>05624     <span class="comment">/* get and set the default values as appropriate for the various types */</span>
<a name="l05625"></a>05625     <span class="keywordflow">switch</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop)) {
<a name="l05626"></a>05626         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>:
<a name="l05627"></a>05627             <span class="keywordflow">if</span> (len) {
<a name="l05628"></a>05628                 <span class="keywordflow">if</span> (index == -1) {
<a name="l05629"></a>05629                     <span class="keywordtype">int</span> *tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*len, <span class="stringliteral">&quot;copy - boolean&quot;</span>);
<a name="l05630"></a>05630                     
<a name="l05631"></a>05631                     <a class="code" href="../../d3/d10/rna__access_8c.html#af3af416215c3d866744c965e6d4faa10">RNA_property_boolean_get_array</a>(fromptr, prop, tmparray);
<a name="l05632"></a>05632                     <a class="code" href="../../d3/d10/rna__access_8c.html#a131f6d2a8690b568ccb41f7311d007d7">RNA_property_boolean_set_array</a>(ptr, prop, tmparray);
<a name="l05633"></a>05633                     
<a name="l05634"></a>05634                     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l05635"></a>05635                 }
<a name="l05636"></a>05636                 <span class="keywordflow">else</span> {
<a name="l05637"></a>05637                     <span class="keywordtype">int</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#acb4afecfe847861cf6ebf4593d2b42bf">RNA_property_boolean_get_index</a>(fromptr, prop, index);
<a name="l05638"></a>05638                     <a class="code" href="../../d3/d10/rna__access_8c.html#a658adde6477f2ecaf4b04402f1585e01">RNA_property_boolean_set_index</a>(ptr, prop, index, value);
<a name="l05639"></a>05639                 }
<a name="l05640"></a>05640             }
<a name="l05641"></a>05641             <span class="keywordflow">else</span> {
<a name="l05642"></a>05642                 <span class="keywordtype">int</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#a3a4a0d200b12ded21d24676dcff67732">RNA_property_boolean_get</a>(fromptr, prop);
<a name="l05643"></a>05643                 <a class="code" href="../../d3/d10/rna__access_8c.html#a007e3f02d7d262b9cf7865abd6647db3">RNA_property_boolean_set</a>(ptr, prop, value);
<a name="l05644"></a>05644             }
<a name="l05645"></a>05645             <span class="keywordflow">return</span> 1;
<a name="l05646"></a>05646         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>:
<a name="l05647"></a>05647             <span class="keywordflow">if</span> (len) {
<a name="l05648"></a>05648                 <span class="keywordflow">if</span> (index == -1) {
<a name="l05649"></a>05649                     <span class="keywordtype">int</span> *tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*len, <span class="stringliteral">&quot;copy - int&quot;</span>);
<a name="l05650"></a>05650                     
<a name="l05651"></a>05651                     <a class="code" href="../../d3/d10/rna__access_8c.html#ac0cb05a00f819cc37d4c5eea29c101bd">RNA_property_int_get_array</a>(fromptr, prop, tmparray);
<a name="l05652"></a>05652                     <a class="code" href="../../d3/d10/rna__access_8c.html#ab877ee5b31a7b931a427e2a1a0b55a4a">RNA_property_int_set_array</a>(ptr, prop, tmparray);
<a name="l05653"></a>05653                     
<a name="l05654"></a>05654                     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l05655"></a>05655                 }
<a name="l05656"></a>05656                 <span class="keywordflow">else</span> {
<a name="l05657"></a>05657                     <span class="keywordtype">int</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#a30c78968af88b29eca251317dfbbece5">RNA_property_int_get_index</a>(fromptr, prop, index);
<a name="l05658"></a>05658                     <a class="code" href="../../d3/d10/rna__access_8c.html#a6d0776ad7e76eaa70237db22abfa414a">RNA_property_int_set_index</a>(ptr, prop, index, value);
<a name="l05659"></a>05659                 }
<a name="l05660"></a>05660             }
<a name="l05661"></a>05661             <span class="keywordflow">else</span> {
<a name="l05662"></a>05662                 <span class="keywordtype">int</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#a7755e74d78f50e508966f2af17f7523e">RNA_property_int_get</a>(fromptr, prop);
<a name="l05663"></a>05663                 <a class="code" href="../../d3/d10/rna__access_8c.html#a0b521aa0072858134949f9639de7faff">RNA_property_int_set</a>(ptr, prop, value);
<a name="l05664"></a>05664             }
<a name="l05665"></a>05665             <span class="keywordflow">return</span> 1;
<a name="l05666"></a>05666         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>:
<a name="l05667"></a>05667             <span class="keywordflow">if</span> (len) {
<a name="l05668"></a>05668                 <span class="keywordflow">if</span> (index == -1) {
<a name="l05669"></a>05669                     <span class="keywordtype">float</span> *tmparray = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)*len, <span class="stringliteral">&quot;copy - float&quot;</span>);
<a name="l05670"></a>05670                     
<a name="l05671"></a>05671                     <a class="code" href="../../d3/d10/rna__access_8c.html#a151557228dae14af24d5e1b57495642b">RNA_property_float_get_array</a>(fromptr, prop, tmparray);
<a name="l05672"></a>05672                     <a class="code" href="../../d3/d10/rna__access_8c.html#ab7ca0e1bc4c13dcd06cdd992ca60917f">RNA_property_float_set_array</a>(ptr, prop, tmparray);
<a name="l05673"></a>05673                     
<a name="l05674"></a>05674                     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(tmparray);
<a name="l05675"></a>05675                 }
<a name="l05676"></a>05676                 <span class="keywordflow">else</span> {
<a name="l05677"></a>05677                     <span class="keywordtype">float</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#a402f3a472211a6817b5c1165566e35da">RNA_property_float_get_index</a>(fromptr, prop, index);
<a name="l05678"></a>05678                     <a class="code" href="../../d3/d10/rna__access_8c.html#a326106b1051fcba6776e8e7198c109c4">RNA_property_float_set_index</a>(ptr, prop, index, value);
<a name="l05679"></a>05679                 }
<a name="l05680"></a>05680             }
<a name="l05681"></a>05681             <span class="keywordflow">else</span> {
<a name="l05682"></a>05682                 <span class="keywordtype">float</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#a01215512e696b97758a08e61833fb8bd">RNA_property_float_get</a>(fromptr, prop);
<a name="l05683"></a>05683                 <a class="code" href="../../d3/d10/rna__access_8c.html#abdb7455ec63efacab0c1d5b9fb25b0b0">RNA_property_float_set</a>(ptr, prop, value);
<a name="l05684"></a>05684             }
<a name="l05685"></a>05685             <span class="keywordflow">return</span> 1;
<a name="l05686"></a>05686         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>:
<a name="l05687"></a>05687         {
<a name="l05688"></a>05688             <span class="keywordtype">int</span> value = <a class="code" href="../../d3/d10/rna__access_8c.html#abb4862291354aedcb2cc916f1c30642b">RNA_property_enum_get</a>(fromptr, prop);
<a name="l05689"></a>05689             <a class="code" href="../../d3/d10/rna__access_8c.html#a557c923d4a24b42363256f33a6fb9205">RNA_property_enum_set</a>(ptr, prop, value);
<a name="l05690"></a>05690             <span class="keywordflow">return</span> 1;
<a name="l05691"></a>05691         }
<a name="l05692"></a>05692         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>:
<a name="l05693"></a>05693         {
<a name="l05694"></a>05694             <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> value = <a class="code" href="../../d3/d10/rna__access_8c.html#a575c543a2a1f509f371bc1cee4fbe4d7">RNA_property_pointer_get</a>(fromptr, prop);
<a name="l05695"></a>05695             <a class="code" href="../../d3/d10/rna__access_8c.html#adafe00269e3f01d8a6182040597fd020">RNA_property_pointer_set</a>(ptr, prop, value);
<a name="l05696"></a>05696             <span class="keywordflow">return</span> 1;
<a name="l05697"></a>05697         }
<a name="l05698"></a>05698         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>:
<a name="l05699"></a>05699         {
<a name="l05700"></a>05700             <span class="keywordtype">char</span> *value = <a class="code" href="../../d3/d10/rna__access_8c.html#a6751615b211d7dd06640353d53198040">RNA_property_string_get_alloc</a>(fromptr, prop, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l05701"></a>05701             <a class="code" href="../../d3/d10/rna__access_8c.html#afce4fb987ac5a876e33a51d1b5cc2d6a">RNA_property_string_set</a>(ptr, prop, value);
<a name="l05702"></a>05702             <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(value);
<a name="l05703"></a>05703             <span class="keywordflow">return</span> 1;
<a name="l05704"></a>05704         }
<a name="l05705"></a>05705         <span class="keywordflow">default</span>:
<a name="l05706"></a>05706             <span class="keywordflow">return</span> 0;
<a name="l05707"></a>05707     }
<a name="l05708"></a>05708 
<a name="l05709"></a>05709     <span class="keywordflow">return</span> 0;
<a name="l05710"></a>05710 }
<a name="l05711"></a>05711 
<a name="l05712"></a>05712 <span class="comment">/* use RNA_warning macro which includes __func__ suffix */</span>
<a name="l05713"></a><a class="code" href="../../de/ddf/RNA__access_8h.html#a42bb870ff639d3021278fd5e225d067b">05713</a> <span class="keywordtype">void</span> <a class="code" href="../../d3/d10/rna__access_8c.html#a42bb870ff639d3021278fd5e225d067b">_RNA_warning</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...)
<a name="l05714"></a>05714 {
<a name="l05715"></a>05715     va_list args;
<a name="l05716"></a>05716 
<a name="l05717"></a>05717     va_start(args, format);
<a name="l05718"></a>05718     vprintf(format, args);
<a name="l05719"></a>05719     va_end(args);
<a name="l05720"></a>05720 
<a name="l05721"></a>05721     <span class="comment">/* gcc macro adds &#39;\n&#39;, but cant use for other compilers */</span>
<a name="l05722"></a>05722 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l05723"></a>05723 <span class="preprocessor"></span>    fputc(<span class="charliteral">&#39;\n&#39;</span>, stdout);
<a name="l05724"></a>05724 <span class="preprocessor">#endif</span>
<a name="l05725"></a>05725 <span class="preprocessor"></span>
<a name="l05726"></a>05726 <span class="preprocessor">#ifdef WITH_PYTHON</span>
<a name="l05727"></a>05727 <span class="preprocessor"></span>    {
<a name="l05728"></a>05728         <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d17/py__capi__utils_8c.html#ad03a816f07fde9b99b20874b7500e18b">PyC_LineSpit</a>(<span class="keywordtype">void</span>);
<a name="l05729"></a>05729         <a class="code" href="../../d8/d17/py__capi__utils_8c.html#ad03a816f07fde9b99b20874b7500e18b">PyC_LineSpit</a>();
<a name="l05730"></a>05730     }
<a name="l05731"></a>05731 <span class="preprocessor">#endif</span>
<a name="l05732"></a>05732 <span class="preprocessor"></span>}
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Nov 13 2012 11:54:48 for Blender by&#160;
<a href="http://www.doxygen.org/index.html"> 
doxygen</a> 1.7.4 </small></address> 
</body>
</html>
