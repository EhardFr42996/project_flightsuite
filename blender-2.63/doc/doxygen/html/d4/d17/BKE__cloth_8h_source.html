<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Blender: BKE_cloth.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blender.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Blender&#160;<span id="projectnumber">V2.6x</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">BKE_cloth.h</div>  </div>
</div>
<div class="contents">
<a href="../../d4/d17/BKE__cloth_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * ***** BEGIN GPL LICENSE BLOCK *****</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This program is free software; you can redistribute it and/or</span>
<a name="l00005"></a>00005 <span class="comment"> * modify it under the terms of the GNU General Public License</span>
<a name="l00006"></a>00006 <span class="comment"> * as published by the Free Software Foundation; either version 2</span>
<a name="l00007"></a>00007 <span class="comment"> * of the License, or (at your option) any later version.</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00010"></a>00010 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00011"></a>00011 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00012"></a>00012 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00015"></a>00015 <span class="comment"> * along with this program; if not, write to the Free Software Foundation,</span>
<a name="l00016"></a>00016 <span class="comment"> * Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * The Original Code is Copyright (C) Blender Foundation.</span>
<a name="l00019"></a>00019 <span class="comment"> * All rights reserved.</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> * The Original Code is: all of this file.</span>
<a name="l00022"></a>00022 <span class="comment"> *</span>
<a name="l00023"></a>00023 <span class="comment"> * Contributor(s): Daniel Genrich</span>
<a name="l00024"></a>00024 <span class="comment"> *</span>
<a name="l00025"></a>00025 <span class="comment"> * ***** END GPL LICENSE BLOCK *****</span>
<a name="l00026"></a>00026 <span class="comment"> */</span>
<a name="l00027"></a>00027 <span class="preprocessor">#ifndef __BKE_CLOTH_H__</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span><span class="preprocessor">#define __BKE_CLOTH_H__</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;float.h&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="../../d9/d3d/BLI__math__inline_8h.html">BLI_math_inline.h</a>&quot;</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="keyword">struct </span><a class="code" href="../../de/de7/structObject.html">Object</a>;
<a name="l00039"></a>00039 <span class="keyword">struct </span><a class="code" href="../../d6/d85/structListBase.html">ListBase</a>;
<a name="l00040"></a>00040 <span class="keyword">struct </span><a class="code" href="../../d9/d27/structScene.html">Scene</a>;
<a name="l00041"></a>00041 <span class="keyword">struct </span><a class="code" href="../../d6/da0/structMFace.html">MFace</a>;
<a name="l00042"></a>00042 <span class="keyword">struct </span><a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a>;
<a name="l00043"></a>00043 <span class="keyword">struct </span><a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a>;
<a name="l00044"></a>00044 <span class="keyword">struct </span>CollisionTree;
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a2cbaeebd38552ec1c070a6dff2bed2aa">00046</a> <span class="preprocessor">#define DO_INLINE MALWAYS_INLINE</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span>
<a name="l00048"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#af1bdc29cb7c78d902966026d79f4e1df">00048</a> <span class="preprocessor">#define CLOTH_MAX_THREAD 2</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>
<a name="l00050"></a>00050 <span class="comment">/* goal defines */</span>
<a name="l00051"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#ac9b6990a3c0e57a2a62b4e1581db8844">00051</a> <span class="preprocessor">#define SOFTGOALSNAP  0.999f</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span>
<a name="l00053"></a>00053 <span class="comment">/* This is approximately the smallest number that can be</span>
<a name="l00054"></a>00054 <span class="comment"> * represented by a float, given its precision. */</span>
<a name="l00055"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#af1eda01eaa3d9dc5167d5fefd39b1d75">00055</a> <span class="preprocessor">#define ALMOST_ZERO     FLT_EPSILON</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span>
<a name="l00057"></a>00057 <span class="comment">/* Bits to or into the ClothVertex.flags. */</span>
<a name="l00058"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a53b3b622ebde5549af3e5f39de494590">00058</a> <span class="preprocessor">#define CLOTH_VERT_FLAG_PINNED 1</span>
<a name="l00059"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#aa5186b720a5cf5d0f3d8c569b75798d2">00059</a> <span class="preprocessor"></span><span class="preprocessor">#define CLOTH_VERT_FLAG_COLLISION 2</span>
<a name="l00060"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a41de2d3790d17b72ba423522b5d3a98b">00060</a> <span class="preprocessor"></span><span class="preprocessor">#define CLOTH_VERT_FLAG_PINNED_EM 3</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span>
<a name="l00072"></a><a class="code" href="../../d7/d35/structCloth.html">00072</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d35/structCloth.html">Cloth</a>
<a name="l00073"></a>00073 {
<a name="l00074"></a><a class="code" href="../../d7/d35/structCloth.html#abb55dfde9f8197852a25fe2c776686ed">00074</a>     <span class="keyword">struct </span><a class="code" href="../../d2/dc4/structClothVertex.html">ClothVertex</a>  *<a class="code" href="../../d7/d35/structCloth.html#abb55dfde9f8197852a25fe2c776686ed">verts</a>;         <span class="comment">/* The vertices that represent this cloth. */</span>
<a name="l00075"></a><a class="code" href="../../d7/d35/structCloth.html#a01d6d155b15c2ab591f61cb7c83c4b4e">00075</a>     <span class="keyword">struct  </span><a class="code" href="../../d7/deb/structLinkNode.html">LinkNode</a>    *<a class="code" href="../../d7/d35/structCloth.html#a01d6d155b15c2ab591f61cb7c83c4b4e">springs</a>;       <span class="comment">/* The springs connecting the mesh. */</span>
<a name="l00076"></a><a class="code" href="../../d7/d35/structCloth.html#a6def416ae8e5159609bc690dda606036">00076</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="../../d7/d35/structCloth.html#a6def416ae8e5159609bc690dda606036">numverts</a>;       <span class="comment">/* The number of verts == m * n. */</span>
<a name="l00077"></a><a class="code" href="../../d7/d35/structCloth.html#a909e756e17877c7eec6051248ad36bfa">00077</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="../../d7/d35/structCloth.html#a909e756e17877c7eec6051248ad36bfa">numsprings</a>;     <span class="comment">/* The count of springs. */</span>
<a name="l00078"></a><a class="code" href="../../d7/d35/structCloth.html#abb15ba62c4511a42c5a09fb938662dfb">00078</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="../../d7/d35/structCloth.html#abb15ba62c4511a42c5a09fb938662dfb">numfaces</a>;
<a name="l00079"></a><a class="code" href="../../d7/d35/structCloth.html#aba67658527a7827cf14fe02c71df5015">00079</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>       <a class="code" href="../../d7/d35/structCloth.html#aba67658527a7827cf14fe02c71df5015">old_solver_type</a>;    <span class="comment">/* unused, only 1 solver here */</span>
<a name="l00080"></a><a class="code" href="../../d7/d35/structCloth.html#a057f92368dc8b29a1ea1572abfde7f86">00080</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>       <a class="code" href="../../d7/d35/structCloth.html#a057f92368dc8b29a1ea1572abfde7f86">pad2</a>;
<a name="l00081"></a><a class="code" href="../../d7/d35/structCloth.html#a409b870c93e715449e4d414bbbc5ccf7">00081</a>     <span class="keywordtype">short</span>           <a class="code" href="../../d7/d35/structCloth.html#a409b870c93e715449e4d414bbbc5ccf7">pad3</a>;
<a name="l00082"></a><a class="code" href="../../d7/d35/structCloth.html#a76e8e415671a01bc81e67f5c751e4f37">00082</a>     <span class="keyword">struct </span><a class="code" href="../../dc/dad/structBVHTree.html">BVHTree</a>      *<a class="code" href="../../d7/d35/structCloth.html#a76e8e415671a01bc81e67f5c751e4f37">bvhtree</a>;           <span class="comment">/* collision tree for this cloth object */</span>
<a name="l00083"></a><a class="code" href="../../d7/d35/structCloth.html#a963665b409490da8215f9a846f7eff74">00083</a>     <span class="keyword">struct </span><a class="code" href="../../dc/dad/structBVHTree.html">BVHTree</a>      *<a class="code" href="../../d7/d35/structCloth.html#a963665b409490da8215f9a846f7eff74">bvhselftree</a>;           <span class="comment">/* collision tree for this cloth object */</span>
<a name="l00084"></a><a class="code" href="../../d7/d35/structCloth.html#a97ef6c95ea064ac0cd658fd1724adeb7">00084</a>     <span class="keyword">struct </span><a class="code" href="../../d6/da0/structMFace.html">MFace</a>        *<a class="code" href="../../d7/d35/structCloth.html#a97ef6c95ea064ac0cd658fd1724adeb7">mfaces</a>;
<a name="l00085"></a><a class="code" href="../../d7/d35/structCloth.html#a8f8f5dff86c2e22ce09e204a8506c598">00085</a>     <span class="keyword">struct </span><a class="code" href="../../d9/d69/structImplicit__Data.html">Implicit_Data</a>    *<a class="code" href="../../d7/d35/structCloth.html#a8f8f5dff86c2e22ce09e204a8506c598">implicit</a>;      <span class="comment">/* our implicit solver connects to this pointer */</span>
<a name="l00086"></a><a class="code" href="../../d7/d35/structCloth.html#a1efec73f02283060244164e0f3e77cb8">00086</a>     <span class="keyword">struct </span><a class="code" href="../../d9/d69/structImplicit__Data.html">Implicit_Data</a>    *<a class="code" href="../../d7/d35/structCloth.html#a1efec73f02283060244164e0f3e77cb8">implicitEM</a>;        <span class="comment">/* our implicit solver connects to this pointer */</span>
<a name="l00087"></a><a class="code" href="../../d7/d35/structCloth.html#a109667247df3c2e8266c6fcd0352f45a">00087</a>     <span class="keyword">struct </span><a class="code" href="../../db/d6c/structEdgeHash.html">EdgeHash</a>     *<a class="code" href="../../d7/d35/structCloth.html#a109667247df3c2e8266c6fcd0352f45a">edgehash</a>;      <span class="comment">/* used for selfcollisions */</span>
<a name="l00088"></a><a class="code" href="../../d7/d35/structCloth.html#a86d37cd88553199ace4d3376b371dc34">00088</a>     <span class="keywordtype">int</span> <a class="code" href="../../d7/d35/structCloth.html#ae3578eaaffe3b40f597adb372fba6c01">last_frame</a>, <a class="code" href="../../d7/d35/structCloth.html#a86d37cd88553199ace4d3376b371dc34">pad4</a>;
<a name="l00089"></a>00089 } <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a191b41a05d76691313d7e8e869d2322d">Cloth</a>;
<a name="l00090"></a>00090 
<a name="l00094"></a><a class="code" href="../../d2/dc4/structClothVertex.html">00094</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/dc4/structClothVertex.html">ClothVertex</a>
<a name="l00095"></a>00095 {
<a name="l00096"></a><a class="code" href="../../d2/dc4/structClothVertex.html#afde6d45c0a1453d1e2ecb6212a22657f">00096</a>     <span class="keywordtype">int</span> <a class="code" href="../../d2/dc4/structClothVertex.html#afde6d45c0a1453d1e2ecb6212a22657f">flags</a>;      <span class="comment">/* General flags per vertex.        */</span>
<a name="l00097"></a><a class="code" href="../../d2/dc4/structClothVertex.html#a98dfb569724cfc1c0d60989cced30e69">00097</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#a98dfb569724cfc1c0d60989cced30e69">v</a>[3];       <span class="comment">/* The velocity of the point.       */</span>
<a name="l00098"></a><a class="code" href="../../d2/dc4/structClothVertex.html#aec9787aff2bd7f41326329f18138a740">00098</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#aec9787aff2bd7f41326329f18138a740">xconst</a>[3];  <span class="comment">/* constrained position         */</span>
<a name="l00099"></a><a class="code" href="../../d2/dc4/structClothVertex.html#a9394c1e84c2e8f0e36a9a79bb87265de">00099</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#a9394c1e84c2e8f0e36a9a79bb87265de">x</a>[3];       <span class="comment">/* The current position of this vertex. */</span>
<a name="l00100"></a><a class="code" href="../../d2/dc4/structClothVertex.html#afc75402bcbfeee9b0542529b4ed3aca2">00100</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#afc75402bcbfeee9b0542529b4ed3aca2">xold</a>[3];    <span class="comment">/* The previous position of this vertex.*/</span>
<a name="l00101"></a><a class="code" href="../../d2/dc4/structClothVertex.html#aec520cb14d8db593a66fef5b2d911007">00101</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#aec520cb14d8db593a66fef5b2d911007">tx</a>[3];      <span class="comment">/* temporary position */</span>
<a name="l00102"></a><a class="code" href="../../d2/dc4/structClothVertex.html#af3634cf1346cfc4237f4f0a1b5730526">00102</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#af3634cf1346cfc4237f4f0a1b5730526">txold</a>[3];   <span class="comment">/* temporary old position */</span>
<a name="l00103"></a><a class="code" href="../../d2/dc4/structClothVertex.html#a8597947b4af74a2c397f8d0d5598b91c">00103</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#a8597947b4af74a2c397f8d0d5598b91c">tv</a>[3];      <span class="comment">/* temporary &quot;velocity&quot;, mostly used as tv = tx-txold */</span>
<a name="l00104"></a><a class="code" href="../../d2/dc4/structClothVertex.html#a13796f61afd01ec110a4c970679e07dc">00104</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#a13796f61afd01ec110a4c970679e07dc">mass</a>;       <span class="comment">/* mass / weight of the vertex      */</span>
<a name="l00105"></a><a class="code" href="../../d2/dc4/structClothVertex.html#ab382762e7893e031dbd88d4f4399ff9f">00105</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#ab382762e7893e031dbd88d4f4399ff9f">goal</a>;       <span class="comment">/* goal, from SB            */</span>
<a name="l00106"></a><a class="code" href="../../d2/dc4/structClothVertex.html#a1f1fe0c8a2814d174074c23c49421383">00106</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#a1f1fe0c8a2814d174074c23c49421383">impulse</a>[3]; <span class="comment">/* used in collision.c */</span>
<a name="l00107"></a><a class="code" href="../../d2/dc4/structClothVertex.html#a9a28341c9ca6db421fc89915810bc6cd">00107</a>     <span class="keywordtype">float</span>   *<a class="code" href="../../d2/dc4/structClothVertex.html#a9a28341c9ca6db421fc89915810bc6cd">xrest</a>;     <span class="comment">/* temporary valid for building springs */</span>
<a name="l00108"></a><a class="code" href="../../d2/dc4/structClothVertex.html#a9a7f45264431d720ec93d80e791bc653">00108</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d2/dc4/structClothVertex.html#a9a7f45264431d720ec93d80e791bc653">impulse_count</a>; <span class="comment">/* same as above */</span>
<a name="l00109"></a><a class="code" href="../../d2/dc4/structClothVertex.html#a19a9ffa0a1966cc70b9dde647a24332f">00109</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#a19a9ffa0a1966cc70b9dde647a24332f">avg_spring_len</a>; <span class="comment">/* average length of connected springs */</span>
<a name="l00110"></a><a class="code" href="../../d2/dc4/structClothVertex.html#af11293abcc650c5ce1959bcbcb71236e">00110</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#af11293abcc650c5ce1959bcbcb71236e">struct_stiff</a>;
<a name="l00111"></a><a class="code" href="../../d2/dc4/structClothVertex.html#a0165d17964ddf0fe1fdf5a34d8f8e149">00111</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#a0165d17964ddf0fe1fdf5a34d8f8e149">bend_stiff</a>;
<a name="l00112"></a><a class="code" href="../../d2/dc4/structClothVertex.html#aa70e3444f3915c6934d14a2be3eb9f8e">00112</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d2/dc4/structClothVertex.html#aa70e3444f3915c6934d14a2be3eb9f8e">shear_stiff</a>;
<a name="l00113"></a><a class="code" href="../../d2/dc4/structClothVertex.html#a9fc3d6c9d0061d83b7750ba389c5d662">00113</a>     <span class="keywordtype">int</span>     <a class="code" href="../../d2/dc4/structClothVertex.html#a9fc3d6c9d0061d83b7750ba389c5d662">spring_count</a>; <span class="comment">/* how many springs attached? */</span>
<a name="l00114"></a>00114 }
<a name="l00115"></a>00115 <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a6aae2983442cf3a4f37a513f19486b48">ClothVertex</a>;
<a name="l00116"></a>00116 
<a name="l00120"></a><a class="code" href="../../d8/d75/structClothSpring.html">00120</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d75/structClothSpring.html">ClothSpring</a>
<a name="l00121"></a>00121 {
<a name="l00122"></a><a class="code" href="../../d8/d75/structClothSpring.html#acbfe43c34cf6049b3587eb70cf4ccf58">00122</a>     <span class="keywordtype">int</span> <a class="code" href="../../d8/d75/structClothSpring.html#acbfe43c34cf6049b3587eb70cf4ccf58">ij</a>;     <span class="comment">/* Pij from the paper, one end of the spring.   */</span>
<a name="l00123"></a><a class="code" href="../../d8/d75/structClothSpring.html#a57a5d93fee27466bcfc9e799e5d08f36">00123</a>     <span class="keywordtype">int</span> <a class="code" href="../../d8/d75/structClothSpring.html#a57a5d93fee27466bcfc9e799e5d08f36">kl</a>;     <span class="comment">/* Pkl from the paper, one end of the spring.   */</span>
<a name="l00124"></a><a class="code" href="../../d8/d75/structClothSpring.html#af27567713a9178f8b9ff31f3f1f2a1b5">00124</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d8/d75/structClothSpring.html#af27567713a9178f8b9ff31f3f1f2a1b5">restlen</a>;    <span class="comment">/* The original length of the spring.   */</span>
<a name="l00125"></a><a class="code" href="../../d8/d75/structClothSpring.html#a17eab58aef036c7b3ec3c9903ccc4860">00125</a>     <span class="keywordtype">int</span> <a class="code" href="../../d8/d75/structClothSpring.html#a17eab58aef036c7b3ec3c9903ccc4860">matrix_index</a>;   <span class="comment">/* needed for implicit solver (fast lookup) */</span>
<a name="l00126"></a><a class="code" href="../../d8/d75/structClothSpring.html#a52ae1f89841355d29f91c5aa3b394982">00126</a>     <span class="keywordtype">int</span> <a class="code" href="../../d8/d75/structClothSpring.html#a52ae1f89841355d29f91c5aa3b394982">type</a>;       <span class="comment">/* types defined in BKE_cloth.h (&quot;springType&quot;) */</span>
<a name="l00127"></a><a class="code" href="../../d8/d75/structClothSpring.html#aa40dac050a837503c1f6aea55fe96568">00127</a>     <span class="keywordtype">int</span> <a class="code" href="../../d8/d75/structClothSpring.html#aa40dac050a837503c1f6aea55fe96568">flags</a>;      <span class="comment">/* defined in BKE_cloth.h, e.g. deactivated due to tearing */</span>
<a name="l00128"></a><a class="code" href="../../d8/d75/structClothSpring.html#a7277275bcdd3ad04801c0f63a6191acc">00128</a>     <span class="keywordtype">float</span> <a class="code" href="../../d8/d75/structClothSpring.html#a7277275bcdd3ad04801c0f63a6191acc">dfdx</a>[3][3];
<a name="l00129"></a><a class="code" href="../../d8/d75/structClothSpring.html#a9560c8cd8c1eb4e544d9069b624a2def">00129</a>     <span class="keywordtype">float</span> <a class="code" href="../../d8/d75/structClothSpring.html#a9560c8cd8c1eb4e544d9069b624a2def">dfdv</a>[3][3];
<a name="l00130"></a><a class="code" href="../../d8/d75/structClothSpring.html#a841b7d0a0f91c8750b95f66e34cb6c75">00130</a>     <span class="keywordtype">float</span> <a class="code" href="../../d8/d75/structClothSpring.html#a841b7d0a0f91c8750b95f66e34cb6c75">f</a>[3];
<a name="l00131"></a><a class="code" href="../../d8/d75/structClothSpring.html#acc8f2ab3c427fd03f1ef4c229bfcd835">00131</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d8/d75/structClothSpring.html#acc8f2ab3c427fd03f1ef4c229bfcd835">stiffness</a>;  <span class="comment">/* stiffness factor from the vertex groups */</span>
<a name="l00132"></a><a class="code" href="../../d8/d75/structClothSpring.html#ac358f165d153f5507163acbb67118ead">00132</a>     <span class="keywordtype">float</span> <a class="code" href="../../d8/d75/structClothSpring.html#ac358f165d153f5507163acbb67118ead">editrestlen</a>;
<a name="l00133"></a>00133 }
<a name="l00134"></a>00134 <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a0479241a05ee9cd9633ac593fc21b89a">ClothSpring</a>;
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 <span class="comment">// some macro enhancements for vector treatment</span>
<a name="l00137"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#adee17b17d4df4d56ff4c5a396eb52d8d">00137</a> <span class="preprocessor">#define VECADDADD(v1,v2,v3)     {*(v1)+= *(v2) + *(v3); *(v1+1)+= *(v2+1) + *(v3+1); *(v1+2)+= *(v2+2) + *(v3+2);}</span>
<a name="l00138"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a8a5153c8eb84e7c408bb9b33eb62b4e4">00138</a> <span class="preprocessor"></span><span class="preprocessor">#define VECSUBADD(v1,v2,v3)     {*(v1)-= *(v2) + *(v3); *(v1+1)-= *(v2+1) + *(v3+1); *(v1+2)-= *(v2+2) + *(v3+2);}</span>
<a name="l00139"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a724a311f7975ac41314fbe24dc19bad9">00139</a> <span class="preprocessor"></span><span class="preprocessor">#define VECADDSUB(v1,v2,v3)     {*(v1)+= *(v2) - *(v3); *(v1+1)+= *(v2+1) - *(v3+1); *(v1+2)+= *(v2+2) - *(v3+2);}</span>
<a name="l00140"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#aaa0b9f342568881c767ef033abccd6f5">00140</a> <span class="preprocessor"></span><span class="preprocessor">#define VECSUBADDSS(v1,v2,aS,v3,bS)     {*(v1)-= *(v2)*aS + *(v3)*bS; *(v1+1)-= *(v2+1)*aS + *(v3+1)*bS; *(v1+2)-= *(v2+2)*aS + *(v3+2)*bS;}</span>
<a name="l00141"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#aaf283b311b4d8c01fdd3ae59530c49dd">00141</a> <span class="preprocessor"></span><span class="preprocessor">#define VECADDSUBSS(v1,v2,aS,v3,bS)     {*(v1)+= *(v2)*aS - *(v3)*bS; *(v1+1)+= *(v2+1)*aS - *(v3+1)*bS; *(v1+2)+= *(v2+2)*aS - *(v3+2)*bS;}</span>
<a name="l00142"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a70afe49b043459ee91b06fd7c7f26056">00142</a> <span class="preprocessor"></span><span class="preprocessor">#define VECADDSS(v1,v2,aS,v3,bS)    {*(v1)= *(v2)*aS + *(v3)*bS; *(v1+1)= *(v2+1)*aS + *(v3+1)*bS; *(v1+2)= *(v2+2)*aS + *(v3+2)*bS;}</span>
<a name="l00143"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a19142205dce26e1775eac98569da72a5">00143</a> <span class="preprocessor"></span><span class="preprocessor">#define VECADDS(v1,v2,v3,bS)    {*(v1)= *(v2) + *(v3)*bS; *(v1+1)= *(v2+1) + *(v3+1)*bS; *(v1+2)= *(v2+2) + *(v3+2)*bS;}</span>
<a name="l00144"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#ad5d90e0b772fd211b94330ff3ff4f182">00144</a> <span class="preprocessor"></span><span class="preprocessor">#define VECSUBMUL(v1,v2,aS)     {*(v1)-= *(v2) * aS; *(v1+1)-= *(v2+1) * aS; *(v1+2)-= *(v2+2) * aS;}</span>
<a name="l00145"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a40b128358b9a7d1c884e513550b780da">00145</a> <span class="preprocessor"></span><span class="preprocessor">#define VECSUBS(v1,v2,v3,bS)    {*(v1)= *(v2) - *(v3)*bS; *(v1+1)= *(v2+1) - *(v3+1)*bS; *(v1+2)= *(v2+2) - *(v3+2)*bS;}</span>
<a name="l00146"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a44ff0e4413fac0c887f07b756ef6f40d">00146</a> <span class="preprocessor"></span><span class="preprocessor">#define VECSUBSB(v1,v2, v3,bS)  {*(v1)= (*(v2)- *(v3))*bS; *(v1+1)= (*(v2+1) - *(v3+1))*bS; *(v1+2)= (*(v2+2) - *(v3+2))*bS;}</span>
<a name="l00147"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a941944e659c6455e10e1ac7bf90b6070">00147</a> <span class="preprocessor"></span><span class="preprocessor">#define VECMULS(v1,aS)  {*(v1)*= aS; *(v1+1)*= aS; *(v1+2)*= *aS;}</span>
<a name="l00148"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#ab44cb2c97633e0baef66bbd0a7d03fd5">00148</a> <span class="preprocessor"></span><span class="preprocessor">#define VECADDMUL(v1,v2,aS)     {*(v1)+= *(v2) * aS; *(v1+1)+= *(v2+1) * aS; *(v1+2)+= *(v2+2) * aS;}</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span>
<a name="l00150"></a>00150 <span class="comment">/* SIMULATION FLAGS: goal flags,.. */</span>
<a name="l00151"></a>00151 <span class="comment">/* These are the bits used in SimSettings.flags. */</span>
<a name="l00152"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1e">00152</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00153"></a>00153 {
<a name="l00154"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1eaf0ac23072638839720b4b784f1bd8114">00154</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1eaf0ac23072638839720b4b784f1bd8114">CLOTH_SIMSETTINGS_FLAG_COLLOBJ</a> = ( 1 &lt;&lt; 2 ),<span class="comment">// object is only collision object, no cloth simulation is done</span>
<a name="l00155"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1ea2595e42e924cf740a5206b0e93cccc69">00155</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1ea2595e42e924cf740a5206b0e93cccc69">CLOTH_SIMSETTINGS_FLAG_GOAL</a> = ( 1 &lt;&lt; 3 ),   <span class="comment">// we have goals enabled</span>
<a name="l00156"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1ead0817e7b8c54b6b649c0ef92aa643757">00156</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1ead0817e7b8c54b6b649c0ef92aa643757">CLOTH_SIMSETTINGS_FLAG_TEARING</a> = ( 1 &lt;&lt; 4 ),<span class="comment">// true if tearing is enabled</span>
<a name="l00157"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1ea5b191bc7a8cbf28f66c40005f4fbae29">00157</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1ea5b191bc7a8cbf28f66c40005f4fbae29">CLOTH_SIMSETTINGS_FLAG_SCALING</a> = ( 1 &lt;&lt; 8 ), <span class="comment">/* is advanced scaling active? */</span>
<a name="l00158"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1ea71fd87c5e7ad7ad027cae8c24a97b225">00158</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1ea71fd87c5e7ad7ad027cae8c24a97b225">CLOTH_SIMSETTINGS_FLAG_CCACHE_EDIT</a> = (1 &lt;&lt; 12), <span class="comment">/* edit cache in editmode */</span>
<a name="l00159"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1ea9d204fbe70f8a4d97a77b76df2ebccbf">00159</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1ea9d204fbe70f8a4d97a77b76df2ebccbf">CLOTH_SIMSETTINGS_FLAG_NO_SPRING_COMPRESS</a> = (1 &lt;&lt; 13) <span class="comment">/* don&#39;t allow spring compression */</span>
<a name="l00160"></a>00160 } <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a95af84ce079cb69c39096070624f7d1e">CLOTH_SIMSETTINGS_FLAGS</a>;
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <span class="comment">/* COLLISION FLAGS */</span>
<a name="l00163"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a57b10bdb160e33cbc64390be21399724">00163</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00164"></a>00164 {
<a name="l00165"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a57b10bdb160e33cbc64390be21399724a078d5843c9f036b90accd440bd457017">00165</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a57b10bdb160e33cbc64390be21399724a078d5843c9f036b90accd440bd457017">CLOTH_COLLSETTINGS_FLAG_ENABLED</a> = ( 1 &lt;&lt; 1 ), <span class="comment">/* enables cloth - object collisions */</span>
<a name="l00166"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a57b10bdb160e33cbc64390be21399724af386e282854be21761e78cb5783abba4">00166</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a57b10bdb160e33cbc64390be21399724af386e282854be21761e78cb5783abba4">CLOTH_COLLSETTINGS_FLAG_SELF</a> = ( 1 &lt;&lt; 2 ), <span class="comment">/* enables selfcollisions */</span>
<a name="l00167"></a>00167 } <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a57b10bdb160e33cbc64390be21399724">CLOTH_COLLISIONSETTINGS_FLAGS</a>;
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 <span class="comment">/* Spring types as defined in the paper.*/</span>
<a name="l00170"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a34ee611357dcb572980f0fa3c5c891d9">00170</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00171"></a>00171 {
<a name="l00172"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a34ee611357dcb572980f0fa3c5c891d9aaedae4c09a93964cc5eec7241813f443">00172</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a34ee611357dcb572980f0fa3c5c891d9aaedae4c09a93964cc5eec7241813f443">CLOTH_SPRING_TYPE_STRUCTURAL</a>  = ( 1 &lt;&lt; 1 ),
<a name="l00173"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a34ee611357dcb572980f0fa3c5c891d9a4f53b787fd74d7e058ad4a323bab941e">00173</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a34ee611357dcb572980f0fa3c5c891d9a4f53b787fd74d7e058ad4a323bab941e">CLOTH_SPRING_TYPE_SHEAR</a>  = ( 1 &lt;&lt; 2 ) ,
<a name="l00174"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a34ee611357dcb572980f0fa3c5c891d9ac54367195e3561913a9c79c0eaaa4124">00174</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a34ee611357dcb572980f0fa3c5c891d9ac54367195e3561913a9c79c0eaaa4124">CLOTH_SPRING_TYPE_BENDING</a>  = ( 1 &lt;&lt; 3 ),
<a name="l00175"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a34ee611357dcb572980f0fa3c5c891d9ae4c19f80ff1646aaf5a6cf53258f545b">00175</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a34ee611357dcb572980f0fa3c5c891d9ae4c19f80ff1646aaf5a6cf53258f545b">CLOTH_SPRING_TYPE_GOAL</a>  = ( 1 &lt;&lt; 4 ),
<a name="l00176"></a>00176 } <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a34ee611357dcb572980f0fa3c5c891d9">CLOTH_SPRING_TYPES</a>;
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 <span class="comment">/* SPRING FLAGS */</span>
<a name="l00179"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a9d35fe4fe7e684e7c0b24aefb09edeef">00179</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00180"></a>00180 {
<a name="l00181"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a9d35fe4fe7e684e7c0b24aefb09edeefa849561d0da2e8f88c63226c828769dfb">00181</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a9d35fe4fe7e684e7c0b24aefb09edeefa849561d0da2e8f88c63226c828769dfb">CLOTH_SPRING_FLAG_DEACTIVATE</a> = ( 1 &lt;&lt; 1 ),
<a name="l00182"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#a9d35fe4fe7e684e7c0b24aefb09edeefa951a3b56665f48ba0ef3ec048cbc36ed">00182</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a9d35fe4fe7e684e7c0b24aefb09edeefa951a3b56665f48ba0ef3ec048cbc36ed">CLOTH_SPRING_FLAG_NEEDED</a> = ( 1 &lt;&lt; 2 ), <span class="comment">// springs has values to be applied</span>
<a name="l00183"></a>00183 } <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a9d35fe4fe7e684e7c0b24aefb09edeef">CLOTH_SPRINGS_FLAGS</a>;
<a name="l00184"></a>00184 
<a name="l00185"></a>00185 
<a name="l00187"></a>00187 <span class="comment">// collision.c</span>
<a name="l00189"></a>00189 <span class="comment"></span>
<a name="l00190"></a>00190 <span class="comment">// needed for implicit.c</span>
<a name="l00191"></a>00191 <span class="keywordtype">int</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a30a74788008c81f98986104700c27f68">cloth_bvh_objcollision</a> (<span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> * clmd, <span class="keywordtype">float</span> <a class="code" href="../../d1/d22/stdosl_8h.html#a8bd9f841cf6ee6c256028a8a544fec3b">step</a>, <span class="keywordtype">float</span> dt );
<a name="l00192"></a>00192 
<a name="l00194"></a>00194 
<a name="l00195"></a>00195 
<a name="l00197"></a>00197 <span class="comment">// implicit.c</span>
<a name="l00199"></a>00199 <span class="comment"></span>
<a name="l00200"></a>00200 <span class="comment">// needed for cloth.c</span>
<a name="l00201"></a>00201 <span class="keywordtype">int</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a1cf6303325339b31679ca1af5c92026d">implicit_init</a> (<span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd );
<a name="l00202"></a>00202 <span class="keywordtype">int</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a086136cfd0fc8dba8b187fc7e24616f6">implicit_free</a> (<span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd );
<a name="l00203"></a>00203 <span class="keywordtype">int</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#aec83a73d7019a11186102382ada8adb9">implicit_solver</a> (<span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <span class="keywordtype">float</span> frame, <span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd, <span class="keyword">struct</span> <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *effectors );
<a name="l00204"></a>00204 <span class="keywordtype">void</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a218878e1513982ea3392f39d5e7f5783">implicit_set_positions</a> (<span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd );
<a name="l00205"></a>00205 
<a name="l00207"></a>00207 <span class="comment">// cloth.c</span>
<a name="l00209"></a>00209 <span class="comment"></span>
<a name="l00210"></a>00210 <span class="comment">// needed for modifier.c</span>
<a name="l00211"></a>00211 <span class="keywordtype">void</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#ae98227b994f53279c78da70da0f567c4">cloth_free_modifier_extern</a> (<span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd );
<a name="l00212"></a>00212 <span class="keywordtype">void</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a252b1bd957943fc2193f26d6893971f4">cloth_free_modifier</a> (<span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd );
<a name="l00213"></a>00213 <span class="keywordtype">void</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#acf35b195d7bcf42072fc0e5c03f1fc29">cloth_init</a> (<span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd );
<a name="l00214"></a>00214 <span class="keywordtype">void</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a26e62b636129fd92f46f18f1623e88bc">clothModifier_do</a> (<span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd, <span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">float</span> (*vertexCos)[3]);
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 <span class="keywordtype">int</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a1ae159ef10c9578d35992c1cbba002f7">cloth_uses_vgroup</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd);
<a name="l00217"></a>00217 
<a name="l00218"></a>00218 <span class="comment">// needed for collision.c</span>
<a name="l00219"></a>00219 <span class="keywordtype">void</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a2793632d2fc7fc59ef91ad515eae1065">bvhtree_update_from_cloth</a> (<span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd, <span class="keywordtype">int</span> moving );
<a name="l00220"></a>00220 <span class="keywordtype">void</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a140b66c8f132b0da0b05f9c8c5bad153">bvhselftree_update_from_cloth</a> (<span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd, <span class="keywordtype">int</span> moving );
<a name="l00221"></a>00221 
<a name="l00222"></a>00222 <span class="comment">// needed for button_object.c</span>
<a name="l00223"></a>00223 <span class="keywordtype">void</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#a6950e1dc2a69d22575c4054afba17374">cloth_clear_cache</a> (<span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd, <span class="keywordtype">float</span> framenr );
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 <span class="comment">// needed for cloth.c</span>
<a name="l00226"></a>00226 <span class="keywordtype">int</span> <a class="code" href="../../d4/d17/BKE__cloth_8h.html#af1586bea72ff9fd4c149f4ea85f7ed58">cloth_add_spring</a> (<span class="keyword">struct</span> <a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> indexA, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> indexB, <span class="keywordtype">float</span> restlength, <span class="keywordtype">int</span> spring_type);
<a name="l00227"></a>00227 
<a name="l00229"></a>00229 
<a name="l00230"></a>00230 
<a name="l00231"></a>00231 <span class="comment">/* This enum provides the IDs for our solvers. */</span>
<a name="l00232"></a>00232 <span class="comment">// only one available in the moment</span>
<a name="l00233"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#aa462a0874a5b9f512aabc6c5cff2ea47">00233</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00234"></a>00234 {
<a name="l00235"></a><a class="code" href="../../d4/d17/BKE__cloth_8h.html#aa462a0874a5b9f512aabc6c5cff2ea47a40cde06923c9f7f223cd8d677aa043e8">00235</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#aa462a0874a5b9f512aabc6c5cff2ea47a40cde06923c9f7f223cd8d677aa043e8">CM_IMPLICIT</a> = 0,
<a name="l00236"></a>00236 } <a class="code" href="../../d4/d17/BKE__cloth_8h.html#aa462a0874a5b9f512aabc6c5cff2ea47">CM_SOLVER_ID</a>;
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 
<a name="l00239"></a>00239 <span class="comment">/* This structure defines how to call the solver.</span>
<a name="l00240"></a>00240 <span class="comment"> */</span>
<a name="l00241"></a><a class="code" href="../../d9/d38/structCM__SOLVER__DEF.html">00241</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00242"></a>00242 {
<a name="l00243"></a><a class="code" href="../../d9/d38/structCM__SOLVER__DEF.html#a37c67fa87a2ff078186c02a6c3f45895">00243</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>      *<a class="code" href="../../d9/d38/structCM__SOLVER__DEF.html#a37c67fa87a2ff078186c02a6c3f45895">name</a>;
<a name="l00244"></a><a class="code" href="../../d9/d38/structCM__SOLVER__DEF.html#a6823cd10cb31fd33d37abdcbedc12378">00244</a>     <a class="code" href="../../d4/d17/BKE__cloth_8h.html#aa462a0874a5b9f512aabc6c5cff2ea47">CM_SOLVER_ID</a>    <a class="code" href="../../d9/d38/structCM__SOLVER__DEF.html#a6823cd10cb31fd33d37abdcbedc12378">id</a>;
<a name="l00245"></a><a class="code" href="../../d9/d38/structCM__SOLVER__DEF.html#ac28c63a62d58b02d8d48b20f5a9aa428">00245</a>     int ( *<a class="code" href="../../dd/db3/node__composite__movieclip_8c.html#a9e3042c67b9ca0db42c98423ee8f4da9">init</a> ) (<span class="keyword">struct </span><a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <span class="keyword">struct </span><a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd );
<a name="l00246"></a><a class="code" href="../../d9/d38/structCM__SOLVER__DEF.html#adf70d13c257ab927d720aa0c995c248b">00246</a>     int ( *solver ) (<span class="keyword">struct </span><a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <span class="keywordtype">float</span> framenr, <span class="keyword">struct </span><a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd, <span class="keyword">struct </span><a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *effectors );
<a name="l00247"></a><a class="code" href="../../d9/d38/structCM__SOLVER__DEF.html#a4dafe1442e60592fba5fcf0201eb5dd0">00247</a>     int ( *free ) (<span class="keyword">struct </span><a class="code" href="../../d5/d06/structClothModifierData.html">ClothModifierData</a> *clmd );
<a name="l00248"></a>00248 }
<a name="l00249"></a>00249 <a class="code" href="../../d9/d38/structCM__SOLVER__DEF.html">CM_SOLVER_DEF</a>;
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 <span class="preprocessor">#endif</span>
<a name="l00253"></a>00253 <span class="preprocessor"></span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Nov 13 2012 11:54:01 for Blender by&#160;
<a href="http://www.doxygen.org/index.html"> 
doxygen</a> 1.7.4 </small></address> 
</body>
</html>
