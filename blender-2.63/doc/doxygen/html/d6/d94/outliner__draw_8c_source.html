<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Blender: outliner_draw.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blender.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Blender&#160;<span id="projectnumber">V2.6x</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">outliner_draw.c</div>  </div>
</div>
<div class="contents">
<a href="../../d6/d94/outliner__draw_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * ***** BEGIN GPL LICENSE BLOCK *****</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This program is free software; you can redistribute it and/or</span>
<a name="l00005"></a>00005 <span class="comment"> * modify it under the terms of the GNU General Public License</span>
<a name="l00006"></a>00006 <span class="comment"> * as published by the Free Software Foundation; either version 2</span>
<a name="l00007"></a>00007 <span class="comment"> * of the License, or (at your option) any later version. </span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00010"></a>00010 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00011"></a>00011 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00012"></a>00012 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00015"></a>00015 <span class="comment"> * along with this program; if not, write to the Free Software Foundation,</span>
<a name="l00016"></a>00016 <span class="comment"> * Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * The Original Code is Copyright (C) 2004 Blender Foundation.</span>
<a name="l00019"></a>00019 <span class="comment"> * All rights reserved.</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> * The Original Code is: all of this file.</span>
<a name="l00022"></a>00022 <span class="comment"> *</span>
<a name="l00023"></a>00023 <span class="comment"> * Contributor(s): Joshua Leung</span>
<a name="l00024"></a>00024 <span class="comment"> *</span>
<a name="l00025"></a>00025 <span class="comment"> * ***** END GPL LICENSE BLOCK *****</span>
<a name="l00026"></a>00026 <span class="comment"> */</span>
<a name="l00027"></a>00027 
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/d93/DNA__armature__types_8h.html">DNA_armature_types.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/d75/DNA__group__types_8h.html">DNA_group_types.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="../../d0/d16/DNA__lamp__types_8h.html">DNA_lamp_types.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="../../d9/dd9/DNA__object__types_8h.html" title="Object is a sort of wrapper for general info.">DNA_object_types.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/db3/DNA__scene__types_8h.html">DNA_scene_types.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="../../d7/da9/DNA__sequence__types_8h.html">DNA_sequence_types.h</a>&quot;</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;<a class="code" href="../../de/df4/BLI__blenlib_8h.html">BLI_blenlib.h</a>&quot;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d7d/BLI__utildefines_8h.html">BLI_utildefines.h</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="../../d7/dc5/BLI__ghash_8h.html" title="A general (pointer -&gt; pointer) hash table ADT.">BLI_ghash.h</a>&quot;</span>
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="../../df/d01/BKE__context_8h.html">BKE_context.h</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="../../d7/dbd/BKE__deform_8h.html" title="support for deformation groups and hooks.">BKE_deform.h</a>&quot;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/da0/BKE__depsgraph_8h.html">BKE_depsgraph.h</a>&quot;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/d8c/BKE__global_8h.html">BKE_global.h</a>&quot;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/db1/BKE__library_8h.html">BKE_library.h</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="../../df/d9a/BKE__main_8h.html">BKE_main.h</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/d0f/BKE__modifier_8h.html">BKE_modifier.h</a>&quot;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/d40/BKE__report_8h.html">BKE_report.h</a>&quot;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/d53/BKE__scene_8h.html">BKE_scene.h</a>&quot;</span>
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/d98/ED__armature_8h.html">ED_armature.h</a>&quot;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d7a/ED__object_8h.html">ED_object.h</a>&quot;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/d12/ED__screen_8h.html">ED_screen.h</a>&quot;</span>
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/d7f/WM__api_8h.html">WM_api.h</a>&quot;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/ddc/WM__types_8h.html">WM_types.h</a>&quot;</span>
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="preprocessor">#include &quot;<a class="code" href="../../dd/d44/BIF__gl_8h.html">BIF_gl.h</a>&quot;</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include &quot;<a class="code" href="../../d9/d71/BIF__glutil_8h.html">BIF_glutil.h</a>&quot;</span>
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/d1e/UI__interface_8h.html">UI_interface.h</a>&quot;</span>
<a name="l00064"></a>00064 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/de1/UI__interface__icons_8h.html">UI_interface_icons.h</a>&quot;</span>
<a name="l00065"></a>00065 <span class="preprocessor">#include &quot;<a class="code" href="../../de/d96/UI__resources_8h.html">UI_resources.h</a>&quot;</span>
<a name="l00066"></a>00066 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/d63/UI__view2d_8h.html">UI_view2d.h</a>&quot;</span>
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="preprocessor">#include &quot;<a class="code" href="../../de/ddf/RNA__access_8h.html">RNA_access.h</a>&quot;</span>
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="preprocessor">#include &quot;<a class="code" href="../../df/def/outliner__intern_8h.html">outliner_intern.h</a>&quot;</span>
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="comment">/* ****************************************************** */</span>
<a name="l00073"></a>00073 <span class="comment">/* Tree Size Functions */</span>
<a name="l00074"></a>00074 
<a name="l00075"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a714e70fb3593ca19ed06f1f0ddd2b850">00075</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a714e70fb3593ca19ed06f1f0ddd2b850">outliner_height</a>(<a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb, <span class="keywordtype">int</span> *h)
<a name="l00076"></a>00076 {
<a name="l00077"></a>00077     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te= lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l00078"></a>00078     <span class="keywordflow">while</span> (te) {
<a name="l00079"></a>00079         <a class="code" href="../../da/d20/structTreeStoreElem.html">TreeStoreElem</a> *tselem= <a class="code" href="../../df/def/outliner__intern_8h.html#a804fa5954c5c38273764b024eefa251f">TREESTORE</a>(te);
<a name="l00080"></a>00080         <span class="keywordflow">if</span> (<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops))
<a name="l00081"></a>00081             <a class="code" href="../../d6/d94/outliner__draw_8c.html#a714e70fb3593ca19ed06f1f0ddd2b850">outliner_height</a>(soops, &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>, h);
<a name="l00082"></a>00082         (*h) += <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>;
<a name="l00083"></a>00083         te= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>;
<a name="l00084"></a>00084     }
<a name="l00085"></a>00085 }
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 <span class="preprocessor">#if 0  // XXX this is currently disabled until te-&gt;xend is set correctly</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keywordtype">void</span> outliner_width(<a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb, <span class="keywordtype">int</span> *w)
<a name="l00089"></a>00089 {
<a name="l00090"></a>00090     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te= lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l00091"></a>00091     <span class="keywordflow">while</span> (te) {
<a name="l00092"></a>00092 <span class="comment">//      TreeStoreElem *tselem= TREESTORE(te);</span>
<a name="l00093"></a>00093         
<a name="l00094"></a>00094         <span class="comment">// XXX fixme... te-&gt;xend is not set yet</span>
<a name="l00095"></a>00095         <span class="keywordflow">if</span> (!<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops)) {
<a name="l00096"></a>00096             <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a88d204ac9b7c049d391cb32aec29a7e0">xend</a> &gt; *w)
<a name="l00097"></a>00097                 *w = te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a88d204ac9b7c049d391cb32aec29a7e0">xend</a>;
<a name="l00098"></a>00098         }
<a name="l00099"></a>00099         outliner_width(soops, &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>, w);
<a name="l00100"></a>00100         te= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>;
<a name="l00101"></a>00101     }
<a name="l00102"></a>00102 }
<a name="l00103"></a>00103 <span class="preprocessor">#endif</span>
<a name="l00104"></a>00104 <span class="preprocessor"></span>
<a name="l00105"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#ad56b31390f1e1d68587a61dc6c3f094d">00105</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#ad56b31390f1e1d68587a61dc6c3f094d">outliner_rna_width</a>(<a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb, <span class="keywordtype">int</span> *w, <span class="keywordtype">int</span> startx)
<a name="l00106"></a>00106 {
<a name="l00107"></a>00107     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te= lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l00108"></a>00108     <span class="keywordflow">while</span> (te) {
<a name="l00109"></a>00109         <a class="code" href="../../da/d20/structTreeStoreElem.html">TreeStoreElem</a> *tselem= <a class="code" href="../../df/def/outliner__intern_8h.html#a804fa5954c5c38273764b024eefa251f">TREESTORE</a>(te);
<a name="l00110"></a>00110         <span class="comment">// XXX fixme... (currently, we&#39;re using a fixed length of 100)!</span>
<a name="l00111"></a>00111 <span class="preprocessor">#if 0</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a88d204ac9b7c049d391cb32aec29a7e0">xend</a>) {
<a name="l00113"></a>00113             <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a88d204ac9b7c049d391cb32aec29a7e0">xend</a> &gt; *w)
<a name="l00114"></a>00114                 *w = te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a88d204ac9b7c049d391cb32aec29a7e0">xend</a>;
<a name="l00115"></a>00115         }
<a name="l00116"></a>00116 <span class="preprocessor">#endif</span>
<a name="l00117"></a>00117 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (startx+100 &gt; *w)
<a name="l00118"></a>00118             *w = startx+100;
<a name="l00119"></a>00119 
<a name="l00120"></a>00120         <span class="keywordflow">if</span> (<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops))
<a name="l00121"></a>00121             <a class="code" href="../../d6/d94/outliner__draw_8c.html#ad56b31390f1e1d68587a61dc6c3f094d">outliner_rna_width</a>(soops, &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>, w, startx+<a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>);
<a name="l00122"></a>00122         te= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>;
<a name="l00123"></a>00123     }
<a name="l00124"></a>00124 }
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 <span class="comment">/* ****************************************************** */</span>
<a name="l00127"></a>00127 
<a name="l00128"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a1e72815690ff367ffc7590091a2cfe09">00128</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a1e72815690ff367ffc7590091a2cfe09">restrictbutton_view_cb</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <span class="keywordtype">void</span> *poin, <span class="keywordtype">void</span> *poin2)
<a name="l00129"></a>00129 {
<a name="l00130"></a>00130     <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene = (<a class="code" href="../../d9/d27/structScene.html">Scene</a> *)poin;
<a name="l00131"></a>00131     <a class="code" href="../../de/de7/structObject.html">Object</a> *ob = (<a class="code" href="../../de/de7/structObject.html">Object</a> *)poin2;
<a name="l00132"></a>00132 
<a name="l00133"></a>00133     <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d9e/outliner__edit_8c.html#a5a97ccd8a3c780db7985c5f2a423616d">common_restrict_check</a>(C, ob)) <span class="keywordflow">return</span>;
<a name="l00134"></a>00134     
<a name="l00135"></a>00135     <span class="comment">/* deselect objects that are invisible */</span>
<a name="l00136"></a>00136     <span class="keywordflow">if</span> (ob-&gt;<a class="code" href="../../de/de7/structObject.html#afc7a8aca0c2cf33c6323883e313362b0">restrictflag</a> &amp; <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a405802c89add02dcf80f5fbcce040b09">OB_RESTRICT_VIEW</a>) {
<a name="l00137"></a>00137         <span class="comment">/* Ouch! There is no backwards pointer from Object to Base, </span>
<a name="l00138"></a>00138 <span class="comment">         * so have to do loop to find it. */</span>
<a name="l00139"></a>00139         <a class="code" href="../../da/d7a/ED__object_8h.html#a01ac0829970381f4f64f23ca405f8ab1">ED_base_object_select</a>(<a class="code" href="../../d8/d53/BKE__scene_8h.html#af038ab52dca2267b6418721c13b81e74">object_in_scene</a>(ob, scene), <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a4df561d775f9f3c0df70f202f357eabb">BA_DESELECT</a>);
<a name="l00140"></a>00140     }
<a name="l00141"></a>00141     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#a61261a6b5ea948eee6d42c7e7ee18166">NC_SCENE</a>|<a class="code" href="../../d4/ddc/WM__types_8h.html#a59ea6c7f4b5448c4c4912e8893a031f4">ND_OB_SELECT</a>, scene);
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 }
<a name="l00144"></a>00144 
<a name="l00145"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#ae23801497d089747c21eeaa2d1615149">00145</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#ae23801497d089747c21eeaa2d1615149">restrictbutton_sel_cb</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <span class="keywordtype">void</span> *poin, <span class="keywordtype">void</span> *poin2)
<a name="l00146"></a>00146 {
<a name="l00147"></a>00147     <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene = (<a class="code" href="../../d9/d27/structScene.html">Scene</a> *)poin;
<a name="l00148"></a>00148     <a class="code" href="../../de/de7/structObject.html">Object</a> *ob = (<a class="code" href="../../de/de7/structObject.html">Object</a> *)poin2;
<a name="l00149"></a>00149     
<a name="l00150"></a>00150     <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d9e/outliner__edit_8c.html#a5a97ccd8a3c780db7985c5f2a423616d">common_restrict_check</a>(C, ob)) <span class="keywordflow">return</span>;
<a name="l00151"></a>00151     
<a name="l00152"></a>00152     <span class="comment">/* if select restriction has just been turned on */</span>
<a name="l00153"></a>00153     <span class="keywordflow">if</span> (ob-&gt;<a class="code" href="../../de/de7/structObject.html#afc7a8aca0c2cf33c6323883e313362b0">restrictflag</a> &amp; <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a0a7b633594bee6f715ff6e8525317276">OB_RESTRICT_SELECT</a>) {
<a name="l00154"></a>00154         <span class="comment">/* Ouch! There is no backwards pointer from Object to Base, </span>
<a name="l00155"></a>00155 <span class="comment">         * so have to do loop to find it. */</span>
<a name="l00156"></a>00156         <a class="code" href="../../da/d7a/ED__object_8h.html#a01ac0829970381f4f64f23ca405f8ab1">ED_base_object_select</a>(<a class="code" href="../../d8/d53/BKE__scene_8h.html#af038ab52dca2267b6418721c13b81e74">object_in_scene</a>(ob, scene), <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a4df561d775f9f3c0df70f202f357eabb">BA_DESELECT</a>);
<a name="l00157"></a>00157     }
<a name="l00158"></a>00158     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#a61261a6b5ea948eee6d42c7e7ee18166">NC_SCENE</a>|<a class="code" href="../../d4/ddc/WM__types_8h.html#a59ea6c7f4b5448c4c4912e8893a031f4">ND_OB_SELECT</a>, scene);
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 }
<a name="l00161"></a>00161 
<a name="l00162"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a966529802d146ef2a2f10a1c928144db">00162</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a966529802d146ef2a2f10a1c928144db">restrictbutton_rend_cb</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../d7/d0d/node__texture__proc_8c.html#ac4cf4b2ab929bd23951a8676eeac086b">C</a>, <span class="keywordtype">void</span> *poin, <span class="keywordtype">void</span> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(poin2))
<a name="l00163"></a>00163 {
<a name="l00164"></a>00164     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#a61261a6b5ea948eee6d42c7e7ee18166">NC_SCENE</a>|<a class="code" href="../../d4/ddc/WM__types_8h.html#aabc832153f8f4f494a023ff88505726d">ND_OB_RENDER</a>, poin);
<a name="l00165"></a>00165 }
<a name="l00166"></a>00166 
<a name="l00167"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a87ac7af3e5c5a4ef12d2cc3b11d2ddc2">00167</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a87ac7af3e5c5a4ef12d2cc3b11d2ddc2">restrictbutton_r_lay_cb</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <span class="keywordtype">void</span> *poin, <span class="keywordtype">void</span> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(poin2))
<a name="l00168"></a>00168 {
<a name="l00169"></a>00169     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#a61261a6b5ea948eee6d42c7e7ee18166">NC_SCENE</a>|<a class="code" href="../../d4/ddc/WM__types_8h.html#a2d1f4e4fbef089f325035e7fcf010b66">ND_RENDER_OPTIONS</a>, poin);
<a name="l00170"></a>00170 }
<a name="l00171"></a>00171 
<a name="l00172"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#ae7a5fcfb5c2cf500cf325145c55430e6">00172</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#ae7a5fcfb5c2cf500cf325145c55430e6">restrictbutton_modifier_cb</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <span class="keywordtype">void</span> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(poin), <span class="keywordtype">void</span> *poin2)
<a name="l00173"></a>00173 {
<a name="l00174"></a>00174     <a class="code" href="../../de/de7/structObject.html">Object</a> *ob = (<a class="code" href="../../de/de7/structObject.html">Object</a> *)poin2;
<a name="l00175"></a>00175     
<a name="l00176"></a>00176     <a class="code" href="../../d2/da0/BKE__depsgraph_8h.html#a70d8c170e1f4bbcc010d94405d6a9817">DAG_id_tag_update</a>(&amp;ob-&gt;<a class="code" href="../../de/de7/structObject.html#a879e9a4b2068335bf9b33dab896e439b">id</a>, <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a5753f311c53d8a8f72b1937f33ebb527">OB_RECALC_DATA</a>);
<a name="l00177"></a>00177 
<a name="l00178"></a>00178     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#ad7623342a2e6e2b7e66123bbdf2975da">NC_OBJECT</a>|<a class="code" href="../../d4/ddc/WM__types_8h.html#a1f2c5ee380a0a55abaf43b7bceeb7688">ND_DRAW</a>, ob);
<a name="l00179"></a>00179 }
<a name="l00180"></a>00180 
<a name="l00181"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#aaeddebdeba174e583dc45686257c3175">00181</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#aaeddebdeba174e583dc45686257c3175">restrictbutton_bone_cb</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <span class="keywordtype">void</span> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(poin), <span class="keywordtype">void</span> *poin2)
<a name="l00182"></a>00182 {
<a name="l00183"></a>00183     <a class="code" href="../../de/de0/structBone.html">Bone</a> *bone= (<a class="code" href="../../de/de0/structBone.html">Bone</a> *)poin2;
<a name="l00184"></a>00184     <span class="keywordflow">if</span> (bone &amp;&amp; (bone-&gt;<a class="code" href="../../de/de0/structBone.html#a5b5e463a4ba414686cfe2954ada482fb">flag</a> &amp; <a class="code" href="../../d2/d93/DNA__armature__types_8h.html#ad26c2b448f0e416cffc8cd84065c3b50ab23a8cde9f34efaef713308cc72166de">BONE_HIDDEN_P</a>))
<a name="l00185"></a>00185         bone-&gt;<a class="code" href="../../de/de0/structBone.html#a5b5e463a4ba414686cfe2954ada482fb">flag</a> &amp;= ~(<a class="code" href="../../d2/d93/DNA__armature__types_8h.html#ad26c2b448f0e416cffc8cd84065c3b50a176833e258350f5e845cfb780a4c280c">BONE_SELECTED</a> | <a class="code" href="../../d2/d93/DNA__armature__types_8h.html#ad26c2b448f0e416cffc8cd84065c3b50abd540848fbcdcaf33141f6ce27766114">BONE_TIPSEL</a> | <a class="code" href="../../d2/d93/DNA__armature__types_8h.html#ad26c2b448f0e416cffc8cd84065c3b50a0349b6b0b0156b6fb460e29f870bb443">BONE_ROOTSEL</a>);
<a name="l00186"></a>00186     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#ad7623342a2e6e2b7e66123bbdf2975da">NC_OBJECT</a>|<a class="code" href="../../d4/ddc/WM__types_8h.html#a72e1ed3dc8d04e8bc84328ec6ef6ce80">ND_POSE</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00187"></a>00187 }
<a name="l00188"></a>00188 
<a name="l00189"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#afffd19390a7728e57498971bad3a0e48">00189</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#afffd19390a7728e57498971bad3a0e48">restrictbutton_ebone_cb</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <span class="keywordtype">void</span> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(poin), <span class="keywordtype">void</span> *poin2)
<a name="l00190"></a>00190 {
<a name="l00191"></a>00191     <a class="code" href="../../da/d29/structEditBone.html">EditBone</a> *ebone= (<a class="code" href="../../da/d29/structEditBone.html">EditBone</a> *)poin2;
<a name="l00192"></a>00192     <span class="keywordflow">if</span> (ebone &amp;&amp; (ebone-&gt;<a class="code" href="../../da/d29/structEditBone.html#a6c7db9597e20d97ea4ae61eaacdc41fe">flag</a> &amp; <a class="code" href="../../d2/d93/DNA__armature__types_8h.html#ad26c2b448f0e416cffc8cd84065c3b50a5dcf60e8cd1c7c56a906d7a01fc01327">BONE_HIDDEN_A</a>))
<a name="l00193"></a>00193         ebone-&gt;<a class="code" href="../../da/d29/structEditBone.html#a6c7db9597e20d97ea4ae61eaacdc41fe">flag</a> &amp;= ~(<a class="code" href="../../d2/d93/DNA__armature__types_8h.html#ad26c2b448f0e416cffc8cd84065c3b50a176833e258350f5e845cfb780a4c280c">BONE_SELECTED</a> | <a class="code" href="../../d2/d93/DNA__armature__types_8h.html#ad26c2b448f0e416cffc8cd84065c3b50abd540848fbcdcaf33141f6ce27766114">BONE_TIPSEL</a> | <a class="code" href="../../d2/d93/DNA__armature__types_8h.html#ad26c2b448f0e416cffc8cd84065c3b50a0349b6b0b0156b6fb460e29f870bb443">BONE_ROOTSEL</a>);
<a name="l00194"></a>00194 
<a name="l00195"></a>00195     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#ad7623342a2e6e2b7e66123bbdf2975da">NC_OBJECT</a>|<a class="code" href="../../d4/ddc/WM__types_8h.html#a72e1ed3dc8d04e8bc84328ec6ef6ce80">ND_POSE</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00196"></a>00196 }
<a name="l00197"></a>00197 
<a name="l00198"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#ab68330f3e417b46f59bf0b0210ffa71d">00198</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#ab68330f3e417b46f59bf0b0210ffa71d">group_restrict_flag</a>(<a class="code" href="../../d4/d91/structGroup.html">Group</a> *gr, <span class="keywordtype">int</span> flag)
<a name="l00199"></a>00199 {
<a name="l00200"></a>00200     <a class="code" href="../../d3/d3b/structGroupObject.html">GroupObject</a> *gob;
<a name="l00201"></a>00201 
<a name="l00202"></a>00202     <span class="keywordflow">for</span> (gob= gr-&gt;<a class="code" href="../../d4/d91/structGroup.html#ad757bf69b6fd15b1d4e0980089d13be1">gobject</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; gob; gob= gob-&gt;<a class="code" href="../../d3/d3b/structGroupObject.html#a81e7437ba90ec95c5fbb96e17e6a203d">next</a>) {
<a name="l00203"></a>00203         <span class="keywordflow">if</span> ((gob-&gt;<a class="code" href="../../d3/d3b/structGroupObject.html#aeafe134dbf1980f42045d1fc191f2967">ob</a>-&gt;<a class="code" href="../../de/de7/structObject.html#afc7a8aca0c2cf33c6323883e313362b0">restrictflag</a> &amp; flag) == 0)
<a name="l00204"></a>00204             <span class="keywordflow">return</span> 0;
<a name="l00205"></a>00205     }
<a name="l00206"></a>00206 
<a name="l00207"></a>00207     <span class="keywordflow">return</span> 1;
<a name="l00208"></a>00208 }
<a name="l00209"></a>00209 
<a name="l00210"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#abf6c8a26ff85538a8a1a71d006cb4bda">00210</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#abf6c8a26ff85538a8a1a71d006cb4bda">group_select_flag</a>(<a class="code" href="../../d4/d91/structGroup.html">Group</a> *gr)
<a name="l00211"></a>00211 {
<a name="l00212"></a>00212     <a class="code" href="../../d3/d3b/structGroupObject.html">GroupObject</a> *gob;
<a name="l00213"></a>00213 
<a name="l00214"></a>00214     <span class="keywordflow">for</span> (gob= gr-&gt;<a class="code" href="../../d4/d91/structGroup.html#ad757bf69b6fd15b1d4e0980089d13be1">gobject</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; gob; gob= gob-&gt;<a class="code" href="../../d3/d3b/structGroupObject.html#a81e7437ba90ec95c5fbb96e17e6a203d">next</a>)
<a name="l00215"></a>00215         <span class="keywordflow">if</span> ((gob-&gt;<a class="code" href="../../d3/d3b/structGroupObject.html#aeafe134dbf1980f42045d1fc191f2967">ob</a>-&gt;<a class="code" href="../../de/de7/structObject.html#a4cb926ee8d882f0a18f0a2dbdea46e73">flag</a> &amp; <a class="code" href="../../db/d17/fcurve_8c.html#a53dc4af00adc7b3b4d12eafb71596dfc">SELECT</a>))
<a name="l00216"></a>00216             <span class="keywordflow">return</span> 1;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218     <span class="keywordflow">return</span> 0;
<a name="l00219"></a>00219 }
<a name="l00220"></a>00220 
<a name="l00221"></a><a class="code" href="../../df/def/outliner__intern_8h.html#a2d41e16d2c5a3812df316c8197cb70a2">00221</a> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a2d41e16d2c5a3812df316c8197cb70a2">restrictbutton_gr_restrict_flag</a>(<span class="keywordtype">void</span> *poin, <span class="keywordtype">void</span> *poin2, <span class="keywordtype">int</span> flag)
<a name="l00222"></a>00222 {   
<a name="l00223"></a>00223     <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene = (<a class="code" href="../../d9/d27/structScene.html">Scene</a> *)poin;       
<a name="l00224"></a>00224     <a class="code" href="../../d3/d3b/structGroupObject.html">GroupObject</a> *gob;
<a name="l00225"></a>00225     <a class="code" href="../../d4/d91/structGroup.html">Group</a> *gr = (<a class="code" href="../../d4/d91/structGroup.html">Group</a> *)poin2;     
<a name="l00226"></a>00226 
<a name="l00227"></a>00227     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d94/outliner__draw_8c.html#ab68330f3e417b46f59bf0b0210ffa71d">group_restrict_flag</a>(gr, flag)) {
<a name="l00228"></a>00228         <span class="keywordflow">for</span> (gob= gr-&gt;<a class="code" href="../../d4/d91/structGroup.html#ad757bf69b6fd15b1d4e0980089d13be1">gobject</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; gob; gob= gob-&gt;<a class="code" href="../../d3/d3b/structGroupObject.html#a81e7437ba90ec95c5fbb96e17e6a203d">next</a>) {
<a name="l00229"></a>00229             gob-&gt;<a class="code" href="../../d3/d3b/structGroupObject.html#aeafe134dbf1980f42045d1fc191f2967">ob</a>-&gt;<a class="code" href="../../de/de7/structObject.html#afc7a8aca0c2cf33c6323883e313362b0">restrictflag</a> &amp;= ~flag;
<a name="l00230"></a>00230             
<a name="l00231"></a>00231             <span class="keywordflow">if</span> (flag==<a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a405802c89add02dcf80f5fbcce040b09">OB_RESTRICT_VIEW</a>)
<a name="l00232"></a>00232                 <span class="keywordflow">if</span> (gob-&gt;<a class="code" href="../../d3/d3b/structGroupObject.html#aeafe134dbf1980f42045d1fc191f2967">ob</a>-&gt;<a class="code" href="../../de/de7/structObject.html#a4cb926ee8d882f0a18f0a2dbdea46e73">flag</a> &amp; <a class="code" href="../../db/d17/fcurve_8c.html#a53dc4af00adc7b3b4d12eafb71596dfc">SELECT</a>)
<a name="l00233"></a>00233                     <a class="code" href="../../da/d7a/ED__object_8h.html#a01ac0829970381f4f64f23ca405f8ab1">ED_base_object_select</a>(<a class="code" href="../../d8/d53/BKE__scene_8h.html#af038ab52dca2267b6418721c13b81e74">object_in_scene</a>(gob-&gt;<a class="code" href="../../d3/d3b/structGroupObject.html#aeafe134dbf1980f42045d1fc191f2967">ob</a>, scene), <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a4df561d775f9f3c0df70f202f357eabb">BA_DESELECT</a>);
<a name="l00234"></a>00234         }
<a name="l00235"></a>00235     }
<a name="l00236"></a>00236     <span class="keywordflow">else</span> {
<a name="l00237"></a>00237         <span class="keywordflow">for</span> (gob= gr-&gt;<a class="code" href="../../d4/d91/structGroup.html#ad757bf69b6fd15b1d4e0980089d13be1">gobject</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; gob; gob= gob-&gt;<a class="code" href="../../d3/d3b/structGroupObject.html#a81e7437ba90ec95c5fbb96e17e6a203d">next</a>) {
<a name="l00238"></a>00238             <span class="comment">/* not in editmode */</span>
<a name="l00239"></a>00239             <span class="keywordflow">if</span> (scene-&gt;<a class="code" href="../../d9/d27/structScene.html#a1aa1978dba5dab99d35b6ba89e88b5bb">obedit</a>!=gob-&gt;<a class="code" href="../../d3/d3b/structGroupObject.html#aeafe134dbf1980f42045d1fc191f2967">ob</a>) {
<a name="l00240"></a>00240                 gob-&gt;<a class="code" href="../../d3/d3b/structGroupObject.html#aeafe134dbf1980f42045d1fc191f2967">ob</a>-&gt;<a class="code" href="../../de/de7/structObject.html#afc7a8aca0c2cf33c6323883e313362b0">restrictflag</a> |= flag;
<a name="l00241"></a>00241                 
<a name="l00242"></a>00242                 <span class="keywordflow">if</span> (flag==<a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a405802c89add02dcf80f5fbcce040b09">OB_RESTRICT_VIEW</a>)
<a name="l00243"></a>00243                     <span class="keywordflow">if</span> ((gob-&gt;<a class="code" href="../../d3/d3b/structGroupObject.html#aeafe134dbf1980f42045d1fc191f2967">ob</a>-&gt;<a class="code" href="../../de/de7/structObject.html#a4cb926ee8d882f0a18f0a2dbdea46e73">flag</a> &amp; <a class="code" href="../../db/d17/fcurve_8c.html#a53dc4af00adc7b3b4d12eafb71596dfc">SELECT</a>) == 0)
<a name="l00244"></a>00244                         <a class="code" href="../../da/d7a/ED__object_8h.html#a01ac0829970381f4f64f23ca405f8ab1">ED_base_object_select</a>(<a class="code" href="../../d8/d53/BKE__scene_8h.html#af038ab52dca2267b6418721c13b81e74">object_in_scene</a>(gob-&gt;<a class="code" href="../../d3/d3b/structGroupObject.html#aeafe134dbf1980f42045d1fc191f2967">ob</a>, scene), <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#ab0df02a4e2042be1a106dce7cc150e33">BA_SELECT</a>);
<a name="l00245"></a>00245             }
<a name="l00246"></a>00246         }
<a name="l00247"></a>00247     }
<a name="l00248"></a>00248 } 
<a name="l00249"></a>00249 
<a name="l00250"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a4ac18965c8e60ce6f5390e608aaa69e4">00250</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a4ac18965c8e60ce6f5390e608aaa69e4">restrictbutton_gr_restrict_view</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <span class="keywordtype">void</span> *poin, <span class="keywordtype">void</span> *poin2)
<a name="l00251"></a>00251 {
<a name="l00252"></a>00252     <a class="code" href="../../d6/d94/outliner__draw_8c.html#a2d41e16d2c5a3812df316c8197cb70a2">restrictbutton_gr_restrict_flag</a>(poin, poin2, <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a405802c89add02dcf80f5fbcce040b09">OB_RESTRICT_VIEW</a>);
<a name="l00253"></a>00253     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#a6c8e772001142e55673ee490ce4c2b78">NC_GROUP</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00254"></a>00254 }
<a name="l00255"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a131231c17ef274a9dcc5ef0664565406">00255</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a131231c17ef274a9dcc5ef0664565406">restrictbutton_gr_restrict_select</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <span class="keywordtype">void</span> *poin, <span class="keywordtype">void</span> *poin2)
<a name="l00256"></a>00256 {
<a name="l00257"></a>00257     <a class="code" href="../../d6/d94/outliner__draw_8c.html#a2d41e16d2c5a3812df316c8197cb70a2">restrictbutton_gr_restrict_flag</a>(poin, poin2, <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a0a7b633594bee6f715ff6e8525317276">OB_RESTRICT_SELECT</a>);
<a name="l00258"></a>00258     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#a6c8e772001142e55673ee490ce4c2b78">NC_GROUP</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00259"></a>00259 }
<a name="l00260"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a8dbd7886fca6d5deefd84f2885b9a390">00260</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a8dbd7886fca6d5deefd84f2885b9a390">restrictbutton_gr_restrict_render</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <span class="keywordtype">void</span> *poin, <span class="keywordtype">void</span> *poin2)
<a name="l00261"></a>00261 {
<a name="l00262"></a>00262     <a class="code" href="../../d6/d94/outliner__draw_8c.html#a2d41e16d2c5a3812df316c8197cb70a2">restrictbutton_gr_restrict_flag</a>(poin, poin2, <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#ab94b52225b1bb3d5083e9855b32902d0">OB_RESTRICT_RENDER</a>);
<a name="l00263"></a>00263     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#a6c8e772001142e55673ee490ce4c2b78">NC_GROUP</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00264"></a>00264 }
<a name="l00265"></a>00265 
<a name="l00266"></a>00266 
<a name="l00267"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#ac40a4da5b1ac151888bd8de2e64ef931">00267</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#ac40a4da5b1ac151888bd8de2e64ef931">namebutton_cb</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <span class="keywordtype">void</span> *tsep, <span class="keywordtype">char</span> *oldname)
<a name="l00268"></a>00268 {
<a name="l00269"></a>00269     <a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops= <a class="code" href="../../df/d01/BKE__context_8h.html#a757b3be66ff99f2d3f92e0486c3eb381">CTX_wm_space_outliner</a>(C);
<a name="l00270"></a>00270     <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene= <a class="code" href="../../df/d01/BKE__context_8h.html#a0bcac8ad3452a040293c01084665a258">CTX_data_scene</a>(C);
<a name="l00271"></a>00271     <a class="code" href="../../de/de7/structObject.html">Object</a> *obedit= <a class="code" href="../../df/d01/BKE__context_8h.html#a323e283348470c038f3dd98de298a76b">CTX_data_edit_object</a>(C);
<a name="l00272"></a>00272     <a class="code" href="../../d5/d0e/structTreeStore.html">TreeStore</a> *ts= soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#a21a6a94a1af691c1c919af80c76c4cb0">treestore</a>;
<a name="l00273"></a>00273     <a class="code" href="../../da/d20/structTreeStoreElem.html">TreeStoreElem</a> *tselem= tsep;
<a name="l00274"></a>00274     
<a name="l00275"></a>00275     <span class="keywordflow">if</span> (ts &amp;&amp; tselem) {
<a name="l00276"></a>00276         <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te= <a class="code" href="../../df/def/outliner__intern_8h.html#abd9ccb92877bf4a1aa7efd480f70904d">outliner_find_tse</a>(soops, tselem);
<a name="l00277"></a>00277         
<a name="l00278"></a>00278         <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==0) {
<a name="l00279"></a>00279             <a class="code" href="../../d8/db1/BKE__library_8h.html#a1131e57069206d787fa4785e3725b13f">test_idbutton</a>(tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>-&gt;<a class="code" href="../../d8/d7e/structID.html#ad43a3d119e40a8479518fd876781e692">name</a>+2);  <span class="comment">// library.c, unique name and alpha sort</span>
<a name="l00280"></a>00280             
<a name="l00281"></a>00281             <span class="keywordflow">switch</span>(<a class="code" href="../../db/ddc/icons_8c.html#adcd5f4a8d30b31ea3612fab180fa3338">GS</a>(tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>-&gt;<a class="code" href="../../d8/d7e/structID.html#ad43a3d119e40a8479518fd876781e692">name</a>)) {
<a name="l00282"></a>00282                 <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#acf5020c901e2793a056ffca95ec8195a">ID_MA</a>:
<a name="l00283"></a>00283                     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#a835f426982dfbc3be8305095253ad793">NC_MATERIAL</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); <span class="keywordflow">break</span>;
<a name="l00284"></a>00284                 <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#ac850344bf7854d7860b43adb1e65e228">ID_TE</a>:
<a name="l00285"></a>00285                     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#aa5d5ad0b941376d3be89c261f876f4fa">NC_TEXTURE</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); <span class="keywordflow">break</span>;
<a name="l00286"></a>00286                 <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a564eac75543b047cf8b2b759818529c3">ID_IM</a>:
<a name="l00287"></a>00287                     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#a86a44bfe4ef4915f026b4dd988498727">NC_IMAGE</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); <span class="keywordflow">break</span>;
<a name="l00288"></a>00288                 <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#ac2b425dbd1f73ad1720fafad2626d974">ID_SCE</a>:
<a name="l00289"></a>00289                     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#a61261a6b5ea948eee6d42c7e7ee18166">NC_SCENE</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); <span class="keywordflow">break</span>;
<a name="l00290"></a>00290                 <span class="keywordflow">default</span>:
<a name="l00291"></a>00291                     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#a12ff8b13081ef1c126861ed65582f8fa">NC_ID</a>|<a class="code" href="../../d4/ddc/WM__types_8h.html#ab2f233051d6d30ad67292ad937ec338c">NA_RENAME</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); <span class="keywordflow">break</span>;
<a name="l00292"></a>00292             }                   
<a name="l00293"></a>00293             <span class="comment">/* Check the library target exists */</span>
<a name="l00294"></a>00294             <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a> == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#abaf1999f335a0db6ef4f452fae0fbd06">ID_LI</a>) {
<a name="l00295"></a>00295                 <a class="code" href="../../da/d4d/structLibrary.html">Library</a> *lib= (<a class="code" href="../../da/d4d/structLibrary.html">Library</a> *)tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>;
<a name="l00296"></a>00296                 <span class="keywordtype">char</span> expanded[<a class="code" href="../../d3/dde/BKE__utildefines_8h.html#a4d71bd743114c866e342b82481760d80">FILE_MAX</a>];
<a name="l00297"></a>00297 
<a name="l00298"></a>00298                 <a class="code" href="../../d8/db1/BKE__library_8h.html#ae29ba133d830154511f4ac9f17860c2d">BKE_library_filepath_set</a>(lib, lib-&gt;<a class="code" href="../../da/d4d/structLibrary.html#ac18df5c63a95b296234e87bc66b7dbad">name</a>);
<a name="l00299"></a>00299 
<a name="l00300"></a>00300                 <a class="code" href="../../d3/db3/BLI__string_8h.html#a98d7c9cb4a81dbe506d1972b306300ce">BLI_strncpy</a>(expanded, lib-&gt;<a class="code" href="../../da/d4d/structLibrary.html#ac18df5c63a95b296234e87bc66b7dbad">name</a>, <span class="keyword">sizeof</span>(expanded));
<a name="l00301"></a>00301                 <a class="code" href="../../d2/dd9/BLI__path__util_8h.html#a779fd31715eb05e3322500e3426b03a2">BLI_path_abs</a>(expanded, <a class="code" href="../../dc/dc8/util__md5_8cpp.html#ad96b7cf3182ce2ba85e5a7a93b12c441">G</a>.main-&gt;name);
<a name="l00302"></a>00302                 <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d63/BLI__fileops_8h.html#a0bf59749f87b0f283c37e27e72029591">BLI_exists</a>(expanded)) {
<a name="l00303"></a>00303                     <a class="code" href="../../d2/d40/BKE__report_8h.html#af25c247b3b620d13cef87ec2bed1698e">BKE_reportf</a>(<a class="code" href="../../df/d01/BKE__context_8h.html#ac83792b6e00e841cdb896c9c0230bde7">CTX_wm_reports</a>(C), <a class="code" href="../../de/dc1/DNA__windowmanager__types_8h.html#ae4f179a72db5cca021a37ec4c6fe4c68a77427e7d5e1c0e3f2fbe37425794e319">RPT_ERROR</a>, <span class="stringliteral">&quot;Library path &#39;%s&#39; does not exist, correct this before saving&quot;</span>, expanded);
<a name="l00304"></a>00304                 }
<a name="l00305"></a>00305             }
<a name="l00306"></a>00306         }
<a name="l00307"></a>00307         <span class="keywordflow">else</span> {
<a name="l00308"></a>00308             <span class="keywordflow">switch</span>(tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>) {
<a name="l00309"></a>00309             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a45a945b40c1a36a89062281217792fb6">TSE_DEFGROUP</a>:
<a name="l00310"></a>00310                 <a class="code" href="../../d7/dbd/BKE__deform_8h.html#afc0913090d927a2bd0657141a95890c6">defgroup_unique_name</a>(te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ac4c4f07fcb2ed46300b3f08bd47887b2">directdata</a>, (<a class="code" href="../../de/de7/structObject.html">Object</a> *)tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>); <span class="comment">//  id = object</span>
<a name="l00311"></a>00311                 <span class="keywordflow">break</span>;
<a name="l00312"></a>00312             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a3c192e51e8091bd84b38559e13fef4af">TSE_NLA_ACTION</a>:
<a name="l00313"></a>00313                 <a class="code" href="../../d8/db1/BKE__library_8h.html#a1131e57069206d787fa4785e3725b13f">test_idbutton</a>(tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>-&gt;<a class="code" href="../../d8/d7e/structID.html#ad43a3d119e40a8479518fd876781e692">name</a>+2);
<a name="l00314"></a>00314                 <span class="keywordflow">break</span>;
<a name="l00315"></a>00315             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#ac1c3342737bb388d2fd4f65ebcb200f4">TSE_EBONE</a>:
<a name="l00316"></a>00316             {
<a name="l00317"></a>00317                 <a class="code" href="../../d9/d9f/structbArmature.html">bArmature</a> *arm= (<a class="code" href="../../d9/d9f/structbArmature.html">bArmature</a> *)tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>;
<a name="l00318"></a>00318                 <a class="code" href="../../dd/db6/paraloopend_8h.html#a65986f23fef03474a87b62a14beafe42">if</a> (arm-&gt;<a class="code" href="../../d9/d9f/structbArmature.html#adb3f7d11765ffd0276f5a68739e69d65">edbo</a>) {
<a name="l00319"></a>00319                     <a class="code" href="../../da/d29/structEditBone.html">EditBone</a> *ebone= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ac4c4f07fcb2ed46300b3f08bd47887b2">directdata</a>;
<a name="l00320"></a>00320                     <span class="keywordtype">char</span> newname[<span class="keyword">sizeof</span>(ebone-&gt;<a class="code" href="../../da/d29/structEditBone.html#a0b066e21cfe03e95a72ef517396fe139">name</a>)];
<a name="l00321"></a>00321                     
<a name="l00322"></a>00322                     <span class="comment">/* restore bone name */</span>
<a name="l00323"></a>00323                     <a class="code" href="../../d3/db3/BLI__string_8h.html#a98d7c9cb4a81dbe506d1972b306300ce">BLI_strncpy</a>(newname, ebone-&gt;<a class="code" href="../../da/d29/structEditBone.html#a0b066e21cfe03e95a72ef517396fe139">name</a>, <span class="keyword">sizeof</span>(ebone-&gt;<a class="code" href="../../da/d29/structEditBone.html#a0b066e21cfe03e95a72ef517396fe139">name</a>));
<a name="l00324"></a>00324                     <a class="code" href="../../d3/db3/BLI__string_8h.html#a98d7c9cb4a81dbe506d1972b306300ce">BLI_strncpy</a>(ebone-&gt;<a class="code" href="../../da/d29/structEditBone.html#a0b066e21cfe03e95a72ef517396fe139">name</a>, oldname, <span class="keyword">sizeof</span>(ebone-&gt;<a class="code" href="../../da/d29/structEditBone.html#a0b066e21cfe03e95a72ef517396fe139">name</a>));
<a name="l00325"></a>00325                     <a class="code" href="../../de/dbc/editarmature_8c.html#abac425cdd2629a6d4350e455d293eb54">ED_armature_bone_rename</a>(obedit-&gt;<a class="code" href="../../de/de7/structObject.html#af121d9ecf1402708a17302a8a615cbfe">data</a>, oldname, newname);
<a name="l00326"></a>00326                     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#ad7623342a2e6e2b7e66123bbdf2975da">NC_OBJECT</a>|<a class="code" href="../../d4/ddc/WM__types_8h.html#a72e1ed3dc8d04e8bc84328ec6ef6ce80">ND_POSE</a>, <a class="code" href="../../d4/db3/DNA__scene__types_8h.html#a119935c54737bd111df8fd516c390000">OBACT</a>);
<a name="l00327"></a>00327                 }
<a name="l00328"></a>00328             }
<a name="l00329"></a>00329                 <span class="keywordflow">break</span>;
<a name="l00330"></a>00330 
<a name="l00331"></a>00331             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a0a9b46b4bb403fb950bcd09bc1ec8700">TSE_BONE</a>:
<a name="l00332"></a>00332                 {
<a name="l00333"></a>00333                     <a class="code" href="../../de/de0/structBone.html">Bone</a> *bone= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ac4c4f07fcb2ed46300b3f08bd47887b2">directdata</a>;
<a name="l00334"></a>00334                     <a class="code" href="../../de/de7/structObject.html">Object</a> *ob;
<a name="l00335"></a>00335                     <span class="keywordtype">char</span> newname[<span class="keyword">sizeof</span>(bone-&gt;<a class="code" href="../../de/de0/structBone.html#a64174a3246045ec9f985e604d30c6159">name</a>)];
<a name="l00336"></a>00336                     
<a name="l00337"></a>00337                     <span class="comment">// always make current object active</span>
<a name="l00338"></a>00338                     <a class="code" href="../../df/def/outliner__intern_8h.html#a6a1d0d6856f30a084e1338d9092ae6a0">tree_element_active</a>(C, scene, soops, te, 1); <span class="comment">// was set_active_object()</span>
<a name="l00339"></a>00339                     ob= <a class="code" href="../../d4/db3/DNA__scene__types_8h.html#a119935c54737bd111df8fd516c390000">OBACT</a>;
<a name="l00340"></a>00340                     
<a name="l00341"></a>00341                     <span class="comment">/* restore bone name */</span>
<a name="l00342"></a>00342                     <a class="code" href="../../d3/db3/BLI__string_8h.html#a98d7c9cb4a81dbe506d1972b306300ce">BLI_strncpy</a>(newname, bone-&gt;<a class="code" href="../../de/de0/structBone.html#a64174a3246045ec9f985e604d30c6159">name</a>, <span class="keyword">sizeof</span>(bone-&gt;<a class="code" href="../../de/de0/structBone.html#a64174a3246045ec9f985e604d30c6159">name</a>));
<a name="l00343"></a>00343                     <a class="code" href="../../d3/db3/BLI__string_8h.html#a98d7c9cb4a81dbe506d1972b306300ce">BLI_strncpy</a>(bone-&gt;<a class="code" href="../../de/de0/structBone.html#a64174a3246045ec9f985e604d30c6159">name</a>, oldname, <span class="keyword">sizeof</span>(bone-&gt;<a class="code" href="../../de/de0/structBone.html#a64174a3246045ec9f985e604d30c6159">name</a>));
<a name="l00344"></a>00344                     <a class="code" href="../../de/dbc/editarmature_8c.html#abac425cdd2629a6d4350e455d293eb54">ED_armature_bone_rename</a>(ob-&gt;<a class="code" href="../../de/de7/structObject.html#af121d9ecf1402708a17302a8a615cbfe">data</a>, oldname, newname);
<a name="l00345"></a>00345                     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#ad7623342a2e6e2b7e66123bbdf2975da">NC_OBJECT</a>|<a class="code" href="../../d4/ddc/WM__types_8h.html#a72e1ed3dc8d04e8bc84328ec6ef6ce80">ND_POSE</a>, ob);
<a name="l00346"></a>00346                 }
<a name="l00347"></a>00347                 <span class="keywordflow">break</span>;
<a name="l00348"></a>00348             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#aef097b3ecfcabd0f460b586b9de5c57b">TSE_POSE_CHANNEL</a>:
<a name="l00349"></a>00349                 {
<a name="l00350"></a>00350                     <a class="code" href="../../dd/d41/structbPoseChannel.html">bPoseChannel</a> *pchan= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ac4c4f07fcb2ed46300b3f08bd47887b2">directdata</a>;
<a name="l00351"></a>00351                     <a class="code" href="../../de/de7/structObject.html">Object</a> *ob;
<a name="l00352"></a>00352                     <span class="keywordtype">char</span> newname[<span class="keyword">sizeof</span>(pchan-&gt;<a class="code" href="../../dd/d41/structbPoseChannel.html#a8e947cbe29071a1c347abe644fe9c0c1">name</a>)];
<a name="l00353"></a>00353                     
<a name="l00354"></a>00354                     <span class="comment">// always make current object active</span>
<a name="l00355"></a>00355                     <a class="code" href="../../df/def/outliner__intern_8h.html#a6a1d0d6856f30a084e1338d9092ae6a0">tree_element_active</a>(C, scene, soops, te, 1); <span class="comment">// was set_active_object()</span>
<a name="l00356"></a>00356                     ob= <a class="code" href="../../d4/db3/DNA__scene__types_8h.html#a119935c54737bd111df8fd516c390000">OBACT</a>;
<a name="l00357"></a>00357                     
<a name="l00358"></a>00358                     <span class="comment">/* restore bone name */</span>
<a name="l00359"></a>00359                     <a class="code" href="../../d3/db3/BLI__string_8h.html#a98d7c9cb4a81dbe506d1972b306300ce">BLI_strncpy</a>(newname, pchan-&gt;<a class="code" href="../../dd/d41/structbPoseChannel.html#a8e947cbe29071a1c347abe644fe9c0c1">name</a>, <span class="keyword">sizeof</span>(pchan-&gt;<a class="code" href="../../dd/d41/structbPoseChannel.html#a8e947cbe29071a1c347abe644fe9c0c1">name</a>));
<a name="l00360"></a>00360                     <a class="code" href="../../d3/db3/BLI__string_8h.html#a98d7c9cb4a81dbe506d1972b306300ce">BLI_strncpy</a>(pchan-&gt;<a class="code" href="../../dd/d41/structbPoseChannel.html#a8e947cbe29071a1c347abe644fe9c0c1">name</a>, oldname, <span class="keyword">sizeof</span>(pchan-&gt;<a class="code" href="../../dd/d41/structbPoseChannel.html#a8e947cbe29071a1c347abe644fe9c0c1">name</a>));
<a name="l00361"></a>00361                     <a class="code" href="../../de/dbc/editarmature_8c.html#abac425cdd2629a6d4350e455d293eb54">ED_armature_bone_rename</a>(ob-&gt;<a class="code" href="../../de/de7/structObject.html#af121d9ecf1402708a17302a8a615cbfe">data</a>, oldname, newname);
<a name="l00362"></a>00362                     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#ad7623342a2e6e2b7e66123bbdf2975da">NC_OBJECT</a>|<a class="code" href="../../d4/ddc/WM__types_8h.html#a72e1ed3dc8d04e8bc84328ec6ef6ce80">ND_POSE</a>, ob);
<a name="l00363"></a>00363                 }
<a name="l00364"></a>00364                 <span class="keywordflow">break</span>;
<a name="l00365"></a>00365             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a412dbdafdff3cfeb66efb55a471d9df9">TSE_POSEGRP</a>:
<a name="l00366"></a>00366                 {
<a name="l00367"></a>00367                     <a class="code" href="../../de/de7/structObject.html">Object</a> *ob= (<a class="code" href="../../de/de7/structObject.html">Object</a> *)tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>; <span class="comment">// id = object</span>
<a name="l00368"></a>00368                     <a class="code" href="../../d9/dcf/structbActionGroup.html">bActionGroup</a> *grp= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ac4c4f07fcb2ed46300b3f08bd47887b2">directdata</a>;
<a name="l00369"></a>00369                     
<a name="l00370"></a>00370                     <a class="code" href="../../d2/dd9/BLI__path__util_8h.html#a584e08e337965c8bb232cf7ff28a0e13">BLI_uniquename</a>(&amp;ob-&gt;<a class="code" href="../../de/de7/structObject.html#a23522fc15312fc5d99e1e1f68c579c25">pose</a>-&gt;<a class="code" href="../../d3/de4/structbPose.html#a60a155dd4019f3ee9a94c624589701ce">agroups</a>, grp, <span class="stringliteral">&quot;Group&quot;</span>, <span class="charliteral">&#39;.&#39;</span>, offsetof(<a class="code" href="../../d9/dcf/structbActionGroup.html">bActionGroup</a>, name), <span class="keyword">sizeof</span>(grp-&gt;name));
<a name="l00371"></a>00371                     <a class="code" href="../../df/db0/wm__event__system_8c.html#a6a6bfb771c3639a4f1038d56a3fa0217">WM_event_add_notifier</a>(C, <a class="code" href="../../d4/ddc/WM__types_8h.html#ad7623342a2e6e2b7e66123bbdf2975da">NC_OBJECT</a>|<a class="code" href="../../d4/ddc/WM__types_8h.html#a72e1ed3dc8d04e8bc84328ec6ef6ce80">ND_POSE</a>, ob);
<a name="l00372"></a>00372                 }
<a name="l00373"></a>00373                 <span class="keywordflow">break</span>;
<a name="l00374"></a>00374             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a9eb17f6c3e4003be1ff9a6fe0aac78aa">TSE_R_LAYER</a>:
<a name="l00375"></a>00375                 <span class="keywordflow">break</span>;
<a name="l00376"></a>00376             }
<a name="l00377"></a>00377         }
<a name="l00378"></a>00378         tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a104426a340d0c42828c65f86ed21dd80">flag</a> &amp;= ~<a class="code" href="../../d7/d51/DNA__outliner__types_8h.html#a14c0818a5fa79efd4438f37a3bcd1cd9">TSE_TEXTBUT</a>;
<a name="l00379"></a>00379     }
<a name="l00380"></a>00380 }
<a name="l00381"></a>00381 
<a name="l00382"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a08b739c46a494d7a26cc453baacbde96">00382</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a08b739c46a494d7a26cc453baacbde96">outliner_draw_restrictbuts</a>(<a class="code" href="../../df/d5b/structuiBlock.html">uiBlock</a> *block, <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <a class="code" href="../../da/d23/structARegion.html">ARegion</a> *ar, <a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb)
<a name="l00383"></a>00383 {   
<a name="l00384"></a>00384     <a class="code" href="../../d5/dd7/structuiBut.html">uiBut</a> *bt;
<a name="l00385"></a>00385     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te;
<a name="l00386"></a>00386     <a class="code" href="../../da/d20/structTreeStoreElem.html">TreeStoreElem</a> *tselem;
<a name="l00387"></a>00387     <a class="code" href="../../de/de7/structObject.html">Object</a> *ob = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00388"></a>00388     <a class="code" href="../../d4/d91/structGroup.html">Group</a>  *gr = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00389"></a>00389 
<a name="l00390"></a>00390     <span class="keywordflow">for</span> (te= lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; te; te= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>) {
<a name="l00391"></a>00391         tselem= <a class="code" href="../../df/def/outliner__intern_8h.html#a804fa5954c5c38273764b024eefa251f">TREESTORE</a>(te);
<a name="l00392"></a>00392         <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+2*<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a> &gt;= ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#aeea1ce7886a81f1099e897d587012013">ymin</a> &amp;&amp; te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a> &lt;= ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>) {
<a name="l00393"></a>00393             <span class="comment">/* objects have toggle-able restriction flags */</span>
<a name="l00394"></a>00394             <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==0 &amp;&amp; te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d3/dfb/DNA__ID_8h.html#a1f263dac7c79853c097b8ebde25cb0c1">ID_OB</a>) {
<a name="l00395"></a>00395                 <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> ptr;
<a name="l00396"></a>00396                 
<a name="l00397"></a>00397                 ob = (<a class="code" href="../../de/de7/structObject.html">Object</a> *)tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>;
<a name="l00398"></a>00398                 <a class="code" href="../../d3/d10/rna__access_8c.html#a1f8fb80da9a6450a51ab2e9b97264f01">RNA_pointer_create</a>((<a class="code" href="../../d8/d7e/structID.html">ID</a> *)ob, &amp;<a class="code" href="../../de/ddf/RNA__access_8h.html#aada94b4b642ee7efbcc6ac0dadc8c4b2">RNA_Object</a>, ob, &amp;ptr);
<a name="l00399"></a>00399                 
<a name="l00400"></a>00400                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a273f9460f5ebaa8e186d34a949d1f862">uiBlockSetEmboss</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a54c054495b4966d6e51e0c5ccb5d72f4">UI_EMBOSSN</a>);
<a name="l00401"></a>00401                 bt= <a class="code" href="../../d8/d1e/UI__interface_8h.html#a01035efe6b648b065f5d75ee569eebf5">uiDefIconButR</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a8e4d9b0c2f42662cde3b0afd8dc07">ICONTOG</a>, 0, ICON_RESTRICT_VIEW_OFF,
<a name="l00402"></a>00402                               (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a62d88e584ca23b403c66f645264ffa65">OL_TOG_RESTRICT_VIEWX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1,
<a name="l00403"></a>00403                               &amp;ptr, <span class="stringliteral">&quot;hide&quot;</span>, -1, 0, 0, -1, -1, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00404"></a>00404                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#a1e72815690ff367ffc7590091a2cfe09">restrictbutton_view_cb</a>, scene, ob);
<a name="l00405"></a>00405                 
<a name="l00406"></a>00406                 bt= <a class="code" href="../../d8/d1e/UI__interface_8h.html#a01035efe6b648b065f5d75ee569eebf5">uiDefIconButR</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a8e4d9b0c2f42662cde3b0afd8dc07">ICONTOG</a>, 0, ICON_RESTRICT_SELECT_OFF,
<a name="l00407"></a>00407                                   (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#abd26075c456ca4d4d1fc311a90f8ba26">OL_TOG_RESTRICT_SELECTX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1,
<a name="l00408"></a>00408                                   &amp;ptr, <span class="stringliteral">&quot;hide_select&quot;</span>, -1, 0, 0, -1, -1, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00409"></a>00409                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#ae23801497d089747c21eeaa2d1615149">restrictbutton_sel_cb</a>, scene, ob);
<a name="l00410"></a>00410                 
<a name="l00411"></a>00411                 bt= <a class="code" href="../../d8/d1e/UI__interface_8h.html#a01035efe6b648b065f5d75ee569eebf5">uiDefIconButR</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a8e4d9b0c2f42662cde3b0afd8dc07">ICONTOG</a>, 0, ICON_RESTRICT_RENDER_OFF,
<a name="l00412"></a>00412                                   (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#aa2ac8112dd01749f57251f4b7f224906">OL_TOG_RESTRICT_RENDERX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1,
<a name="l00413"></a>00413                                   &amp;ptr, <span class="stringliteral">&quot;hide_render&quot;</span>, -1, 0, 0, -1, -1, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00414"></a>00414                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#a966529802d146ef2a2f10a1c928144db">restrictbutton_rend_cb</a>, scene, ob);
<a name="l00415"></a>00415                 
<a name="l00416"></a>00416                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a273f9460f5ebaa8e186d34a949d1f862">uiBlockSetEmboss</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a505992b59501cd825ea7f6d7ad3358a6">UI_EMBOSS</a>);
<a name="l00417"></a>00417                 
<a name="l00418"></a>00418             }
<a name="l00419"></a>00419             <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==0 &amp;&amp; te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d3/dfb/DNA__ID_8h.html#afc8c3d5178b4130eee3e7542ef0dcae7">ID_GR</a>) {
<a name="l00420"></a>00420                 <span class="keywordtype">int</span> restrict_bool;
<a name="l00421"></a>00421                 gr = (<a class="code" href="../../d4/d91/structGroup.html">Group</a> *)tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>;
<a name="l00422"></a>00422                 
<a name="l00423"></a>00423                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a273f9460f5ebaa8e186d34a949d1f862">uiBlockSetEmboss</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a54c054495b4966d6e51e0c5ccb5d72f4">UI_EMBOSSN</a>);
<a name="l00424"></a>00424                 
<a name="l00425"></a>00425                 restrict_bool= <a class="code" href="../../d6/d94/outliner__draw_8c.html#ab68330f3e417b46f59bf0b0210ffa71d">group_restrict_flag</a>(gr, <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a405802c89add02dcf80f5fbcce040b09">OB_RESTRICT_VIEW</a>);
<a name="l00426"></a>00426                 bt = <a class="code" href="../../d8/d1e/UI__interface_8h.html#afb370449e683507d2b022aec0be66046">uiDefIconBut</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a8e4d9b0c2f42662cde3b0afd8dc07">ICONTOG</a>, 0, restrict_bool ? ICON_RESTRICT_VIEW_ON : ICON_RESTRICT_VIEW_OFF, (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a62d88e584ca23b403c66f645264ffa65">OL_TOG_RESTRICT_VIEWX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0, 0, 0, <span class="stringliteral">&quot;Restrict/Allow visibility in the 3D View&quot;</span>);
<a name="l00427"></a>00427                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#a4ac18965c8e60ce6f5390e608aaa69e4">restrictbutton_gr_restrict_view</a>, scene, gr);
<a name="l00428"></a>00428 
<a name="l00429"></a>00429                 restrict_bool= <a class="code" href="../../d6/d94/outliner__draw_8c.html#ab68330f3e417b46f59bf0b0210ffa71d">group_restrict_flag</a>(gr, <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a0a7b633594bee6f715ff6e8525317276">OB_RESTRICT_SELECT</a>);
<a name="l00430"></a>00430                 bt = <a class="code" href="../../d8/d1e/UI__interface_8h.html#afb370449e683507d2b022aec0be66046">uiDefIconBut</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a8e4d9b0c2f42662cde3b0afd8dc07">ICONTOG</a>, 0, restrict_bool ? ICON_RESTRICT_SELECT_ON : ICON_RESTRICT_SELECT_OFF, (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#abd26075c456ca4d4d1fc311a90f8ba26">OL_TOG_RESTRICT_SELECTX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0, 0, 0, <span class="stringliteral">&quot;Restrict/Allow selection in the 3D View&quot;</span>);
<a name="l00431"></a>00431                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#a131231c17ef274a9dcc5ef0664565406">restrictbutton_gr_restrict_select</a>, scene, gr);
<a name="l00432"></a>00432     
<a name="l00433"></a>00433                 restrict_bool= <a class="code" href="../../d6/d94/outliner__draw_8c.html#ab68330f3e417b46f59bf0b0210ffa71d">group_restrict_flag</a>(gr, <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#ab94b52225b1bb3d5083e9855b32902d0">OB_RESTRICT_RENDER</a>);
<a name="l00434"></a>00434                 bt = <a class="code" href="../../d8/d1e/UI__interface_8h.html#afb370449e683507d2b022aec0be66046">uiDefIconBut</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a8e4d9b0c2f42662cde3b0afd8dc07">ICONTOG</a>, 0, restrict_bool ? ICON_RESTRICT_RENDER_ON : ICON_RESTRICT_RENDER_OFF, (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#aa2ac8112dd01749f57251f4b7f224906">OL_TOG_RESTRICT_RENDERX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0, 0, 0, <span class="stringliteral">&quot;Restrict/Allow renderability&quot;</span>);
<a name="l00435"></a>00435                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#a8dbd7886fca6d5deefd84f2885b9a390">restrictbutton_gr_restrict_render</a>, scene, gr);
<a name="l00436"></a>00436 
<a name="l00437"></a>00437                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a273f9460f5ebaa8e186d34a949d1f862">uiBlockSetEmboss</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a505992b59501cd825ea7f6d7ad3358a6">UI_EMBOSS</a>);
<a name="l00438"></a>00438             }
<a name="l00439"></a>00439             <span class="comment">/* scene render layers and passes have toggle-able flags too! */</span>
<a name="l00440"></a>00440             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==<a class="code" href="../../df/def/outliner__intern_8h.html#a9eb17f6c3e4003be1ff9a6fe0aac78aa">TSE_R_LAYER</a>) {
<a name="l00441"></a>00441                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a273f9460f5ebaa8e186d34a949d1f862">uiBlockSetEmboss</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a54c054495b4966d6e51e0c5ccb5d72f4">UI_EMBOSSN</a>);
<a name="l00442"></a>00442                 
<a name="l00443"></a>00443                 bt= <a class="code" href="../../d8/d1e/UI__interface_8h.html#aa9defd90102f943b88abe250434ebada">uiDefIconButBitI</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#afe3554f948715ad756e7bfe418a0e92e">ICONTOGN</a>, <a class="code" href="../../d4/db3/DNA__scene__types_8h.html#ae1cf7da59239a82a2617c6fd4c843a62">SCE_LAY_DISABLE</a>, 0, ICON_CHECKBOX_HLT-1, 
<a name="l00444"></a>00444                                      (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a62d88e584ca23b403c66f645264ffa65">OL_TOG_RESTRICT_VIEWX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ac4c4f07fcb2ed46300b3f08bd47887b2">directdata</a>, 0, 0, 0, 0, <span class="stringliteral">&quot;Render this RenderLayer&quot;</span>);
<a name="l00445"></a>00445                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#a87ac7af3e5c5a4ef12d2cc3b11d2ddc2">restrictbutton_r_lay_cb</a>, tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00446"></a>00446                 
<a name="l00447"></a>00447                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a273f9460f5ebaa8e186d34a949d1f862">uiBlockSetEmboss</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a505992b59501cd825ea7f6d7ad3358a6">UI_EMBOSS</a>);
<a name="l00448"></a>00448             }
<a name="l00449"></a>00449             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==<a class="code" href="../../df/def/outliner__intern_8h.html#aaeb107e1a7d65641ab5bd21c88e2bc66">TSE_R_PASS</a>) {
<a name="l00450"></a>00450                 <span class="keywordtype">int</span> *layflag= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ac4c4f07fcb2ed46300b3f08bd47887b2">directdata</a>;
<a name="l00451"></a>00451                 <span class="keywordtype">int</span> passflag= 1&lt;&lt;tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a1f10a6cec5d29272b298c9994915df8c">nr</a>;
<a name="l00452"></a>00452                 
<a name="l00453"></a>00453                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a273f9460f5ebaa8e186d34a949d1f862">uiBlockSetEmboss</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a54c054495b4966d6e51e0c5ccb5d72f4">UI_EMBOSSN</a>);
<a name="l00454"></a>00454                 
<a name="l00455"></a>00455                 
<a name="l00456"></a>00456                 bt= <a class="code" href="../../d8/d1e/UI__interface_8h.html#aa9defd90102f943b88abe250434ebada">uiDefIconButBitI</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a8e4d9b0c2f42662cde3b0afd8dc07">ICONTOG</a>, passflag, 0, ICON_CHECKBOX_HLT-1, 
<a name="l00457"></a>00457                                      (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a62d88e584ca23b403c66f645264ffa65">OL_TOG_RESTRICT_VIEWX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, layflag, 0, 0, 0, 0, <span class="stringliteral">&quot;Render this Pass&quot;</span>);
<a name="l00458"></a>00458                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#a87ac7af3e5c5a4ef12d2cc3b11d2ddc2">restrictbutton_r_lay_cb</a>, tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00459"></a>00459                 
<a name="l00460"></a>00460                 layflag++;  <span class="comment">/* is lay_xor */</span>
<a name="l00461"></a>00461                 <span class="keywordflow">if</span> (<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aec360f57a7e318a62283a2619b824fe8">ELEM8</a>(passflag, <a class="code" href="../../d4/db3/DNA__scene__types_8h.html#a02bf21100b24bc0a3d33e0215c6f41d1">SCE_PASS_SPEC</a>, <a class="code" href="../../d4/db3/DNA__scene__types_8h.html#abd6b74153f40d08f810295d1e39eaaa2">SCE_PASS_SHADOW</a>, <a class="code" href="../../d4/db3/DNA__scene__types_8h.html#a24ace58d0d0d66e045061e0591d7a7c5">SCE_PASS_AO</a>, <a class="code" href="../../d4/db3/DNA__scene__types_8h.html#a4e9639bb6059fca6eb49c9f99065734e">SCE_PASS_REFLECT</a>, <a class="code" href="../../d4/db3/DNA__scene__types_8h.html#a818d29498d5d603de4a1ec601a4b416f">SCE_PASS_REFRACT</a>, <a class="code" href="../../d4/db3/DNA__scene__types_8h.html#a3815d3ce741d6756606c70d40a1e2475">SCE_PASS_INDIRECT</a>, <a class="code" href="../../d4/db3/DNA__scene__types_8h.html#aa36483eb50364ade6b32ad7f845be7cf">SCE_PASS_EMIT</a>, <a class="code" href="../../d4/db3/DNA__scene__types_8h.html#a1f15c7c41dbf511dd638d5025fd295da">SCE_PASS_ENVIRONMENT</a>))
<a name="l00462"></a>00462                     bt= <a class="code" href="../../d8/d1e/UI__interface_8h.html#aa9defd90102f943b88abe250434ebada">uiDefIconButBitI</a>(block, <a class="code" href="../../d9/dc4/plugin_8h.html#a2532bfdf10e1ca1685038b02ce0f3386">TOG</a>, passflag, 0, (*layflag &amp; passflag)?ICON_DOT:ICON_BLANK1, 
<a name="l00463"></a>00463                                      (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#abd26075c456ca4d4d1fc311a90f8ba26">OL_TOG_RESTRICT_SELECTX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, layflag, 0, 0, 0, 0, <span class="stringliteral">&quot;Exclude this Pass from Combined&quot;</span>);
<a name="l00464"></a>00464                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#a87ac7af3e5c5a4ef12d2cc3b11d2ddc2">restrictbutton_r_lay_cb</a>, tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00465"></a>00465                 
<a name="l00466"></a>00466                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a273f9460f5ebaa8e186d34a949d1f862">uiBlockSetEmboss</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a505992b59501cd825ea7f6d7ad3358a6">UI_EMBOSS</a>);
<a name="l00467"></a>00467             }
<a name="l00468"></a>00468             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==<a class="code" href="../../df/def/outliner__intern_8h.html#aba81eac541f3086d23fe874544537812">TSE_MODIFIER</a>) {
<a name="l00469"></a>00469                 <a class="code" href="../../db/ddd/structModifierData.html">ModifierData</a> *md= (<a class="code" href="../../db/ddd/structModifierData.html">ModifierData</a> *)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ac4c4f07fcb2ed46300b3f08bd47887b2">directdata</a>;
<a name="l00470"></a>00470                 ob = (<a class="code" href="../../de/de7/structObject.html">Object</a> *)tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>;
<a name="l00471"></a>00471                 
<a name="l00472"></a>00472                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a273f9460f5ebaa8e186d34a949d1f862">uiBlockSetEmboss</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a54c054495b4966d6e51e0c5ccb5d72f4">UI_EMBOSSN</a>);
<a name="l00473"></a>00473                 bt= <a class="code" href="../../d8/d1e/UI__interface_8h.html#aa9defd90102f943b88abe250434ebada">uiDefIconButBitI</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#afe3554f948715ad756e7bfe418a0e92e">ICONTOGN</a>, <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a1cab93646b1d30a0ad79c4448bb06601ac434becb714d73f6821cafeeb5b22995">eModifierMode_Realtime</a>, 0, ICON_RESTRICT_VIEW_OFF, 
<a name="l00474"></a>00474                         (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a62d88e584ca23b403c66f645264ffa65">OL_TOG_RESTRICT_VIEWX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;(md-&gt;<a class="code" href="../../db/ddd/structModifierData.html#a905ab5cd625053441b2e82efe47e95d1">mode</a>), 0, 0, 0, 0, <span class="stringliteral">&quot;Restrict/Allow visibility in the 3D View&quot;</span>);
<a name="l00475"></a>00475                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#ae7a5fcfb5c2cf500cf325145c55430e6">restrictbutton_modifier_cb</a>, scene, ob);
<a name="l00476"></a>00476                 
<a name="l00477"></a>00477                 bt= <a class="code" href="../../d8/d1e/UI__interface_8h.html#aa9defd90102f943b88abe250434ebada">uiDefIconButBitI</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#afe3554f948715ad756e7bfe418a0e92e">ICONTOGN</a>, <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a1cab93646b1d30a0ad79c4448bb06601a35b98a06484384dcc7e907ca646e5918">eModifierMode_Render</a>, 0, ICON_RESTRICT_RENDER_OFF, 
<a name="l00478"></a>00478                         (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#aa2ac8112dd01749f57251f4b7f224906">OL_TOG_RESTRICT_RENDERX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;(md-&gt;<a class="code" href="../../db/ddd/structModifierData.html#a905ab5cd625053441b2e82efe47e95d1">mode</a>), 0, 0, 0, 0, <span class="stringliteral">&quot;Restrict/Allow renderability&quot;</span>);
<a name="l00479"></a>00479                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#ae7a5fcfb5c2cf500cf325145c55430e6">restrictbutton_modifier_cb</a>, scene, ob);
<a name="l00480"></a>00480             }
<a name="l00481"></a>00481             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==<a class="code" href="../../df/def/outliner__intern_8h.html#aef097b3ecfcabd0f460b586b9de5c57b">TSE_POSE_CHANNEL</a>) {
<a name="l00482"></a>00482                 <a class="code" href="../../dd/d41/structbPoseChannel.html">bPoseChannel</a> *pchan= (<a class="code" href="../../dd/d41/structbPoseChannel.html">bPoseChannel</a> *)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ac4c4f07fcb2ed46300b3f08bd47887b2">directdata</a>;
<a name="l00483"></a>00483                 <a class="code" href="../../de/de0/structBone.html">Bone</a> *bone = pchan-&gt;<a class="code" href="../../dd/d41/structbPoseChannel.html#a31291bac57d8e3b0edaac489c94ed8b4">bone</a>;
<a name="l00484"></a>00484                 
<a name="l00485"></a>00485                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a273f9460f5ebaa8e186d34a949d1f862">uiBlockSetEmboss</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a54c054495b4966d6e51e0c5ccb5d72f4">UI_EMBOSSN</a>);
<a name="l00486"></a>00486                 bt= <a class="code" href="../../d8/d1e/UI__interface_8h.html#aa9defd90102f943b88abe250434ebada">uiDefIconButBitI</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a8e4d9b0c2f42662cde3b0afd8dc07">ICONTOG</a>, <a class="code" href="../../d2/d93/DNA__armature__types_8h.html#ad26c2b448f0e416cffc8cd84065c3b50ab23a8cde9f34efaef713308cc72166de">BONE_HIDDEN_P</a>, 0, ICON_RESTRICT_VIEW_OFF, 
<a name="l00487"></a>00487                         (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a62d88e584ca23b403c66f645264ffa65">OL_TOG_RESTRICT_VIEWX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;(bone-&gt;flag), 0, 0, 0, 0, <span class="stringliteral">&quot;Restrict/Allow visibility in the 3D View&quot;</span>);
<a name="l00488"></a>00488                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#aaeddebdeba174e583dc45686257c3175">restrictbutton_bone_cb</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, bone);
<a name="l00489"></a>00489                 
<a name="l00490"></a>00490                 bt= <a class="code" href="../../d8/d1e/UI__interface_8h.html#aa9defd90102f943b88abe250434ebada">uiDefIconButBitI</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a8e4d9b0c2f42662cde3b0afd8dc07">ICONTOG</a>, <a class="code" href="../../d2/d93/DNA__armature__types_8h.html#ad26c2b448f0e416cffc8cd84065c3b50a43b8f6f95c59bc19230dc54877807c1e">BONE_UNSELECTABLE</a>, 0, ICON_RESTRICT_SELECT_OFF, 
<a name="l00491"></a>00491                         (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#abd26075c456ca4d4d1fc311a90f8ba26">OL_TOG_RESTRICT_SELECTX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;(bone-&gt;flag), 0, 0, 0, 0, <span class="stringliteral">&quot;Restrict/Allow selection in the 3D View&quot;</span>);
<a name="l00492"></a>00492                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#aaeddebdeba174e583dc45686257c3175">restrictbutton_bone_cb</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00493"></a>00493             }
<a name="l00494"></a>00494             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==<a class="code" href="../../df/def/outliner__intern_8h.html#ac1c3342737bb388d2fd4f65ebcb200f4">TSE_EBONE</a>) {
<a name="l00495"></a>00495                 <a class="code" href="../../da/d29/structEditBone.html">EditBone</a> *ebone= (<a class="code" href="../../da/d29/structEditBone.html">EditBone</a> *)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ac4c4f07fcb2ed46300b3f08bd47887b2">directdata</a>;
<a name="l00496"></a>00496                 
<a name="l00497"></a>00497                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a273f9460f5ebaa8e186d34a949d1f862">uiBlockSetEmboss</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a54c054495b4966d6e51e0c5ccb5d72f4">UI_EMBOSSN</a>);
<a name="l00498"></a>00498                 bt= <a class="code" href="../../d8/d1e/UI__interface_8h.html#aa9defd90102f943b88abe250434ebada">uiDefIconButBitI</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a8e4d9b0c2f42662cde3b0afd8dc07">ICONTOG</a>, <a class="code" href="../../d2/d93/DNA__armature__types_8h.html#ad26c2b448f0e416cffc8cd84065c3b50a5dcf60e8cd1c7c56a906d7a01fc01327">BONE_HIDDEN_A</a>, 0, ICON_RESTRICT_VIEW_OFF, 
<a name="l00499"></a>00499                         (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a62d88e584ca23b403c66f645264ffa65">OL_TOG_RESTRICT_VIEWX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;(ebone-&gt;<a class="code" href="../../da/d29/structEditBone.html#a6c7db9597e20d97ea4ae61eaacdc41fe">flag</a>), 0, 0, 0, 0, <span class="stringliteral">&quot;Restrict/Allow visibility in the 3D View&quot;</span>);
<a name="l00500"></a>00500                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#afffd19390a7728e57498971bad3a0e48">restrictbutton_ebone_cb</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, ebone);
<a name="l00501"></a>00501                 
<a name="l00502"></a>00502                 bt= <a class="code" href="../../d8/d1e/UI__interface_8h.html#aa9defd90102f943b88abe250434ebada">uiDefIconButBitI</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a8e4d9b0c2f42662cde3b0afd8dc07">ICONTOG</a>, <a class="code" href="../../d2/d93/DNA__armature__types_8h.html#ad26c2b448f0e416cffc8cd84065c3b50a43b8f6f95c59bc19230dc54877807c1e">BONE_UNSELECTABLE</a>, 0, ICON_RESTRICT_SELECT_OFF, 
<a name="l00503"></a>00503                         (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#abd26075c456ca4d4d1fc311a90f8ba26">OL_TOG_RESTRICT_SELECTX</a>, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;(ebone-&gt;<a class="code" href="../../da/d29/structEditBone.html#a6c7db9597e20d97ea4ae61eaacdc41fe">flag</a>), 0, 0, 0, 0, <span class="stringliteral">&quot;Restrict/Allow selection in the 3D View&quot;</span>);
<a name="l00504"></a>00504                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#afffd19390a7728e57498971bad3a0e48">restrictbutton_ebone_cb</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00505"></a>00505             }
<a name="l00506"></a>00506         }
<a name="l00507"></a>00507         
<a name="l00508"></a>00508         <span class="keywordflow">if</span> (<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops)) <a class="code" href="../../d6/d94/outliner__draw_8c.html#a08b739c46a494d7a26cc453baacbde96">outliner_draw_restrictbuts</a>(block, scene, ar, soops, &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>);
<a name="l00509"></a>00509     }
<a name="l00510"></a>00510 }
<a name="l00511"></a>00511 
<a name="l00512"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a61bae71b9bd773c94ddf00cfedee2095">00512</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a61bae71b9bd773c94ddf00cfedee2095">outliner_draw_rnacols</a>(<a class="code" href="../../da/d23/structARegion.html">ARegion</a> *ar, <span class="keywordtype">int</span> sizex)
<a name="l00513"></a>00513 {
<a name="l00514"></a>00514     <a class="code" href="../../d7/de3/structView2D.html">View2D</a> *v2d= &amp;ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>;
<a name="l00515"></a>00515 
<a name="l00516"></a>00516     <span class="keywordtype">float</span> miny = v2d-&gt;<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#aeea1ce7886a81f1099e897d587012013">ymin</a>-<a class="code" href="../../d5/d63/UI__view2d_8h.html#a069e052def33db00e951eec0987d4d6e">V2D_SCROLL_HEIGHT</a>;
<a name="l00517"></a>00517     <span class="keywordflow">if</span> (miny&lt;v2d-&gt;tot.ymin) miny = v2d-&gt;<a class="code" href="../../d7/de3/structView2D.html#a08871e1668409d82d50b637bab889f74">tot</a>.<a class="code" href="../../da/d10/structrctf.html#aeea1ce7886a81f1099e897d587012013">ymin</a>;
<a name="l00518"></a>00518 
<a name="l00519"></a>00519     <a class="code" href="../../de/d96/UI__resources_8h.html#a720062ccecc315c2c0588bfab9ad5cfb">UI_ThemeColorShadeAlpha</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531a2f524dc89597307994ab7d91402f79cf">TH_BACK</a>, -15, -200);
<a name="l00520"></a>00520 
<a name="l00521"></a>00521     <span class="comment">/* draw column separator lines */</span>
<a name="l00522"></a>00522     <a class="code" href="../../d9/d71/BIF__glutil_8h.html#a7354f70d0e522da34583d29bbec4d194">fdrawline</a>((<span class="keywordtype">float</span>)sizex,
<a name="l00523"></a>00523         v2d-&gt;<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>,
<a name="l00524"></a>00524         (<span class="keywordtype">float</span>)sizex,
<a name="l00525"></a>00525         miny);
<a name="l00526"></a>00526 
<a name="l00527"></a>00527     <a class="code" href="../../d9/d71/BIF__glutil_8h.html#a7354f70d0e522da34583d29bbec4d194">fdrawline</a>((<span class="keywordtype">float</span>)sizex+<a class="code" href="../../df/def/outliner__intern_8h.html#a9a1ea72fdb3d497aaf392848847eeae9">OL_RNA_COL_SIZEX</a>,
<a name="l00528"></a>00528         v2d-&gt;<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>,
<a name="l00529"></a>00529         (<span class="keywordtype">float</span>)sizex+<a class="code" href="../../df/def/outliner__intern_8h.html#a9a1ea72fdb3d497aaf392848847eeae9">OL_RNA_COL_SIZEX</a>,
<a name="l00530"></a>00530         miny);
<a name="l00531"></a>00531 }
<a name="l00532"></a>00532 
<a name="l00533"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a57f5a8898f27619510ec4ea0e2632473">00533</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a57f5a8898f27619510ec4ea0e2632473">outliner_draw_rnabuts</a>(<a class="code" href="../../df/d5b/structuiBlock.html">uiBlock</a> *block, <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <a class="code" href="../../da/d23/structARegion.html">ARegion</a> *ar, <a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops, <span class="keywordtype">int</span> sizex, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb)
<a name="l00534"></a>00534 {   
<a name="l00535"></a>00535     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te;
<a name="l00536"></a>00536     <a class="code" href="../../da/d20/structTreeStoreElem.html">TreeStoreElem</a> *tselem;
<a name="l00537"></a>00537     <a class="code" href="../../dd/d80/structPointerRNA.html">PointerRNA</a> *ptr;
<a name="l00538"></a>00538     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop;
<a name="l00539"></a>00539     
<a name="l00540"></a>00540     <a class="code" href="../../d8/d1e/UI__interface_8h.html#a273f9460f5ebaa8e186d34a949d1f862">uiBlockSetEmboss</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#af74bf8ab2001ad4e66c366e843f47bbb">UI_EMBOSST</a>);
<a name="l00541"></a>00541 
<a name="l00542"></a>00542     <span class="keywordflow">for</span> (te= lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; te; te= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>) {
<a name="l00543"></a>00543         tselem= <a class="code" href="../../df/def/outliner__intern_8h.html#a804fa5954c5c38273764b024eefa251f">TREESTORE</a>(te);
<a name="l00544"></a>00544         <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+2*<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a> &gt;= ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#aeea1ce7886a81f1099e897d587012013">ymin</a> &amp;&amp; te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a> &lt;= ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>) {
<a name="l00545"></a>00545             <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a> == <a class="code" href="../../df/def/outliner__intern_8h.html#a30f78f11dbb2309c08c2e97548132968">TSE_RNA_PROPERTY</a>) {
<a name="l00546"></a>00546                 ptr= &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ae4588f10cf11cdf7afcbc207a8598600">rnaptr</a>;
<a name="l00547"></a>00547                 prop= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ac4c4f07fcb2ed46300b3f08bd47887b2">directdata</a>;
<a name="l00548"></a>00548                 
<a name="l00549"></a>00549                 <span class="keywordflow">if</span> (!(<a class="code" href="../../d3/d10/rna__access_8c.html#a51b018d85ee119253ae423b9314eeaef">RNA_property_type</a>(prop) == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a> &amp;&amp; (<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops))) )
<a name="l00550"></a>00550                     <a class="code" href="../../d8/d1e/UI__interface_8h.html#a1b97f0b46fcbb373c1c2bafb2d0feb40">uiDefAutoButR</a>(block, ptr, prop, -1, <span class="stringliteral">&quot;&quot;</span>, ICON_NONE, sizex, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../df/def/outliner__intern_8h.html#a9a1ea72fdb3d497aaf392848847eeae9">OL_RNA_COL_SIZEX</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1);
<a name="l00551"></a>00551             }
<a name="l00552"></a>00552             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a> == <a class="code" href="../../df/def/outliner__intern_8h.html#a7367bb360e785dee0e789f86378ff37d">TSE_RNA_ARRAY_ELEM</a>) {
<a name="l00553"></a>00553                 ptr= &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ae4588f10cf11cdf7afcbc207a8598600">rnaptr</a>;
<a name="l00554"></a>00554                 prop= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ac4c4f07fcb2ed46300b3f08bd47887b2">directdata</a>;
<a name="l00555"></a>00555                 
<a name="l00556"></a>00556                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a1b97f0b46fcbb373c1c2bafb2d0feb40">uiDefAutoButR</a>(block, ptr, prop, te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a8256cd06a838e948fb2afb9debe03d32">index</a>, <span class="stringliteral">&quot;&quot;</span>, ICON_NONE, sizex, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, <a class="code" href="../../df/def/outliner__intern_8h.html#a9a1ea72fdb3d497aaf392848847eeae9">OL_RNA_COL_SIZEX</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1);
<a name="l00557"></a>00557             }
<a name="l00558"></a>00558         }
<a name="l00559"></a>00559         
<a name="l00560"></a>00560         <span class="keywordflow">if</span> (<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops)) <a class="code" href="../../d6/d94/outliner__draw_8c.html#a57f5a8898f27619510ec4ea0e2632473">outliner_draw_rnabuts</a>(block, scene, ar, soops, sizex, &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>);
<a name="l00561"></a>00561     }
<a name="l00562"></a>00562 }
<a name="l00563"></a>00563 
<a name="l00564"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a8ac92631e6c303077be1dcf1b7959030">00564</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a8ac92631e6c303077be1dcf1b7959030">operator_call_cb</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(C), <span class="keywordtype">void</span> *arg_kmi, <span class="keywordtype">void</span> *arg2)
<a name="l00565"></a>00565 {
<a name="l00566"></a>00566     <a class="code" href="../../de/d5e/structwmOperatorType.html">wmOperatorType</a> *ot= arg2;
<a name="l00567"></a>00567     <a class="code" href="../../d1/d5e/structwmKeyMapItem.html">wmKeyMapItem</a> *kmi = arg_kmi;
<a name="l00568"></a>00568     
<a name="l00569"></a>00569     <span class="keywordflow">if</span> (ot)
<a name="l00570"></a>00570         <a class="code" href="../../d3/db3/BLI__string_8h.html#a98d7c9cb4a81dbe506d1972b306300ce">BLI_strncpy</a>(kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#af2857f00bdd109a9a110c8816d9b0ce8">idname</a>, ot-&gt;<a class="code" href="../../de/d5e/structwmOperatorType.html#a46882f447e704ec2b65bf69bf826a306">idname</a>, <a class="code" href="../../de/dc1/DNA__windowmanager__types_8h.html#a0abf71757e44887f91524ccec1d0327e">OP_MAX_TYPENAME</a>);
<a name="l00571"></a>00571 }
<a name="l00572"></a>00572 
<a name="l00573"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a71b2937056293a58f5f053add1bb7c85">00573</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a71b2937056293a58f5f053add1bb7c85">operator_search_cb</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="../../d5/df1/structbContext.html">bContext</a> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(C), <span class="keywordtype">void</span> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(arg_kmi), <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d2/d36/interface__layout_8c.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>, <a class="code" href="../../d8/dbb/structuiSearchItems.html">uiSearchItems</a> *items)
<a name="l00574"></a>00574 {
<a name="l00575"></a>00575     <a class="code" href="../../d2/d31/structGHashIterator.html">GHashIterator</a> *iter= <a class="code" href="../../d6/dae/wm__operators_8c.html#accc27c068778bd428156a1a8ca0585b4">WM_operatortype_iter</a>();
<a name="l00576"></a>00576 
<a name="l00577"></a>00577     <span class="keywordflow">for</span> ( ; !<a class="code" href="../../d7/dc5/BLI__ghash_8h.html#a0eff6b7b74d72e06f7c125da5a46a5f1">BLI_ghashIterator_isDone</a>(iter); <a class="code" href="../../d7/dc5/BLI__ghash_8h.html#a2d3ebd2fe8ee454695c6387215e3e88a">BLI_ghashIterator_step</a>(iter)) {
<a name="l00578"></a>00578         <a class="code" href="../../de/d5e/structwmOperatorType.html">wmOperatorType</a> *ot= <a class="code" href="../../d7/dc5/BLI__ghash_8h.html#a65c048ac3140f6c2598d94e4276a41f3">BLI_ghashIterator_getValue</a>(iter);
<a name="l00579"></a>00579         
<a name="l00580"></a>00580         <span class="keywordflow">if</span> (<a class="code" href="../../d3/db3/BLI__string_8h.html#acea342f9e36a26e2d404b1ada16f2b7a">BLI_strcasestr</a>(ot-&gt;<a class="code" href="../../de/d5e/structwmOperatorType.html#a46882f447e704ec2b65bf69bf826a306">idname</a>, str)) {
<a name="l00581"></a>00581             <span class="keywordtype">char</span> name[<a class="code" href="../../de/dc1/DNA__windowmanager__types_8h.html#a0abf71757e44887f91524ccec1d0327e">OP_MAX_TYPENAME</a>];
<a name="l00582"></a>00582             
<a name="l00583"></a>00583             <span class="comment">/* display name for menu */</span>
<a name="l00584"></a>00584             <a class="code" href="../../d6/dae/wm__operators_8c.html#ad441ab98ccd0d26c3d9a2ccdb2f91b09">WM_operator_py_idname</a>(name, ot-&gt;<a class="code" href="../../de/d5e/structwmOperatorType.html#a46882f447e704ec2b65bf69bf826a306">idname</a>);
<a name="l00585"></a>00585             
<a name="l00586"></a>00586             <span class="keywordflow">if</span> (0==<a class="code" href="../../d8/d1e/UI__interface_8h.html#a54841b6e4f540fcffd11d692e278a605">uiSearchItemAdd</a>(items, name, ot, 0))
<a name="l00587"></a>00587                 <span class="keywordflow">break</span>;
<a name="l00588"></a>00588         }
<a name="l00589"></a>00589     }
<a name="l00590"></a>00590     <a class="code" href="../../d7/dc5/BLI__ghash_8h.html#a3cc839e5e4e00419c6774832687e39c1">BLI_ghashIterator_free</a>(iter);
<a name="l00591"></a>00591 }
<a name="l00592"></a>00592 
<a name="l00593"></a>00593 <span class="comment">/* operator Search browse menu, open */</span>
<a name="l00594"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a7e04ce1d541d56ce3ed0889c25b42b67">00594</a> <span class="keyword">static</span> <a class="code" href="../../df/d5b/structuiBlock.html">uiBlock</a> *<a class="code" href="../../d6/d94/outliner__draw_8c.html#a7e04ce1d541d56ce3ed0889c25b42b67">operator_search_menu</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <a class="code" href="../../da/d23/structARegion.html">ARegion</a> *ar, <span class="keywordtype">void</span> *arg_kmi)
<a name="l00595"></a>00595 {
<a name="l00596"></a>00596     <span class="keyword">static</span> <span class="keywordtype">char</span> search[<a class="code" href="../../de/dc1/DNA__windowmanager__types_8h.html#a0abf71757e44887f91524ccec1d0327e">OP_MAX_TYPENAME</a>];
<a name="l00597"></a>00597     <a class="code" href="../../d5/d6c/structwmEvent.html">wmEvent</a> event;
<a name="l00598"></a>00598     <a class="code" href="../../dc/da4/structwmWindow.html">wmWindow</a> *win= <a class="code" href="../../df/d01/BKE__context_8h.html#af86d2cf919d95eaefc99c2c3e553057e">CTX_wm_window</a>(C);
<a name="l00599"></a>00599     <a class="code" href="../../d1/d5e/structwmKeyMapItem.html">wmKeyMapItem</a> *kmi = arg_kmi;
<a name="l00600"></a>00600     <a class="code" href="../../de/d5e/structwmOperatorType.html">wmOperatorType</a> *ot= <a class="code" href="../../d6/dae/wm__operators_8c.html#a10ed9150324ef83e52559b8cb5293c4b">WM_operatortype_find</a>(kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#af2857f00bdd109a9a110c8816d9b0ce8">idname</a>, 0);
<a name="l00601"></a>00601     <a class="code" href="../../df/d5b/structuiBlock.html">uiBlock</a> *block;
<a name="l00602"></a>00602     <a class="code" href="../../d5/dd7/structuiBut.html">uiBut</a> *but;
<a name="l00603"></a>00603     
<a name="l00604"></a>00604     <span class="comment">/* clear initial search string, then all items show */</span>
<a name="l00605"></a>00605     search[0]= 0;
<a name="l00606"></a>00606     
<a name="l00607"></a>00607     block= <a class="code" href="../../d8/d1e/UI__interface_8h.html#a8bb41a5814e5120ba3c694cb35667128">uiBeginBlock</a>(C, ar, <span class="stringliteral">&quot;_popup&quot;</span>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a505992b59501cd825ea7f6d7ad3358a6">UI_EMBOSS</a>);
<a name="l00608"></a>00608     <a class="code" href="../../d8/d1e/UI__interface_8h.html#a619156a060c8092bf92b629660cbcc8e">uiBlockSetFlag</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a85cfd29a5959ab2b2fcc578bcbe6ef3c">UI_BLOCK_LOOP</a>|<a class="code" href="../../d8/d1e/UI__interface_8h.html#af713453f64d2cd265b458ef9735e89d2">UI_BLOCK_REDRAW</a>|<a class="code" href="../../d8/d1e/UI__interface_8h.html#ab829d5fb0e0e927effd6a779dafee967">UI_BLOCK_RET_1</a>);
<a name="l00609"></a>00609     
<a name="l00610"></a>00610     <span class="comment">/* fake button, it holds space for search items */</span>
<a name="l00611"></a>00611     <a class="code" href="../../d8/d1e/UI__interface_8h.html#aff9055599f7d998b2b3ff2f02c6fb597">uiDefBut</a>(block, <a class="code" href="../../d9/dc4/plugin_8h.html#a0b7df70d4a086a227bc482b07e2bbbca">LABEL</a>, 0, <span class="stringliteral">&quot;&quot;</span>, 10, 15, 150, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a449d97c143dffc7ad934756450eec63b">uiSearchBoxhHeight</a>(), <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, 0, 0, 0, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00612"></a>00612     
<a name="l00613"></a>00613     but = <a class="code" href="../../d8/d1e/UI__interface_8h.html#a15503b211bb301ff0fb2901c98740fcb">uiDefSearchBut</a>(block, search, 0, ICON_VIEWZOOM, <span class="keyword">sizeof</span>(search), 10, 0, 150, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>, 0, 0, <span class="stringliteral">&quot;&quot;</span>);
<a name="l00614"></a>00614     <a class="code" href="../../d8/d1e/UI__interface_8h.html#a977047e0bf7e7ef5e6f26591ff8a53c9">uiButSetSearchFunc</a>(but, <a class="code" href="../../d6/d94/outliner__draw_8c.html#a71b2937056293a58f5f053add1bb7c85">operator_search_cb</a>, arg_kmi, <a class="code" href="../../d6/d94/outliner__draw_8c.html#a8ac92631e6c303077be1dcf1b7959030">operator_call_cb</a>, ot);
<a name="l00615"></a>00615     
<a name="l00616"></a>00616     <a class="code" href="../../d8/d1e/UI__interface_8h.html#a47d93c92ea07aa2fe68112a07a9f7aeb">uiBoundsBlock</a>(block, 6);
<a name="l00617"></a>00617     <a class="code" href="../../d8/d1e/UI__interface_8h.html#af0d71fa48a234ba4cb707b670455c913">uiBlockSetDirection</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#af8fb6027b0166761cb524a88fa0a7231">UI_DOWN</a>);    
<a name="l00618"></a>00618     <a class="code" href="../../d8/d1e/UI__interface_8h.html#ac166273cd2c217e8b1da1bdac55a8ef8">uiEndBlock</a>(C, block);
<a name="l00619"></a>00619     
<a name="l00620"></a>00620     <span class="keyword">event</span>= *(win-&gt;<a class="code" href="../../dc/da4/structwmWindow.html#a1c950f3f8bc3e99973abac8e510d0835">eventstate</a>);  <span class="comment">/* XXX huh huh? make api call */</span>
<a name="l00621"></a>00621     <span class="keyword">event</span>.type= <a class="code" href="../../d1/d40/wm__event__types_8h.html#a7e76795d5874bd49d91359d64a6f3ef3">EVT_BUT_OPEN</a>;
<a name="l00622"></a>00622     <span class="keyword">event</span>.val= <a class="code" href="../../d4/ddc/WM__types_8h.html#a8cc410005d9d1dacfe81cdffb6388d09">KM_PRESS</a>;
<a name="l00623"></a>00623     <span class="keyword">event</span>.customdata= but;
<a name="l00624"></a>00624     <span class="keyword">event</span>.customdatafree= <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00625"></a>00625     <a class="code" href="../../df/db0/wm__event__system_8c.html#abfe9bdb8f6493c4a571052e7270eca37">wm_event_add</a>(win, &amp;event);
<a name="l00626"></a>00626     
<a name="l00627"></a>00627     <span class="keywordflow">return</span> block;
<a name="l00628"></a>00628 }
<a name="l00629"></a>00629 
<a name="l00630"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#ad9ef521bfe7ca763686d8643851484d2">00630</a> <span class="preprocessor">#define OL_KM_KEYBOARD      0</span>
<a name="l00631"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#ae84ad080ec952ac2e00dfd8441a53b72">00631</a> <span class="preprocessor"></span><span class="preprocessor">#define OL_KM_MOUSE         1</span>
<a name="l00632"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a27c36203bf5568eeed3e3edaf6e76b32">00632</a> <span class="preprocessor"></span><span class="preprocessor">#define OL_KM_TWEAK         2</span>
<a name="l00633"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a0de5095a6fbb7b891549693e919bf7d3">00633</a> <span class="preprocessor"></span><span class="preprocessor">#define OL_KM_SPECIALS      3</span>
<a name="l00634"></a>00634 <span class="preprocessor"></span>
<a name="l00635"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a9ab01d78ba0120673bc2e78dca60ee4d">00635</a> <span class="keyword">static</span> <span class="keywordtype">short</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a9ab01d78ba0120673bc2e78dca60ee4d">keymap_menu_type</a>(<span class="keywordtype">short</span> type)
<a name="l00636"></a>00636 {
<a name="l00637"></a>00637     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d40/wm__event__types_8h.html#a618e1d69514f3de00cba0f0f9a538194">ISKEYBOARD</a>(type)) <span class="keywordflow">return</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#ad9ef521bfe7ca763686d8643851484d2">OL_KM_KEYBOARD</a>;
<a name="l00638"></a>00638     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d40/wm__event__types_8h.html#aa887e5d1aa7d4b3b654ea17f59dfbcda">ISTWEAK</a>(type)) <span class="keywordflow">return</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a27c36203bf5568eeed3e3edaf6e76b32">OL_KM_TWEAK</a>;
<a name="l00639"></a>00639     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d40/wm__event__types_8h.html#a572956b0addb43789c4f031e07e06308">ISMOUSE</a>(type)) <span class="keywordflow">return</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#ae84ad080ec952ac2e00dfd8441a53b72">OL_KM_MOUSE</a>;
<a name="l00640"></a>00640 <span class="comment">//  return OL_KM_SPECIALS;</span>
<a name="l00641"></a>00641     <span class="keywordflow">return</span> 0;
<a name="l00642"></a>00642 }
<a name="l00643"></a>00643 
<a name="l00644"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a5c1efe581f5e3bf14d0a8715ab5683b7">00644</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/d94/outliner__draw_8c.html#a5c1efe581f5e3bf14d0a8715ab5683b7">keymap_type_menu</a>(<span class="keywordtype">void</span>)
<a name="l00645"></a>00645 {
<a name="l00646"></a>00646     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <span class="keywordtype">string</span>[]=
<a name="l00647"></a>00647     <span class="stringliteral">&quot;Event Type%t&quot;</span>
<a name="l00648"></a>00648     <span class="stringliteral">&quot;|Keyboard%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d6/d94/outliner__draw_8c.html#ad9ef521bfe7ca763686d8643851484d2">OL_KM_KEYBOARD</a>)
<a name="l00649"></a>00649     <span class="stringliteral">&quot;|Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d6/d94/outliner__draw_8c.html#ae84ad080ec952ac2e00dfd8441a53b72">OL_KM_MOUSE</a>)
<a name="l00650"></a>00650     <span class="stringliteral">&quot;|Tweak%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d6/d94/outliner__draw_8c.html#a27c36203bf5568eeed3e3edaf6e76b32">OL_KM_TWEAK</a>)
<a name="l00651"></a>00651 <span class="comment">//  &quot;|Specials%x&quot; STRINGIFY(OL_KM_SPECIALS)</span>
<a name="l00652"></a>00652     ;
<a name="l00653"></a>00653 
<a name="l00654"></a>00654     <span class="keywordflow">return</span> string;
<a name="l00655"></a>00655 }
<a name="l00656"></a>00656 
<a name="l00657"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#ac46b88a54cb7166619f1fb95e6ca1609">00657</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/d94/outliner__draw_8c.html#ac46b88a54cb7166619f1fb95e6ca1609">keymap_mouse_menu</a>(<span class="keywordtype">void</span>)
<a name="l00658"></a>00658 {
<a name="l00659"></a>00659     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <span class="keywordtype">string</span>[]=
<a name="l00660"></a>00660     <span class="stringliteral">&quot;Mouse Event%t&quot;</span>
<a name="l00661"></a>00661     <span class="stringliteral">&quot;|Left Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#ae726b291aecab43654d1ac45b9e4d57d">LEFTMOUSE</a>)
<a name="l00662"></a>00662     <span class="stringliteral">&quot;|Middle Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a64d06d50176bcded7e70cd4ebbce0e12">MIDDLEMOUSE</a>)
<a name="l00663"></a>00663     <span class="stringliteral">&quot;|Right Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#adc87b609a6285a24e23172a90734044c">RIGHTMOUSE</a>)
<a name="l00664"></a>00664     <span class="stringliteral">&quot;|Middle Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a64d06d50176bcded7e70cd4ebbce0e12">MIDDLEMOUSE</a>)
<a name="l00665"></a>00665     <span class="stringliteral">&quot;|Right Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#adc87b609a6285a24e23172a90734044c">RIGHTMOUSE</a>)
<a name="l00666"></a>00666     <span class="stringliteral">&quot;|Button4 Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a46229765c60e2b506e5fa289acaef9da">BUTTON4MOUSE</a>)
<a name="l00667"></a>00667     <span class="stringliteral">&quot;|Button5 Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#aeebda33ae2c7cadc3f6ebd9d164b04cd">BUTTON5MOUSE</a>)
<a name="l00668"></a>00668     <span class="stringliteral">&quot;|Action Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#acf30d15993b89343dd0b029bc8fc7eee">ACTIONMOUSE</a>)
<a name="l00669"></a>00669     <span class="stringliteral">&quot;|Select Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a89bae51e6e6473f10cc5d4ef5b1312da">SELECTMOUSE</a>)
<a name="l00670"></a>00670     <span class="stringliteral">&quot;|Mouse Move%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#aa58b8b831d49bfef312f9ae99d742aae">MOUSEMOVE</a>)
<a name="l00671"></a>00671     <span class="stringliteral">&quot;|Wheel Up%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#ae58fa49252a1cf05799ab21592491a30">WHEELUPMOUSE</a>)
<a name="l00672"></a>00672     <span class="stringliteral">&quot;|Wheel Down%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a2ffb32901b9678d9b738e618330f60c0">WHEELDOWNMOUSE</a>)
<a name="l00673"></a>00673     <span class="stringliteral">&quot;|Wheel In%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a68fca273375360faf8a1f122cfe1a37c">WHEELINMOUSE</a>)
<a name="l00674"></a>00674     <span class="stringliteral">&quot;|Wheel Out%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a3c41d070a90b207d618058b1fb5350c7">WHEELOUTMOUSE</a>)
<a name="l00675"></a>00675     <span class="stringliteral">&quot;|Mouse/Trackpad Pan%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a65f114370656971c14863717d5364176">MOUSEPAN</a>)
<a name="l00676"></a>00676     <span class="stringliteral">&quot;|Mouse/Trackpad Zoom%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a87d179409a17bb20a1c248c84b170b55">MOUSEZOOM</a>)
<a name="l00677"></a>00677     <span class="stringliteral">&quot;|Mouse/Trackpad Rotate%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a5de175d5a9bf0c93055956061957267a">MOUSEROTATE</a>)
<a name="l00678"></a>00678     ;
<a name="l00679"></a>00679 
<a name="l00680"></a>00680     <span class="keywordflow">return</span> string;
<a name="l00681"></a>00681 }
<a name="l00682"></a>00682 
<a name="l00683"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a738d2d27627f90082906b352c5712bfd">00683</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/d94/outliner__draw_8c.html#a738d2d27627f90082906b352c5712bfd">keymap_tweak_menu</a>(<span class="keywordtype">void</span>)
<a name="l00684"></a>00684 {
<a name="l00685"></a>00685     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <span class="keywordtype">string</span>[]=
<a name="l00686"></a>00686     <span class="stringliteral">&quot;Tweak Event%t&quot;</span>
<a name="l00687"></a>00687     <span class="stringliteral">&quot;|Left Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#ae4834ccdca786c15b0f3520f69a98b7f">EVT_TWEAK_L</a>)
<a name="l00688"></a>00688     <span class="stringliteral">&quot;|Middle Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a5c390c3396b1d7081a12667fac5b87dc">EVT_TWEAK_M</a>)
<a name="l00689"></a>00689     <span class="stringliteral">&quot;|Right Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a68017306864d5fdc47f7f1de55d948ef">EVT_TWEAK_R</a>)
<a name="l00690"></a>00690     <span class="stringliteral">&quot;|Action Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a99cc67918f581e69d545dd536f372de5">EVT_TWEAK_A</a>)
<a name="l00691"></a>00691     <span class="stringliteral">&quot;|Select Mouse%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#aa25262ce2d3aada0f05c046ba31d6926">EVT_TWEAK_S</a>)
<a name="l00692"></a>00692     ;
<a name="l00693"></a>00693 
<a name="l00694"></a>00694     <span class="keywordflow">return</span> string;
<a name="l00695"></a>00695 }
<a name="l00696"></a>00696 
<a name="l00697"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#aff27fdc51842e82db41ca88e0f7427ea">00697</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/d94/outliner__draw_8c.html#aff27fdc51842e82db41ca88e0f7427ea">keymap_tweak_dir_menu</a>(<span class="keywordtype">void</span>)
<a name="l00698"></a>00698 {
<a name="l00699"></a>00699     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <span class="keywordtype">string</span>[]=
<a name="l00700"></a>00700     <span class="stringliteral">&quot;Tweak Direction%t&quot;</span>
<a name="l00701"></a>00701     <span class="stringliteral">&quot;|Any%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d4/ddc/WM__types_8h.html#a3d6df9a8fc4231a9444e40c95043109f">KM_ANY</a>)
<a name="l00702"></a>00702     <span class="stringliteral">&quot;|North%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#ab15f8cc3cd4290c79f7ecb9b457c757d">EVT_GESTURE_N</a>)
<a name="l00703"></a>00703     <span class="stringliteral">&quot;|North-East%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#ac8edefe297ce111bfc50b8bc6370d707">EVT_GESTURE_NE</a>)
<a name="l00704"></a>00704     <span class="stringliteral">&quot;|East%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a19aaa3c6ba760de582727a47bbd9bad5">EVT_GESTURE_E</a>)
<a name="l00705"></a>00705     <span class="stringliteral">&quot;|Sout-East%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a9be8d24e955ec9f4de42b65d256703e6">EVT_GESTURE_SE</a>)
<a name="l00706"></a>00706     <span class="stringliteral">&quot;|South%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#af5bde6fcb0c9f569f76a3586fe1c3eef">EVT_GESTURE_S</a>)
<a name="l00707"></a>00707     <span class="stringliteral">&quot;|South-West%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a90be0fc2fec77fe9922d6e9eb8195db3">EVT_GESTURE_SW</a>)
<a name="l00708"></a>00708     <span class="stringliteral">&quot;|West%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#a334b634c4f676f6c8b105a3f630f8c5a">EVT_GESTURE_W</a>)
<a name="l00709"></a>00709     <span class="stringliteral">&quot;|North-West%x&quot;</span> <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a6df1d22fb5f09eccc23b9f399670cfd7">STRINGIFY</a>(<a class="code" href="../../d1/d40/wm__event__types_8h.html#af2e03a8879be1074ade894a1acb10124">EVT_GESTURE_NW</a>)
<a name="l00710"></a>00710     ;
<a name="l00711"></a>00711 
<a name="l00712"></a>00712     <span class="keywordflow">return</span> string;
<a name="l00713"></a>00713 }
<a name="l00714"></a>00714 
<a name="l00715"></a>00715 
<a name="l00716"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a1d3cbd831bafe27a2385e623443ce963">00716</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a1d3cbd831bafe27a2385e623443ce963">keymap_type_cb</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <span class="keywordtype">void</span> *kmi_v, <span class="keywordtype">void</span> *<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(arg_v))
<a name="l00717"></a>00717 {
<a name="l00718"></a>00718     <a class="code" href="../../d1/d5e/structwmKeyMapItem.html">wmKeyMapItem</a> *kmi = kmi_v;
<a name="l00719"></a>00719     <span class="keywordtype">short</span> maptype= <a class="code" href="../../d6/d94/outliner__draw_8c.html#a9ab01d78ba0120673bc2e78dca60ee4d">keymap_menu_type</a>(kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a31720630b9559f2b073bf01fc0038271">type</a>);
<a name="l00720"></a>00720     
<a name="l00721"></a>00721     <span class="keywordflow">if</span> (maptype!=kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#ac0b5d9f9e3f2d8c2a244376669920af2">maptype</a>) {
<a name="l00722"></a>00722         <span class="keywordflow">switch</span>(kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#ac0b5d9f9e3f2d8c2a244376669920af2">maptype</a>) {
<a name="l00723"></a>00723             <span class="keywordflow">case</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#ad9ef521bfe7ca763686d8643851484d2">OL_KM_KEYBOARD</a>:
<a name="l00724"></a>00724                 kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a31720630b9559f2b073bf01fc0038271">type</a>= <a class="code" href="../../d1/d40/wm__event__types_8h.html#a746a67a50a93dd2cac52c218ef94a218">AKEY</a>;
<a name="l00725"></a>00725                 kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a484ea38a77ce4b2cdb230e14bd62076c">val</a>= <a class="code" href="../../d4/ddc/WM__types_8h.html#a8cc410005d9d1dacfe81cdffb6388d09">KM_PRESS</a>;
<a name="l00726"></a>00726                 <span class="keywordflow">break</span>;
<a name="l00727"></a>00727             <span class="keywordflow">case</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#ae84ad080ec952ac2e00dfd8441a53b72">OL_KM_MOUSE</a>:
<a name="l00728"></a>00728                 kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a31720630b9559f2b073bf01fc0038271">type</a>= <a class="code" href="../../d1/d40/wm__event__types_8h.html#ae726b291aecab43654d1ac45b9e4d57d">LEFTMOUSE</a>;
<a name="l00729"></a>00729                 kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a484ea38a77ce4b2cdb230e14bd62076c">val</a>= <a class="code" href="../../d4/ddc/WM__types_8h.html#a8cc410005d9d1dacfe81cdffb6388d09">KM_PRESS</a>;
<a name="l00730"></a>00730                 <span class="keywordflow">break</span>;
<a name="l00731"></a>00731             <span class="keywordflow">case</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a27c36203bf5568eeed3e3edaf6e76b32">OL_KM_TWEAK</a>:
<a name="l00732"></a>00732                 kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a31720630b9559f2b073bf01fc0038271">type</a>= <a class="code" href="../../d1/d40/wm__event__types_8h.html#ae4834ccdca786c15b0f3520f69a98b7f">EVT_TWEAK_L</a>;
<a name="l00733"></a>00733                 kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a484ea38a77ce4b2cdb230e14bd62076c">val</a>= <a class="code" href="../../d4/ddc/WM__types_8h.html#a3d6df9a8fc4231a9444e40c95043109f">KM_ANY</a>;
<a name="l00734"></a>00734                 <span class="keywordflow">break</span>;
<a name="l00735"></a>00735             <span class="keywordflow">case</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a0de5095a6fbb7b891549693e919bf7d3">OL_KM_SPECIALS</a>:
<a name="l00736"></a>00736                 kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a31720630b9559f2b073bf01fc0038271">type</a>= <a class="code" href="../../d1/d40/wm__event__types_8h.html#a746a67a50a93dd2cac52c218ef94a218">AKEY</a>;
<a name="l00737"></a>00737                 kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a484ea38a77ce4b2cdb230e14bd62076c">val</a>= <a class="code" href="../../d4/ddc/WM__types_8h.html#a8cc410005d9d1dacfe81cdffb6388d09">KM_PRESS</a>;
<a name="l00738"></a>00738         }
<a name="l00739"></a>00739         <a class="code" href="../../d1/d12/ED__screen_8h.html#ac6cfac9a218d316df5b76e7fe0f89967">ED_region_tag_redraw</a>(<a class="code" href="../../df/d01/BKE__context_8h.html#acfdde96de6c66805749111818756b92f">CTX_wm_region</a>(C));
<a name="l00740"></a>00740     }
<a name="l00741"></a>00741 }
<a name="l00742"></a>00742 
<a name="l00743"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#ad103340e69a7cee156888afbea9edbbc">00743</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#ad103340e69a7cee156888afbea9edbbc">outliner_draw_keymapbuts</a>(<a class="code" href="../../df/d5b/structuiBlock.html">uiBlock</a> *block, <a class="code" href="../../da/d23/structARegion.html">ARegion</a> *ar, <a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb)
<a name="l00744"></a>00744 {
<a name="l00745"></a>00745     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te;
<a name="l00746"></a>00746     <a class="code" href="../../da/d20/structTreeStoreElem.html">TreeStoreElem</a> *tselem;
<a name="l00747"></a>00747     
<a name="l00748"></a>00748     <a class="code" href="../../d8/d1e/UI__interface_8h.html#a273f9460f5ebaa8e186d34a949d1f862">uiBlockSetEmboss</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#af74bf8ab2001ad4e66c366e843f47bbb">UI_EMBOSST</a>);
<a name="l00749"></a>00749     
<a name="l00750"></a>00750     <span class="keywordflow">for</span> (te= lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; te; te= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>) {
<a name="l00751"></a>00751         tselem= <a class="code" href="../../df/def/outliner__intern_8h.html#a804fa5954c5c38273764b024eefa251f">TREESTORE</a>(te);
<a name="l00752"></a>00752         <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+2*<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a> &gt;= ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#aeea1ce7886a81f1099e897d587012013">ymin</a> &amp;&amp; te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a> &lt;= ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>) {
<a name="l00753"></a>00753             <a class="code" href="../../d5/dd7/structuiBut.html">uiBut</a> *but;
<a name="l00754"></a>00754             <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d2/d36/interface__layout_8c.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>;
<a name="l00755"></a>00755             <span class="keywordtype">int</span> xstart= 240;
<a name="l00756"></a>00756             <span class="keywordtype">int</span> butw1= <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>; <span class="comment">/* operator */</span>
<a name="l00757"></a>00757             <span class="keywordtype">int</span> butw2= 90; <span class="comment">/* event type, menus */</span>
<a name="l00758"></a>00758             <span class="keywordtype">int</span> butw3= 43; <span class="comment">/* modifiers */</span>
<a name="l00759"></a>00759 
<a name="l00760"></a>00760             <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a> == <a class="code" href="../../df/def/outliner__intern_8h.html#afa2d9aae66481ef879862367f4f2a1ff">TSE_KEYMAP_ITEM</a>) {
<a name="l00761"></a>00761                 <a class="code" href="../../d1/d5e/structwmKeyMapItem.html">wmKeyMapItem</a> *kmi = te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ac4c4f07fcb2ed46300b3f08bd47887b2">directdata</a>;
<a name="l00762"></a>00762                 
<a name="l00763"></a>00763                 <span class="comment">/* modal map? */</span>
<a name="l00764"></a>00764                 <span class="keywordflow">if</span> (kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a06331283ff29944b3c6849ce1a8ebb86">propvalue</a>);
<a name="l00765"></a>00765                 <span class="keywordflow">else</span> {
<a name="l00766"></a>00766                     <a class="code" href="../../d8/d1e/UI__interface_8h.html#a10e1b97edc3af0972fed49d2ccdef85b">uiDefBlockBut</a>(block, <a class="code" href="../../d6/d94/outliner__draw_8c.html#a7e04ce1d541d56ce3ed0889c25b42b67">operator_search_menu</a>, kmi, <span class="stringliteral">&quot;&quot;</span>, xstart, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+1, butw1, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, <span class="stringliteral">&quot;Assign new Operator&quot;</span>);
<a name="l00767"></a>00767                 }
<a name="l00768"></a>00768                 xstart+= butw1+10;
<a name="l00769"></a>00769                 
<a name="l00770"></a>00770                 <span class="comment">/* map type button */</span>
<a name="l00771"></a>00771                 kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#ac0b5d9f9e3f2d8c2a244376669920af2">maptype</a>= <a class="code" href="../../d6/d94/outliner__draw_8c.html#a9ab01d78ba0120673bc2e78dca60ee4d">keymap_menu_type</a>(kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a31720630b9559f2b073bf01fc0038271">type</a>);
<a name="l00772"></a>00772                 
<a name="l00773"></a>00773                 str= <a class="code" href="../../d6/d94/outliner__draw_8c.html#a5c1efe581f5e3bf14d0a8715ab5683b7">keymap_type_menu</a>();
<a name="l00774"></a>00774                 but = <a class="code" href="../../d8/d1e/UI__interface_8h.html#a151fadb28add284e9982820c80e439ec">uiDefButS</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad0d059e6a83d21bea4f4db1c9fbd240b">MENU</a>, 0, str,    xstart, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+1, butw2, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#ac0b5d9f9e3f2d8c2a244376669920af2">maptype</a>, 0, 0, 0, 0, <span class="stringliteral">&quot;Event type&quot;</span>);
<a name="l00775"></a>00775                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a3577b54257b3f858be44d8808e6c5cc6">uiButSetFunc</a>(but, <a class="code" href="../../d6/d94/outliner__draw_8c.html#a1d3cbd831bafe27a2385e623443ce963">keymap_type_cb</a>, kmi, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00776"></a>00776                 xstart+= butw2+5;
<a name="l00777"></a>00777                 
<a name="l00778"></a>00778                 <span class="comment">/* edit actual event */</span>
<a name="l00779"></a>00779                 <span class="keywordflow">switch</span>(kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#ac0b5d9f9e3f2d8c2a244376669920af2">maptype</a>) {
<a name="l00780"></a>00780                     <span class="keywordflow">case</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#ad9ef521bfe7ca763686d8643851484d2">OL_KM_KEYBOARD</a>:
<a name="l00781"></a>00781                         <a class="code" href="../../d8/d1e/UI__interface_8h.html#ae54f1040c2baa69595b1839eb1e9bdd3">uiDefKeyevtButS</a>(block, 0, <span class="stringliteral">&quot;&quot;</span>, xstart, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+1, butw2, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a31720630b9559f2b073bf01fc0038271">type</a>, <span class="stringliteral">&quot;Key code&quot;</span>);
<a name="l00782"></a>00782                         xstart+= butw2+5;
<a name="l00783"></a>00783                         <span class="keywordflow">break</span>;
<a name="l00784"></a>00784                     <span class="keywordflow">case</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#ae84ad080ec952ac2e00dfd8441a53b72">OL_KM_MOUSE</a>:
<a name="l00785"></a>00785                         str= <a class="code" href="../../d6/d94/outliner__draw_8c.html#ac46b88a54cb7166619f1fb95e6ca1609">keymap_mouse_menu</a>();
<a name="l00786"></a>00786                         <a class="code" href="../../d8/d1e/UI__interface_8h.html#a151fadb28add284e9982820c80e439ec">uiDefButS</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad0d059e6a83d21bea4f4db1c9fbd240b">MENU</a>, 0, str, xstart,(<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+1, butw2, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a31720630b9559f2b073bf01fc0038271">type</a>, 0, 0, 0, 0,  <span class="stringliteral">&quot;Mouse button&quot;</span>);  
<a name="l00787"></a>00787                         xstart+= butw2+5;
<a name="l00788"></a>00788                         <span class="keywordflow">break</span>;
<a name="l00789"></a>00789                     <span class="keywordflow">case</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a27c36203bf5568eeed3e3edaf6e76b32">OL_KM_TWEAK</a>:
<a name="l00790"></a>00790                         str= <a class="code" href="../../d6/d94/outliner__draw_8c.html#a738d2d27627f90082906b352c5712bfd">keymap_tweak_menu</a>();
<a name="l00791"></a>00791                         <a class="code" href="../../d8/d1e/UI__interface_8h.html#a151fadb28add284e9982820c80e439ec">uiDefButS</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad0d059e6a83d21bea4f4db1c9fbd240b">MENU</a>, 0, str, xstart, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+1, butw2, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a31720630b9559f2b073bf01fc0038271">type</a>, 0, 0, 0, 0,  <span class="stringliteral">&quot;Tweak gesture&quot;</span>);    
<a name="l00792"></a>00792                         xstart+= butw2+5;
<a name="l00793"></a>00793                         str= <a class="code" href="../../d6/d94/outliner__draw_8c.html#aff27fdc51842e82db41ca88e0f7427ea">keymap_tweak_dir_menu</a>();
<a name="l00794"></a>00794                         <a class="code" href="../../d8/d1e/UI__interface_8h.html#a151fadb28add284e9982820c80e439ec">uiDefButS</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad0d059e6a83d21bea4f4db1c9fbd240b">MENU</a>, 0, str, xstart, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+1, butw2, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a484ea38a77ce4b2cdb230e14bd62076c">val</a>, 0, 0, 0, 0,  <span class="stringliteral">&quot;Tweak gesture direction&quot;</span>);   
<a name="l00795"></a>00795                         xstart+= butw2+5;
<a name="l00796"></a>00796                         <span class="keywordflow">break</span>;
<a name="l00797"></a>00797                 }
<a name="l00798"></a>00798                 
<a name="l00799"></a>00799                 <span class="comment">/* modifiers */</span>
<a name="l00800"></a>00800                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a151fadb28add284e9982820c80e439ec">uiDefButS</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a39d0de5f53bbf5622cd6af16d647fbe5">OPTION</a>, 0, <span class="stringliteral">&quot;Shift&quot;</span>,    xstart, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+1, butw3+5, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#ae67828f5d20eb5086c74fd527b35caa1">shift</a>, 0, 0, 0, 0, <span class="stringliteral">&quot;Modifier&quot;</span>); xstart+= butw3+5;
<a name="l00801"></a>00801                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a151fadb28add284e9982820c80e439ec">uiDefButS</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a39d0de5f53bbf5622cd6af16d647fbe5">OPTION</a>, 0, <span class="stringliteral">&quot;Ctrl&quot;</span>, xstart, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+1, butw3, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#ae9e45d7a5444ba2d07b18e2dd32be37c">ctrl</a>, 0, 0, 0, 0, <span class="stringliteral">&quot;Modifier&quot;</span>); xstart+= butw3;
<a name="l00802"></a>00802                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a151fadb28add284e9982820c80e439ec">uiDefButS</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a39d0de5f53bbf5622cd6af16d647fbe5">OPTION</a>, 0, <span class="stringliteral">&quot;Alt&quot;</span>,  xstart, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+1, butw3, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#acb8f59949206fdb449c3ca9bcb2547ee">alt</a>, 0, 0, 0, 0, <span class="stringliteral">&quot;Modifier&quot;</span>); xstart+= butw3;
<a name="l00803"></a>00803                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a151fadb28add284e9982820c80e439ec">uiDefButS</a>(block, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a39d0de5f53bbf5622cd6af16d647fbe5">OPTION</a>, 0, <span class="stringliteral">&quot;OS&quot;</span>,   xstart, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+1, butw3, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#aaa6678273bab5fbfe274a8a6ffc9c5af">oskey</a>, 0, 0, 0, 0, <span class="stringliteral">&quot;Modifier&quot;</span>); xstart+= butw3;
<a name="l00804"></a>00804                 xstart+= 5;
<a name="l00805"></a>00805                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#ae54f1040c2baa69595b1839eb1e9bdd3">uiDefKeyevtButS</a>(block, 0, <span class="stringliteral">&quot;&quot;</span>, xstart, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+1, butw3, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a6bb1e80cb8ebb6d69b64216b87b9e633">keymodifier</a>, <span class="stringliteral">&quot;Key Modifier code&quot;</span>);
<a name="l00806"></a>00806                 xstart+= butw3+5;
<a name="l00807"></a>00807                 
<a name="l00808"></a>00808                 <span class="comment">/* rna property */</span>
<a name="l00809"></a>00809                 <span class="keywordflow">if</span> (kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a17c86417e0dedf1a101de028ec6a2bd6">ptr</a> &amp;&amp; kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#a17c86417e0dedf1a101de028ec6a2bd6">ptr</a>-&gt;<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>) {
<a name="l00810"></a>00810                     <a class="code" href="../../d8/d1e/UI__interface_8h.html#aff9055599f7d998b2b3ff2f02c6fb597">uiDefBut</a>(block, <a class="code" href="../../d9/dc4/plugin_8h.html#a0b7df70d4a086a227bc482b07e2bbbca">LABEL</a>, 0, <span class="stringliteral">&quot;(RNA property)&quot;</span>, xstart, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+1, butw2, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, &amp;kmi-&gt;<a class="code" href="../../d1/d5e/structwmKeyMapItem.html#aaa6678273bab5fbfe274a8a6ffc9c5af">oskey</a>, 0, 0, 0, 0, <span class="stringliteral">&quot;&quot;</span>); xstart+= butw2;
<a name="l00811"></a>00811                 }
<a name="l00812"></a>00812 
<a name="l00813"></a>00813                 (void)xstart;
<a name="l00814"></a>00814             }
<a name="l00815"></a>00815         }
<a name="l00816"></a>00816         
<a name="l00817"></a>00817         <span class="keywordflow">if</span> (<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops)) <a class="code" href="../../d6/d94/outliner__draw_8c.html#ad103340e69a7cee156888afbea9edbbc">outliner_draw_keymapbuts</a>(block, ar, soops, &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>);
<a name="l00818"></a>00818     }
<a name="l00819"></a>00819 }
<a name="l00820"></a>00820 
<a name="l00821"></a>00821 
<a name="l00822"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a1863e5a260de30f1ce8c479b60fc2fcc">00822</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a1863e5a260de30f1ce8c479b60fc2fcc">outliner_buttons</a>(<span class="keyword">const</span> <a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <a class="code" href="../../df/d5b/structuiBlock.html">uiBlock</a> *block, <a class="code" href="../../da/d23/structARegion.html">ARegion</a> *ar, <a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb)
<a name="l00823"></a>00823 {
<a name="l00824"></a>00824     <a class="code" href="../../d5/dd7/structuiBut.html">uiBut</a> *bt;
<a name="l00825"></a>00825     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te;
<a name="l00826"></a>00826     <a class="code" href="../../da/d20/structTreeStoreElem.html">TreeStoreElem</a> *tselem;
<a name="l00827"></a>00827     <span class="keywordtype">int</span> spx, dx, <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>;
<a name="l00828"></a>00828     
<a name="l00829"></a>00829     <span class="keywordflow">for</span> (te= lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; te; te= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>) {
<a name="l00830"></a>00830         tselem= <a class="code" href="../../df/def/outliner__intern_8h.html#a804fa5954c5c38273764b024eefa251f">TREESTORE</a>(te);
<a name="l00831"></a>00831         <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>+2*<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a> &gt;= ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#aeea1ce7886a81f1099e897d587012013">ymin</a> &amp;&amp; te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a> &lt;= ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>) {
<a name="l00832"></a>00832             
<a name="l00833"></a>00833             <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a104426a340d0c42828c65f86ed21dd80">flag</a> &amp; <a class="code" href="../../d7/d51/DNA__outliner__types_8h.html#a14c0818a5fa79efd4438f37a3bcd1cd9">TSE_TEXTBUT</a>) {
<a name="l00834"></a>00834                 
<a name="l00835"></a>00835                 <span class="comment">/* If we add support to rename Sequence.</span>
<a name="l00836"></a>00836 <span class="comment">                 * need change this.</span>
<a name="l00837"></a>00837 <span class="comment">                 */</span>
<a name="l00838"></a>00838                 <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a> == <a class="code" href="../../df/def/outliner__intern_8h.html#acd1153f8e2671e530870d9d7d0a75865">TSE_POSE_BASE</a>) <span class="keywordflow">continue</span>; <span class="comment">// prevent crash when trying to rename &#39;pose&#39; entry of armature</span>
<a name="l00839"></a>00839                 
<a name="l00840"></a>00840                 <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==<a class="code" href="../../df/def/outliner__intern_8h.html#ac1c3342737bb388d2fd4f65ebcb200f4">TSE_EBONE</a>) len = <span class="keyword">sizeof</span>(((<a class="code" href="../../da/d29/structEditBone.html">EditBone</a>*) 0)-&gt;name);
<a name="l00841"></a>00841                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==<a class="code" href="../../df/def/outliner__intern_8h.html#aba81eac541f3086d23fe874544537812">TSE_MODIFIER</a>) len = <span class="keyword">sizeof</span>(((<a class="code" href="../../db/ddd/structModifierData.html">ModifierData</a>*) 0)-&gt;name);
<a name="l00842"></a>00842                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a> &amp;&amp; <a class="code" href="../../db/ddc/icons_8c.html#adcd5f4a8d30b31ea3612fab180fa3338">GS</a>(tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>-&gt;<a class="code" href="../../d8/d7e/structID.html#ad43a3d119e40a8479518fd876781e692">name</a>)==<a class="code" href="../../d3/dfb/DNA__ID_8h.html#abaf1999f335a0db6ef4f452fae0fbd06">ID_LI</a>) len = <span class="keyword">sizeof</span>(((<a class="code" href="../../da/d4d/structLibrary.html">Library</a>*) 0)-&gt;name);
<a name="l00843"></a>00843                 <span class="keywordflow">else</span> len= <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a6d7bce2e9ad79af316c9690a5b84b75c">MAX_ID_NAME</a>-2;
<a name="l00844"></a>00844                 
<a name="l00845"></a>00845 
<a name="l00846"></a>00846                 dx= (int)<a class="code" href="../../d8/d1e/UI__interface_8h.html#a4bc308293a0e08f38e7a0984fdedf872">UI_GetStringWidth</a>(te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#aed17c866e7b15f8c22865b3189a0e640">name</a>);
<a name="l00847"></a>00847                 <span class="keywordflow">if</span> (dx&lt;100) dx= 100;
<a name="l00848"></a>00848                 spx=te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a535dbd552fdc7b1ee962dad8323fecb4">xs</a>+2*<a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-4;
<a name="l00849"></a>00849                 <span class="keywordflow">if</span> (spx+dx+10&gt;ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>) dx = ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-spx-10;
<a name="l00850"></a>00850 
<a name="l00851"></a>00851                 bt= <a class="code" href="../../d8/d1e/UI__interface_8h.html#aff9055599f7d998b2b3ff2f02c6fb597">uiDefBut</a>(block, <a class="code" href="../../d1/d4a/BL__Material_8h.html#a229571f072de0056c443b44191c99f9ba24e799bd38fe08efb4756c63d8f78df9">TEX</a>, <a class="code" href="../../df/def/outliner__intern_8h.html#a72808aa75ebcfe0649ad2ad35851df44">OL_NAMEBUTTON</a>, <span class="stringliteral">&quot;&quot;</span>, spx, (<span class="keywordtype">int</span>)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>, dx+10, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1, (<span class="keywordtype">void</span> *)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#aed17c866e7b15f8c22865b3189a0e640">name</a>, 1.0, (<span class="keywordtype">float</span>)len, 0, 0, <span class="stringliteral">&quot;&quot;</span>);
<a name="l00852"></a>00852                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#ae2e5562cc13e84d507e6a20e6f660ebc">uiButSetRenameFunc</a>(bt, <a class="code" href="../../d6/d94/outliner__draw_8c.html#ac40a4da5b1ac151888bd8de2e64ef931">namebutton_cb</a>, tselem);
<a name="l00853"></a>00853                 
<a name="l00854"></a>00854                 <span class="comment">/* returns false if button got removed */</span>
<a name="l00855"></a>00855                 <span class="keywordflow">if</span> ( 0 == <a class="code" href="../../d8/d1e/UI__interface_8h.html#a4e940764d258b0a90f758ae2ce535a90">uiButActiveOnly</a>(C, block, bt) )
<a name="l00856"></a>00856                     tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a104426a340d0c42828c65f86ed21dd80">flag</a> &amp;= ~<a class="code" href="../../d7/d51/DNA__outliner__types_8h.html#a14c0818a5fa79efd4438f37a3bcd1cd9">TSE_TEXTBUT</a>;
<a name="l00857"></a>00857             }
<a name="l00858"></a>00858         }
<a name="l00859"></a>00859         
<a name="l00860"></a>00860         <span class="keywordflow">if</span> (<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops)) <a class="code" href="../../d6/d94/outliner__draw_8c.html#a1863e5a260de30f1ce8c479b60fc2fcc">outliner_buttons</a>(C, block, ar, soops, &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>);
<a name="l00861"></a>00861     }
<a name="l00862"></a>00862 }
<a name="l00863"></a>00863 
<a name="l00864"></a>00864 <span class="comment">/* ****************************************************** */</span>
<a name="l00865"></a>00865 <span class="comment">/* Normal Drawing... */</span>
<a name="l00866"></a>00866 
<a name="l00867"></a>00867 <span class="comment">/* make function calls a bit compacter */</span>
<a name="l00868"></a><a class="code" href="../../dc/d6a/structDrawIconArg.html">00868</a> <span class="keyword">struct </span><a class="code" href="../../dc/d6a/structDrawIconArg.html">DrawIconArg</a> {
<a name="l00869"></a><a class="code" href="../../dc/d6a/structDrawIconArg.html#acb70a084afd6a4ce78ddde5af2ca34bd">00869</a>     <a class="code" href="../../df/d5b/structuiBlock.html">uiBlock</a> *<a class="code" href="../../dc/d6a/structDrawIconArg.html#acb70a084afd6a4ce78ddde5af2ca34bd">block</a>;
<a name="l00870"></a><a class="code" href="../../dc/d6a/structDrawIconArg.html#a95c623b39726704e8b50e5475f88d2d7">00870</a>     <a class="code" href="../../d8/d7e/structID.html">ID</a> *<a class="code" href="../../dc/d6a/structDrawIconArg.html#a95c623b39726704e8b50e5475f88d2d7">id</a>;
<a name="l00871"></a><a class="code" href="../../dc/d6a/structDrawIconArg.html#a31c6a64aab1354b5b942e2dcb7be571b">00871</a>     <span class="keywordtype">int</span> <a class="code" href="../../dc/d6a/structDrawIconArg.html#afa6af9f3c99731f98cf9296d5910155f">xmax</a>, <a class="code" href="../../dc/d6a/structDrawIconArg.html#a597bb300c9e0ce58ebeb532bc360ca56">x</a>, <a class="code" href="../../dc/d6a/structDrawIconArg.html#a31c6a64aab1354b5b942e2dcb7be571b">y</a>;
<a name="l00872"></a><a class="code" href="../../dc/d6a/structDrawIconArg.html#aec1dd71021773901e05d48f9c6712e0a">00872</a>     <span class="keywordtype">float</span> <a class="code" href="../../dc/d6a/structDrawIconArg.html#aec1dd71021773901e05d48f9c6712e0a">alpha</a>;
<a name="l00873"></a>00873 };
<a name="l00874"></a>00874 
<a name="l00875"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">00875</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/d6a/structDrawIconArg.html">DrawIconArg</a> *arg, <span class="keywordtype">int</span> icon)
<a name="l00876"></a>00876 {
<a name="l00877"></a>00877     <span class="comment">/* restrict column clip... it has been coded by simply overdrawing, doesnt work for buttons */</span>
<a name="l00878"></a>00878     <span class="keywordflow">if</span> (arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#a597bb300c9e0ce58ebeb532bc360ca56">x</a> &gt;= arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#afa6af9f3c99731f98cf9296d5910155f">xmax</a>) {
<a name="l00879"></a>00879         glEnable(GL_BLEND);
<a name="l00880"></a>00880         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#ab250f8c2d7c146caa30a4a0d53cf31e9">UI_icon_draw_aspect</a>(arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#a597bb300c9e0ce58ebeb532bc360ca56">x</a>, arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#a31c6a64aab1354b5b942e2dcb7be571b">y</a>, icon, 1.0f, arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#aec1dd71021773901e05d48f9c6712e0a">alpha</a>);
<a name="l00881"></a>00881         glDisable(GL_BLEND);
<a name="l00882"></a>00882     }
<a name="l00883"></a>00883     <span class="keywordflow">else</span> {
<a name="l00884"></a>00884         <span class="comment">/* XXX investigate: button placement of icons is way different than UI_icon_draw? */</span>
<a name="l00885"></a>00885         <span class="keywordtype">float</span> ufac= <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>/20.0f;
<a name="l00886"></a>00886         <a class="code" href="../../d5/dd7/structuiBut.html">uiBut</a> *but = <a class="code" href="../../d8/d1e/UI__interface_8h.html#afb370449e683507d2b022aec0be66046">uiDefIconBut</a>(arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#acb70a084afd6a4ce78ddde5af2ca34bd">block</a>, <a class="code" href="../../d9/dc4/plugin_8h.html#a0b7df70d4a086a227bc482b07e2bbbca">LABEL</a>, 0, icon, arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#a597bb300c9e0ce58ebeb532bc360ca56">x</a>-3.0f*ufac, arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#a31c6a64aab1354b5b942e2dcb7be571b">y</a>, <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>-4.0f*ufac, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-4.0f*ufac, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0.0, 0.0, 1.0, arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#aec1dd71021773901e05d48f9c6712e0a">alpha</a>, (arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#a95c623b39726704e8b50e5475f88d2d7">id</a> &amp;&amp; arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#a95c623b39726704e8b50e5475f88d2d7">id</a>-&gt;<a class="code" href="../../d8/d7e/structID.html#a56d730e86e0fc566622c5f5ea2a7de9f">lib</a>) ? arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#a95c623b39726704e8b50e5475f88d2d7">id</a>-&gt;<a class="code" href="../../d8/d7e/structID.html#a56d730e86e0fc566622c5f5ea2a7de9f">lib</a>-&gt;<a class="code" href="../../da/d4d/structLibrary.html#ac18df5c63a95b296234e87bc66b7dbad">name</a> : <span class="stringliteral">&quot;&quot;</span>);
<a name="l00887"></a>00887         
<a name="l00888"></a>00888         <span class="keywordflow">if</span> (arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#a95c623b39726704e8b50e5475f88d2d7">id</a>)
<a name="l00889"></a>00889             <a class="code" href="../../d8/d1e/UI__interface_8h.html#ab2ffbb3cfe6997f0b21aa8cdc4d80995">uiButSetDragID</a>(but, arg-&gt;<a class="code" href="../../dc/d6a/structDrawIconArg.html#a95c623b39726704e8b50e5475f88d2d7">id</a>);
<a name="l00890"></a>00890     }
<a name="l00891"></a>00891 
<a name="l00892"></a>00892 }
<a name="l00893"></a>00893 
<a name="l00894"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a263f3c5c0571cfb4d17bbd8a0f56f25a">00894</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a263f3c5c0571cfb4d17bbd8a0f56f25a">tselem_draw_icon</a>(<a class="code" href="../../df/d5b/structuiBlock.html">uiBlock</a> *block, <span class="keywordtype">int</span> xmax, <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <a class="code" href="../../da/d20/structTreeStoreElem.html">TreeStoreElem</a> *tselem, <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te, <span class="keywordtype">float</span> alpha)
<a name="l00895"></a>00895 {
<a name="l00896"></a>00896     <span class="keyword">struct </span><a class="code" href="../../dc/d6a/structDrawIconArg.html">DrawIconArg</a> arg;
<a name="l00897"></a>00897     
<a name="l00898"></a>00898     <span class="comment">/* make function calls a bit compacter */</span>
<a name="l00899"></a>00899     arg.<a class="code" href="../../dc/d6a/structDrawIconArg.html#acb70a084afd6a4ce78ddde5af2ca34bd">block</a>= <a class="code" href="../../dc/d6a/structDrawIconArg.html#acb70a084afd6a4ce78ddde5af2ca34bd">block</a>;
<a name="l00900"></a>00900     arg.<a class="code" href="../../dc/d6a/structDrawIconArg.html#a95c623b39726704e8b50e5475f88d2d7">id</a>= tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>;
<a name="l00901"></a>00901     arg.<a class="code" href="../../dc/d6a/structDrawIconArg.html#afa6af9f3c99731f98cf9296d5910155f">xmax</a> = <a class="code" href="../../dc/d6a/structDrawIconArg.html#afa6af9f3c99731f98cf9296d5910155f">xmax</a>;
<a name="l00902"></a>00902     arg.<a class="code" href="../../dc/d6a/structDrawIconArg.html#a597bb300c9e0ce58ebeb532bc360ca56">x</a>= <a class="code" href="../../dc/d6a/structDrawIconArg.html#a597bb300c9e0ce58ebeb532bc360ca56">x</a>;
<a name="l00903"></a>00903     arg.<a class="code" href="../../dc/d6a/structDrawIconArg.html#a31c6a64aab1354b5b942e2dcb7be571b">y</a>= <a class="code" href="../../dc/d6a/structDrawIconArg.html#a31c6a64aab1354b5b942e2dcb7be571b">y</a>;
<a name="l00904"></a>00904     arg.<a class="code" href="../../dc/d6a/structDrawIconArg.html#aec1dd71021773901e05d48f9c6712e0a">alpha</a>= <a class="code" href="../../dc/d6a/structDrawIconArg.html#aec1dd71021773901e05d48f9c6712e0a">alpha</a>;
<a name="l00905"></a>00905     
<a name="l00906"></a>00906     <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>) {
<a name="l00907"></a>00907         <span class="keywordflow">switch</span>( tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>) {
<a name="l00908"></a>00908             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#aa5ab0ee486c33393877990902b4054d1">TSE_ANIM_DATA</a>:
<a name="l00909"></a>00909                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_ANIM_DATA); <span class="keywordflow">break</span>; <span class="comment">// xxx</span>
<a name="l00910"></a>00910             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a36d234f48b784ada329ab1f549c83177">TSE_NLA</a>:
<a name="l00911"></a>00911                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_NLA); <span class="keywordflow">break</span>;
<a name="l00912"></a>00912             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a621cd8c91608af18486b247c162cb144">TSE_NLA_TRACK</a>:
<a name="l00913"></a>00913                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_NLA); <span class="keywordflow">break</span>; <span class="comment">// XXX</span>
<a name="l00914"></a>00914             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a3c192e51e8091bd84b38559e13fef4af">TSE_NLA_ACTION</a>:
<a name="l00915"></a>00915                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_ACTION); <span class="keywordflow">break</span>;
<a name="l00916"></a>00916             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#aec49c0e59af853f18705f9c0c43fa5c6">TSE_DRIVER_BASE</a>:
<a name="l00917"></a>00917                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_DRIVER); <span class="keywordflow">break</span>;
<a name="l00918"></a>00918             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#aa35ff1428732c30ec2045fa6d362768a">TSE_DEFGROUP_BASE</a>:
<a name="l00919"></a>00919                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_GROUP_VERTEX); <span class="keywordflow">break</span>;
<a name="l00920"></a>00920             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a0a9b46b4bb403fb950bcd09bc1ec8700">TSE_BONE</a>:
<a name="l00921"></a>00921             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#ac1c3342737bb388d2fd4f65ebcb200f4">TSE_EBONE</a>:
<a name="l00922"></a>00922                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_BONE_DATA); <span class="keywordflow">break</span>;
<a name="l00923"></a>00923             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a743ded7b94921db46132d2e06cdbf5ed">TSE_CONSTRAINT_BASE</a>:
<a name="l00924"></a>00924                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_CONSTRAINT); <span class="keywordflow">break</span>;
<a name="l00925"></a>00925             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#afb03ca1614710fe124c435d56faf1f61">TSE_MODIFIER_BASE</a>:
<a name="l00926"></a>00926                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MODIFIER); <span class="keywordflow">break</span>;
<a name="l00927"></a>00927             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#ad4d843b514ba4aee79ff4f10d4d7ce94">TSE_LINKED_OB</a>:
<a name="l00928"></a>00928                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_OBJECT_DATA); <span class="keywordflow">break</span>;
<a name="l00929"></a>00929             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a1b9137ba1a56ebc4779216fd833e0ad9">TSE_LINKED_PSYS</a>:
<a name="l00930"></a>00930                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_PARTICLES); <span class="keywordflow">break</span>;
<a name="l00931"></a>00931             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#aba81eac541f3086d23fe874544537812">TSE_MODIFIER</a>:
<a name="l00932"></a>00932             {
<a name="l00933"></a>00933                 <a class="code" href="../../de/de7/structObject.html">Object</a> *ob= (<a class="code" href="../../de/de7/structObject.html">Object</a> *)tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>;
<a name="l00934"></a>00934                 <a class="code" href="../../db/ddd/structModifierData.html">ModifierData</a> *md= <a class="code" href="../../d1/d3e/BLI__listbase_8h.html#a09f13df59d10774f0bcf69a054f9d865">BLI_findlink</a>(&amp;ob-&gt;<a class="code" href="../../de/de7/structObject.html#a31fdd585d66951dfd084a8e8ee624a8d">modifiers</a>, tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a1f10a6cec5d29272b298c9994915df8c">nr</a>);
<a name="l00935"></a>00935                 <span class="keywordflow">switch</span>(md-&gt;type) {
<a name="l00936"></a>00936                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a1eb467ffa009a46723f1bf21be5fd730">eModifierType_Subsurf</a>: 
<a name="l00937"></a>00937                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_SUBSURF); <span class="keywordflow">break</span>;
<a name="l00938"></a>00938                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435aa45deecb66e254a60207702a40efa416">eModifierType_Armature</a>: 
<a name="l00939"></a>00939                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_ARMATURE); <span class="keywordflow">break</span>;
<a name="l00940"></a>00940                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a405445d7a24594136497267fc4c46f69">eModifierType_Lattice</a>: 
<a name="l00941"></a>00941                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_LATTICE); <span class="keywordflow">break</span>;
<a name="l00942"></a>00942                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a371fa9ace76cf450ce78e930aafdb2af">eModifierType_Curve</a>: 
<a name="l00943"></a>00943                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_CURVE); <span class="keywordflow">break</span>;
<a name="l00944"></a>00944                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435afb47ce2683f2f42c166989cab7d36b20">eModifierType_Build</a>: 
<a name="l00945"></a>00945                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_BUILD); <span class="keywordflow">break</span>;
<a name="l00946"></a>00946                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a251aba7f50f4d9b2d085279bd96d6ee6">eModifierType_Mirror</a>: 
<a name="l00947"></a>00947                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_MIRROR); <span class="keywordflow">break</span>;
<a name="l00948"></a>00948                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435af78cea17356929632b8294efd847fe8d">eModifierType_Decimate</a>: 
<a name="l00949"></a>00949                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_DECIM); <span class="keywordflow">break</span>;
<a name="l00950"></a>00950                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a581e87bb4d754fc6e9b4b9884507cbfc">eModifierType_Wave</a>: 
<a name="l00951"></a>00951                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_WAVE); <span class="keywordflow">break</span>;
<a name="l00952"></a>00952                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a82ec76427c7cc0b352e6aadb2e3d0b89">eModifierType_Hook</a>: 
<a name="l00953"></a>00953                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_HOOK); <span class="keywordflow">break</span>;
<a name="l00954"></a>00954                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435ae1ec58b8e8caf9b712d9e318c1afebf7">eModifierType_Softbody</a>: 
<a name="l00955"></a>00955                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_SOFT); <span class="keywordflow">break</span>;
<a name="l00956"></a>00956                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a300952db1d50551da0fd76cdbd8de218">eModifierType_Boolean</a>: 
<a name="l00957"></a>00957                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_BOOLEAN); <span class="keywordflow">break</span>;
<a name="l00958"></a>00958                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a08b7b619df960c74b7097e769c4967a4">eModifierType_ParticleSystem</a>: 
<a name="l00959"></a>00959                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_PARTICLES); <span class="keywordflow">break</span>;
<a name="l00960"></a>00960                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435aade5130614696f8b224c5db72ab60f5a">eModifierType_ParticleInstance</a>:
<a name="l00961"></a>00961                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_PARTICLES); <span class="keywordflow">break</span>;
<a name="l00962"></a>00962                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a82e24ff95be612ded8f7ee902a098da8">eModifierType_EdgeSplit</a>:
<a name="l00963"></a>00963                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_EDGESPLIT); <span class="keywordflow">break</span>;
<a name="l00964"></a>00964                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435add7a5a41b75c14ff2f5ae938159d35a0">eModifierType_Array</a>:
<a name="l00965"></a>00965                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_ARRAY); <span class="keywordflow">break</span>;
<a name="l00966"></a>00966                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435aa41eb5cd1d8b456d4319f3b321263edc">eModifierType_UVProject</a>:
<a name="l00967"></a>00967                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_UVPROJECT); <span class="keywordflow">break</span>;
<a name="l00968"></a>00968                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435ad22801387d89ef04cf4977ec7b09ca1e">eModifierType_Displace</a>:
<a name="l00969"></a>00969                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_DISPLACE); <span class="keywordflow">break</span>;
<a name="l00970"></a>00970                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a7e005ea2934520133e315dcb76380bf4">eModifierType_Shrinkwrap</a>:
<a name="l00971"></a>00971                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_SHRINKWRAP); <span class="keywordflow">break</span>;
<a name="l00972"></a>00972                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435aed6a5c951856cac47ecdbd27ef71598f">eModifierType_Cast</a>:
<a name="l00973"></a>00973                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_CAST); <span class="keywordflow">break</span>;
<a name="l00974"></a>00974                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a177f813942f48c8705d42b9820e02a80">eModifierType_MeshDeform</a>:
<a name="l00975"></a>00975                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_MESHDEFORM); <span class="keywordflow">break</span>;
<a name="l00976"></a>00976                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435abee56f13a5431f49b9d4816a9eba587a">eModifierType_Bevel</a>:
<a name="l00977"></a>00977                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_BEVEL); <span class="keywordflow">break</span>;
<a name="l00978"></a>00978                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435abe89f900308b0741dbd10d0582c79ba8">eModifierType_Smooth</a>:
<a name="l00979"></a>00979                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_SMOOTH); <span class="keywordflow">break</span>;
<a name="l00980"></a>00980                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a357bb4eceddb6bfce687ca381dabbbfc">eModifierType_SimpleDeform</a>:
<a name="l00981"></a>00981                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_SIMPLEDEFORM); <span class="keywordflow">break</span>;
<a name="l00982"></a>00982                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a0983a0209d67759444ad037c275cd48b">eModifierType_Mask</a>:
<a name="l00983"></a>00983                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_MASK); <span class="keywordflow">break</span>;
<a name="l00984"></a>00984                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a5fc484f055c7aba4c89beda85b5ba321">eModifierType_Cloth</a>:
<a name="l00985"></a>00985                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_CLOTH); <span class="keywordflow">break</span>;
<a name="l00986"></a>00986                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a1b46d87199ff48ab84d740e3481ab54f">eModifierType_Explode</a>:
<a name="l00987"></a>00987                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_EXPLODE); <span class="keywordflow">break</span>;
<a name="l00988"></a>00988                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435abc95e623f4353951954effc91fe021e2">eModifierType_Collision</a>:
<a name="l00989"></a>00989                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_PHYSICS); <span class="keywordflow">break</span>;
<a name="l00990"></a>00990                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a1b7a8b34e7e5482f68e3447b75e56899">eModifierType_Fluidsim</a>:
<a name="l00991"></a>00991                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_FLUIDSIM); <span class="keywordflow">break</span>;
<a name="l00992"></a>00992                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435ae66e8d1df0f230926a6ec95cae4c7a8d">eModifierType_Multires</a>:
<a name="l00993"></a>00993                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_MULTIRES); <span class="keywordflow">break</span>;
<a name="l00994"></a>00994                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a7a78843e9dd6590fafc9b7682e691ac5">eModifierType_Smoke</a>:
<a name="l00995"></a>00995                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_SMOKE); <span class="keywordflow">break</span>;
<a name="l00996"></a>00996                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a17ce6867a3076ac703e9559879672879">eModifierType_Solidify</a>:
<a name="l00997"></a>00997                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_SOLIDIFY); <span class="keywordflow">break</span>;
<a name="l00998"></a>00998                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a8c2b30c717dbdb4f3bc80df15f920a4a">eModifierType_Screw</a>:
<a name="l00999"></a>00999                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_SCREW); <span class="keywordflow">break</span>;
<a name="l01000"></a>01000                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435ac0330a7569b79f826f5f92c7dac2470a">eModifierType_Remesh</a>:
<a name="l01001"></a>01001                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_REMESH); <span class="keywordflow">break</span>;
<a name="l01002"></a>01002                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435ac782f9207083f596c4d2fa983cc2875d">eModifierType_WeightVGEdit</a>:
<a name="l01003"></a>01003                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a89b8a2ed0d39a1d356ad37d38eb99fe9">eModifierType_WeightVGMix</a>:
<a name="l01004"></a>01004                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a2d13f8b68906dff36860c536bca58a9b">eModifierType_WeightVGProximity</a>:
<a name="l01005"></a>01005                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_VERTEX_WEIGHT); <span class="keywordflow">break</span>;
<a name="l01006"></a>01006                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435abf6c2369ea1f5b0cab992eb27906823c">eModifierType_DynamicPaint</a>:
<a name="l01007"></a>01007                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_DYNAMICPAINT); <span class="keywordflow">break</span>;
<a name="l01008"></a>01008                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435a996bb95cdb69b90cf0b467d26acda2cf">eModifierType_Ocean</a>:
<a name="l01009"></a>01009                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_OCEAN); <span class="keywordflow">break</span>;
<a name="l01010"></a>01010                     <span class="keywordflow">case</span> <a class="code" href="../../da/df0/DNA__modifier__types_8h.html#a96ba018ea46fb28e626c3b573aca5435aac667e2c4a4fa4c4287ddb0d7d58f37a">eModifierType_Warp</a>:
<a name="l01011"></a>01011                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MOD_WARP); <span class="keywordflow">break</span>;
<a name="l01012"></a>01012                     <span class="keywordflow">default</span>:
<a name="l01013"></a>01013                         <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_DOT); <span class="keywordflow">break</span>;
<a name="l01014"></a>01014                 }
<a name="l01015"></a>01015                 <span class="keywordflow">break</span>;
<a name="l01016"></a>01016             }
<a name="l01017"></a>01017             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a106af87d5caf1cf0223e98483456f1e5">TSE_SCRIPT_BASE</a>:
<a name="l01018"></a>01018                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_TEXT); <span class="keywordflow">break</span>;
<a name="l01019"></a>01019             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#acd1153f8e2671e530870d9d7d0a75865">TSE_POSE_BASE</a>:
<a name="l01020"></a>01020                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_ARMATURE_DATA); <span class="keywordflow">break</span>;
<a name="l01021"></a>01021             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#aef097b3ecfcabd0f460b586b9de5c57b">TSE_POSE_CHANNEL</a>:
<a name="l01022"></a>01022                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_BONE_DATA); <span class="keywordflow">break</span>;
<a name="l01023"></a>01023             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a6762c66924bdbd396f9f28edd828a2ca">TSE_PROXY</a>:
<a name="l01024"></a>01024                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_GHOST); <span class="keywordflow">break</span>;
<a name="l01025"></a>01025             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a7e69c2fed1b0393220bdaab367a951c8">TSE_R_LAYER_BASE</a>:
<a name="l01026"></a>01026                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_RENDERLAYERS); <span class="keywordflow">break</span>;
<a name="l01027"></a>01027             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a9eb17f6c3e4003be1ff9a6fe0aac78aa">TSE_R_LAYER</a>:
<a name="l01028"></a>01028                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_RENDERLAYERS); <span class="keywordflow">break</span>;
<a name="l01029"></a>01029             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a2def086257017b72c3bd5dd4e0136720">TSE_LINKED_LAMP</a>:
<a name="l01030"></a>01030                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_LAMP_DATA); <span class="keywordflow">break</span>;
<a name="l01031"></a>01031             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a76fa19df4502c8734048e761d457fb53">TSE_LINKED_MAT</a>:
<a name="l01032"></a>01032                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_MATERIAL_DATA); <span class="keywordflow">break</span>;
<a name="l01033"></a>01033             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#aa504c37ef8e2d91757dec291b32d5311">TSE_POSEGRP_BASE</a>:
<a name="l01034"></a>01034                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_VERTEXSEL); <span class="keywordflow">break</span>;
<a name="l01035"></a>01035             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a890f00cb1f219d91a8523812334d3656">TSE_SEQUENCE</a>:
<a name="l01036"></a>01036                 <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d7/da9/DNA__sequence__types_8h.html#af37f12bdb831d524294dcd62ff0a8805">SEQ_MOVIE</a>)
<a name="l01037"></a>01037                     <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_SEQUENCE);
<a name="l01038"></a>01038                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d7/da9/DNA__sequence__types_8h.html#a0ff3d95aaa4b8f030a8b032636bf63c6">SEQ_META</a>)
<a name="l01039"></a>01039                     <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_DOT);
<a name="l01040"></a>01040                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d7/da9/DNA__sequence__types_8h.html#af051b69d8cf51868252e25a23d14e50a">SEQ_SCENE</a>)
<a name="l01041"></a>01041                     <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_SCENE);
<a name="l01042"></a>01042                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d7/da9/DNA__sequence__types_8h.html#a3667844452f6c2f4b40e851fb3cf5132">SEQ_SOUND</a>)
<a name="l01043"></a>01043                     <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_SOUND);
<a name="l01044"></a>01044                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d7/da9/DNA__sequence__types_8h.html#ac06b183625bca249c8c0d1168f907aeb">SEQ_IMAGE</a>)
<a name="l01045"></a>01045                     <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_IMAGE_COL);
<a name="l01046"></a>01046                 <span class="keywordflow">else</span>
<a name="l01047"></a>01047                     <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_PARTICLES);
<a name="l01048"></a>01048                 <span class="keywordflow">break</span>;
<a name="l01049"></a>01049             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a29059b36b603abbe95cf4131c7c903ea">TSE_SEQ_STRIP</a>:
<a name="l01050"></a>01050                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_LIBRARY_DATA_DIRECT);
<a name="l01051"></a>01051                 <span class="keywordflow">break</span>;
<a name="l01052"></a>01052             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a8a4a0839e85c9a5a40b4f8373cb8b2c4">TSE_SEQUENCE_DUP</a>:
<a name="l01053"></a>01053                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_OBJECT_DATA);
<a name="l01054"></a>01054                 <span class="keywordflow">break</span>;
<a name="l01055"></a>01055             <span class="keywordflow">case</span> <a class="code" href="../../df/def/outliner__intern_8h.html#a6fe9e87d9df6500995e10bc766497d69">TSE_RNA_STRUCT</a>:
<a name="l01056"></a>01056                 <span class="keywordflow">if</span> (<a class="code" href="../../d3/d10/rna__access_8c.html#a04e91d163fed9c15bedf299f51732110">RNA_struct_is_ID</a>(te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ae4588f10cf11cdf7afcbc207a8598600">rnaptr</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>)) {
<a name="l01057"></a>01057                     arg.<a class="code" href="../../dc/d6a/structDrawIconArg.html#a95c623b39726704e8b50e5475f88d2d7">id</a>= (<a class="code" href="../../d8/d7e/structID.html">ID</a> *)te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ae4588f10cf11cdf7afcbc207a8598600">rnaptr</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a18702e1d8f8c1a63389b3a322536e0e6">data</a>;
<a name="l01058"></a>01058                     <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, <a class="code" href="../../d3/d10/rna__access_8c.html#a5a07a8315a1b6d5b30bbca822db7195c">RNA_struct_ui_icon</a>(te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ae4588f10cf11cdf7afcbc207a8598600">rnaptr</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>));
<a name="l01059"></a>01059                 }
<a name="l01060"></a>01060                 <span class="keywordflow">else</span>
<a name="l01061"></a>01061                     <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, <a class="code" href="../../d3/d10/rna__access_8c.html#a5a07a8315a1b6d5b30bbca822db7195c">RNA_struct_ui_icon</a>(te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#ae4588f10cf11cdf7afcbc207a8598600">rnaptr</a>.<a class="code" href="../../dd/d80/structPointerRNA.html#a41f868aea62068fbbfa36c1a5dbe30f9">type</a>));
<a name="l01062"></a>01062                 <span class="keywordflow">break</span>;
<a name="l01063"></a>01063             <span class="keywordflow">default</span>:
<a name="l01064"></a>01064                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>(x, y, ICON_DOT); <span class="keywordflow">break</span>;
<a name="l01065"></a>01065         }
<a name="l01066"></a>01066     }
<a name="l01067"></a>01067     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../db/ddc/icons_8c.html#adcd5f4a8d30b31ea3612fab180fa3338">GS</a>(tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>-&gt;<a class="code" href="../../d8/d7e/structID.html#ad43a3d119e40a8479518fd876781e692">name</a>) == <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a1f263dac7c79853c097b8ebde25cb0c1">ID_OB</a>) {
<a name="l01068"></a>01068         <a class="code" href="../../de/de7/structObject.html">Object</a> *ob= (<a class="code" href="../../de/de7/structObject.html">Object</a> *)tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>;
<a name="l01069"></a>01069         switch (ob-&gt;<a class="code" href="../../de/de7/structObject.html#a8137cf4265bcaaf2fc7c91a9ccd8e4f4">type</a>) {
<a name="l01070"></a>01070             <span class="keywordflow">case</span> <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a1514ec0465b89013544107c908e7abca">OB_LAMP</a>:
<a name="l01071"></a>01071                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_OB_LAMP); <span class="keywordflow">break</span>;
<a name="l01072"></a>01072             <span class="keywordflow">case</span> <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a8359f8b129e965da60eca2cbcec21bfc">OB_MESH</a>: 
<a name="l01073"></a>01073                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_OB_MESH); <span class="keywordflow">break</span>;
<a name="l01074"></a>01074             <span class="keywordflow">case</span> <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#afd7fa4376c670f245aeed7a7116c7005">OB_CAMERA</a>: 
<a name="l01075"></a>01075                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_OB_CAMERA); <span class="keywordflow">break</span>;
<a name="l01076"></a>01076             <span class="keywordflow">case</span> <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a885d669104f0c596dabb147f9371ffc3">OB_CURVE</a>: 
<a name="l01077"></a>01077                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_OB_CURVE); <span class="keywordflow">break</span>;
<a name="l01078"></a>01078             <span class="keywordflow">case</span> <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a046d883c32490b5c5ca4c5e7b6504e35">OB_MBALL</a>: 
<a name="l01079"></a>01079                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_OB_META); <span class="keywordflow">break</span>;
<a name="l01080"></a>01080             <span class="keywordflow">case</span> <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a648672abc238f500c884f10b9416cb27">OB_LATTICE</a>: 
<a name="l01081"></a>01081                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_OB_LATTICE); <span class="keywordflow">break</span>;
<a name="l01082"></a>01082             <span class="keywordflow">case</span> <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a17c162dffb7fd4f0acb11d051374609b">OB_ARMATURE</a>: 
<a name="l01083"></a>01083                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_OB_ARMATURE); <span class="keywordflow">break</span>;
<a name="l01084"></a>01084             <span class="keywordflow">case</span> <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#a1a94162b6fc469957966a01d41ff71d6">OB_FONT</a>: 
<a name="l01085"></a>01085                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_OB_FONT); <span class="keywordflow">break</span>;
<a name="l01086"></a>01086             <span class="keywordflow">case</span> <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#ae247d3ec6e691b7752d8a90065428ecb">OB_SURF</a>: 
<a name="l01087"></a>01087                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_OB_SURFACE); <span class="keywordflow">break</span>;
<a name="l01088"></a>01088             <span class="keywordflow">case</span> <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#adbb088925cd622aa2bacd6c46c161549">OB_SPEAKER</a>:
<a name="l01089"></a>01089                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_OB_SPEAKER); <span class="keywordflow">break</span>;
<a name="l01090"></a>01090             <span class="keywordflow">case</span> <a class="code" href="../../d9/dd9/DNA__object__types_8h.html#aae7aa3fbf86ed3619e54240da402fab1">OB_EMPTY</a>: 
<a name="l01091"></a>01091                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_OB_EMPTY); <span class="keywordflow">break</span>;
<a name="l01092"></a>01092         
<a name="l01093"></a>01093         }
<a name="l01094"></a>01094     }
<a name="l01095"></a>01095     <span class="keywordflow">else</span> {
<a name="l01096"></a>01096         <span class="keywordflow">switch</span>( <a class="code" href="../../db/ddc/icons_8c.html#adcd5f4a8d30b31ea3612fab180fa3338">GS</a>(tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>-&gt;<a class="code" href="../../d8/d7e/structID.html#ad43a3d119e40a8479518fd876781e692">name</a>)) {
<a name="l01097"></a>01097             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#ac2b425dbd1f73ad1720fafad2626d974">ID_SCE</a>:
<a name="l01098"></a>01098                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_SCENE_DATA); <span class="keywordflow">break</span>;
<a name="l01099"></a>01099             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a2e6c796d1f9370e5fd552166098cdd27">ID_ME</a>:
<a name="l01100"></a>01100                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_DATA_MESH); <span class="keywordflow">break</span>;
<a name="l01101"></a>01101             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#ace150506eaf644d92a5110cf45978379">ID_CU</a>:
<a name="l01102"></a>01102                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_DATA_CURVE); <span class="keywordflow">break</span>;
<a name="l01103"></a>01103             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a3e4005eef9876a2cb9d799bdb2a43998">ID_MB</a>:
<a name="l01104"></a>01104                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_DATA_META); <span class="keywordflow">break</span>;
<a name="l01105"></a>01105             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#ad058b07954b2795eadc855a7a354578b">ID_LT</a>:
<a name="l01106"></a>01106                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_DATA_LATTICE); <span class="keywordflow">break</span>;
<a name="l01107"></a>01107             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a82e259dda95124fd771a23f105f52810">ID_LA</a>:
<a name="l01108"></a>01108             {
<a name="l01109"></a>01109                 <a class="code" href="../../d5/d72/structLamp.html">Lamp</a> *la= (<a class="code" href="../../d5/d72/structLamp.html">Lamp</a> *)tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>;
<a name="l01110"></a>01110                 
<a name="l01111"></a>01111                 <span class="keywordflow">switch</span>(la-&gt;<a class="code" href="../../d5/d72/structLamp.html#a6c8bfeca1d8a74252bfe284de7d754cb">type</a>) {
<a name="l01112"></a>01112                     <span class="keywordflow">case</span> <a class="code" href="../../d0/d16/DNA__lamp__types_8h.html#ab67de808c369ec7696aff85a24eace8e">LA_LOCAL</a>:
<a name="l01113"></a>01113                         <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_LAMP_POINT); <span class="keywordflow">break</span>;
<a name="l01114"></a>01114                     <span class="keywordflow">case</span> <a class="code" href="../../d0/d16/DNA__lamp__types_8h.html#a863bf336582eacc01aec51ebf0a5f412">LA_SUN</a>:
<a name="l01115"></a>01115                         <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_LAMP_SUN); <span class="keywordflow">break</span>;
<a name="l01116"></a>01116                     <span class="keywordflow">case</span> <a class="code" href="../../d0/d16/DNA__lamp__types_8h.html#a55ba7e9dc61979b7097cb11dace90bdb">LA_SPOT</a>:
<a name="l01117"></a>01117                         <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_LAMP_SPOT); <span class="keywordflow">break</span>;
<a name="l01118"></a>01118                     <span class="keywordflow">case</span> <a class="code" href="../../d0/d16/DNA__lamp__types_8h.html#acf32ec4edbecc1bb275c15d7b7c3496f">LA_HEMI</a>:
<a name="l01119"></a>01119                         <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_LAMP_HEMI); <span class="keywordflow">break</span>;
<a name="l01120"></a>01120                     <span class="keywordflow">case</span> <a class="code" href="../../d0/d16/DNA__lamp__types_8h.html#a0f089dd53e59d56d00b73493496fa2c3">LA_AREA</a>:
<a name="l01121"></a>01121                         <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_LAMP_AREA); <span class="keywordflow">break</span>;
<a name="l01122"></a>01122                     <span class="keywordflow">default</span>:
<a name="l01123"></a>01123                         <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_DATA_LAMP); <span class="keywordflow">break</span>;
<a name="l01124"></a>01124                 }
<a name="l01125"></a>01125                 <span class="keywordflow">break</span>;
<a name="l01126"></a>01126             }
<a name="l01127"></a>01127             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#acf5020c901e2793a056ffca95ec8195a">ID_MA</a>:
<a name="l01128"></a>01128                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_MATERIAL_DATA); <span class="keywordflow">break</span>;
<a name="l01129"></a>01129             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#ac850344bf7854d7860b43adb1e65e228">ID_TE</a>:
<a name="l01130"></a>01130                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_TEXTURE_DATA); <span class="keywordflow">break</span>;
<a name="l01131"></a>01131             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a564eac75543b047cf8b2b759818529c3">ID_IM</a>:
<a name="l01132"></a>01132                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_IMAGE_DATA); <span class="keywordflow">break</span>;
<a name="l01133"></a>01133             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a0cd81e8a0b1724426ed2d1e36218cdf6">ID_SPK</a>:
<a name="l01134"></a>01134             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a3bae74282a62fb44842ff3767a86ec70">ID_SO</a>:
<a name="l01135"></a>01135                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_DATA_SPEAKER); <span class="keywordflow">break</span>;
<a name="l01136"></a>01136             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#ae4ba19f70b08895557ef00b489e7d255">ID_AR</a>:
<a name="l01137"></a>01137                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_DATA_ARMATURE); <span class="keywordflow">break</span>;
<a name="l01138"></a>01138             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a82bdb2fdea7abee55d993c0210101273">ID_CA</a>:
<a name="l01139"></a>01139                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_OUTLINER_DATA_CAMERA); <span class="keywordflow">break</span>;
<a name="l01140"></a>01140             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a46c0b029a6e8fc3d7ebb18311b83397d">ID_KE</a>:
<a name="l01141"></a>01141                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_SHAPEKEY_DATA); <span class="keywordflow">break</span>;
<a name="l01142"></a>01142             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#aa1ab8c153d4a007f72d37a2106ecbfa0">ID_WO</a>:
<a name="l01143"></a>01143                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_WORLD_DATA); <span class="keywordflow">break</span>;
<a name="l01144"></a>01144             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a20fe08f8d0b2a4e6c0dbb2371aacadb0">ID_AC</a>:
<a name="l01145"></a>01145                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_ACTION); <span class="keywordflow">break</span>;
<a name="l01146"></a>01146             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a7cef82cbfbffecc607b9ecec3c16f2d1">ID_NLA</a>:
<a name="l01147"></a>01147                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_NLA); <span class="keywordflow">break</span>;
<a name="l01148"></a>01148             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#aedc19b629c5c0b30dd7697cd4ac4dc20">ID_TXT</a>:
<a name="l01149"></a>01149                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_SCRIPT); <span class="keywordflow">break</span>;
<a name="l01150"></a>01150             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#afc8c3d5178b4130eee3e7542ef0dcae7">ID_GR</a>:
<a name="l01151"></a>01151                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_GROUP); <span class="keywordflow">break</span>;
<a name="l01152"></a>01152             <span class="keywordflow">case</span> <a class="code" href="../../d3/dfb/DNA__ID_8h.html#abaf1999f335a0db6ef4f452fae0fbd06">ID_LI</a>:
<a name="l01153"></a>01153                 <a class="code" href="../../d6/d94/outliner__draw_8c.html#aa36648347104449cff5adf1ae18417a2">tselem_draw_icon_uibut</a>(&amp;arg, ICON_LIBRARY_DATA_DIRECT); <span class="keywordflow">break</span>;
<a name="l01154"></a>01154         }
<a name="l01155"></a>01155     }
<a name="l01156"></a>01156 }
<a name="l01157"></a>01157 
<a name="l01158"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#afda74b7357935f336dce1365db301fb7">01158</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#afda74b7357935f336dce1365db301fb7">outliner_draw_iconrow</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <a class="code" href="../../df/d5b/structuiBlock.html">uiBlock</a> *<a class="code" href="../../dc/d6a/structDrawIconArg.html#acb70a084afd6a4ce78ddde5af2ca34bd">block</a>, <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb, <span class="keywordtype">int</span> level, <span class="keywordtype">int</span> <a class="code" href="../../dc/d6a/structDrawIconArg.html#afa6af9f3c99731f98cf9296d5910155f">xmax</a>, <span class="keywordtype">int</span> *offsx, <span class="keywordtype">int</span> ys)
<a name="l01159"></a>01159 {
<a name="l01160"></a>01160     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te;
<a name="l01161"></a>01161     <a class="code" href="../../da/d20/structTreeStoreElem.html">TreeStoreElem</a> *tselem;
<a name="l01162"></a>01162     <span class="keywordtype">int</span> active;
<a name="l01163"></a>01163 
<a name="l01164"></a>01164     <span class="keywordflow">for</span> (te= lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; te; te= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>) {
<a name="l01165"></a>01165         
<a name="l01166"></a>01166         <span class="comment">/* exit drawing early */</span>
<a name="l01167"></a>01167         <span class="keywordflow">if</span> ((*offsx) - <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a> &gt; xmax)
<a name="l01168"></a>01168             <span class="keywordflow">break</span>;
<a name="l01169"></a>01169 
<a name="l01170"></a>01170         tselem= <a class="code" href="../../df/def/outliner__intern_8h.html#a804fa5954c5c38273764b024eefa251f">TREESTORE</a>(te);
<a name="l01171"></a>01171         
<a name="l01172"></a>01172         <span class="comment">/* object hierarchy always, further constrained on level */</span>
<a name="l01173"></a>01173         <span class="keywordflow">if</span> (level&lt;1 || (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==0 &amp;&amp; te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d3/dfb/DNA__ID_8h.html#a1f263dac7c79853c097b8ebde25cb0c1">ID_OB</a>)) {
<a name="l01174"></a>01174 
<a name="l01175"></a>01175             <span class="comment">/* active blocks get white circle */</span>
<a name="l01176"></a>01176             <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==0) {
<a name="l01177"></a>01177                 <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d3/dfb/DNA__ID_8h.html#a1f263dac7c79853c097b8ebde25cb0c1">ID_OB</a>) active= (<a class="code" href="../../d4/db3/DNA__scene__types_8h.html#a119935c54737bd111df8fd516c390000">OBACT</a>==(<a class="code" href="../../de/de7/structObject.html">Object</a> *)tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>);
<a name="l01178"></a>01178                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (scene-&gt;<a class="code" href="../../d9/d27/structScene.html#a1aa1978dba5dab99d35b6ba89e88b5bb">obedit</a> &amp;&amp; scene-&gt;<a class="code" href="../../d9/d27/structScene.html#a1aa1978dba5dab99d35b6ba89e88b5bb">obedit</a>-&gt;<a class="code" href="../../de/de7/structObject.html#af121d9ecf1402708a17302a8a615cbfe">data</a>==tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>) active= 1;   <span class="comment">// XXX use context?</span>
<a name="l01179"></a>01179                 <span class="keywordflow">else</span> active= <a class="code" href="../../df/def/outliner__intern_8h.html#a6a1d0d6856f30a084e1338d9092ae6a0">tree_element_active</a>(C, scene, soops, te, 0);
<a name="l01180"></a>01180             }
<a name="l01181"></a>01181             <span class="keywordflow">else</span> active= <a class="code" href="../../df/def/outliner__intern_8h.html#af7060fead0efe57a835662d51fe7a347">tree_element_type_active</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, scene, soops, te, tselem, 0);
<a name="l01182"></a>01182             
<a name="l01183"></a>01183             <span class="keywordflow">if</span> (active) {
<a name="l01184"></a>01184                 <span class="keywordtype">float</span> ufac= <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>/20.0f;
<a name="l01185"></a>01185 
<a name="l01186"></a>01186                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a8fc510c8382c62a5af3a095e218d8f3d">uiSetRoundBox</a>(<a class="code" href="../../d8/d1e/UI__interface_8h.html#ab39a415800ebd0d977c477376649649ba7e9af1d815f4277196ed35a049f74148">UI_CNR_ALL</a>);
<a name="l01187"></a>01187                 glColor4ub(255, 255, 255, 100);
<a name="l01188"></a>01188                 <a class="code" href="../../d8/d1e/UI__interface_8h.html#a5dc97f8bfa5592225dc4966ae18fe85d">uiRoundBox</a>( (<span class="keywordtype">float</span>)*offsx-0.5f*ufac, (<span class="keywordtype">float</span>)ys-1.0f*ufac, (<span class="keywordtype">float</span>)*offsx+<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-3.0f*ufac, (<span class="keywordtype">float</span>)ys+<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-3.0f*ufac, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>/2.0f-2.0f*ufac);
<a name="l01189"></a>01189                 glEnable(GL_BLEND); <span class="comment">/* roundbox disables */</span>
<a name="l01190"></a>01190             }
<a name="l01191"></a>01191             
<a name="l01192"></a>01192             <a class="code" href="../../d6/d94/outliner__draw_8c.html#a263f3c5c0571cfb4d17bbd8a0f56f25a">tselem_draw_icon</a>(block, xmax, (<span class="keywordtype">float</span>)*offsx, (<span class="keywordtype">float</span>)ys, tselem, te, 0.5f);
<a name="l01193"></a>01193             te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a535dbd552fdc7b1ee962dad8323fecb4">xs</a>= (float)*offsx;
<a name="l01194"></a>01194             te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>= (float)ys;
<a name="l01195"></a>01195             te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a88d204ac9b7c049d391cb32aec29a7e0">xend</a>= (short)*offsx+<a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>;
<a name="l01196"></a>01196             te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9dba17077fe954c0ac3dbea1afb90143">flag</a> |= <a class="code" href="../../df/def/outliner__intern_8h.html#ac58c6462b5b35adf98656ae0936bf359">TE_ICONROW</a>; <span class="comment">// for click</span>
<a name="l01197"></a>01197             
<a name="l01198"></a>01198             (*offsx) += <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>;
<a name="l01199"></a>01199         }
<a name="l01200"></a>01200         
<a name="l01201"></a>01201         <span class="comment">/* this tree element always has same amount of branches, so don&#39;t draw */</span>
<a name="l01202"></a>01202         <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>!=<a class="code" href="../../df/def/outliner__intern_8h.html#a9eb17f6c3e4003be1ff9a6fe0aac78aa">TSE_R_LAYER</a>)
<a name="l01203"></a>01203             <a class="code" href="../../d6/d94/outliner__draw_8c.html#afda74b7357935f336dce1365db301fb7">outliner_draw_iconrow</a>(C, block, scene, soops, &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>, level+1, xmax, offsx, ys);
<a name="l01204"></a>01204     }
<a name="l01205"></a>01205     
<a name="l01206"></a>01206 }
<a name="l01207"></a>01207 
<a name="l01208"></a>01208 <span class="comment">/* closed tree element */</span>
<a name="l01209"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a7a007f589ffd4a84c8f55d21788d8c59">01209</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a7a007f589ffd4a84c8f55d21788d8c59">outliner_set_coord_tree_element</a>(<a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops, <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te, <span class="keywordtype">int</span> startx, <span class="keywordtype">int</span> *starty)
<a name="l01210"></a>01210 {
<a name="l01211"></a>01211     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *ten;
<a name="l01212"></a>01212     
<a name="l01213"></a>01213     <span class="comment">/* store coord and continue, we need coordinates for elements outside view too */</span>
<a name="l01214"></a>01214     te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a535dbd552fdc7b1ee962dad8323fecb4">xs</a>= (float)startx;
<a name="l01215"></a>01215     te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>= (float)(*starty);
<a name="l01216"></a>01216     
<a name="l01217"></a>01217     <span class="keywordflow">for</span> (ten= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ten; ten= ten-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>) {
<a name="l01218"></a>01218         <a class="code" href="../../d6/d94/outliner__draw_8c.html#a7a007f589ffd4a84c8f55d21788d8c59">outliner_set_coord_tree_element</a>(soops, ten, startx+<a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>, starty);
<a name="l01219"></a>01219     }   
<a name="l01220"></a>01220 }
<a name="l01221"></a>01221 
<a name="l01222"></a>01222 
<a name="l01223"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a19eb1dbada53c73b63daf3c6e5c306a3">01223</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a19eb1dbada53c73b63daf3c6e5c306a3">outliner_draw_tree_element</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <a class="code" href="../../df/d5b/structuiBlock.html">uiBlock</a> *<a class="code" href="../../dc/d6a/structDrawIconArg.html#acb70a084afd6a4ce78ddde5af2ca34bd">block</a>, <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <a class="code" href="../../da/d23/structARegion.html">ARegion</a> *ar, <a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops, <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te, <span class="keywordtype">int</span> startx, <span class="keywordtype">int</span> *starty)
<a name="l01224"></a>01224 {
<a name="l01225"></a>01225     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *ten;
<a name="l01226"></a>01226     <a class="code" href="../../da/d20/structTreeStoreElem.html">TreeStoreElem</a> *tselem;
<a name="l01227"></a>01227     <span class="keywordtype">float</span> ufac= <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>/20.0f;
<a name="l01228"></a>01228     <span class="keywordtype">int</span> offsx= 0, active=0; <span class="comment">// active=1 active obj, else active data</span>
<a name="l01229"></a>01229     
<a name="l01230"></a>01230     tselem= <a class="code" href="../../df/def/outliner__intern_8h.html#a804fa5954c5c38273764b024eefa251f">TREESTORE</a>(te);
<a name="l01231"></a>01231 
<a name="l01232"></a>01232     <span class="keywordflow">if</span> (*starty+2*<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a> &gt;= ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#aeea1ce7886a81f1099e897d587012013">ymin</a> &amp;&amp; *starty&lt;= ar-&gt;v2d.cur.ymax) {
<a name="l01233"></a>01233         <span class="keywordtype">int</span> <a class="code" href="../../dc/d6a/structDrawIconArg.html#afa6af9f3c99731f98cf9296d5910155f">xmax</a>= ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>;
<a name="l01234"></a>01234         
<a name="l01235"></a>01235         <span class="comment">/* icons can be ui buts, we don&#39;t want it to overlap with restrict */</span>
<a name="l01236"></a>01236         <span class="keywordflow">if</span> ((soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#a021a8872d58852ddc3dcb7b97cb45973">flag</a> &amp; <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#ad16fd3dbf1093fdd459662055b50de7c">SO_HIDE_RESTRICTCOLS</a>)==0)
<a name="l01237"></a>01237             xmax-= <a class="code" href="../../df/def/outliner__intern_8h.html#a3c8fc9317836860eb23be09a423c046f">OL_TOGW</a>+<a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>;
<a name="l01238"></a>01238         
<a name="l01239"></a>01239         glEnable(GL_BLEND);
<a name="l01240"></a>01240 
<a name="l01241"></a>01241         <span class="comment">/* start by highlighting search matches </span>
<a name="l01242"></a>01242 <span class="comment">         *  we don&#39;t expand items when searching in the datablocks but we </span>
<a name="l01243"></a>01243 <span class="comment">         *  still want to highlight any filter matches. </span>
<a name="l01244"></a>01244 <span class="comment">         */</span>
<a name="l01245"></a>01245         <span class="keywordflow">if</span> ( (<a class="code" href="../../df/def/outliner__intern_8h.html#a126156d7fb224e9c98debfeb325bfd99">SEARCHING_OUTLINER</a>(soops) || (soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#a29f76b867f58ad3013a34ec8af0bdf48">outlinevis</a>==<a class="code" href="../../d8/d5d/DNA__space__types_8h.html#a2e6d0a0e762d18d66f376460a4f58953">SO_DATABLOCKS</a> &amp;&amp; soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#ab758790649dd56bc4b2527a9da4cfd2a">search_string</a>[0]!=0)) &amp;&amp; 
<a name="l01246"></a>01246              (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a104426a340d0c42828c65f86ed21dd80">flag</a> &amp; <a class="code" href="../../d7/d51/DNA__outliner__types_8h.html#ab63c790c656290bc867c63980c5cf2ae">TSE_SEARCHMATCH</a>)) 
<a name="l01247"></a>01247         {
<a name="l01248"></a>01248             <span class="keywordtype">char</span> col[4];
<a name="l01249"></a>01249             <a class="code" href="../../de/d96/UI__resources_8h.html#a2dea5028d9b56c855b3b1b8a82cdf9b4">UI_GetThemeColorType4ubv</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531ad65e6c1c60ecf8ff069cdcee695973e6">TH_MATCH</a>, <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#a5efefa44b296976f2147b8acbed1752ca1806179a239521ed61051b9e46b71818">SPACE_OUTLINER</a>, col);
<a name="l01250"></a>01250             col[3]=100;
<a name="l01251"></a>01251             glColor4ubv((GLubyte *)col);
<a name="l01252"></a>01252             glRecti(startx, *starty+1, ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>, *starty+<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1);
<a name="l01253"></a>01253         }
<a name="l01254"></a>01254 
<a name="l01255"></a>01255         <span class="comment">/* colors for active/selected data */</span>
<a name="l01256"></a>01256         <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==0) {
<a name="l01257"></a>01257             <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d3/dfb/DNA__ID_8h.html#ac2b425dbd1f73ad1720fafad2626d974">ID_SCE</a>) {
<a name="l01258"></a>01258                 <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a> == (<a class="code" href="../../d8/d7e/structID.html">ID</a> *)scene) {
<a name="l01259"></a>01259                     glColor4ub(255, 255, 255, 100);
<a name="l01260"></a>01260                     active= 2;
<a name="l01261"></a>01261                 }
<a name="l01262"></a>01262             }
<a name="l01263"></a>01263             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d3/dfb/DNA__ID_8h.html#afc8c3d5178b4130eee3e7542ef0dcae7">ID_GR</a>) {
<a name="l01264"></a>01264                 <a class="code" href="../../d4/d91/structGroup.html">Group</a> *gr = (<a class="code" href="../../d4/d91/structGroup.html">Group</a> *)tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>;
<a name="l01265"></a>01265                 
<a name="l01266"></a>01266                 <a class="code" href="../../dd/db6/paraloopend_8h.html#a65986f23fef03474a87b62a14beafe42">if</a> (<a class="code" href="../../d6/d94/outliner__draw_8c.html#abf6c8a26ff85538a8a1a71d006cb4bda">group_select_flag</a>(gr)) {
<a name="l01267"></a>01267                     <span class="keywordtype">char</span> col[4];
<a name="l01268"></a>01268                     <a class="code" href="../../de/d96/UI__resources_8h.html#a2dea5028d9b56c855b3b1b8a82cdf9b4">UI_GetThemeColorType4ubv</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531acf22ebe596e9394104b732b077cbec7a">TH_SELECT</a>, <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#a5efefa44b296976f2147b8acbed1752caf4af925b582bb7d7590235f90a38c8a9">SPACE_VIEW3D</a>, col);
<a name="l01269"></a>01269                     col[3]= 100;
<a name="l01270"></a>01270                     glColor4ubv((GLubyte *)col);
<a name="l01271"></a>01271                     
<a name="l01272"></a>01272                     active= 2;
<a name="l01273"></a>01273                 }
<a name="l01274"></a>01274             }
<a name="l01275"></a>01275             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d3/dfb/DNA__ID_8h.html#a1f263dac7c79853c097b8ebde25cb0c1">ID_OB</a>) {
<a name="l01276"></a>01276                 <a class="code" href="../../de/de7/structObject.html">Object</a> *ob= (<a class="code" href="../../de/de7/structObject.html">Object</a> *)tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>;
<a name="l01277"></a>01277                 
<a name="l01278"></a>01278                 <a class="code" href="../../dd/db6/paraloopend_8h.html#a65986f23fef03474a87b62a14beafe42">if</a> (ob==<a class="code" href="../../d4/db3/DNA__scene__types_8h.html#a119935c54737bd111df8fd516c390000">OBACT</a> || (ob-&gt;<a class="code" href="../../de/de7/structObject.html#a4cb926ee8d882f0a18f0a2dbdea46e73">flag</a> &amp; <a class="code" href="../../db/d17/fcurve_8c.html#a53dc4af00adc7b3b4d12eafb71596dfc">SELECT</a>)) {
<a name="l01279"></a>01279                     <span class="keywordtype">char</span> col[4]= {0, 0, 0, 0};
<a name="l01280"></a>01280                     
<a name="l01281"></a>01281                     <span class="comment">/* outliner active ob: always white text, circle color now similar to view3d */</span>
<a name="l01282"></a>01282                     
<a name="l01283"></a>01283                     active= 2; <span class="comment">/* means it draws a color circle */</span>
<a name="l01284"></a>01284                     <span class="keywordflow">if</span> (ob==<a class="code" href="../../d4/db3/DNA__scene__types_8h.html#a119935c54737bd111df8fd516c390000">OBACT</a>) {
<a name="l01285"></a>01285                         <span class="keywordflow">if</span> (ob-&gt;<a class="code" href="../../de/de7/structObject.html#a4cb926ee8d882f0a18f0a2dbdea46e73">flag</a> &amp; <a class="code" href="../../db/d17/fcurve_8c.html#a53dc4af00adc7b3b4d12eafb71596dfc">SELECT</a>) {
<a name="l01286"></a>01286                             <a class="code" href="../../de/d96/UI__resources_8h.html#a2dea5028d9b56c855b3b1b8a82cdf9b4">UI_GetThemeColorType4ubv</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531af47479527035752070059cf6669daf09">TH_ACTIVE</a>, <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#a5efefa44b296976f2147b8acbed1752caf4af925b582bb7d7590235f90a38c8a9">SPACE_VIEW3D</a>, col);
<a name="l01287"></a>01287                             col[3]= 100;
<a name="l01288"></a>01288                         }
<a name="l01289"></a>01289                         
<a name="l01290"></a>01290                         active= 1; <span class="comment">/* means it draws white text */</span>
<a name="l01291"></a>01291                     }
<a name="l01292"></a>01292                     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ob-&gt;<a class="code" href="../../de/de7/structObject.html#a4cb926ee8d882f0a18f0a2dbdea46e73">flag</a> &amp; <a class="code" href="../../db/d17/fcurve_8c.html#a53dc4af00adc7b3b4d12eafb71596dfc">SELECT</a>) {
<a name="l01293"></a>01293                         <a class="code" href="../../de/d96/UI__resources_8h.html#a2dea5028d9b56c855b3b1b8a82cdf9b4">UI_GetThemeColorType4ubv</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531acf22ebe596e9394104b732b077cbec7a">TH_SELECT</a>, <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#a5efefa44b296976f2147b8acbed1752caf4af925b582bb7d7590235f90a38c8a9">SPACE_VIEW3D</a>, col);
<a name="l01294"></a>01294                         col[3]= 100;
<a name="l01295"></a>01295                     }
<a name="l01296"></a>01296                     
<a name="l01297"></a>01297                     glColor4ubv((GLubyte *)col);
<a name="l01298"></a>01298                 }
<a name="l01299"></a>01299             
<a name="l01300"></a>01300             }
<a name="l01301"></a>01301             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (scene-&gt;<a class="code" href="../../d9/d27/structScene.html#a1aa1978dba5dab99d35b6ba89e88b5bb">obedit</a> &amp;&amp; scene-&gt;<a class="code" href="../../d9/d27/structScene.html#a1aa1978dba5dab99d35b6ba89e88b5bb">obedit</a>-&gt;<a class="code" href="../../de/de7/structObject.html#af121d9ecf1402708a17302a8a615cbfe">data</a>==tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>) {
<a name="l01302"></a>01302                 glColor4ub(255, 255, 255, 100);
<a name="l01303"></a>01303                 active= 2;
<a name="l01304"></a>01304             }
<a name="l01305"></a>01305             <span class="keywordflow">else</span> {
<a name="l01306"></a>01306                 <span class="keywordflow">if</span> (<a class="code" href="../../df/def/outliner__intern_8h.html#a6a1d0d6856f30a084e1338d9092ae6a0">tree_element_active</a>(C, scene, soops, te, 0)) {
<a name="l01307"></a>01307                     glColor4ub(220, 220, 255, 100);
<a name="l01308"></a>01308                     active= 2;
<a name="l01309"></a>01309                 }
<a name="l01310"></a>01310             }
<a name="l01311"></a>01311         }
<a name="l01312"></a>01312         <span class="keywordflow">else</span> {
<a name="l01313"></a>01313             <span class="keywordflow">if</span> ( <a class="code" href="../../df/def/outliner__intern_8h.html#af7060fead0efe57a835662d51fe7a347">tree_element_type_active</a>(<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, scene, soops, te, tselem, 0) ) active= 2;
<a name="l01314"></a>01314             glColor4ub(220, 220, 255, 100);
<a name="l01315"></a>01315         }
<a name="l01316"></a>01316         
<a name="l01317"></a>01317         <span class="comment">/* active circle */</span>
<a name="l01318"></a>01318         <span class="keywordflow">if</span> (active) {
<a name="l01319"></a>01319             <a class="code" href="../../d8/d1e/UI__interface_8h.html#a8fc510c8382c62a5af3a095e218d8f3d">uiSetRoundBox</a>(<a class="code" href="../../d8/d1e/UI__interface_8h.html#ab39a415800ebd0d977c477376649649ba7e9af1d815f4277196ed35a049f74148">UI_CNR_ALL</a>);
<a name="l01320"></a>01320             <a class="code" href="../../d8/d1e/UI__interface_8h.html#a5dc97f8bfa5592225dc4966ae18fe85d">uiRoundBox</a>( (<span class="keywordtype">float</span>)startx+<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1.5f*ufac, (<span class="keywordtype">float</span>)*starty+2.0f*ufac, (<span class="keywordtype">float</span>)startx+2.0f*<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-4.0f*ufac, (<span class="keywordtype">float</span>)*starty+<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1.0f*ufac, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>/2.0f-2.0f*ufac);
<a name="l01321"></a>01321             glEnable(GL_BLEND); <span class="comment">/* roundbox disables it */</span>
<a name="l01322"></a>01322             
<a name="l01323"></a>01323             te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9dba17077fe954c0ac3dbea1afb90143">flag</a> |= <a class="code" href="../../df/def/outliner__intern_8h.html#a0fd4e713de513353459d8eb8cd6b38b4">TE_ACTIVE</a>; <span class="comment">// for lookup in display hierarchies</span>
<a name="l01324"></a>01324         }
<a name="l01325"></a>01325         
<a name="l01326"></a>01326         <span class="comment">/* open/close icon, only when sublevels, except for scene */</span>
<a name="l01327"></a>01327         <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a> || (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==0 &amp;&amp; te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d3/dfb/DNA__ID_8h.html#ac2b425dbd1f73ad1720fafad2626d974">ID_SCE</a>) || (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9dba17077fe954c0ac3dbea1afb90143">flag</a> &amp; <a class="code" href="../../df/def/outliner__intern_8h.html#a497d4a36f533db6197d4a0ea4400be9a">TE_LAZY_CLOSED</a>)) {
<a name="l01328"></a>01328             <span class="keywordtype">int</span> icon_x;
<a name="l01329"></a>01329             <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==0 &amp;&amp; <a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a0b02ecc2161884c6587b77fd39150632">ELEM</a>(te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#a1f263dac7c79853c097b8ebde25cb0c1">ID_OB</a>, <a class="code" href="../../d3/dfb/DNA__ID_8h.html#ac2b425dbd1f73ad1720fafad2626d974">ID_SCE</a>))
<a name="l01330"></a>01330                 icon_x = startx;
<a name="l01331"></a>01331             <span class="keywordflow">else</span>
<a name="l01332"></a>01332                 icon_x = startx+5*ufac;
<a name="l01333"></a>01333             
<a name="l01334"></a>01334                 <span class="comment">// icons a bit higher</span>
<a name="l01335"></a>01335             <span class="keywordflow">if</span> (<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops))
<a name="l01336"></a>01336                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>((<span class="keywordtype">float</span>)icon_x, (<span class="keywordtype">float</span>)*starty+2*ufac, ICON_DISCLOSURE_TRI_DOWN);
<a name="l01337"></a>01337             <span class="keywordflow">else</span>
<a name="l01338"></a>01338                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>((<span class="keywordtype">float</span>)icon_x, (<span class="keywordtype">float</span>)*starty+2*ufac, ICON_DISCLOSURE_TRI_RIGHT);
<a name="l01339"></a>01339         }
<a name="l01340"></a>01340         offsx+= <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>;
<a name="l01341"></a>01341         
<a name="l01342"></a>01342         <span class="comment">/* datatype icon */</span>
<a name="l01343"></a>01343         
<a name="l01344"></a>01344         <span class="keywordflow">if</span> (!(<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a0b02ecc2161884c6587b77fd39150632">ELEM</a>(tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>, <a class="code" href="../../df/def/outliner__intern_8h.html#a30f78f11dbb2309c08c2e97548132968">TSE_RNA_PROPERTY</a>, <a class="code" href="../../df/def/outliner__intern_8h.html#a7367bb360e785dee0e789f86378ff37d">TSE_RNA_ARRAY_ELEM</a>))) {
<a name="l01345"></a>01345             <span class="comment">// icons a bit higher</span>
<a name="l01346"></a>01346             <a class="code" href="../../d6/d94/outliner__draw_8c.html#a263f3c5c0571cfb4d17bbd8a0f56f25a">tselem_draw_icon</a>(block, xmax, (<span class="keywordtype">float</span>)startx+offsx - 0.5f*ufac, (<span class="keywordtype">float</span>)*starty+2.0f*ufac, tselem, te, 1.0f);
<a name="l01347"></a>01347             
<a name="l01348"></a>01348             offsx+= <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>;
<a name="l01349"></a>01349         }
<a name="l01350"></a>01350         <span class="keywordflow">else</span>
<a name="l01351"></a>01351             offsx+= 2*ufac;
<a name="l01352"></a>01352         
<a name="l01353"></a>01353         <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==0 &amp;&amp; tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>-&gt;<a class="code" href="../../d8/d7e/structID.html#a56d730e86e0fc566622c5f5ea2a7de9f">lib</a>) {
<a name="l01354"></a>01354             glPixelTransferf(GL_ALPHA_SCALE, 0.5f);
<a name="l01355"></a>01355             <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a2c7bc60159a1dc474327527b72e50483">id</a>-&gt;<a class="code" href="../../d8/d7e/structID.html#aaa0124bd1f312b0d778e1e0de8b8be9f">flag</a> &amp; <a class="code" href="../../d3/dfb/DNA__ID_8h.html#ab205643c2c50ad2f8b3555a5d2314924">LIB_INDIRECT</a>)
<a name="l01356"></a>01356                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>((<span class="keywordtype">float</span>)startx+offsx, (<span class="keywordtype">float</span>)*starty+2*ufac, ICON_LIBRARY_DATA_INDIRECT);
<a name="l01357"></a>01357             <span class="keywordflow">else</span>
<a name="l01358"></a>01358                 <a class="code" href="../../d8/de1/UI__interface__icons_8h.html#a56d1cf9aeb53e23b3eefc13be1124a9e">UI_icon_draw</a>((<span class="keywordtype">float</span>)startx+offsx, (<span class="keywordtype">float</span>)*starty+2*ufac, ICON_LIBRARY_DATA_DIRECT);
<a name="l01359"></a>01359             glPixelTransferf(GL_ALPHA_SCALE, 1.0f);
<a name="l01360"></a>01360             offsx+= <a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>;
<a name="l01361"></a>01361         }       
<a name="l01362"></a>01362         glDisable(GL_BLEND);
<a name="l01363"></a>01363         
<a name="l01364"></a>01364         <span class="comment">/* name */</span>
<a name="l01365"></a>01365         <span class="keywordflow">if</span> (active==1) <a class="code" href="../../de/d96/UI__resources_8h.html#af31db5d1a7c8b15e6e8a008482426f3a">UI_ThemeColor</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531aff83a64859a3ca49a01a88357acaf007">TH_TEXT_HI</a>);
<a name="l01366"></a>01366         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a0b02ecc2161884c6587b77fd39150632">ELEM</a>(tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>, <a class="code" href="../../df/def/outliner__intern_8h.html#a30f78f11dbb2309c08c2e97548132968">TSE_RNA_PROPERTY</a>, <a class="code" href="../../df/def/outliner__intern_8h.html#a7367bb360e785dee0e789f86378ff37d">TSE_RNA_ARRAY_ELEM</a>)) <a class="code" href="../../de/d96/UI__resources_8h.html#ad4ede272051fd08d70f30570ad85a852">UI_ThemeColorBlend</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531a2f524dc89597307994ab7d91402f79cf">TH_BACK</a>, <a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531ade800b14585ec3bc83905fe667484c4b">TH_TEXT</a>, 0.75f);
<a name="l01367"></a>01367         <span class="keywordflow">else</span> <a class="code" href="../../de/d96/UI__resources_8h.html#af31db5d1a7c8b15e6e8a008482426f3a">UI_ThemeColor</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531ade800b14585ec3bc83905fe667484c4b">TH_TEXT</a>);
<a name="l01368"></a>01368         
<a name="l01369"></a>01369         <a class="code" href="../../d8/d1e/UI__interface_8h.html#a2712564246b0177fb64d88224864eeec">UI_DrawString</a>(startx+offsx, *starty+5*ufac, te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#aed17c866e7b15f8c22865b3189a0e640">name</a>);
<a name="l01370"></a>01370         
<a name="l01371"></a>01371         offsx+= (int)(UI_UNIT_X + <a class="code" href="../../d8/d1e/UI__interface_8h.html#a4bc308293a0e08f38e7a0984fdedf872">UI_GetStringWidth</a>(te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#aed17c866e7b15f8c22865b3189a0e640">name</a>));
<a name="l01372"></a>01372         
<a name="l01373"></a>01373         <span class="comment">/* closed item, we draw the icons, not when it&#39;s a scene, or master-server list though */</span>
<a name="l01374"></a>01374         <span class="keywordflow">if</span> (!<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops)) {
<a name="l01375"></a>01375             <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>) {
<a name="l01376"></a>01376                 <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==0 &amp;&amp; te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d3/dfb/DNA__ID_8h.html#ac2b425dbd1f73ad1720fafad2626d974">ID_SCE</a>);
<a name="l01377"></a>01377                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>!=<a class="code" href="../../df/def/outliner__intern_8h.html#a9eb17f6c3e4003be1ff9a6fe0aac78aa">TSE_R_LAYER</a>) { <span class="comment">/* this tree element always has same amount of branches, so don&#39;t draw */</span>
<a name="l01378"></a>01378                     <span class="keywordtype">int</span> tempx= startx+offsx;
<a name="l01379"></a>01379                     
<a name="l01380"></a>01380                     <span class="comment">// divider</span>
<a name="l01381"></a>01381                     <a class="code" href="../../de/d96/UI__resources_8h.html#a56c7a350537a25b88d0532488032aef6">UI_ThemeColorShade</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531a2f524dc89597307994ab7d91402f79cf">TH_BACK</a>, -40);
<a name="l01382"></a>01382                     glRecti(tempx -10, *starty+4, tempx -8, *starty+<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-4);
<a name="l01383"></a>01383                     
<a name="l01384"></a>01384                     glEnable(GL_BLEND);
<a name="l01385"></a>01385                     glPixelTransferf(GL_ALPHA_SCALE, 0.5);
<a name="l01386"></a>01386                     
<a name="l01387"></a>01387                     <a class="code" href="../../d6/d94/outliner__draw_8c.html#afda74b7357935f336dce1365db301fb7">outliner_draw_iconrow</a>(C, block, scene, soops, &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>, 0, xmax, &amp;tempx, *starty+2);
<a name="l01388"></a>01388                     
<a name="l01389"></a>01389                     glPixelTransferf(GL_ALPHA_SCALE, 1.0);
<a name="l01390"></a>01390                     glDisable(GL_BLEND);
<a name="l01391"></a>01391                 }
<a name="l01392"></a>01392             }
<a name="l01393"></a>01393         }
<a name="l01394"></a>01394     }   
<a name="l01395"></a>01395     <span class="comment">/* store coord and continue, we need coordinates for elements outside view too */</span>
<a name="l01396"></a>01396     te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a535dbd552fdc7b1ee962dad8323fecb4">xs</a>= (float)startx;
<a name="l01397"></a>01397     te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9841fb74d1dff64fa9593c902a0c1d6a">ys</a>= (float)*starty;
<a name="l01398"></a>01398     te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a88d204ac9b7c049d391cb32aec29a7e0">xend</a>= startx+offsx;
<a name="l01399"></a>01399         
<a name="l01400"></a>01400     <span class="keywordflow">if</span> (<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops)) {
<a name="l01401"></a>01401         *starty-= <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>;
<a name="l01402"></a>01402         
<a name="l01403"></a>01403         <span class="keywordflow">for</span> (ten= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ten; ten= ten-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>)
<a name="l01404"></a>01404             <a class="code" href="../../d6/d94/outliner__draw_8c.html#a19eb1dbada53c73b63daf3c6e5c306a3">outliner_draw_tree_element</a>(C, block, scene, ar, soops, ten, startx+<a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>, starty);
<a name="l01405"></a>01405     }   
<a name="l01406"></a>01406     <span class="keywordflow">else</span> {
<a name="l01407"></a>01407         <span class="keywordflow">for</span> (ten= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ten; ten= ten-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>)
<a name="l01408"></a>01408             <a class="code" href="../../d6/d94/outliner__draw_8c.html#a7a007f589ffd4a84c8f55d21788d8c59">outliner_set_coord_tree_element</a>(soops, te, startx, starty);
<a name="l01409"></a>01409         
<a name="l01410"></a>01410         *starty-= <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>;
<a name="l01411"></a>01411     }
<a name="l01412"></a>01412 }
<a name="l01413"></a>01413 
<a name="l01414"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a529c2415e36652d1b1e7a970f503307c">01414</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a529c2415e36652d1b1e7a970f503307c">outliner_draw_hierarchy</a>(<a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb, <span class="keywordtype">int</span> startx, <span class="keywordtype">int</span> *starty)
<a name="l01415"></a>01415 {
<a name="l01416"></a>01416     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te;
<a name="l01417"></a>01417     <a class="code" href="../../da/d20/structTreeStoreElem.html">TreeStoreElem</a> *tselem;
<a name="l01418"></a>01418     <span class="keywordtype">int</span> y1, y2;
<a name="l01419"></a>01419     
<a name="l01420"></a>01420     <span class="keywordflow">if</span> (lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>==<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) <span class="keywordflow">return</span>;
<a name="l01421"></a>01421     
<a name="l01422"></a>01422     y1=y2= *starty; <span class="comment">/* for vertical lines between objects */</span>
<a name="l01423"></a>01423     <span class="keywordflow">for</span> (te=lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; te; te= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>) {
<a name="l01424"></a>01424         y2= *starty;
<a name="l01425"></a>01425         tselem= <a class="code" href="../../df/def/outliner__intern_8h.html#a804fa5954c5c38273764b024eefa251f">TREESTORE</a>(te);
<a name="l01426"></a>01426         
<a name="l01427"></a>01427         <span class="comment">/* horizontal line? */</span>
<a name="l01428"></a>01428         <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==0 &amp;&amp; (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d3/dfb/DNA__ID_8h.html#a1f263dac7c79853c097b8ebde25cb0c1">ID_OB</a> || te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d3/dfb/DNA__ID_8h.html#ac2b425dbd1f73ad1720fafad2626d974">ID_SCE</a>))
<a name="l01429"></a>01429             glRecti(startx, *starty, startx+<a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>, *starty-1);
<a name="l01430"></a>01430             
<a name="l01431"></a>01431         *starty-= <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>;
<a name="l01432"></a>01432         
<a name="l01433"></a>01433         <span class="keywordflow">if</span> (<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops))
<a name="l01434"></a>01434             <a class="code" href="../../d6/d94/outliner__draw_8c.html#a529c2415e36652d1b1e7a970f503307c">outliner_draw_hierarchy</a>(soops, &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>, startx+<a class="code" href="../../d8/d1e/UI__interface_8h.html#ad9963844aa21423f54e23c6746f5bd07">UI_UNIT_X</a>, starty);
<a name="l01435"></a>01435     }
<a name="l01436"></a>01436     
<a name="l01437"></a>01437     <span class="comment">/* vertical line */</span>
<a name="l01438"></a>01438     te= lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#a46f89850aad8cd09b34b5bdc3aa8f91a">last</a>;
<a name="l01439"></a>01439     <span class="keywordflow">if</span> (te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a2531c368b60c64064a070e9f2888408d">parent</a> || lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>!=lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#a46f89850aad8cd09b34b5bdc3aa8f91a">last</a>) {
<a name="l01440"></a>01440         tselem= <a class="code" href="../../df/def/outliner__intern_8h.html#a804fa5954c5c38273764b024eefa251f">TREESTORE</a>(te);
<a name="l01441"></a>01441         <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a>==0 &amp;&amp; te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a4cef745e1603ebb380601d64bca9e8bd">idcode</a>==<a class="code" href="../../d3/dfb/DNA__ID_8h.html#a1f263dac7c79853c097b8ebde25cb0c1">ID_OB</a>) {
<a name="l01442"></a>01442             
<a name="l01443"></a>01443             glRecti(startx, y1+<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>, startx+1, y2);
<a name="l01444"></a>01444         }
<a name="l01445"></a>01445     }
<a name="l01446"></a>01446 }
<a name="l01447"></a>01447 
<a name="l01448"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a8087f3f1b4125ffee77b925f3e143207">01448</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a8087f3f1b4125ffee77b925f3e143207">outliner_draw_struct_marks</a>(<a class="code" href="../../da/d23/structARegion.html">ARegion</a> *ar, <a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb, <span class="keywordtype">int</span> *starty) 
<a name="l01449"></a>01449 {
<a name="l01450"></a>01450     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te;
<a name="l01451"></a>01451     <a class="code" href="../../da/d20/structTreeStoreElem.html">TreeStoreElem</a> *tselem;
<a name="l01452"></a>01452     
<a name="l01453"></a>01453     <span class="keywordflow">for</span> (te= lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; te; te= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>) {
<a name="l01454"></a>01454         tselem= <a class="code" href="../../df/def/outliner__intern_8h.html#a804fa5954c5c38273764b024eefa251f">TREESTORE</a>(te);
<a name="l01455"></a>01455         
<a name="l01456"></a>01456         <span class="comment">/* selection status */</span>
<a name="l01457"></a>01457         <span class="keywordflow">if</span> (<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops))
<a name="l01458"></a>01458             <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a> == <a class="code" href="../../df/def/outliner__intern_8h.html#a6fe9e87d9df6500995e10bc766497d69">TSE_RNA_STRUCT</a>)
<a name="l01459"></a>01459                 glRecti(0, *starty+1, (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>+<a class="code" href="../../d5/d63/UI__view2d_8h.html#a60f26dbc029ccff6287b02051f41e9b9">V2D_SCROLL_WIDTH</a>, *starty+<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1);
<a name="l01460"></a>01460 
<a name="l01461"></a>01461         *starty-= <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>;
<a name="l01462"></a>01462         <span class="keywordflow">if</span> (<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops)) {
<a name="l01463"></a>01463             <a class="code" href="../../d6/d94/outliner__draw_8c.html#a8087f3f1b4125ffee77b925f3e143207">outliner_draw_struct_marks</a>(ar, soops, &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>, starty);
<a name="l01464"></a>01464             <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#ad2d5548ad1b676fedbde7e0bf110d3cd">type</a> == <a class="code" href="../../df/def/outliner__intern_8h.html#a6fe9e87d9df6500995e10bc766497d69">TSE_RNA_STRUCT</a>)
<a name="l01465"></a>01465                 <a class="code" href="../../d9/d71/BIF__glutil_8h.html#a7354f70d0e522da34583d29bbec4d194">fdrawline</a>(0, (<span class="keywordtype">float</span>)*starty+<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>, ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>+<a class="code" href="../../d5/d63/UI__view2d_8h.html#a60f26dbc029ccff6287b02051f41e9b9">V2D_SCROLL_WIDTH</a>, (<span class="keywordtype">float</span>)*starty+<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>);
<a name="l01466"></a>01466         }
<a name="l01467"></a>01467     }
<a name="l01468"></a>01468 }
<a name="l01469"></a>01469 
<a name="l01470"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a85bb9d5baa2001fe34a10e7e8b27f986">01470</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a85bb9d5baa2001fe34a10e7e8b27f986">outliner_draw_selection</a>(<a class="code" href="../../da/d23/structARegion.html">ARegion</a> *ar, <a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops, <a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *lb, <span class="keywordtype">int</span> *starty) 
<a name="l01471"></a>01471 {
<a name="l01472"></a>01472     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te;
<a name="l01473"></a>01473     <a class="code" href="../../da/d20/structTreeStoreElem.html">TreeStoreElem</a> *tselem;
<a name="l01474"></a>01474     
<a name="l01475"></a>01475     <span class="keywordflow">for</span> (te= lb-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; te; te= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>) {
<a name="l01476"></a>01476         tselem= <a class="code" href="../../df/def/outliner__intern_8h.html#a804fa5954c5c38273764b024eefa251f">TREESTORE</a>(te);
<a name="l01477"></a>01477         
<a name="l01478"></a>01478         <span class="comment">/* selection status */</span>
<a name="l01479"></a>01479         <span class="keywordflow">if</span> (tselem-&gt;<a class="code" href="../../da/d20/structTreeStoreElem.html#a104426a340d0c42828c65f86ed21dd80">flag</a> &amp; <a class="code" href="../../d7/d51/DNA__outliner__types_8h.html#ab03a51728349ab4e125215da52916a93">TSE_SELECTED</a>) {
<a name="l01480"></a>01480             glRecti(0, *starty+1, (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>, *starty+<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-1);
<a name="l01481"></a>01481         }
<a name="l01482"></a>01482         *starty-= <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>;
<a name="l01483"></a>01483         <span class="keywordflow">if</span> (<a class="code" href="../../df/def/outliner__intern_8h.html#ace613b13228d89a1db39371e551432af">TSELEM_OPEN</a>(tselem,soops)) <a class="code" href="../../d6/d94/outliner__draw_8c.html#a85bb9d5baa2001fe34a10e7e8b27f986">outliner_draw_selection</a>(ar, soops, &amp;te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#a9d11a8301593c5ada35845e59ceb2853">subtree</a>, starty);
<a name="l01484"></a>01484     }
<a name="l01485"></a>01485 }
<a name="l01486"></a>01486 
<a name="l01487"></a>01487 
<a name="l01488"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#ae9cbe3c9c9af9f0e9f56ce4a7857e076">01488</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#ae9cbe3c9c9af9f0e9f56ce4a7857e076">outliner_draw_tree</a>(<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C, <a class="code" href="../../df/d5b/structuiBlock.html">uiBlock</a> *<a class="code" href="../../dc/d6a/structDrawIconArg.html#acb70a084afd6a4ce78ddde5af2ca34bd">block</a>, <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <a class="code" href="../../da/d23/structARegion.html">ARegion</a> *ar, <a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops)
<a name="l01489"></a>01489 {
<a name="l01490"></a>01490     <a class="code" href="../../da/d12/structTreeElement.html">TreeElement</a> *te;
<a name="l01491"></a>01491     <span class="keywordtype">int</span> starty, startx;
<a name="l01492"></a>01492     <span class="keywordtype">float</span> col[4];
<a name="l01493"></a>01493         
<a name="l01494"></a>01494     glBlendFunc(GL_SRC_ALPHA,  GL_ONE_MINUS_SRC_ALPHA); <span class="comment">// only once</span>
<a name="l01495"></a>01495     
<a name="l01496"></a>01496     <span class="keywordflow">if</span> (<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a0b02ecc2161884c6587b77fd39150632">ELEM</a>(soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#a29f76b867f58ad3013a34ec8af0bdf48">outlinevis</a>, <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#a2e6d0a0e762d18d66f376460a4f58953">SO_DATABLOCKS</a>, <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#a613e14201f0a7978e7a61861fcf66e6e">SO_USERDEF</a>)) {
<a name="l01497"></a>01497         <span class="comment">/* struct marks */</span>
<a name="l01498"></a>01498         <a class="code" href="../../de/d96/UI__resources_8h.html#a720062ccecc315c2c0588bfab9ad5cfb">UI_ThemeColorShadeAlpha</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531a2f524dc89597307994ab7d91402f79cf">TH_BACK</a>, -15, -200);
<a name="l01499"></a>01499         <span class="comment">//UI_ThemeColorShade(TH_BACK, -20);</span>
<a name="l01500"></a>01500         starty= (int)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a08871e1668409d82d50b637bab889f74">tot</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>-<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a3cb06133b07740d09b0ba03547cd5e1a">OL_Y_OFFSET</a>;
<a name="l01501"></a>01501         <a class="code" href="../../d6/d94/outliner__draw_8c.html#a8087f3f1b4125ffee77b925f3e143207">outliner_draw_struct_marks</a>(ar, soops, &amp;soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#adccabcddd402b182d47fa100c645fc16">tree</a>, &amp;starty);
<a name="l01502"></a>01502     }
<a name="l01503"></a>01503     
<a name="l01504"></a>01504     <span class="comment">/* always draw selection fill before hierarchy */</span>
<a name="l01505"></a>01505     <a class="code" href="../../de/d96/UI__resources_8h.html#a986d2ffa67e027bb858e453c1fd3d055">UI_GetThemeColor3fv</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531a14dd3239a06e7967dd1aa330a3e32e7b">TH_SELECT_HIGHLIGHT</a>, col);
<a name="l01506"></a>01506     glColor3fv(col);
<a name="l01507"></a>01507     starty= (int)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a08871e1668409d82d50b637bab889f74">tot</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>-<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a3cb06133b07740d09b0ba03547cd5e1a">OL_Y_OFFSET</a>;
<a name="l01508"></a>01508     <a class="code" href="../../d6/d94/outliner__draw_8c.html#a85bb9d5baa2001fe34a10e7e8b27f986">outliner_draw_selection</a>(ar, soops, &amp;soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#adccabcddd402b182d47fa100c645fc16">tree</a>, &amp;starty);
<a name="l01509"></a>01509     
<a name="l01510"></a>01510     <span class="comment">// grey hierarchy lines</span>
<a name="l01511"></a>01511     <a class="code" href="../../de/d96/UI__resources_8h.html#ad4ede272051fd08d70f30570ad85a852">UI_ThemeColorBlend</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531a2f524dc89597307994ab7d91402f79cf">TH_BACK</a>, <a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531ade800b14585ec3bc83905fe667484c4b">TH_TEXT</a>, 0.4f);
<a name="l01512"></a>01512     starty= (int)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a08871e1668409d82d50b637bab889f74">tot</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>-<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>/2-<a class="code" href="../../df/def/outliner__intern_8h.html#a3cb06133b07740d09b0ba03547cd5e1a">OL_Y_OFFSET</a>;
<a name="l01513"></a>01513     startx= 6;
<a name="l01514"></a>01514     <a class="code" href="../../d6/d94/outliner__draw_8c.html#a529c2415e36652d1b1e7a970f503307c">outliner_draw_hierarchy</a>(soops, &amp;soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#adccabcddd402b182d47fa100c645fc16">tree</a>, startx, &amp;starty);
<a name="l01515"></a>01515     
<a name="l01516"></a>01516     <span class="comment">// items themselves</span>
<a name="l01517"></a>01517     starty= (int)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a08871e1668409d82d50b637bab889f74">tot</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>-<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a3cb06133b07740d09b0ba03547cd5e1a">OL_Y_OFFSET</a>;
<a name="l01518"></a>01518     startx= 0;
<a name="l01519"></a>01519     for (te= soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#adccabcddd402b182d47fa100c645fc16">tree</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; te; te= te-&gt;<a class="code" href="../../da/d12/structTreeElement.html#af4294bd483fda182e33ddd33ad757581">next</a>) {
<a name="l01520"></a>01520         <a class="code" href="../../d6/d94/outliner__draw_8c.html#a19eb1dbada53c73b63daf3c6e5c306a3">outliner_draw_tree_element</a>(C, block, scene, ar, soops, te, startx, &amp;starty);
<a name="l01521"></a>01521     }
<a name="l01522"></a>01522 }
<a name="l01523"></a>01523 
<a name="l01524"></a>01524 
<a name="l01525"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#af8bef63f2ccef3aed05bd6602b78278f">01525</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#af8bef63f2ccef3aed05bd6602b78278f">outliner_back</a>(<a class="code" href="../../da/d23/structARegion.html">ARegion</a> *ar)
<a name="l01526"></a>01526 {
<a name="l01527"></a>01527     <span class="keywordtype">int</span> ystart;
<a name="l01528"></a>01528     
<a name="l01529"></a>01529     <a class="code" href="../../de/d96/UI__resources_8h.html#a56c7a350537a25b88d0532488032aef6">UI_ThemeColorShade</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531a2f524dc89597307994ab7d91402f79cf">TH_BACK</a>, 6);
<a name="l01530"></a>01530     ystart= (int)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a08871e1668409d82d50b637bab889f74">tot</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>;
<a name="l01531"></a>01531     ystart= <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>*(ystart/(<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>))-<a class="code" href="../../df/def/outliner__intern_8h.html#a3cb06133b07740d09b0ba03547cd5e1a">OL_Y_OFFSET</a>;
<a name="l01532"></a>01532     
<a name="l01533"></a>01533     <span class="keywordflow">while</span> (ystart+2*<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a> &gt; ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#aeea1ce7886a81f1099e897d587012013">ymin</a>) {
<a name="l01534"></a>01534         glRecti(0, ystart, (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>+<a class="code" href="../../d5/d63/UI__view2d_8h.html#a60f26dbc029ccff6287b02051f41e9b9">V2D_SCROLL_WIDTH</a>, ystart+<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>);
<a name="l01535"></a>01535         ystart-= 2*<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>;
<a name="l01536"></a>01536     }
<a name="l01537"></a>01537 }
<a name="l01538"></a>01538 
<a name="l01539"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#a0c4b3ceabb11a5856aa1cd8e8e5ce9cc">01539</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#a0c4b3ceabb11a5856aa1cd8e8e5ce9cc">outliner_draw_restrictcols</a>(<a class="code" href="../../da/d23/structARegion.html">ARegion</a> *ar)
<a name="l01540"></a>01540 {
<a name="l01541"></a>01541     <span class="keywordtype">int</span> ystart;
<a name="l01542"></a>01542     
<a name="l01543"></a>01543     <span class="comment">/* background underneath */</span>
<a name="l01544"></a>01544     <a class="code" href="../../de/d96/UI__resources_8h.html#af31db5d1a7c8b15e6e8a008482426f3a">UI_ThemeColor</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531a2f524dc89597307994ab7d91402f79cf">TH_BACK</a>);
<a name="l01545"></a>01545     glRecti((<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a3c8fc9317836860eb23be09a423c046f">OL_TOGW</a>, (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#aeea1ce7886a81f1099e897d587012013">ymin</a>-<a class="code" href="../../d5/d63/UI__view2d_8h.html#a069e052def33db00e951eec0987d4d6e">V2D_SCROLL_HEIGHT</a>-1, (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>+<a class="code" href="../../d5/d63/UI__view2d_8h.html#a60f26dbc029ccff6287b02051f41e9b9">V2D_SCROLL_WIDTH</a>, (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>);
<a name="l01546"></a>01546     
<a name="l01547"></a>01547     <a class="code" href="../../de/d96/UI__resources_8h.html#a56c7a350537a25b88d0532488032aef6">UI_ThemeColorShade</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531a2f524dc89597307994ab7d91402f79cf">TH_BACK</a>, 6);
<a name="l01548"></a>01548     ystart= (int)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a08871e1668409d82d50b637bab889f74">tot</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>;
<a name="l01549"></a>01549     ystart= <a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>*(ystart/(<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>))-<a class="code" href="../../df/def/outliner__intern_8h.html#a3cb06133b07740d09b0ba03547cd5e1a">OL_Y_OFFSET</a>;
<a name="l01550"></a>01550     
<a name="l01551"></a>01551     <span class="keywordflow">while</span> (ystart+2*<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a> &gt; ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#aeea1ce7886a81f1099e897d587012013">ymin</a>) {
<a name="l01552"></a>01552         glRecti((<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a3c8fc9317836860eb23be09a423c046f">OL_TOGW</a>, ystart, (<span class="keywordtype">int</span>)ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>, ystart+<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>);
<a name="l01553"></a>01553         ystart-= 2*<a class="code" href="../../d8/d1e/UI__interface_8h.html#a07a4d52f535e8a85b1550584847132d8">UI_UNIT_Y</a>;
<a name="l01554"></a>01554     }
<a name="l01555"></a>01555     
<a name="l01556"></a>01556     <a class="code" href="../../de/d96/UI__resources_8h.html#a720062ccecc315c2c0588bfab9ad5cfb">UI_ThemeColorShadeAlpha</a>(<a class="code" href="../../de/d96/UI__resources_8h.html#ae33c78feb670de33d2abf21ec0624531a2f524dc89597307994ab7d91402f79cf">TH_BACK</a>, -15, -200);
<a name="l01557"></a>01557 
<a name="l01558"></a>01558     <span class="comment">/* view */</span>
<a name="l01559"></a>01559     <a class="code" href="../../d9/d71/BIF__glutil_8h.html#a7354f70d0e522da34583d29bbec4d194">fdrawline</a>(ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a62d88e584ca23b403c66f645264ffa65">OL_TOG_RESTRICT_VIEWX</a>,
<a name="l01560"></a>01560         ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>,
<a name="l01561"></a>01561         ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#a62d88e584ca23b403c66f645264ffa65">OL_TOG_RESTRICT_VIEWX</a>,
<a name="l01562"></a>01562         ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#aeea1ce7886a81f1099e897d587012013">ymin</a> - <a class="code" href="../../d5/d63/UI__view2d_8h.html#a069e052def33db00e951eec0987d4d6e">V2D_SCROLL_HEIGHT</a>);
<a name="l01563"></a>01563 
<a name="l01564"></a>01564     <span class="comment">/* render */</span>
<a name="l01565"></a>01565     <a class="code" href="../../d9/d71/BIF__glutil_8h.html#a7354f70d0e522da34583d29bbec4d194">fdrawline</a>(ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#abd26075c456ca4d4d1fc311a90f8ba26">OL_TOG_RESTRICT_SELECTX</a>,
<a name="l01566"></a>01566         ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>,
<a name="l01567"></a>01567         ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#abd26075c456ca4d4d1fc311a90f8ba26">OL_TOG_RESTRICT_SELECTX</a>,
<a name="l01568"></a>01568         ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#aeea1ce7886a81f1099e897d587012013">ymin</a> - <a class="code" href="../../d5/d63/UI__view2d_8h.html#a069e052def33db00e951eec0987d4d6e">V2D_SCROLL_HEIGHT</a>);
<a name="l01569"></a>01569 
<a name="l01570"></a>01570     <span class="comment">/* render */</span>
<a name="l01571"></a>01571     <a class="code" href="../../d9/d71/BIF__glutil_8h.html#a7354f70d0e522da34583d29bbec4d194">fdrawline</a>(ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#aa2ac8112dd01749f57251f4b7f224906">OL_TOG_RESTRICT_RENDERX</a>,
<a name="l01572"></a>01572         ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#ab8c08095a5b34878ced13a9b3026b74f">ymax</a>,
<a name="l01573"></a>01573         ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#a76a664abf5a6971d8cc82d85c31a1178">xmax</a>-<a class="code" href="../../df/def/outliner__intern_8h.html#aa2ac8112dd01749f57251f4b7f224906">OL_TOG_RESTRICT_RENDERX</a>,
<a name="l01574"></a>01574         ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>.<a class="code" href="../../d7/de3/structView2D.html#a3e5cff50450e7702e8a33b40dd056cbb">cur</a>.<a class="code" href="../../da/d10/structrctf.html#aeea1ce7886a81f1099e897d587012013">ymin</a> - <a class="code" href="../../d5/d63/UI__view2d_8h.html#a069e052def33db00e951eec0987d4d6e">V2D_SCROLL_HEIGHT</a>);
<a name="l01575"></a>01575 }
<a name="l01576"></a>01576 
<a name="l01577"></a>01577 <span class="comment">/* ****************************************************** */</span>
<a name="l01578"></a>01578 <span class="comment">/* Main Entrypoint - Draw contents of Outliner editor */</span>
<a name="l01579"></a>01579  
<a name="l01580"></a><a class="code" href="../../d6/d94/outliner__draw_8c.html#acf332aa15529b629f208ae6fe5aabcbb">01580</a> <span class="keywordtype">void</span> <a class="code" href="../../d6/d94/outliner__draw_8c.html#acf332aa15529b629f208ae6fe5aabcbb">draw_outliner</a>(<span class="keyword">const</span> <a class="code" href="../../d5/df1/structbContext.html">bContext</a> *C)
<a name="l01581"></a>01581 {
<a name="l01582"></a>01582     <a class="code" href="../../d0/dc0/structMain.html">Main</a> *mainvar= <a class="code" href="../../df/d01/BKE__context_8h.html#ae849d2f7c2427ac6b75ee0c5ffcead6c">CTX_data_main</a>(C);
<a name="l01583"></a>01583     <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene= <a class="code" href="../../df/d01/BKE__context_8h.html#a0bcac8ad3452a040293c01084665a258">CTX_data_scene</a>(C);
<a name="l01584"></a>01584     <a class="code" href="../../da/d23/structARegion.html">ARegion</a> *ar= <a class="code" href="../../df/d01/BKE__context_8h.html#acfdde96de6c66805749111818756b92f">CTX_wm_region</a>(C);
<a name="l01585"></a>01585     <a class="code" href="../../d7/de3/structView2D.html">View2D</a> *v2d= &amp;ar-&gt;<a class="code" href="../../da/d23/structARegion.html#a3abcb927aedd966f98e3417897e2c243">v2d</a>;
<a name="l01586"></a>01586     <a class="code" href="../../d3/d88/structSpaceOops.html">SpaceOops</a> *soops= <a class="code" href="../../df/d01/BKE__context_8h.html#a757b3be66ff99f2d3f92e0486c3eb381">CTX_wm_space_outliner</a>(C);
<a name="l01587"></a>01587     <a class="code" href="../../df/d5b/structuiBlock.html">uiBlock</a> *<a class="code" href="../../dc/d6a/structDrawIconArg.html#acb70a084afd6a4ce78ddde5af2ca34bd">block</a>;
<a name="l01588"></a>01588     <span class="keywordtype">int</span> sizey= 0, sizex= 0, sizex_rna= 0;
<a name="l01589"></a>01589     
<a name="l01590"></a>01590     <a class="code" href="../../df/def/outliner__intern_8h.html#a3595cd480d64dac3890a6c1284c887c0">outliner_build_tree</a>(mainvar, scene, soops); <span class="comment">// always </span>
<a name="l01591"></a>01591     
<a name="l01592"></a>01592     <span class="comment">/* get extents of data */</span>
<a name="l01593"></a>01593     <a class="code" href="../../d6/d94/outliner__draw_8c.html#a714e70fb3593ca19ed06f1f0ddd2b850">outliner_height</a>(soops, &amp;soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#adccabcddd402b182d47fa100c645fc16">tree</a>, &amp;sizey);
<a name="l01594"></a>01594 
<a name="l01595"></a>01595     <span class="keywordflow">if</span> (<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#ad3568ab74428f47aea1c855024e467f0">ELEM3</a>(soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#a29f76b867f58ad3013a34ec8af0bdf48">outlinevis</a>, <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#a2e6d0a0e762d18d66f376460a4f58953">SO_DATABLOCKS</a>, <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#a613e14201f0a7978e7a61861fcf66e6e">SO_USERDEF</a>, <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#ae2f16b3fda0527c1972237e8e716b107">SO_KEYMAP</a>)) {
<a name="l01596"></a>01596         <span class="comment">/* RNA has two columns:</span>
<a name="l01597"></a>01597 <span class="comment">         *  - column 1 is (max_width + OL_RNA_COL_SPACEX) or</span>
<a name="l01598"></a>01598 <span class="comment">         *               (OL_RNA_COL_X), whichever is wider...</span>
<a name="l01599"></a>01599 <span class="comment">         *  - column 2 is fixed at OL_RNA_COL_SIZEX</span>
<a name="l01600"></a>01600 <span class="comment">         *</span>
<a name="l01601"></a>01601 <span class="comment">         *  (*) XXX max width for now is a fixed factor of UI_UNIT_X*(max_indention+100)</span>
<a name="l01602"></a>01602 <span class="comment">         */</span>
<a name="l01603"></a>01603          
<a name="l01604"></a>01604         <span class="comment">/* get actual width of column 1 */</span>
<a name="l01605"></a>01605         <a class="code" href="../../d6/d94/outliner__draw_8c.html#ad56b31390f1e1d68587a61dc6c3f094d">outliner_rna_width</a>(soops, &amp;soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#adccabcddd402b182d47fa100c645fc16">tree</a>, &amp;sizex_rna, 0);
<a name="l01606"></a>01606         sizex_rna= <a class="code" href="../../d0/dbd/bmfont_8c.html#a57562d98bd289bc7ea77ba251915d8fb">MAX2</a>(<a class="code" href="../../df/def/outliner__intern_8h.html#a2d9da8fe7a6a684a1a1d4b9424e2ecdb">OL_RNA_COLX</a>, sizex_rna+<a class="code" href="../../df/def/outliner__intern_8h.html#a1a06cfc774cbb4625a2d7e42b21e4c41">OL_RNA_COL_SPACEX</a>);
<a name="l01607"></a>01607         
<a name="l01608"></a>01608         <span class="comment">/* get width of data (for setting &#39;tot&#39; rect, this is column 1 + column 2 + a bit extra) */</span>
<a name="l01609"></a>01609         <span class="keywordflow">if</span> (soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#a29f76b867f58ad3013a34ec8af0bdf48">outlinevis</a> == <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#ae2f16b3fda0527c1972237e8e716b107">SO_KEYMAP</a>) 
<a name="l01610"></a>01610             sizex= sizex_rna + <a class="code" href="../../df/def/outliner__intern_8h.html#a9a1ea72fdb3d497aaf392848847eeae9">OL_RNA_COL_SIZEX</a>*3 + 50; <span class="comment">// XXX this is only really a quick hack to make this wide enough...</span>
<a name="l01611"></a>01611         <span class="keywordflow">else</span>
<a name="l01612"></a>01612             sizex= sizex_rna + OL_RNA_COL_SIZEX + 50;
<a name="l01613"></a>01613     }
<a name="l01614"></a>01614     <span class="keywordflow">else</span> {
<a name="l01615"></a>01615         <span class="comment">/* width must take into account restriction columns (if visible) so that entries will still be visible */</span>
<a name="l01616"></a>01616         <span class="comment">//outliner_width(soops, &amp;soops-&gt;tree, &amp;sizex);</span>
<a name="l01617"></a>01617         <a class="code" href="../../d6/d94/outliner__draw_8c.html#ad56b31390f1e1d68587a61dc6c3f094d">outliner_rna_width</a>(soops, &amp;soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#adccabcddd402b182d47fa100c645fc16">tree</a>, &amp;sizex, 0); <span class="comment">// XXX should use outliner_width instead when te-&gt;xend will be set correctly...</span>
<a name="l01618"></a>01618         
<a name="l01619"></a>01619         <span class="comment">/* constant offset for restriction columns */</span>
<a name="l01620"></a>01620         <span class="comment">// XXX this isn&#39;t that great yet...</span>
<a name="l01621"></a>01621         <span class="keywordflow">if</span> ((soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#a021a8872d58852ddc3dcb7b97cb45973">flag</a> &amp; <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#ad16fd3dbf1093fdd459662055b50de7c">SO_HIDE_RESTRICTCOLS</a>)==0)
<a name="l01622"></a>01622             sizex += <a class="code" href="../../df/def/outliner__intern_8h.html#a3c8fc9317836860eb23be09a423c046f">OL_TOGW</a>*3;
<a name="l01623"></a>01623     }
<a name="l01624"></a>01624     
<a name="l01625"></a>01625     <span class="comment">/* tweak to display last line (when list bigger than window) */</span>
<a name="l01626"></a>01626     sizey += <a class="code" href="../../d5/d63/UI__view2d_8h.html#a069e052def33db00e951eec0987d4d6e">V2D_SCROLL_HEIGHT</a>;
<a name="l01627"></a>01627     
<a name="l01628"></a>01628     <span class="comment">/* adds vertical offset */</span>
<a name="l01629"></a>01629     sizey += <a class="code" href="../../df/def/outliner__intern_8h.html#a3cb06133b07740d09b0ba03547cd5e1a">OL_Y_OFFSET</a>;
<a name="l01630"></a>01630 
<a name="l01631"></a>01631     <span class="comment">/* update size of tot-rect (extents of data/viewable area) */</span>
<a name="l01632"></a>01632     <a class="code" href="../../d5/d63/UI__view2d_8h.html#a51e24abcadd7da64156203eb919aeaee">UI_view2d_totRect_set</a>(v2d, sizex, sizey);
<a name="l01633"></a>01633 
<a name="l01634"></a>01634     <span class="comment">/* force display to pixel coords */</span>
<a name="l01635"></a>01635     v2d-&gt;<a class="code" href="../../d7/de3/structView2D.html#a0c6ad4ab28f9e6cc5b9fd9e3aafafbac">flag</a> |= (<a class="code" href="../../df/d05/DNA__view2d__types_8h.html#aa75dca45404bbc0929370ff2eb226acf">V2D_PIXELOFS_X</a>|<a class="code" href="../../df/d05/DNA__view2d__types_8h.html#a6748d8818e7a0e9d1c4b00f6c246667c">V2D_PIXELOFS_Y</a>);
<a name="l01636"></a>01636     <span class="comment">/* set matrix for 2d-view controls */</span>
<a name="l01637"></a>01637     <a class="code" href="../../d5/d63/UI__view2d_8h.html#a10df649f115243423dbd5d9777d182f7">UI_view2d_view_ortho</a>(v2d);
<a name="l01638"></a>01638 
<a name="l01639"></a>01639     <span class="comment">/* draw outliner stuff (background, hierachy lines and names) */</span>
<a name="l01640"></a>01640     <a class="code" href="../../d6/d94/outliner__draw_8c.html#af8bef63f2ccef3aed05bd6602b78278f">outliner_back</a>(ar);
<a name="l01641"></a>01641     block= <a class="code" href="../../d8/d1e/UI__interface_8h.html#a8bb41a5814e5120ba3c694cb35667128">uiBeginBlock</a>(C, ar, __func__, <a class="code" href="../../d8/d1e/UI__interface_8h.html#a505992b59501cd825ea7f6d7ad3358a6">UI_EMBOSS</a>);
<a name="l01642"></a>01642     <a class="code" href="../../d6/d94/outliner__draw_8c.html#ae9cbe3c9c9af9f0e9f56ce4a7857e076">outliner_draw_tree</a>((<a class="code" href="../../d5/df1/structbContext.html">bContext</a> *)C, block, scene, ar, soops);
<a name="l01643"></a>01643     
<a name="l01644"></a>01644     <span class="keywordflow">if</span> (<a class="code" href="../../da/d7d/BLI__utildefines_8h.html#a0b02ecc2161884c6587b77fd39150632">ELEM</a>(soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#a29f76b867f58ad3013a34ec8af0bdf48">outlinevis</a>, <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#a2e6d0a0e762d18d66f376460a4f58953">SO_DATABLOCKS</a>, <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#a613e14201f0a7978e7a61861fcf66e6e">SO_USERDEF</a>)) {
<a name="l01645"></a>01645         <span class="comment">/* draw rna buttons */</span>
<a name="l01646"></a>01646         <a class="code" href="../../d6/d94/outliner__draw_8c.html#a61bae71b9bd773c94ddf00cfedee2095">outliner_draw_rnacols</a>(ar, sizex_rna);
<a name="l01647"></a>01647         <a class="code" href="../../d6/d94/outliner__draw_8c.html#a57f5a8898f27619510ec4ea0e2632473">outliner_draw_rnabuts</a>(block, scene, ar, soops, sizex_rna, &amp;soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#adccabcddd402b182d47fa100c645fc16">tree</a>);
<a name="l01648"></a>01648     }
<a name="l01649"></a>01649     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#a29f76b867f58ad3013a34ec8af0bdf48">outlinevis</a> == <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#ae2f16b3fda0527c1972237e8e716b107">SO_KEYMAP</a>) {
<a name="l01650"></a>01650         <a class="code" href="../../d6/d94/outliner__draw_8c.html#ad103340e69a7cee156888afbea9edbbc">outliner_draw_keymapbuts</a>(block, ar, soops, &amp;soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#adccabcddd402b182d47fa100c645fc16">tree</a>);
<a name="l01651"></a>01651     }
<a name="l01652"></a>01652     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#a021a8872d58852ddc3dcb7b97cb45973">flag</a> &amp; <a class="code" href="../../d8/d5d/DNA__space__types_8h.html#ad16fd3dbf1093fdd459662055b50de7c">SO_HIDE_RESTRICTCOLS</a>)) {
<a name="l01653"></a>01653         <span class="comment">/* draw restriction columns */</span>
<a name="l01654"></a>01654         <a class="code" href="../../d6/d94/outliner__draw_8c.html#a0c4b3ceabb11a5856aa1cd8e8e5ce9cc">outliner_draw_restrictcols</a>(ar);
<a name="l01655"></a>01655         <a class="code" href="../../d6/d94/outliner__draw_8c.html#a08b739c46a494d7a26cc453baacbde96">outliner_draw_restrictbuts</a>(block, scene, ar, soops, &amp;soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#adccabcddd402b182d47fa100c645fc16">tree</a>);
<a name="l01656"></a>01656     }
<a name="l01657"></a>01657 
<a name="l01658"></a>01658     <span class="comment">/* draw edit buttons if nessecery */</span>
<a name="l01659"></a>01659     <a class="code" href="../../d6/d94/outliner__draw_8c.html#a1863e5a260de30f1ce8c479b60fc2fcc">outliner_buttons</a>(C, block, ar, soops, &amp;soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#adccabcddd402b182d47fa100c645fc16">tree</a>);    
<a name="l01660"></a>01660 
<a name="l01661"></a>01661     <a class="code" href="../../d8/d1e/UI__interface_8h.html#ac166273cd2c217e8b1da1bdac55a8ef8">uiEndBlock</a>(C, block);
<a name="l01662"></a>01662     <a class="code" href="../../d8/d1e/UI__interface_8h.html#a4979d0ae4319574956c3ef2f2c3afa06">uiDrawBlock</a>(C, block);
<a name="l01663"></a>01663     
<a name="l01664"></a>01664     <span class="comment">/* clear flag that allows quick redraws */</span>
<a name="l01665"></a>01665     soops-&gt;<a class="code" href="../../d3/d88/structSpaceOops.html#afa5f6723bdfa80b2c1b91dcd74942d21">storeflag</a> &amp;= ~<a class="code" href="../../d8/d5d/DNA__space__types_8h.html#a75887cd4f4fe3e6149b78e43230360a5">SO_TREESTORE_REDRAW</a>;
<a name="l01666"></a>01666 } 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Nov 13 2012 11:54:42 for Blender by&#160;
<a href="http://www.doxygen.org/index.html"> 
doxygen</a> 1.7.4 </small></address> 
</body>
</html>
