<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Blender: sunsky.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blender.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Blender&#160;<span id="projectnumber">V2.6x</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sunsky.c File Reference<div class="ingroups"><a class="el" href="../../d1/dfe/group__render.html">Rendering</a></div></div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../dc/d88/sunsky_8h_source.html">sunsky.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d2/d4b/BLI__math_8h_source.html">BLI_math.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/d8c/BKE__global_8h_source.html">BKE_global.h</a>&quot;</code><br/>
</div>
<p><a href="../../da/d31/sunsky_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d31/sunsky_8c.html#a63793c4180f58ba263f35ffb93c5941b">VEC3OPV</a>(v1, v2, op, v3)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d31/sunsky_8c.html#ae564c901b6330fff8745d6841988b4ad">VEC3OPF</a>(v1, v2, op, f1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d31/sunsky_8c.html#a63093198685289b6c778b1faa1246dca">FOPVEC3</a>(v1, f1, op, v2)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d31/sunsky_8c.html#add265b69bf1fe55e454d36bc0a0bf089">ClipColor</a> (float c[3])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d31/sunsky_8c.html#a30015501191094f651ee583483335ebf">AngleBetween</a> (float thetav, float phiv, float theta, float phi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d31/sunsky_8c.html#a3c994305db134e31e1b3d8ae857b6018">DirectionToThetaPhi</a> (float *toSun, float *theta, float *phi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d31/sunsky_8c.html#ab9c706679642ee6be150f6c7a98a46fc">PerezFunction</a> (struct <a class="el" href="../../d7/dc2/structSunSky.html">SunSky</a> *sunsky, const float *lam, float theta, float gamma, float lvz)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d31/sunsky_8c.html#a320aaf01c0443f4b14a0d6302dc0e4fd">InitSunSky</a> (struct <a class="el" href="../../d7/dc2/structSunSky.html">SunSky</a> *sunsky, float turb, float *toSun, float horizon_brightness, float spread, float sun_brightness, float sun_size, float back_scatter, float skyblendfac, short skyblendtype, float sky_exposure, float sky_colorspace)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d31/sunsky_8c.html#ac19f768471779fdd3e394e54d4ba9e05">GetSkyXYZRadiance</a> (struct <a class="el" href="../../d7/dc2/structSunSky.html">SunSky</a> *sunsky, float theta, float phi, float color_out[3])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d31/sunsky_8c.html#a635b203f1cec132c76cd888249df299b">GetSkyXYZRadiancef</a> (struct <a class="el" href="../../d7/dc2/structSunSky.html">SunSky</a> *sunsky, const float varg[3], float color_out[3])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d31/sunsky_8c.html#a0241266c76d7334f279102a1de8f79c8">ComputeAttenuatedSunlight</a> (float theta, int turbidity, float fTau[3])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d31/sunsky_8c.html#af3a60aad8494a03ce09ee469cf29dd57">InitAtmosphere</a> (struct <a class="el" href="../../d7/dc2/structSunSky.html">SunSky</a> *sunSky, float sun_intens, float mief, float rayf, float inscattf, float extincf, float disf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d31/sunsky_8c.html#a1d5ef4ae25285a3f691a14a8c02570b7">AtmospherePixleShader</a> (struct <a class="el" href="../../d7/dc2/structSunSky.html">SunSky</a> *sunSky, float view[3], float s, float rgb[3])</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This feature comes from Preetham paper on "A Practical Analytic Model for Daylight" and example code from Brian Smits, another author of that paper in <a href="http://www.cs.utah.edu/vissim/papers/sunsky/code/">http://www.cs.utah.edu/vissim/papers/sunsky/code/</a> </p>

<p>Definition in file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a63093198685289b6c778b1faa1246dca"></a><!-- doxytag: member="sunsky.c::FOPVEC3" ref="a63093198685289b6c778b1faa1246dca" args="(v1, f1, op, v2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FOPVEC3</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">op, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">{                                                                         \
        v1[0] = ((f1) op v2[0]);                                              \
        v1[1] = ((f1) op v2[1]);                                              \
        v1[2] = ((f1) op v2[2]);                                              \
    } (void)0
</pre></div><p>compute v1 = f1 op v2 v1, v2 are vectors contains 3 float and f1 is a float </p>

<p>Definition at line <a class="el" href="../../da/d31/sunsky_8c_source.html#l00065">65</a> of file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>

<p>Referenced by <a class="el" href="../../da/d31/sunsky_8c_source.html#l00439">AtmospherePixleShader()</a>.</p>

</div>
</div>
<a class="anchor" id="ae564c901b6330fff8745d6841988b4ad"></a><!-- doxytag: member="sunsky.c::VEC3OPF" ref="ae564c901b6330fff8745d6841988b4ad" args="(v1, v2, op, f1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VEC3OPF</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">op, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f1&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">{                                                                         \
        v1[0] = (v2[0] op (f1));                                              \
        v1[1] = (v2[1] op (f1));                                              \
        v1[2] = (v2[2] op (f1));                                              \
    } (void)0
</pre></div><p>compute v1 = v2 op f1 v1, v2 are vectors contains 3 float and f1 is a float </p>

<p>Definition at line <a class="el" href="../../da/d31/sunsky_8c_source.html#l00053">53</a> of file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>

<p>Referenced by <a class="el" href="../../da/d31/sunsky_8c_source.html#l00439">AtmospherePixleShader()</a>, and <a class="el" href="../../da/d31/sunsky_8c_source.html#l00365">InitAtmosphere()</a>.</p>

</div>
</div>
<a class="anchor" id="a63793c4180f58ba263f35ffb93c5941b"></a><!-- doxytag: member="sunsky.c::VEC3OPV" ref="a63793c4180f58ba263f35ffb93c5941b" args="(v1, v2, op, v3)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VEC3OPV</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">op, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v3&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">{                                                                         \
        v1[0] = (v2[0] op v3[0]);                                             \
        v1[1] = (v2[1] op v3[1]);                                             \
        v1[2] = (v2[2] op v3[2]);                                             \
    } (void)0
</pre></div><p>These macros are defined for vector operations compute v1 = v2 op v3 v1, v2 and v3 are vectors contains 3 float </p>

<p>Definition at line <a class="el" href="../../da/d31/sunsky_8c_source.html#l00041">41</a> of file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>

<p>Referenced by <a class="el" href="../../da/d31/sunsky_8c_source.html#l00439">AtmospherePixleShader()</a>, and <a class="el" href="../../da/d31/sunsky_8c_source.html#l00365">InitAtmosphere()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a30015501191094f651ee583483335ebf"></a><!-- doxytag: member="sunsky.c::AngleBetween" ref="a30015501191094f651ee583483335ebf" args="(float thetav, float phiv, float theta, float phi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static float AngleBetween </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>thetav</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>phiv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>theta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>phi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>AngleBetween: compute angle between to direction all angles are in radians </p>

<p>Definition at line <a class="el" href="../../da/d31/sunsky_8c_source.html#l00091">91</a> of file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>

<p>References <a class="el" href="../../d7/d47/NM__Scalar_8h_source.html#l00135">acos()</a>, <a class="el" href="../../d7/d47/NM__Scalar_8h_source.html#l00140">cos()</a>, <a class="el" href="../../d6/ddc/constraint_8c_source.html#l00093">M_PI</a>, and <a class="el" href="../../d7/d47/NM__Scalar_8h_source.html#l00145">sin()</a>.</p>

<p>Referenced by <a class="el" href="../../da/d31/sunsky_8c_source.html#l00251">GetSkyXYZRadiance()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d5ef4ae25285a3f691a14a8c02570b7"></a><!-- doxytag: member="sunsky.c::AtmospherePixleShader" ref="a1d5ef4ae25285a3f691a14a8c02570b7" args="(struct SunSky *sunSky, float view[3], float s, float rgb[3])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AtmospherePixleShader </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc2/structSunSky.html">SunSky</a> *&#160;</td>
          <td class="paramname"><em>sunSky</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>view</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rgb</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>AtmospherePixleShader: this function apply atmosphere effect on a pixle color `rgb' at distance `s' parameters: sunSky, contains information about sun parameters and user values view, is camera view vector s, is distance rgb, contains rendered color value for a pixle </p>

<p>Definition at line <a class="el" href="../../da/d31/sunsky_8c_source.html#l00439">439</a> of file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>

<p>References <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00071">SunSky::atm_BetaDashMie</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00069">SunSky::atm_BetaDashRay</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00070">SunSky::atm_BetaMie</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00065">SunSky::atm_BetaMieMultiplier</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00068">SunSky::atm_BetaRay</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00064">SunSky::atm_BetaRayMultiplier</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00072">SunSky::atm_BetaRM</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00066">SunSky::atm_DistanceMultiplier</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00063">SunSky::atm_ExtinctionMultiplier</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00059">SunSky::atm_HGg</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00062">SunSky::atm_InscatteringMultiplier</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00061">SunSky::atm_SunIntensity</a>, <a class="el" href="../../da/d31/sunsky_8c_source.html#l00323">ComputeAttenuatedSunlight()</a>, <a class="el" href="../../df/dd2/math__vector__inline_8c_source.html#l00065">copy_v3_v3()</a>, <a class="el" href="../../df/dd2/math__vector__inline_8c_source.html#l00466">dot_v3v3()</a>, <a class="el" href="../../d1/d39/rall1d_8h_source.html#l00296">KDL::exp()</a>, <a class="el" href="../../da/d31/sunsky_8c_source.html#l00065">FOPVEC3</a>, <a class="el" href="../../d7/d0d/node__texture__proc_8c_source.html#l00054">I</a>, <a class="el" href="../../dd/d06/BLI__math__base_8h_source.html#l00069">M_LN2</a>, <a class="el" href="../../dd/d06/BLI__math__base_8h_source.html#l00081">sqrtf</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00038">SunSky::theta</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00040">SunSky::toSun</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00037">SunSky::turbidity</a>, <a class="el" href="../../da/d31/sunsky_8c_source.html#l00053">VEC3OPF</a>, and <a class="el" href="../../da/d31/sunsky_8c_source.html#l00041">VEC3OPV</a>.</p>

<p>Referenced by <a class="el" href="../../d9/dc7/pixelshading_8c_source.html#l00650">shadeAtmPixel()</a>.</p>

</div>
</div>
<a class="anchor" id="add265b69bf1fe55e454d36bc0a0bf089"></a><!-- doxytag: member="sunsky.c::ClipColor" ref="add265b69bf1fe55e454d36bc0a0bf089" args="(float c[3])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClipColor </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>c</em>[3]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ClipColor: clip a color to range [0,1]; </p>

<p>Definition at line <a class="el" href="../../da/d31/sunsky_8c_source.html#l00076">76</a> of file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0241266c76d7334f279102a1de8f79c8"></a><!-- doxytag: member="sunsky.c::ComputeAttenuatedSunlight" ref="a0241266c76d7334f279102a1de8f79c8" args="(float theta, int turbidity, float fTau[3])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ComputeAttenuatedSunlight </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>theta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>turbidity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>fTau</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ComputeAttenuatedSunlight: this function compute attenuated sun light based on sun's theta and atmosphere turbidity parameters: theta, is sun's theta turbidity: is atmosphere turbidity fTau: contains computed attenuated sun light </p>

<p>Definition at line <a class="el" href="../../da/d31/sunsky_8c_source.html#l00323">323</a> of file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>

<p>References <a class="el" href="../../dd/d06/BLI__math__base_8h_source.html#l00087">cosf</a>, <a class="el" href="../../d1/d39/rall1d_8h_source.html#l00296">KDL::exp()</a>, <a class="el" href="../../dd/d06/BLI__math__base_8h_source.html#l00120">expf</a>, <a class="el" href="../../dd/db6/paraloopend_8h_source.html#l00008">i</a>, <a class="el" href="../../d6/ddc/constraint_8c_source.html#l00093">M_PI</a>, and <a class="el" href="../../dd/d06/BLI__math__base_8h_source.html#l00084">powf</a>.</p>

<p>Referenced by <a class="el" href="../../da/d31/sunsky_8c_source.html#l00439">AtmospherePixleShader()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c994305db134e31e1b3d8ae857b6018"></a><!-- doxytag: member="sunsky.c::DirectionToThetaPhi" ref="a3c994305db134e31e1b3d8ae857b6018" args="(float *toSun, float *theta, float *phi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void DirectionToThetaPhi </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>toSun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>theta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>phi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>DirectionToThetaPhi: this function convert a direction to it's theta and phi value parameters: toSun: contains direction information theta, phi, are return values from this conversion </p>

<p>Definition at line <a class="el" href="../../da/d31/sunsky_8c_source.html#l00110">110</a> of file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>

<p>References <a class="el" href="../../d7/d47/NM__Scalar_8h_source.html#l00135">acos()</a>, <a class="el" href="../../d1/d39/rall1d_8h_source.html#l00430">KDL::atan2()</a>, and <a class="el" href="../../d1/d22/stdosl_8h.html#a706cbf0492993ed1d280ccf8e9b56682">fabs()</a>.</p>

<p>Referenced by <a class="el" href="../../da/d31/sunsky_8c_source.html#l00298">GetSkyXYZRadiancef()</a>, and <a class="el" href="../../da/d31/sunsky_8c_source.html#l00148">InitSunSky()</a>.</p>

</div>
</div>
<a class="anchor" id="ac19f768471779fdd3e394e54d4ba9e05"></a><!-- doxytag: member="sunsky.c::GetSkyXYZRadiance" ref="ac19f768471779fdd3e394e54d4ba9e05" args="(struct SunSky *sunsky, float theta, float phi, float color_out[3])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetSkyXYZRadiance </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc2/structSunSky.html">SunSky</a> *&#160;</td>
          <td class="paramname"><em>sunsky</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>theta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>phi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>color_out</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>GetSkyXYZRadiance: this function compute sky radiance according to a view parameters `theta' and `phi'and sunSky values parameters: sunSky, sontains sun and sky parameters theta, is sun's theta phi, is sun's phi color_out, is computed color that shows sky radiance in XYZ color format </p>

<p>Definition at line <a class="el" href="../../da/d31/sunsky_8c_source.html#l00251">251</a> of file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>

<p>References <a class="el" href="../../da/d31/sunsky_8c_source.html#l00091">AngleBetween()</a>, <a class="el" href="../../d1/d39/rall1d_8h_source.html#l00296">KDL::exp()</a>, <a class="el" href="../../dd/d06/BLI__math__base_8h_source.html#l00057">M_1_PI</a>, <a class="el" href="../../d6/ddc/constraint_8c_source.html#l00093">M_PI</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00047">SunSky::perez_x</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00047">SunSky::perez_Y</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00047">SunSky::perez_y</a>, <a class="el" href="../../da/d31/sunsky_8c_source.html#l00123">PerezFunction()</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00038">SunSky::phi</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00057">SunSky::sky_exposure</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00038">SunSky::theta</a>, <a class="el" href="../../de/da0/strsv_8c.html#a5ae25df4ee72f83efb4a3683c970678f">X</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00045">SunSky::zenith_x</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00045">SunSky::zenith_Y</a>, and <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00045">SunSky::zenith_y</a>.</p>

<p>Referenced by <a class="el" href="../../da/d31/sunsky_8c_source.html#l00298">GetSkyXYZRadiancef()</a>.</p>

</div>
</div>
<a class="anchor" id="a635b203f1cec132c76cd888249df299b"></a><!-- doxytag: member="sunsky.c::GetSkyXYZRadiancef" ref="a635b203f1cec132c76cd888249df299b" args="(struct SunSky *sunsky, const float varg[3], float color_out[3])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetSkyXYZRadiancef </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc2/structSunSky.html">SunSky</a> *&#160;</td>
          <td class="paramname"><em>sunsky</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>varg</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>color_out</em>[3]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>GetSkyXYZRadiancef: this function compute sky radiance according to a view direction `varg' and sunSky values parameters: sunSky, sontains sun and sky parameters varg, shows direction color_out, is computed color that shows sky radiance in XYZ color format </p>

<p>Definition at line <a class="el" href="../../da/d31/sunsky_8c_source.html#l00298">298</a> of file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>

<p>References <a class="el" href="../../df/dd2/math__vector__inline_8c_source.html#l00065">copy_v3_v3()</a>, <a class="el" href="../../da/d31/sunsky_8c_source.html#l00110">DirectionToThetaPhi()</a>, <a class="el" href="../../da/d31/sunsky_8c_source.html#l00251">GetSkyXYZRadiance()</a>, and <a class="el" href="../../df/dd2/math__vector__inline_8c_source.html#l00623">normalize_v3()</a>.</p>

<p>Referenced by <a class="el" href="../../d9/dc7/pixelshading_8c_source.html#l00564">shadeSunView()</a>.</p>

</div>
</div>
<a class="anchor" id="af3a60aad8494a03ce09ee469cf29dd57"></a><!-- doxytag: member="sunsky.c::InitAtmosphere" ref="af3a60aad8494a03ce09ee469cf29dd57" args="(struct SunSky *sunSky, float sun_intens, float mief, float rayf, float inscattf, float extincf, float disf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitAtmosphere </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc2/structSunSky.html">SunSky</a> *&#160;</td>
          <td class="paramname"><em>sunSky</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>sun_intens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>mief</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rayf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>inscattf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>extincf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>disf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>InitAtmosphere: this function initiate sunSky structure with user input parameters. parameters: sunSky, contains information about sun, and in this function some atmosphere parameters will initiated sun_intens, shows sun intensity value mief, Mie scattering factor this factor currently call with 1.0 rayf, Rayleigh scattering factor, this factor currently call with 1.0 inscattf, inscatter light factor that range from 0.0 to 1.0, 0.0 means no inscatter light and 1.0 means full inscatter light extincf, extinction light factor that range from 0.0 to 1.0, 0.0 means no extinction and 1.0 means full extinction disf, is distance factor, multiplyed to pixle's z value to compute each pixle's distance to camera, </p>

<p>Definition at line <a class="el" href="../../da/d31/sunsky_8c_source.html#l00365">365</a> of file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>

<p>References <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00071">SunSky::atm_BetaDashMie</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00069">SunSky::atm_BetaDashRay</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00070">SunSky::atm_BetaMie</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00065">SunSky::atm_BetaMieMultiplier</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00068">SunSky::atm_BetaRay</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00064">SunSky::atm_BetaRayMultiplier</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00066">SunSky::atm_DistanceMultiplier</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00063">SunSky::atm_ExtinctionMultiplier</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00059">SunSky::atm_HGg</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00062">SunSky::atm_InscatteringMultiplier</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00061">SunSky::atm_SunIntensity</a>, <a class="el" href="../../dd/db6/paraloopend_8h_source.html#l00008">i</a>, <a class="el" href="../../d8/d9e/EventToBuf_8c.html#a44274d284f44463aaf509177c78913ed">K</a>, <a class="el" href="../../d2/d6c/mball_8c_source.html#l00500">N</a>, <a class="el" href="../../d2/d6c/mball_8c_source.html#l00499">T</a>, <a class="el" href="../../da/d31/sunsky_8c_source.html#l00053">VEC3OPF</a>, and <a class="el" href="../../da/d31/sunsky_8c_source.html#l00041">VEC3OPV</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d47/convertblender_8c_source.html#l03665">add_render_lamp()</a>.</p>

</div>
</div>
<a class="anchor" id="a320aaf01c0443f4b14a0d6302dc0e4fd"></a><!-- doxytag: member="sunsky.c::InitSunSky" ref="a320aaf01c0443f4b14a0d6302dc0e4fd" args="(struct SunSky *sunsky, float turb, float *toSun, float horizon_brightness, float spread, float sun_brightness, float sun_size, float back_scatter, float skyblendfac, short skyblendtype, float sky_exposure, float sky_colorspace)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitSunSky </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc2/structSunSky.html">SunSky</a> *&#160;</td>
          <td class="paramname"><em>sunsky</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>turb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>toSun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>horizon_brightness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>spread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>sun_brightness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>sun_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>back_scatter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>skyblendfac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>skyblendtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>sky_exposure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>sky_colorspace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>InitSunSky: this function compute some sun,sky parameters according to input parameters and also initiate some other sun, sky parameters parameters: sunSky, is a structure that contains information about sun, sky and atmosphere, in this function, most of its values initiated turb, is atmosphere turbidity toSun, contains sun direction horizon_brighness, controls the brightness of the horizon colors spread, controls colors spreed at horizon sun_brightness, controls sun's brightness sun_size, controls sun's size back_scatter, controls back scatter light </p>

<p>Definition at line <a class="el" href="../../da/d31/sunsky_8c_source.html#l00148">148</a> of file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>

<p>References <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00055">SunSky::backscattered_light</a>, <a class="el" href="../../da/d31/sunsky_8c_source.html#l00110">DirectionToThetaPhi()</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00051">SunSky::horizon_brightness</a>, <a class="el" href="../../d6/ddc/constraint_8c_source.html#l00093">M_PI</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00047">SunSky::perez_x</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00047">SunSky::perez_y</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00047">SunSky::perez_Y</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00038">SunSky::phi</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00036">SunSky::sky_colorspace</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00057">SunSky::sky_exposure</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00056">SunSky::skyblendfac</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00036">SunSky::skyblendtype</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00052">SunSky::spread</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00053">SunSky::sun_brightness</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00054">SunSky::sun_size</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00043">SunSky::sunSolidAngle</a>, <a class="el" href="../../d2/d6c/mball_8c_source.html#l00499">T</a>, <a class="el" href="../../dc/dc8/util__md5_8cpp_source.html#l00035">T2</a>, <a class="el" href="../../dd/d06/BLI__math__base_8h_source.html#l00102">tanf</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00038">SunSky::theta</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00040">SunSky::toSun</a>, <a class="el" href="../../d3/d41/mathutils__noise_8c_source.html#l00217">turb()</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00037">SunSky::turbidity</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00045">SunSky::zenith_x</a>, <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00045">SunSky::zenith_y</a>, and <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00045">SunSky::zenith_Y</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d47/convertblender_8c_source.html#l03665">add_render_lamp()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9c706679642ee6be150f6c7a98a46fc"></a><!-- doxytag: member="sunsky.c::PerezFunction" ref="ab9c706679642ee6be150f6c7a98a46fc" args="(struct SunSky *sunsky, const float *lam, float theta, float gamma, float lvz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static float PerezFunction </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc2/structSunSky.html">SunSky</a> *&#160;</td>
          <td class="paramname"><em>sunsky</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>lam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>theta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>gamma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>lvz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PerezFunction: compute perez function value based on input paramters </p>

<p>Definition at line <a class="el" href="../../da/d31/sunsky_8c_source.html#l00123">123</a> of file <a class="el" href="../../da/d31/sunsky_8c_source.html">sunsky.c</a>.</p>

<p>References <a class="el" href="../../dd/d06/BLI__math__base_8h_source.html#l00087">cosf</a>, <a class="el" href="../../dd/d06/BLI__math__base_8h_source.html#l00120">expf</a>, and <a class="el" href="../../dc/d88/sunsky_8h_source.html#l00038">SunSky::theta</a>.</p>

<p>Referenced by <a class="el" href="../../da/d31/sunsky_8c_source.html#l00251">GetSkyXYZRadiance()</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Nov 13 2012 11:55:54 for Blender by&#160;
<a href="http://www.doxygen.org/index.html"> 
doxygen</a> 1.7.4 </small></address> 
</body>
</html>
