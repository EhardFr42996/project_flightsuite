<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Blender: makesrna.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blender.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Blender&#160;<span id="projectnumber">V2.6x</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">makesrna.c</div>  </div>
</div>
<div class="contents">
<a href="../../da/df2/makesrna_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * ***** BEGIN GPL LICENSE BLOCK *****</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This program is free software; you can redistribute it and/or</span>
<a name="l00005"></a>00005 <span class="comment"> * modify it under the terms of the GNU General Public License</span>
<a name="l00006"></a>00006 <span class="comment"> * as published by the Free Software Foundation; either version 2</span>
<a name="l00007"></a>00007 <span class="comment"> * of the License, or (at your option) any later version.</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00010"></a>00010 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00011"></a>00011 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00012"></a>00012 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00015"></a>00015 <span class="comment"> * along with this program; if not, write to the Free Software Foundation,</span>
<a name="l00016"></a>00016 <span class="comment"> * Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * Contributor(s): Blender Foundation (2008).</span>
<a name="l00019"></a>00019 <span class="comment"> *</span>
<a name="l00020"></a>00020 <span class="comment"> * ***** END GPL LICENSE BLOCK *****</span>
<a name="l00021"></a>00021 <span class="comment"> */</span>
<a name="l00022"></a>00022 
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;float.h&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;limits.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;errno.h&gt;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/dd0/MEM__guardedalloc_8h.html" title="Read Guarded memory(de)allocation.">MEM_guardedalloc.h</a>&quot;</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="../../de/ddf/RNA__access_8h.html">RNA_access.h</a>&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d68/RNA__define_8h.html">RNA_define.h</a>&quot;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;<a class="code" href="../../de/d7e/RNA__types_8h.html">RNA_types.h</a>&quot;</span>
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/d29/rna__internal_8h.html">rna_internal.h</a>&quot;</span>
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="preprocessor">#ifdef _WIN32</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span><span class="preprocessor">#  ifndef snprintf</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span><span class="preprocessor">#    define snprintf _snprintf</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00049"></a>00049 <span class="comment">/* so we can use __func__ everywhere */</span>
<a name="l00050"></a>00050 <span class="preprocessor">#if defined(_MSC_VER)</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor">#  define __func__ __FUNCTION__</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span>
<a name="l00054"></a>00054 <span class="comment">/* Replace if different */</span>
<a name="l00055"></a><a class="code" href="../../da/df2/makesrna_8c.html#ad6b608e187888274ed5521769e0dcc91">00055</a> <span class="preprocessor">#define TMP_EXT &quot;.tmp&quot;</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span>
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="comment">/* copied from BLI_file_older */</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include &lt;sys/stat.h&gt;</span>
<a name="l00060"></a><a class="code" href="../../da/df2/makesrna_8c.html#a6866eeeaeae154180af21c26e8fddf0f">00060</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../da/df2/makesrna_8c.html#a6866eeeaeae154180af21c26e8fddf0f">file_older</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *file1, <span class="keyword">const</span> <span class="keywordtype">char</span> *file2)
<a name="l00061"></a>00061 {
<a name="l00062"></a>00062     <span class="keyword">struct </span>stat st1, st2;
<a name="l00063"></a>00063     <span class="comment">/* printf(&quot;compare: %s %s\n&quot;, file1, file2); */</span>
<a name="l00064"></a>00064 
<a name="l00065"></a>00065     <span class="keywordflow">if</span> (stat(file1, &amp;st1)) <span class="keywordflow">return</span> 0;
<a name="l00066"></a>00066     <span class="keywordflow">if</span> (stat(file2, &amp;st2)) <span class="keywordflow">return</span> 0;
<a name="l00067"></a>00067 
<a name="l00068"></a>00068     <span class="keywordflow">return</span> (st1.st_mtime &lt; st2.st_mtime);
<a name="l00069"></a>00069 }
<a name="l00070"></a><a class="code" href="../../da/df2/makesrna_8c.html#aa91c414cfe07a3e0b1f56ea532bfac28">00070</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#aa91c414cfe07a3e0b1f56ea532bfac28">makesrna_path</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00071"></a>00071 
<a name="l00072"></a><a class="code" href="../../da/df2/makesrna_8c.html#aed121725af55e86164b4550f45e061b9">00072</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../da/df2/makesrna_8c.html#aed121725af55e86164b4550f45e061b9">replace_if_different</a>(<span class="keywordtype">char</span> *tmpfile, <span class="keyword">const</span> <span class="keywordtype">char</span> *dep_files[])
<a name="l00073"></a>00073 {
<a name="l00074"></a>00074     <span class="comment">/* return 0;  */</span><span class="comment">/* use for testing had edited rna */</span>
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 <span class="preprocessor">#define REN_IF_DIFF                                                           \</span>
<a name="l00077"></a>00077 <span class="preprocessor">    {                                                                         \</span>
<a name="l00078"></a>00078 <span class="preprocessor">        FILE *file_test = fopen(orgfile, &quot;rb&quot;);                               \</span>
<a name="l00079"></a>00079 <span class="preprocessor">        if (file_test) {                                                      \</span>
<a name="l00080"></a>00080 <span class="preprocessor">            fclose(file_test);                                                \</span>
<a name="l00081"></a>00081 <span class="preprocessor">            if (fp_org) fclose(fp_org);                                       \</span>
<a name="l00082"></a>00082 <span class="preprocessor">            if (fp_new) fclose(fp_new);                                       \</span>
<a name="l00083"></a>00083 <span class="preprocessor">            if (remove(orgfile) != 0) {                                       \</span>
<a name="l00084"></a>00084 <span class="preprocessor">                fprintf(stderr, &quot;%s:%d, Remove Error (%s): \&quot;%s\&quot;\n&quot;,         \</span>
<a name="l00085"></a>00085 <span class="preprocessor">                        __FILE__, __LINE__, strerror(errno), orgfile);        \</span>
<a name="l00086"></a>00086 <span class="preprocessor">                return -1;                                                    \</span>
<a name="l00087"></a>00087 <span class="preprocessor">            }                                                                 \</span>
<a name="l00088"></a>00088 <span class="preprocessor">        }                                                                     \</span>
<a name="l00089"></a>00089 <span class="preprocessor">    }                                                                         \</span>
<a name="l00090"></a>00090 <span class="preprocessor">    if (rename(tmpfile, orgfile) != 0) {                                      \</span>
<a name="l00091"></a>00091 <span class="preprocessor">        fprintf(stderr, &quot;%s:%d, Rename Error (%s): \&quot;%s\&quot; -&gt; \&quot;%s\&quot;\n&quot;,       \</span>
<a name="l00092"></a>00092 <span class="preprocessor">                __FILE__, __LINE__, strerror(errno), tmpfile, orgfile);       \</span>
<a name="l00093"></a>00093 <span class="preprocessor">        return -1;                                                            \</span>
<a name="l00094"></a>00094 <span class="preprocessor">    }                                                                         \</span>
<a name="l00095"></a>00095 <span class="preprocessor">    remove(tmpfile);                                                          \</span>
<a name="l00096"></a>00096 <span class="preprocessor">    return 1                                                                  \</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span>
<a name="l00098"></a>00098 <span class="preprocessor"></span><span class="comment">/* end REN_IF_DIFF */</span>
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 
<a name="l00101"></a>00101     FILE *fp_new = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *fp_org = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00102"></a>00102     <span class="keywordtype">int</span> len_new, len_org;
<a name="l00103"></a>00103     <span class="keywordtype">char</span> *arr_new, *arr_org;
<a name="l00104"></a>00104     <span class="keywordtype">int</span> cmp;
<a name="l00105"></a>00105 
<a name="l00106"></a>00106     <span class="keywordtype">char</span> orgfile[4096];
<a name="l00107"></a>00107 
<a name="l00108"></a>00108     strcpy(orgfile, tmpfile);
<a name="l00109"></a>00109     orgfile[<a class="code" href="../../d1/d22/stdosl_8h.html#af902ac638d8127503ad64a0eacb3a7e8">strlen</a>(orgfile) - <a class="code" href="../../d1/d22/stdosl_8h.html#af902ac638d8127503ad64a0eacb3a7e8">strlen</a>(<a class="code" href="../../da/df2/makesrna_8c.html#ad6b608e187888274ed5521769e0dcc91">TMP_EXT</a>)] = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">/* strip &#39;.tmp&#39; */</span>
<a name="l00110"></a>00110 
<a name="l00111"></a>00111     fp_org = fopen(orgfile, <span class="stringliteral">&quot;rb&quot;</span>);
<a name="l00112"></a>00112 
<a name="l00113"></a>00113     <span class="keywordflow">if</span> (fp_org == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00114"></a>00114         <a class="code" href="../../da/df2/makesrna_8c.html#ac7a8bcdb91812c4d7ba2250a53c3ea10">REN_IF_DIFF</a>;
<a name="l00115"></a>00115     }
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 
<a name="l00118"></a>00118     <span class="comment">/* XXX, trick to work around dependency problem</span>
<a name="l00119"></a>00119 <span class="comment">     * assumes dep_files is in the same dir as makesrna.c, which is true for now. */</span>
<a name="l00120"></a>00120 
<a name="l00121"></a>00121     <span class="keywordflow">if</span> (1) {
<a name="l00122"></a>00122         <span class="comment">/* first check if makesrna.c is newer then generated files</span>
<a name="l00123"></a>00123 <span class="comment">         * for development on makesrna.c you may want to disable this */</span>
<a name="l00124"></a>00124         <span class="keywordflow">if</span> (<a class="code" href="../../da/df2/makesrna_8c.html#a6866eeeaeae154180af21c26e8fddf0f">file_older</a>(orgfile, __FILE__)) {
<a name="l00125"></a>00125             <a class="code" href="../../da/df2/makesrna_8c.html#ac7a8bcdb91812c4d7ba2250a53c3ea10">REN_IF_DIFF</a>;
<a name="l00126"></a>00126         }
<a name="l00127"></a>00127 
<a name="l00128"></a>00128         <span class="keywordflow">if</span> (<a class="code" href="../../da/df2/makesrna_8c.html#a6866eeeaeae154180af21c26e8fddf0f">file_older</a>(orgfile, <a class="code" href="../../da/df2/makesrna_8c.html#aa91c414cfe07a3e0b1f56ea532bfac28">makesrna_path</a>)) {
<a name="l00129"></a>00129             <a class="code" href="../../da/df2/makesrna_8c.html#ac7a8bcdb91812c4d7ba2250a53c3ea10">REN_IF_DIFF</a>;
<a name="l00130"></a>00130         }
<a name="l00131"></a>00131 
<a name="l00132"></a>00132         <span class="comment">/* now check if any files we depend on are newer then any generated files */</span>
<a name="l00133"></a>00133         <span class="keywordflow">if</span> (dep_files) {
<a name="l00134"></a>00134             <span class="keywordtype">int</span> pass;
<a name="l00135"></a>00135             <span class="keywordflow">for</span> (pass = 0; dep_files[pass]; pass++) {
<a name="l00136"></a>00136                 <span class="keywordtype">char</span> from_path[4096] = __FILE__;
<a name="l00137"></a>00137                 <span class="keywordtype">char</span> *p1, *p2;
<a name="l00138"></a>00138 
<a name="l00139"></a>00139                 <span class="comment">/* dir only */</span>
<a name="l00140"></a>00140                 p1 = strrchr(from_path, <span class="charliteral">&#39;/&#39;</span>);
<a name="l00141"></a>00141                 p2 = strrchr(from_path, <span class="charliteral">&#39;\\&#39;</span>);
<a name="l00142"></a>00142                 strcpy((p1 &gt; p2 ? p1 : p2)+1, dep_files[pass]);
<a name="l00143"></a>00143                 <span class="comment">/* account for build deps, if makesrna.c (this file) is newer */</span>
<a name="l00144"></a>00144                 <span class="keywordflow">if</span> (<a class="code" href="../../da/df2/makesrna_8c.html#a6866eeeaeae154180af21c26e8fddf0f">file_older</a>(orgfile, from_path)) {
<a name="l00145"></a>00145                     <a class="code" href="../../da/df2/makesrna_8c.html#ac7a8bcdb91812c4d7ba2250a53c3ea10">REN_IF_DIFF</a>;
<a name="l00146"></a>00146                 }
<a name="l00147"></a>00147             }
<a name="l00148"></a>00148         }
<a name="l00149"></a>00149     }
<a name="l00150"></a>00150     <span class="comment">/* XXX end dep trick */</span>
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 
<a name="l00153"></a>00153     fp_new = fopen(tmpfile, <span class="stringliteral">&quot;rb&quot;</span>);
<a name="l00154"></a>00154 
<a name="l00155"></a>00155     <span class="keywordflow">if</span> (fp_new == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00156"></a>00156         <span class="comment">/* shouldn&#39;t happen, just to be safe */</span>
<a name="l00157"></a>00157         fprintf(stderr, <span class="stringliteral">&quot;%s:%d, open error: \&quot;%s\&quot;\n&quot;</span>, __FILE__, __LINE__, tmpfile);
<a name="l00158"></a>00158         fclose(fp_org);
<a name="l00159"></a>00159         <span class="keywordflow">return</span> -1;
<a name="l00160"></a>00160     }
<a name="l00161"></a>00161 
<a name="l00162"></a>00162     <a class="code" href="../../d9/ded/BLI__winstuff_8h.html#aa083b8d40680af41008094ea2ffd5c59">fseek</a>(fp_new, 0<a class="code" href="../../d2/d6c/mball_8c.html#aa73214aa5f2f94f63d90bb4e3d99fe53">L</a>, SEEK_END); len_new = <a class="code" href="../../d9/ded/BLI__winstuff_8h.html#a7a6b9e94ab3b2ba72ab920a47fbe6ec1">ftell</a>(fp_new); <a class="code" href="../../d9/ded/BLI__winstuff_8h.html#aa083b8d40680af41008094ea2ffd5c59">fseek</a>(fp_new, 0<a class="code" href="../../d2/d6c/mball_8c.html#aa73214aa5f2f94f63d90bb4e3d99fe53">L</a>, SEEK_SET);
<a name="l00163"></a>00163     <a class="code" href="../../d9/ded/BLI__winstuff_8h.html#aa083b8d40680af41008094ea2ffd5c59">fseek</a>(fp_org, 0<a class="code" href="../../d2/d6c/mball_8c.html#aa73214aa5f2f94f63d90bb4e3d99fe53">L</a>, SEEK_END); len_org = <a class="code" href="../../d9/ded/BLI__winstuff_8h.html#a7a6b9e94ab3b2ba72ab920a47fbe6ec1">ftell</a>(fp_org); <a class="code" href="../../d9/ded/BLI__winstuff_8h.html#aa083b8d40680af41008094ea2ffd5c59">fseek</a>(fp_org, 0<a class="code" href="../../d2/d6c/mball_8c.html#aa73214aa5f2f94f63d90bb4e3d99fe53">L</a>, SEEK_SET);
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 
<a name="l00166"></a>00166     <span class="keywordflow">if</span> (len_new != len_org) {
<a name="l00167"></a>00167         fclose(fp_new);
<a name="l00168"></a>00168         fclose(fp_org);
<a name="l00169"></a>00169         <a class="code" href="../../da/df2/makesrna_8c.html#ac7a8bcdb91812c4d7ba2250a53c3ea10">REN_IF_DIFF</a>;
<a name="l00170"></a>00170     }
<a name="l00171"></a>00171 
<a name="l00172"></a>00172     <span class="comment">/* now compare the files... */</span>
<a name="l00173"></a>00173     arr_new = <a class="code" href="../../da/d2b/mallocn_8c.html#a2bfff00be1f0c49f1945b5d6f66af243">MEM_mallocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*len_new, <span class="stringliteral">&quot;rna_cmp_file_new&quot;</span>);
<a name="l00174"></a>00174     arr_org = <a class="code" href="../../da/d2b/mallocn_8c.html#a2bfff00be1f0c49f1945b5d6f66af243">MEM_mallocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*len_org, <span class="stringliteral">&quot;rna_cmp_file_org&quot;</span>);
<a name="l00175"></a>00175 
<a name="l00176"></a>00176     <span class="keywordflow">if</span> (fread(arr_new, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), len_new, fp_new) != len_new)
<a name="l00177"></a>00177         fprintf(stderr, <span class="stringliteral">&quot;%s:%d, error reading file %s for comparison.\n&quot;</span>, __FILE__, __LINE__, tmpfile);
<a name="l00178"></a>00178     <span class="keywordflow">if</span> (fread(arr_org, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), len_org, fp_org) != len_org)
<a name="l00179"></a>00179         fprintf(stderr, <span class="stringliteral">&quot;%s:%d, error reading file %s for comparison.\n&quot;</span>, __FILE__, __LINE__, orgfile);
<a name="l00180"></a>00180 
<a name="l00181"></a>00181     fclose(fp_new);
<a name="l00182"></a>00182     fclose(fp_org);
<a name="l00183"></a>00183 
<a name="l00184"></a>00184     cmp = memcmp(arr_new, arr_org, len_new);
<a name="l00185"></a>00185 
<a name="l00186"></a>00186     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(arr_new);
<a name="l00187"></a>00187     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(arr_org);
<a name="l00188"></a>00188 
<a name="l00189"></a>00189     <span class="keywordflow">if</span> (cmp) {
<a name="l00190"></a>00190         <a class="code" href="../../da/df2/makesrna_8c.html#ac7a8bcdb91812c4d7ba2250a53c3ea10">REN_IF_DIFF</a>;
<a name="l00191"></a>00191     }
<a name="l00192"></a>00192     <span class="keywordflow">else</span> {
<a name="l00193"></a>00193         <span class="keyword">remove</span>(tmpfile);
<a name="l00194"></a>00194         <span class="keywordflow">return</span> 0;
<a name="l00195"></a>00195     }
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 <span class="preprocessor">#undef REN_IF_DIFF</span>
<a name="l00198"></a>00198 <span class="preprocessor"></span>}
<a name="l00199"></a>00199 
<a name="l00200"></a>00200 <span class="comment">/* Helper to solve keyword problems with C/C++ */</span>
<a name="l00201"></a>00201 
<a name="l00202"></a><a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">00202</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span>)
<a name="l00203"></a>00203 {
<a name="l00204"></a>00204     <span class="keywordflow">if</span> (strcmp(<span class="keywordtype">id</span>, <span class="stringliteral">&quot;default&quot;</span>) == 0)
<a name="l00205"></a>00205         <span class="keywordflow">return</span> <span class="stringliteral">&quot;default_value&quot;</span>;
<a name="l00206"></a>00206     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(<span class="keywordtype">id</span>, <span class="stringliteral">&quot;operator&quot;</span>) == 0)
<a name="l00207"></a>00207         <span class="keywordflow">return</span> <span class="stringliteral">&quot;operator_value&quot;</span>;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209     <span class="keywordflow">return</span> id;
<a name="l00210"></a>00210 }
<a name="l00211"></a>00211 
<a name="l00212"></a>00212 <span class="comment">/* Sorting */</span>
<a name="l00213"></a>00213 
<a name="l00214"></a><a class="code" href="../../da/df2/makesrna_8c.html#ae47bfb8af1a7e46d21d78c87ef9c375a">00214</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../da/df2/makesrna_8c.html#ae47bfb8af1a7e46d21d78c87ef9c375a">cmp_struct</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *a, <span class="keyword">const</span> <span class="keywordtype">void</span> *b)
<a name="l00215"></a>00215 {
<a name="l00216"></a>00216     <span class="keyword">const</span> <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *structa = *(<span class="keyword">const</span> <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a>**)a;
<a name="l00217"></a>00217     <span class="keyword">const</span> <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *structb = *(<span class="keyword">const</span> <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a>**)b;
<a name="l00218"></a>00218 
<a name="l00219"></a>00219     <span class="keywordflow">return</span> strcmp(structa-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, structb-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l00220"></a>00220 }
<a name="l00221"></a>00221 
<a name="l00222"></a><a class="code" href="../../da/df2/makesrna_8c.html#ab34e1aa51b5b82689b2746f264070bcc">00222</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../da/df2/makesrna_8c.html#ab34e1aa51b5b82689b2746f264070bcc">cmp_property</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *a, <span class="keyword">const</span> <span class="keywordtype">void</span> *b)
<a name="l00223"></a>00223 {
<a name="l00224"></a>00224     <span class="keyword">const</span> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *propa = *(<span class="keyword">const</span> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>**)a;
<a name="l00225"></a>00225     <span class="keyword">const</span> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *propb = *(<span class="keyword">const</span> <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a>**)b;
<a name="l00226"></a>00226 
<a name="l00227"></a>00227     <span class="keywordflow">if</span> (strcmp(propa-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, <span class="stringliteral">&quot;rna_type&quot;</span>) == 0) <span class="keywordflow">return</span> -1;
<a name="l00228"></a>00228     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(propb-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, <span class="stringliteral">&quot;rna_type&quot;</span>) == 0) <span class="keywordflow">return</span> 1;
<a name="l00229"></a>00229 
<a name="l00230"></a>00230     <span class="keywordflow">if</span> (strcmp(propa-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, <span class="stringliteral">&quot;name&quot;</span>) == 0) <span class="keywordflow">return</span> -1;
<a name="l00231"></a>00231     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(propb-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, <span class="stringliteral">&quot;name&quot;</span>) == 0) <span class="keywordflow">return</span> 1;
<a name="l00232"></a>00232 
<a name="l00233"></a>00233     <span class="keywordflow">return</span> strcmp(propa-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad1e32193f23c2d55cab37a31342d125d">name</a>, propb-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad1e32193f23c2d55cab37a31342d125d">name</a>);
<a name="l00234"></a>00234 }
<a name="l00235"></a>00235 
<a name="l00236"></a><a class="code" href="../../da/df2/makesrna_8c.html#a61ec07aa4fe37e9f8cbb8c15a1b6a28a">00236</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../da/df2/makesrna_8c.html#a61ec07aa4fe37e9f8cbb8c15a1b6a28a">cmp_def_struct</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *a, <span class="keyword">const</span> <span class="keywordtype">void</span> *b)
<a name="l00237"></a>00237 {
<a name="l00238"></a>00238     <span class="keyword">const</span> <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a> *dsa = *(<span class="keyword">const</span> <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a>**)a;
<a name="l00239"></a>00239     <span class="keyword">const</span> <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a> *dsb = *(<span class="keyword">const</span> <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a>**)b;
<a name="l00240"></a>00240 
<a name="l00241"></a>00241     <span class="keywordflow">return</span> <a class="code" href="../../da/df2/makesrna_8c.html#ae47bfb8af1a7e46d21d78c87ef9c375a">cmp_struct</a>(&amp;dsa-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>, &amp;dsb-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>);
<a name="l00242"></a>00242 }
<a name="l00243"></a>00243 
<a name="l00244"></a><a class="code" href="../../da/df2/makesrna_8c.html#a8f9bc96244a20201f9e4ce8e43c8f938">00244</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../da/df2/makesrna_8c.html#a8f9bc96244a20201f9e4ce8e43c8f938">cmp_def_property</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *a, <span class="keyword">const</span> <span class="keywordtype">void</span> *b)
<a name="l00245"></a>00245 {
<a name="l00246"></a>00246     <span class="keyword">const</span> <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dpa = *(<span class="keyword">const</span> <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a>**)a;
<a name="l00247"></a>00247     <span class="keyword">const</span> <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dpb = *(<span class="keyword">const</span> <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a>**)b;
<a name="l00248"></a>00248 
<a name="l00249"></a>00249     <span class="keywordflow">return</span> <a class="code" href="../../da/df2/makesrna_8c.html#ab34e1aa51b5b82689b2746f264070bcc">cmp_property</a>(&amp;dpa-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>, &amp;dpb-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>);
<a name="l00250"></a>00250 }
<a name="l00251"></a>00251 
<a name="l00252"></a><a class="code" href="../../da/df2/makesrna_8c.html#ac51f1b3c0cab557ef8845ad49bb4583d">00252</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#ac51f1b3c0cab557ef8845ad49bb4583d">rna_sortlist</a>(<a class="code" href="../../d6/d85/structListBase.html">ListBase</a> *listbase, <span class="keywordtype">int</span>(*cmp)(<span class="keyword">const</span> <span class="keywordtype">void</span>*, <span class="keyword">const</span> <span class="keywordtype">void</span>*))
<a name="l00253"></a>00253 {
<a name="l00254"></a>00254     <a class="code" href="../../df/d0c/structLink.html">Link</a> *<a class="code" href="../../d0/dea/sp__coletree_8c.html#aaa63f127f8b967960d824c4cf6e93ca0">link</a>;
<a name="l00255"></a>00255     <span class="keywordtype">void</span> **<a class="code" href="../../d2/d41/classarray.html">array</a>;
<a name="l00256"></a>00256     <span class="keywordtype">int</span> a, <a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a>;
<a name="l00257"></a>00257     
<a name="l00258"></a>00258     <span class="keywordflow">if</span> (listbase-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a> == listbase-&gt;<a class="code" href="../../d6/d85/structListBase.html#a46f89850aad8cd09b34b5bdc3aa8f91a">last</a>)
<a name="l00259"></a>00259         <span class="keywordflow">return</span>;
<a name="l00260"></a>00260 
<a name="l00261"></a>00261     <span class="keywordflow">for</span> (size = 0, link = listbase-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; link; link = link-&gt;<a class="code" href="../../df/d0c/structLink.html#a4c0511c20c869c43fda58d1eeeed7e73">next</a>)
<a name="l00262"></a>00262         size++;
<a name="l00263"></a>00263 
<a name="l00264"></a>00264     array = <a class="code" href="../../da/d2b/mallocn_8c.html#a2bfff00be1f0c49f1945b5d6f66af243">MEM_mallocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*)*size, <span class="stringliteral">&quot;rna_sortlist&quot;</span>);
<a name="l00265"></a>00265     <span class="keywordflow">for</span> (a = 0, link = listbase-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; link; link = link-&gt;<a class="code" href="../../df/d0c/structLink.html#a4c0511c20c869c43fda58d1eeeed7e73">next</a>, a++)
<a name="l00266"></a>00266         array[a] = <a class="code" href="../../d0/dea/sp__coletree_8c.html#aaa63f127f8b967960d824c4cf6e93ca0">link</a>;
<a name="l00267"></a>00267 
<a name="l00268"></a>00268     qsort(array, size, <span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*), cmp);
<a name="l00269"></a>00269 
<a name="l00270"></a>00270     listbase-&gt;<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a> = listbase-&gt;<a class="code" href="../../d6/d85/structListBase.html#a46f89850aad8cd09b34b5bdc3aa8f91a">last</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00271"></a>00271     <span class="keywordflow">for</span> (a = 0; a&lt;<a class="code" href="../../d8/d40/btDbvt_8cpp.html#a0dbff19ad8155e43555569d371ad95a1">size</a>; a++) {
<a name="l00272"></a>00272         link = array[a];
<a name="l00273"></a>00273         link-&gt;<a class="code" href="../../df/d0c/structLink.html#a4c0511c20c869c43fda58d1eeeed7e73">next</a> = link-&gt;<a class="code" href="../../df/d0c/structLink.html#af8440b49c460fe675ae63fed67b0a725">prev</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00274"></a>00274         <a class="code" href="../../dc/d7e/rna__define_8c.html#aff1e3a5360ffa09862adf588442b8f4e">rna_addtail</a>(listbase, link);
<a name="l00275"></a>00275     }
<a name="l00276"></a>00276 
<a name="l00277"></a>00277     <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(array);
<a name="l00278"></a>00278 }
<a name="l00279"></a>00279 
<a name="l00280"></a>00280 <span class="comment">/* Preprocessing */</span>
<a name="l00281"></a>00281 
<a name="l00282"></a><a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">00282</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(FILE *f, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d2/d36/interface__layout_8c.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>)
<a name="l00283"></a>00283 {
<a name="l00284"></a>00284     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *escape[] = {<span class="stringliteral">&quot;\&#39;&#39;&quot;</span>, <span class="stringliteral">&quot;\&quot;\&quot;&quot;</span>, <span class="stringliteral">&quot;\??&quot;</span>, <span class="stringliteral">&quot;\\\\&quot;</span>,<span class="stringliteral">&quot;\aa&quot;</span>, <span class="stringliteral">&quot;\bb&quot;</span>, <span class="stringliteral">&quot;\ff&quot;</span>, <span class="stringliteral">&quot;\nn&quot;</span>, <span class="stringliteral">&quot;\rr&quot;</span>, <span class="stringliteral">&quot;\tt&quot;</span>, <span class="stringliteral">&quot;\vv&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>};
<a name="l00285"></a>00285     <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;
<a name="l00286"></a>00286 
<a name="l00287"></a>00287     <span class="keywordflow">if</span> (!str) {
<a name="l00288"></a>00288         fprintf(f, <span class="stringliteral">&quot;NULL&quot;</span>);
<a name="l00289"></a>00289         <span class="keywordflow">return</span>;
<a name="l00290"></a>00290     }
<a name="l00291"></a>00291 
<a name="l00292"></a>00292     fprintf(f, <span class="stringliteral">&quot;\&quot;&quot;</span>);
<a name="l00293"></a>00293     <span class="keywordflow">for</span> (i = 0; str[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]; i++) {
<a name="l00294"></a>00294         <span class="keywordflow">for</span> (j = 0; escape[j]; j++)
<a name="l00295"></a>00295             <span class="keywordflow">if</span> (str[i] == escape[j][0])
<a name="l00296"></a>00296                 <span class="keywordflow">break</span>;
<a name="l00297"></a>00297 
<a name="l00298"></a>00298         <span class="keywordflow">if</span> (escape[j]) fprintf(f, <span class="stringliteral">&quot;\\%c&quot;</span>, escape[j][1]);
<a name="l00299"></a>00299         <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;%c&quot;</span>, str[i]);
<a name="l00300"></a>00300     }
<a name="l00301"></a>00301     fprintf(f, <span class="stringliteral">&quot;\&quot;&quot;</span>);
<a name="l00302"></a>00302 }
<a name="l00303"></a>00303 
<a name="l00304"></a><a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">00304</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">rna_print_data_get</a>(FILE *f, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp)
<a name="l00305"></a>00305 {
<a name="l00306"></a>00306     <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a8baf4728c5debcfbcfe295ec9111e54f">dnastructfromname</a> &amp;&amp; dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a088eade18b4e0f1387af8c1de55b2ed3">dnastructfromprop</a>)
<a name="l00307"></a>00307         fprintf(f, <span class="stringliteral">&quot;    %s *data= (%s*)(((%s*)ptr-&gt;data)-&gt;%s);\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a>,
<a name="l00308"></a>00308                 dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a8baf4728c5debcfbcfe295ec9111e54f">dnastructfromname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a088eade18b4e0f1387af8c1de55b2ed3">dnastructfromprop</a>);
<a name="l00309"></a>00309     <span class="keywordflow">else</span>
<a name="l00310"></a>00310         fprintf(f, <span class="stringliteral">&quot;    %s *data= (%s*)(ptr-&gt;data);\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a>);
<a name="l00311"></a>00311 }
<a name="l00312"></a>00312 
<a name="l00313"></a><a class="code" href="../../da/df2/makesrna_8c.html#ae85955059edc98d6ca0374764a24e222">00313</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#ae85955059edc98d6ca0374764a24e222">rna_print_id_get</a>(FILE *f, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp)
<a name="l00314"></a>00314 {
<a name="l00315"></a>00315     fprintf(f, <span class="stringliteral">&quot;    ID *id= ptr-&gt;id.data;\n&quot;</span>);
<a name="l00316"></a>00316 }
<a name="l00317"></a>00317 
<a name="l00318"></a><a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">00318</a> <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *structname, <span class="keyword">const</span> <span class="keywordtype">char</span> *propname, <span class="keyword">const</span> <span class="keywordtype">char</span> *type)
<a name="l00319"></a>00319 {
<a name="l00320"></a>00320     <a class="code" href="../../d1/d71/structAllocDefRNA.html">AllocDefRNA</a> *alloc;
<a name="l00321"></a>00321     <span class="keywordtype">char</span> buffer[2048];
<a name="l00322"></a>00322     <span class="keywordtype">char</span> *result;
<a name="l00323"></a>00323 
<a name="l00324"></a>00324     <a class="code" href="../../d9/ded/BLI__winstuff_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%s_%s_%s&quot;</span>, structname, propname, type);
<a name="l00325"></a>00325     result = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*<a class="code" href="../../d1/d22/stdosl_8h.html#af902ac638d8127503ad64a0eacb3a7e8">strlen</a>(buffer)+1, <span class="stringliteral">&quot;rna_alloc_function_name&quot;</span>);
<a name="l00326"></a>00326     strcpy(result, buffer);
<a name="l00327"></a>00327 
<a name="l00328"></a>00328     alloc = <a class="code" href="../../da/d2b/mallocn_8c.html#ab1235f6c94203e95da6076dbeb355894">MEM_callocN</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d1/d71/structAllocDefRNA.html">AllocDefRNA</a>), <span class="stringliteral">&quot;AllocDefRNA&quot;</span>);
<a name="l00329"></a>00329     alloc-&gt;<a class="code" href="../../d1/d71/structAllocDefRNA.html#afa728ae200957873115312ede324ab72">mem</a> = result;
<a name="l00330"></a>00330     <a class="code" href="../../dc/d7e/rna__define_8c.html#aff1e3a5360ffa09862adf588442b8f4e">rna_addtail</a>(&amp;<a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a0dc98d238ee580df77c256923944fd1c">allocs</a>, alloc);
<a name="l00331"></a>00331 
<a name="l00332"></a>00332     <span class="keywordflow">return</span> result;
<a name="l00333"></a>00333 }
<a name="l00334"></a>00334 
<a name="l00335"></a><a class="code" href="../../da/df2/makesrna_8c.html#ab68a08323af6a2239723e9a74205e61f">00335</a> <span class="keyword">static</span> <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *<a class="code" href="../../da/df2/makesrna_8c.html#ab68a08323af6a2239723e9a74205e61f">rna_find_struct</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *identifier)
<a name="l00336"></a>00336 {
<a name="l00337"></a>00337     <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a> *ds;
<a name="l00338"></a>00338 
<a name="l00339"></a>00339     <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>)
<a name="l00340"></a>00340         <span class="keywordflow">if</span> (strcmp(ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, identifier) == 0)
<a name="l00341"></a>00341             <span class="keywordflow">return</span> ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>;
<a name="l00342"></a>00342 
<a name="l00343"></a>00343     <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00344"></a>00344 }
<a name="l00345"></a>00345 
<a name="l00346"></a><a class="code" href="../../da/df2/makesrna_8c.html#ad6ba390908141752d2332dbf01236a4e">00346</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#ad6ba390908141752d2332dbf01236a4e">rna_find_type</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *type)
<a name="l00347"></a>00347 {
<a name="l00348"></a>00348     <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a> *ds;
<a name="l00349"></a>00349 
<a name="l00350"></a>00350     <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>)
<a name="l00351"></a>00351         <span class="keywordflow">if</span> (ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a25a56ecd1801d4754b958402d5ebd73c">dnaname</a> &amp;&amp; strcmp(ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a25a56ecd1801d4754b958402d5ebd73c">dnaname</a>, type) == 0)
<a name="l00352"></a>00352             <span class="keywordflow">return</span> ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>;
<a name="l00353"></a>00353 
<a name="l00354"></a>00354     <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00355"></a>00355 }
<a name="l00356"></a>00356 
<a name="l00357"></a><a class="code" href="../../da/df2/makesrna_8c.html#a406673b3d618d91995fa3acf9f698945">00357</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#a406673b3d618d91995fa3acf9f698945">rna_find_dna_type</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *type)
<a name="l00358"></a>00358 {
<a name="l00359"></a>00359     <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a> *ds;
<a name="l00360"></a>00360 
<a name="l00361"></a>00361     <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>)
<a name="l00362"></a>00362         <span class="keywordflow">if</span> (strcmp(ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, type) == 0)
<a name="l00363"></a>00363             <span class="keywordflow">return</span> ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a25a56ecd1801d4754b958402d5ebd73c">dnaname</a>;
<a name="l00364"></a>00364 
<a name="l00365"></a>00365     <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00366"></a>00366 }
<a name="l00367"></a>00367 
<a name="l00368"></a><a class="code" href="../../da/df2/makesrna_8c.html#a36ce15f07204dcc5c12318c8fdbaa106">00368</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#a36ce15f07204dcc5c12318c8fdbaa106">rna_type_type_name</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00369"></a>00369 {
<a name="l00370"></a>00370     <span class="keywordflow">switch</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>) {
<a name="l00371"></a>00371         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>:
<a name="l00372"></a>00372         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>:
<a name="l00373"></a>00373         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>:
<a name="l00374"></a>00374             <span class="keywordflow">return</span> <span class="stringliteral">&quot;int&quot;</span>;
<a name="l00375"></a>00375         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>:
<a name="l00376"></a>00376             <span class="keywordflow">return</span> <span class="stringliteral">&quot;float&quot;</span>;
<a name="l00377"></a>00377         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>:
<a name="l00378"></a>00378             <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a09aca10c47349234aa905bc8a9f15ace">PROP_THICK_WRAP</a>) {
<a name="l00379"></a>00379                 <span class="keywordflow">return</span> <span class="stringliteral">&quot;char*&quot;</span>;
<a name="l00380"></a>00380             }
<a name="l00381"></a>00381             <span class="keywordflow">else</span> {
<a name="l00382"></a>00382                 <span class="keywordflow">return</span> <span class="stringliteral">&quot;const char*&quot;</span>;
<a name="l00383"></a>00383             }
<a name="l00384"></a>00384         <span class="keywordflow">default</span>:
<a name="l00385"></a>00385             <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00386"></a>00386     }
<a name="l00387"></a>00387 }
<a name="l00388"></a>00388 
<a name="l00389"></a><a class="code" href="../../da/df2/makesrna_8c.html#a55624a4a082cceb427bc596eaaaa8518">00389</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#a55624a4a082cceb427bc596eaaaa8518">rna_type_type</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00390"></a>00390 {
<a name="l00391"></a>00391     <span class="keyword">const</span> <span class="keywordtype">char</span> *type;
<a name="l00392"></a>00392 
<a name="l00393"></a>00393     type = <a class="code" href="../../da/df2/makesrna_8c.html#a36ce15f07204dcc5c12318c8fdbaa106">rna_type_type_name</a>(prop);
<a name="l00394"></a>00394 
<a name="l00395"></a>00395     <span class="keywordflow">if</span> (type)
<a name="l00396"></a>00396         <span class="keywordflow">return</span> type;
<a name="l00397"></a>00397 
<a name="l00398"></a>00398     <span class="keywordflow">return</span> <span class="stringliteral">&quot;PointerRNA&quot;</span>;
<a name="l00399"></a>00399 }
<a name="l00400"></a>00400 
<a name="l00401"></a><a class="code" href="../../da/df2/makesrna_8c.html#aa8b4620ea8be4ff6af60ca9e01453764">00401</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#aa8b4620ea8be4ff6af60ca9e01453764">rna_type_struct</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00402"></a>00402 {
<a name="l00403"></a>00403     <span class="keyword">const</span> <span class="keywordtype">char</span> *type;
<a name="l00404"></a>00404 
<a name="l00405"></a>00405     type = <a class="code" href="../../da/df2/makesrna_8c.html#a36ce15f07204dcc5c12318c8fdbaa106">rna_type_type_name</a>(prop);
<a name="l00406"></a>00406 
<a name="l00407"></a>00407     <span class="keywordflow">if</span> (type)
<a name="l00408"></a>00408         <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
<a name="l00409"></a>00409 
<a name="l00410"></a>00410     <span class="keywordflow">return</span> <span class="stringliteral">&quot;struct &quot;</span>;
<a name="l00411"></a>00411 }
<a name="l00412"></a>00412 
<a name="l00413"></a><a class="code" href="../../da/df2/makesrna_8c.html#ac8a9ce20f65c121bef35965645868a13">00413</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#ac8a9ce20f65c121bef35965645868a13">rna_parameter_type_name</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *parm)
<a name="l00414"></a>00414 {
<a name="l00415"></a>00415     <span class="keyword">const</span> <span class="keywordtype">char</span> *type;
<a name="l00416"></a>00416 
<a name="l00417"></a>00417     type = <a class="code" href="../../da/df2/makesrna_8c.html#a36ce15f07204dcc5c12318c8fdbaa106">rna_type_type_name</a>(parm);
<a name="l00418"></a>00418 
<a name="l00419"></a>00419     <span class="keywordflow">if</span> (type)
<a name="l00420"></a>00420         <span class="keywordflow">return</span> type;
<a name="l00421"></a>00421 
<a name="l00422"></a>00422     <span class="keywordflow">switch</span> (parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>) {
<a name="l00423"></a>00423         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>:  {
<a name="l00424"></a>00424             <a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a> *pparm = (<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a>*)parm;
<a name="l00425"></a>00425 
<a name="l00426"></a>00426             <span class="keywordflow">if</span> (parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a88f6c010a50eab9e38cd86ab35059120">PROP_RNAPTR</a>)
<a name="l00427"></a>00427                 <span class="keywordflow">return</span> <span class="stringliteral">&quot;PointerRNA&quot;</span>;
<a name="l00428"></a>00428             <span class="keywordflow">else</span>
<a name="l00429"></a>00429                 <span class="keywordflow">return</span> <a class="code" href="../../da/df2/makesrna_8c.html#a406673b3d618d91995fa3acf9f698945">rna_find_dna_type</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *)pparm-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>);
<a name="l00430"></a>00430         }
<a name="l00431"></a>00431         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>: {
<a name="l00432"></a>00432             <span class="keywordflow">return</span> <span class="stringliteral">&quot;ListBase&quot;</span>;
<a name="l00433"></a>00433         }
<a name="l00434"></a>00434         <span class="keywordflow">default</span>:
<a name="l00435"></a>00435             <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;error, no type specified&gt;&quot;</span>;
<a name="l00436"></a>00436     }
<a name="l00437"></a>00437 }
<a name="l00438"></a>00438 
<a name="l00439"></a><a class="code" href="../../da/df2/makesrna_8c.html#a52aba2836919679978612516daba4ce8">00439</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../da/df2/makesrna_8c.html#a52aba2836919679978612516daba4ce8">rna_enum_bitmask</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00440"></a>00440 {
<a name="l00441"></a>00441     <a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a> *eprop = (<a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a>*)prop;
<a name="l00442"></a>00442     <span class="keywordtype">int</span> a, mask = 0;
<a name="l00443"></a>00443 
<a name="l00444"></a>00444     <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>) {
<a name="l00445"></a>00445         <span class="keywordflow">for</span> (a = 0; a&lt;eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#acc1c230b53fac65d28a8631e7fdaafa6">totitem</a>; a++)
<a name="l00446"></a>00446             <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[a].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>[0])
<a name="l00447"></a>00447                 mask |= eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[a].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a>;
<a name="l00448"></a>00448     }
<a name="l00449"></a>00449     
<a name="l00450"></a>00450     <span class="keywordflow">return</span> mask;
<a name="l00451"></a>00451 }
<a name="l00452"></a>00452 
<a name="l00453"></a><a class="code" href="../../da/df2/makesrna_8c.html#a73539a21413c97275d5610c2375cabc5">00453</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../da/df2/makesrna_8c.html#a73539a21413c97275d5610c2375cabc5">rna_color_quantize</a>(<a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp)
<a name="l00454"></a>00454 {
<a name="l00455"></a>00455     <span class="keywordflow">return</span> ( (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>) &amp;&amp;
<a name="l00456"></a>00456              (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aab659b6cc4e02fde4bf9f00f1a56e3b7">subtype</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca45b761f7a18f8b6316b4ca9d086304df">PROP_COLOR</a> || prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aab659b6cc4e02fde4bf9f00f1a56e3b7">subtype</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcaab1f54146da7110e2098e8f4f47712ae">PROP_COLOR_GAMMA</a>) &amp;&amp;
<a name="l00457"></a>00457              (<a class="code" href="../../da/d68/RNA__define_8h.html#a4a128719833e8ec045388f54e0bdff98">IS_DNATYPE_FLOAT_COMPAT</a>(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>) == 0) );
<a name="l00458"></a>00458 }
<a name="l00459"></a>00459 
<a name="l00460"></a><a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">00460</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(<span class="keywordtype">void</span> *func)
<a name="l00461"></a>00461 {
<a name="l00462"></a>00462     <span class="keywordflow">return</span> (func)? (<span class="keyword">const</span> <span class="keywordtype">char</span>*)func: <span class="stringliteral">&quot;NULL&quot;</span>;
<a name="l00463"></a>00463 }
<a name="l00464"></a>00464 
<a name="l00465"></a><a class="code" href="../../da/df2/makesrna_8c.html#a3bdf407c0cadddb4dd54761c2cadf807">00465</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a3bdf407c0cadddb4dd54761c2cadf807">rna_float_print</a>(FILE *f, <span class="keywordtype">float</span> num)
<a name="l00466"></a>00466 {
<a name="l00467"></a>00467     <span class="keywordflow">if</span> (num == -<a class="code" href="../../d3/db4/VEC3_8h.html#a7fbf1534f9e0f0bfdb86fb928902474c">FLT_MAX</a>) fprintf(f, <span class="stringliteral">&quot;-FLT_MAX&quot;</span>);
<a name="l00468"></a>00468     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (num == <a class="code" href="../../d3/db4/VEC3_8h.html#a7fbf1534f9e0f0bfdb86fb928902474c">FLT_MAX</a>) fprintf(f, <span class="stringliteral">&quot;FLT_MAX&quot;</span>);
<a name="l00469"></a>00469     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)num == num) fprintf(f, <span class="stringliteral">&quot;%.1ff&quot;</span>, num);
<a name="l00470"></a>00470     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;%.10ff&quot;</span>, num);
<a name="l00471"></a>00471 }
<a name="l00472"></a>00472 
<a name="l00473"></a><a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">00473</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(FILE *f, <span class="keywordtype">int</span> num)
<a name="l00474"></a>00474 {
<a name="l00475"></a>00475     <span class="keywordflow">if</span> (num == INT_MIN) fprintf(f, <span class="stringliteral">&quot;INT_MIN&quot;</span>);
<a name="l00476"></a>00476     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (num == INT_MAX) fprintf(f, <span class="stringliteral">&quot;INT_MAX&quot;</span>);
<a name="l00477"></a>00477     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;%d&quot;</span>, num);
<a name="l00478"></a>00478 }
<a name="l00479"></a>00479 
<a name="l00480"></a><a class="code" href="../../da/df2/makesrna_8c.html#a0b168ef04a86c1f7f811c162107c347d">00480</a> <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#a0b168ef04a86c1f7f811c162107c347d">rna_def_property_get_func</a>(FILE *f, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp,
<a name="l00481"></a>00481                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *manualfunc)
<a name="l00482"></a>00482 {
<a name="l00483"></a>00483     <span class="keywordtype">char</span> *func;
<a name="l00484"></a>00484 
<a name="l00485"></a>00485     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a> &amp;&amp; manualfunc == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00486"></a>00486         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00487"></a>00487 
<a name="l00488"></a>00488     <span class="keywordflow">if</span> (!manualfunc) {
<a name="l00489"></a>00489         <span class="keywordflow">if</span> (!dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a> || !dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>) {
<a name="l00490"></a>00490             fprintf(stderr, <span class="stringliteral">&quot;%s (0): %s.%s has no valid dna info.\n&quot;</span>,
<a name="l00491"></a>00491                     __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l00492"></a>00492             <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l00493"></a>00493             <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00494"></a>00494         }
<a name="l00495"></a>00495 
<a name="l00496"></a>00496         <span class="comment">/* typecheck,  */</span>
<a name="l00497"></a>00497         <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a> &amp;&amp; *dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>) {
<a name="l00498"></a>00498 
<a name="l00499"></a>00499             <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>) {
<a name="l00500"></a>00500                 <span class="keywordflow">if</span> (<a class="code" href="../../da/d68/RNA__define_8h.html#a4a128719833e8ec045388f54e0bdff98">IS_DNATYPE_FLOAT_COMPAT</a>(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>) == 0) {
<a name="l00501"></a>00501                     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aab659b6cc4e02fde4bf9f00f1a56e3b7">subtype</a> != <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcaab1f54146da7110e2098e8f4f47712ae">PROP_COLOR_GAMMA</a>) { <span class="comment">/* colors are an exception. these get translated */</span>
<a name="l00502"></a>00502                         fprintf(stderr, <span class="stringliteral">&quot;%s (1): %s.%s is a &#39;%s&#39; but wrapped as type &#39;%s&#39;.\n&quot;</span>,
<a name="l00503"></a>00503                                 __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>,
<a name="l00504"></a>00504                                 <a class="code" href="../../dc/d7e/rna__define_8c.html#af4a7db177a17763a91d343fa2a4424b2">RNA_property_typename</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>));
<a name="l00505"></a>00505                         <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l00506"></a>00506                         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00507"></a>00507                     }
<a name="l00508"></a>00508                 }
<a name="l00509"></a>00509             }
<a name="l00510"></a>00510             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a> || prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a> || prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>) {
<a name="l00511"></a>00511                 <span class="keywordflow">if</span> (<a class="code" href="../../da/d68/RNA__define_8h.html#a7a77f875c010476f9e5f8e397b07c533">IS_DNATYPE_INT_COMPAT</a>(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>) == 0) {
<a name="l00512"></a>00512                     fprintf(stderr, <span class="stringliteral">&quot;%s (2): %s.%s is a &#39;%s&#39; but wrapped as type &#39;%s&#39;.\n&quot;</span>,
<a name="l00513"></a>00513                             __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>,
<a name="l00514"></a>00514                             <a class="code" href="../../dc/d7e/rna__define_8c.html#af4a7db177a17763a91d343fa2a4424b2">RNA_property_typename</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>));
<a name="l00515"></a>00515                     <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l00516"></a>00516                     <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00517"></a>00517                 }
<a name="l00518"></a>00518             }
<a name="l00519"></a>00519         }
<a name="l00520"></a>00520 
<a name="l00521"></a>00521     }
<a name="l00522"></a>00522 
<a name="l00523"></a>00523     func = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), <span class="stringliteral">&quot;get&quot;</span>);
<a name="l00524"></a>00524 
<a name="l00525"></a>00525     <span class="keywordflow">switch</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>) {
<a name="l00526"></a>00526         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>: {
<a name="l00527"></a>00527             <a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a> *sprop = (<a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a>*)prop;
<a name="l00528"></a>00528             fprintf(f, <span class="stringliteral">&quot;void %s(PointerRNA *ptr, char *value)\n&quot;</span>, func);
<a name="l00529"></a>00529             fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l00530"></a>00530             <span class="keywordflow">if</span> (manualfunc) {
<a name="l00531"></a>00531                 fprintf(f, <span class="stringliteral">&quot;    %s(ptr, value);\n&quot;</span>, manualfunc);
<a name="l00532"></a>00532             }
<a name="l00533"></a>00533             <span class="keywordflow">else</span> {
<a name="l00534"></a>00534                 <span class="keyword">const</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bc">PropertySubType</a> subtype = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aab659b6cc4e02fde4bf9f00f1a56e3b7">subtype</a>;
<a name="l00535"></a>00535                 <span class="keyword">const</span> <span class="keywordtype">char</span> *string_copy_func = (subtype == <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcac72d63744a87a62fcb2e65d289bc0e06">PROP_FILEPATH</a> ||
<a name="l00536"></a>00536                                                subtype == <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca8a0da51c5a63585b3bdc82aded02f113">PROP_DIRPATH</a>  ||
<a name="l00537"></a>00537                                                subtype == <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca3b73b4ff1a1029f1649a06a954cb2272">PROP_FILENAME</a> ||
<a name="l00538"></a>00538                                                subtype == <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca1fdd5bc375b3df54bc08e097ef28c411">PROP_BYTESTRING</a>) ?
<a name="l00539"></a>00539                             <span class="stringliteral">&quot;BLI_strncpy&quot;</span> : <span class="stringliteral">&quot;BLI_strncpy_utf8&quot;</span>;
<a name="l00540"></a>00540 
<a name="l00541"></a>00541                 <a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">rna_print_data_get</a>(f, dp);
<a name="l00542"></a>00542 
<a name="l00543"></a>00543                 <span class="keywordflow">if</span> (!(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a5def8c59b8ee9008946cf4314433b69a">PROP_NEVER_NULL</a>)) {
<a name="l00544"></a>00544                     fprintf(f, <span class="stringliteral">&quot;    if (data-&gt;%s == NULL) {\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00545"></a>00545                     fprintf(f, <span class="stringliteral">&quot;        *value = &#39;\\0&#39;;\n&quot;</span>);
<a name="l00546"></a>00546                     fprintf(f, <span class="stringliteral">&quot;        return;\n&quot;</span>);
<a name="l00547"></a>00547                     fprintf(f, <span class="stringliteral">&quot;    }\n&quot;</span>);
<a name="l00548"></a>00548                 }
<a name="l00549"></a>00549 
<a name="l00550"></a>00550                 <span class="keywordflow">if</span> (sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a8c6048283a1bd199f370b6c9806530a7">maxlength</a>)
<a name="l00551"></a>00551                     fprintf(f, <span class="stringliteral">&quot;    %s(value, data-&gt;%s, %d);\n&quot;</span>, string_copy_func, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a8c6048283a1bd199f370b6c9806530a7">maxlength</a>);
<a name="l00552"></a>00552                 <span class="keywordflow">else</span>
<a name="l00553"></a>00553                     fprintf(f, <span class="stringliteral">&quot;    %s(value, data-&gt;%s, sizeof(data-&gt;%s));\n&quot;</span>, string_copy_func,
<a name="l00554"></a>00554                             dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00555"></a>00555             }
<a name="l00556"></a>00556             fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l00557"></a>00557             <span class="keywordflow">break</span>;
<a name="l00558"></a>00558         }
<a name="l00559"></a>00559         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>: {
<a name="l00560"></a>00560             fprintf(f, <span class="stringliteral">&quot;PointerRNA %s(PointerRNA *ptr)\n&quot;</span>, func);
<a name="l00561"></a>00561             fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l00562"></a>00562             <span class="keywordflow">if</span> (manualfunc) {
<a name="l00563"></a>00563                 fprintf(f, <span class="stringliteral">&quot;    return %s(ptr);\n&quot;</span>, manualfunc);
<a name="l00564"></a>00564             }
<a name="l00565"></a>00565             <span class="keywordflow">else</span> {
<a name="l00566"></a>00566                 <a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a> *pprop = (<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a>*)prop;
<a name="l00567"></a>00567                 <a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">rna_print_data_get</a>(f, dp);
<a name="l00568"></a>00568                 <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#abf7a555d57e01eaa912a9aab72877e51">dnapointerlevel</a> == 0)
<a name="l00569"></a>00569                     fprintf(f, <span class="stringliteral">&quot;    return rna_pointer_inherit_refine(ptr, &amp;RNA_%s, &amp;data-&gt;%s);\n&quot;</span>,
<a name="l00570"></a>00570                             (<span class="keyword">const</span> <span class="keywordtype">char</span>*)pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00571"></a>00571                 <span class="keywordflow">else</span>
<a name="l00572"></a>00572                     fprintf(f, <span class="stringliteral">&quot;    return rna_pointer_inherit_refine(ptr, &amp;RNA_%s, data-&gt;%s);\n&quot;</span>,
<a name="l00573"></a>00573                             (<span class="keyword">const</span> <span class="keywordtype">char</span>*)pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00574"></a>00574             }
<a name="l00575"></a>00575             fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l00576"></a>00576             <span class="keywordflow">break</span>;
<a name="l00577"></a>00577         }
<a name="l00578"></a>00578         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>: {
<a name="l00579"></a>00579             <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)prop;
<a name="l00580"></a>00580 
<a name="l00581"></a>00581             fprintf(f, <span class="stringliteral">&quot;static PointerRNA %s(CollectionPropertyIterator *iter)\n&quot;</span>, func);
<a name="l00582"></a>00582             fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l00583"></a>00583             <span class="keywordflow">if</span> (manualfunc) {
<a name="l00584"></a>00584                 <span class="keywordflow">if</span> (strcmp(manualfunc, <span class="stringliteral">&quot;rna_iterator_listbase_get&quot;</span>) == 0 ||
<a name="l00585"></a>00585                     strcmp(manualfunc, <span class="stringliteral">&quot;rna_iterator_array_get&quot;</span>) == 0 ||
<a name="l00586"></a>00586                     strcmp(manualfunc, <span class="stringliteral">&quot;rna_iterator_array_dereference_get&quot;</span>) == 0)
<a name="l00587"></a>00587                 {
<a name="l00588"></a>00588                     fprintf(f, <span class="stringliteral">&quot;    return rna_pointer_inherit_refine(&amp;iter-&gt;parent, &amp;RNA_%s, %s(iter));\n&quot;</span>,
<a name="l00589"></a>00589                             (cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a>) ? (<span class="keyword">const</span> <span class="keywordtype">char</span> *)cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a>: <span class="stringliteral">&quot;UnknownType&quot;</span>, manualfunc);
<a name="l00590"></a>00590                 }
<a name="l00591"></a>00591                 <span class="keywordflow">else</span> {
<a name="l00592"></a>00592                     fprintf(f, <span class="stringliteral">&quot;    return %s(iter);\n&quot;</span>, manualfunc);
<a name="l00593"></a>00593                 }
<a name="l00594"></a>00594             }
<a name="l00595"></a>00595             fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l00596"></a>00596             <span class="keywordflow">break</span>;
<a name="l00597"></a>00597         }
<a name="l00598"></a>00598         <span class="keywordflow">default</span>:
<a name="l00599"></a>00599             <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>) {
<a name="l00600"></a>00600                 <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a2201e5526a5719021ae9f6641266bc62">PROP_DYNAMIC</a>)
<a name="l00601"></a>00601                     fprintf(f, <span class="stringliteral">&quot;void %s(PointerRNA *ptr, %s values[])\n&quot;</span>, func, <a class="code" href="../../da/df2/makesrna_8c.html#a55624a4a082cceb427bc596eaaaa8518">rna_type_type</a>(prop));
<a name="l00602"></a>00602                 <span class="keywordflow">else</span>
<a name="l00603"></a>00603                     fprintf(f, <span class="stringliteral">&quot;void %s(PointerRNA *ptr, %s values[%u])\n&quot;</span>, func, <a class="code" href="../../da/df2/makesrna_8c.html#a55624a4a082cceb427bc596eaaaa8518">rna_type_type</a>(prop),
<a name="l00604"></a>00604                             prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l00605"></a>00605                 fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l00606"></a>00606 
<a name="l00607"></a>00607                 <span class="keywordflow">if</span> (manualfunc) {
<a name="l00608"></a>00608                     fprintf(f, <span class="stringliteral">&quot;    %s(ptr, values);\n&quot;</span>, manualfunc);
<a name="l00609"></a>00609                 }
<a name="l00610"></a>00610                 <span class="keywordflow">else</span> {
<a name="l00611"></a>00611                     <a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">rna_print_data_get</a>(f, dp);
<a name="l00612"></a>00612 
<a name="l00613"></a>00613                     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a2201e5526a5719021ae9f6641266bc62">PROP_DYNAMIC</a>) {
<a name="l00614"></a>00614                         <span class="keywordtype">char</span> *lenfunc = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>),
<a name="l00615"></a>00615                                                                 <span class="stringliteral">&quot;get_length&quot;</span>);
<a name="l00616"></a>00616                         fprintf(f, <span class="stringliteral">&quot;    int i, arraylen[RNA_MAX_ARRAY_DIMENSION];\n&quot;</span>);
<a name="l00617"></a>00617                         fprintf(f, <span class="stringliteral">&quot;    int len= %s(ptr, arraylen);\n\n&quot;</span>, lenfunc);
<a name="l00618"></a>00618                         fprintf(f, <span class="stringliteral">&quot;    for (i=0; i&lt;len; i++) {\n&quot;</span>);
<a name="l00619"></a>00619                         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(lenfunc);
<a name="l00620"></a>00620                     }
<a name="l00621"></a>00621                     <span class="keywordflow">else</span> {
<a name="l00622"></a>00622                         fprintf(f, <span class="stringliteral">&quot;    int i;\n\n&quot;</span>);
<a name="l00623"></a>00623                         fprintf(f, <span class="stringliteral">&quot;    for (i=0; i&lt;%u; i++) {\n&quot;</span>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l00624"></a>00624                     }
<a name="l00625"></a>00625 
<a name="l00626"></a>00626                     <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#aa241702ac3a92ab39c31a8dd4fe59cc8">dnaarraylength</a> == 1) {
<a name="l00627"></a>00627                         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a> &amp;&amp; dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>) {
<a name="l00628"></a>00628                             fprintf(f, <span class="stringliteral">&quot;        values[i]= %s((data-&gt;%s &amp; (%d&lt;&lt;i)) != 0);\n&quot;</span>,
<a name="l00629"></a>00629                                     (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>)? <span class="stringliteral">&quot;!&quot;</span>: <span class="stringliteral">&quot;&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>);
<a name="l00630"></a>00630                         }
<a name="l00631"></a>00631                         <span class="keywordflow">else</span> {
<a name="l00632"></a>00632                             fprintf(f, <span class="stringliteral">&quot;        values[i]= (%s)%s((&amp;data-&gt;%s)[i]);\n&quot;</span>,
<a name="l00633"></a>00633                                     <a class="code" href="../../da/df2/makesrna_8c.html#a55624a4a082cceb427bc596eaaaa8518">rna_type_type</a>(prop), (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>)? <span class="stringliteral">&quot;!&quot;</span>: <span class="stringliteral">&quot;&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00634"></a>00634                         }
<a name="l00635"></a>00635                     }
<a name="l00636"></a>00636                     <span class="keywordflow">else</span> {
<a name="l00637"></a>00637                         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a> &amp;&amp; dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>) {
<a name="l00638"></a>00638                             fprintf(f, <span class="stringliteral">&quot;        values[i]= %s((data-&gt;%s[i] &amp; &quot;</span>, (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>)? <span class="stringliteral">&quot;!&quot;</span>: <span class="stringliteral">&quot;&quot;</span>,
<a name="l00639"></a>00639                                     dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00640"></a>00640                             <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>);
<a name="l00641"></a>00641                             fprintf(f, <span class="stringliteral">&quot;) != 0);\n&quot;</span>);
<a name="l00642"></a>00642                         }
<a name="l00643"></a>00643                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df2/makesrna_8c.html#a73539a21413c97275d5610c2375cabc5">rna_color_quantize</a>(prop, dp)) {
<a name="l00644"></a>00644                             fprintf(f, <span class="stringliteral">&quot;        values[i]= (%s)(data-&gt;%s[i]*(1.0f/255.0f));\n&quot;</span>,
<a name="l00645"></a>00645                                     <a class="code" href="../../da/df2/makesrna_8c.html#a55624a4a082cceb427bc596eaaaa8518">rna_type_type</a>(prop), dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00646"></a>00646                         }
<a name="l00647"></a>00647                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>) {
<a name="l00648"></a>00648                             fprintf(f, <span class="stringliteral">&quot;        values[i]= (%s)%s(((%s*)data-&gt;%s)[i]);\n&quot;</span>,
<a name="l00649"></a>00649                                     <a class="code" href="../../da/df2/makesrna_8c.html#a55624a4a082cceb427bc596eaaaa8518">rna_type_type</a>(prop), (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>)? <span class="stringliteral">&quot;!&quot;</span>: <span class="stringliteral">&quot;&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00650"></a>00650                         }
<a name="l00651"></a>00651                         <span class="keywordflow">else</span> {
<a name="l00652"></a>00652                             fprintf(f, <span class="stringliteral">&quot;        values[i]= (%s)%s((data-&gt;%s)[i]);\n&quot;</span>,
<a name="l00653"></a>00653                                     <a class="code" href="../../da/df2/makesrna_8c.html#a55624a4a082cceb427bc596eaaaa8518">rna_type_type</a>(prop), (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>)? <span class="stringliteral">&quot;!&quot;</span>: <span class="stringliteral">&quot;&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00654"></a>00654                         }
<a name="l00655"></a>00655                     }
<a name="l00656"></a>00656                     fprintf(f, <span class="stringliteral">&quot;    }\n&quot;</span>);
<a name="l00657"></a>00657                 }
<a name="l00658"></a>00658                 fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l00659"></a>00659             }
<a name="l00660"></a>00660             <span class="keywordflow">else</span> {
<a name="l00661"></a>00661                 fprintf(f, <span class="stringliteral">&quot;%s %s(PointerRNA *ptr)\n&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#a55624a4a082cceb427bc596eaaaa8518">rna_type_type</a>(prop), func);
<a name="l00662"></a>00662                 fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l00663"></a>00663 
<a name="l00664"></a>00664                 <span class="keywordflow">if</span> (manualfunc) {
<a name="l00665"></a>00665                     fprintf(f, <span class="stringliteral">&quot;    return %s(ptr);\n&quot;</span>, manualfunc);
<a name="l00666"></a>00666                 }
<a name="l00667"></a>00667                 <span class="keywordflow">else</span> {
<a name="l00668"></a>00668                     <a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">rna_print_data_get</a>(f, dp);
<a name="l00669"></a>00669                     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a> &amp;&amp; dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>) {
<a name="l00670"></a>00670                         fprintf(f, <span class="stringliteral">&quot;    return %s(((data-&gt;%s) &amp; &quot;</span>, (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>)? <span class="stringliteral">&quot;!&quot;</span>: <span class="stringliteral">&quot;&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00671"></a>00671                         <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>);
<a name="l00672"></a>00672                         fprintf(f, <span class="stringliteral">&quot;) != 0);\n&quot;</span>);
<a name="l00673"></a>00673                     }
<a name="l00674"></a>00674                     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a> &amp;&amp; dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#ab8aff16736ae4bd359b5d9cad96ee125">enumbitflags</a>) {
<a name="l00675"></a>00675                         fprintf(f, <span class="stringliteral">&quot;    return ((data-&gt;%s) &amp; &quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00676"></a>00676                         <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, <a class="code" href="../../da/df2/makesrna_8c.html#a52aba2836919679978612516daba4ce8">rna_enum_bitmask</a>(prop));
<a name="l00677"></a>00677                         fprintf(f, <span class="stringliteral">&quot;);\n&quot;</span>);
<a name="l00678"></a>00678                     }
<a name="l00679"></a>00679                     <span class="keywordflow">else</span>
<a name="l00680"></a>00680                         fprintf(f, <span class="stringliteral">&quot;    return (%s)%s(data-&gt;%s);\n&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#a55624a4a082cceb427bc596eaaaa8518">rna_type_type</a>(prop),
<a name="l00681"></a>00681                                 (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>)? <span class="stringliteral">&quot;!&quot;</span>: <span class="stringliteral">&quot;&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00682"></a>00682                 }
<a name="l00683"></a>00683 
<a name="l00684"></a>00684                 fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l00685"></a>00685             }
<a name="l00686"></a>00686             <span class="keywordflow">break</span>;
<a name="l00687"></a>00687     }
<a name="l00688"></a>00688 
<a name="l00689"></a>00689     <span class="keywordflow">return</span> func;
<a name="l00690"></a>00690 }
<a name="l00691"></a>00691 
<a name="l00692"></a>00692 <span class="comment">/* defined min/max variables to be used by rna_clamp_value() */</span>
<a name="l00693"></a><a class="code" href="../../da/df2/makesrna_8c.html#a7aa2dc3cd700396e79aaec72c34b5181">00693</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a7aa2dc3cd700396e79aaec72c34b5181">rna_clamp_value_range</a>(FILE *f, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l00694"></a>00694 {
<a name="l00695"></a>00695     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>) {
<a name="l00696"></a>00696         <a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a> *fprop = (<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)prop;
<a name="l00697"></a>00697         <span class="keywordflow">if</span> (fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad2a6fb143197f0b45d7800f2f92082a2">range</a>) {
<a name="l00698"></a>00698             fprintf(f,
<a name="l00699"></a>00699                     <span class="stringliteral">&quot;   float prop_clamp_min = -FLT_MAX, prop_clamp_max = FLT_MAX, prop_soft_min, prop_soft_max;\n&quot;</span>);
<a name="l00700"></a>00700             fprintf(f, <span class="stringliteral">&quot;    %s(ptr, &amp;prop_clamp_min, &amp;prop_clamp_max, &amp;prop_soft_min, &amp;prop_soft_max);\n&quot;</span>,
<a name="l00701"></a>00701                     <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad2a6fb143197f0b45d7800f2f92082a2">range</a>));
<a name="l00702"></a>00702         }
<a name="l00703"></a>00703     }
<a name="l00704"></a>00704     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>) {
<a name="l00705"></a>00705         <a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a> *iprop = (<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)prop;
<a name="l00706"></a>00706         <span class="keywordflow">if</span> (iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a361209eb96ad7996485080591d4d39b1">range</a>) {
<a name="l00707"></a>00707             fprintf(f, <span class="stringliteral">&quot;    int prop_clamp_min = INT_MIN, prop_clamp_max = INT_MAX, prop_soft_min, prop_soft_max;\n&quot;</span>);
<a name="l00708"></a>00708             fprintf(f, <span class="stringliteral">&quot;    %s(ptr, &amp;prop_clamp_min, &amp;prop_clamp_max, &amp;prop_soft_min, &amp;prop_soft_max);\n&quot;</span>,
<a name="l00709"></a>00709                     <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a361209eb96ad7996485080591d4d39b1">range</a>));
<a name="l00710"></a>00710         }
<a name="l00711"></a>00711     }
<a name="l00712"></a>00712 }
<a name="l00713"></a>00713 
<a name="l00714"></a><a class="code" href="../../da/df2/makesrna_8c.html#a0f83159479b3333db26bb1474d68df37">00714</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a0f83159479b3333db26bb1474d68df37">rna_clamp_value</a>(FILE *f, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <span class="keywordtype">int</span> <a class="code" href="../../d2/d41/classarray.html">array</a>)
<a name="l00715"></a>00715 {
<a name="l00716"></a>00716     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>) {
<a name="l00717"></a>00717         <a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a> *iprop = (<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)prop;
<a name="l00718"></a>00718 
<a name="l00719"></a>00719         <span class="keywordflow">if</span> (iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#af938145fa20c2eccb1b1a7ec40364073">hardmin</a> != INT_MIN || iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a5291969e5fc14586dfb3d4009045d900">hardmax</a> != INT_MAX) {
<a name="l00720"></a>00720             <span class="keywordflow">if</span> (array) fprintf(f, <span class="stringliteral">&quot;CLAMPIS(values[i], &quot;</span>);
<a name="l00721"></a>00721             <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;CLAMPIS(value, &quot;</span>);
<a name="l00722"></a>00722             <span class="keywordflow">if</span> (iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a361209eb96ad7996485080591d4d39b1">range</a>) {
<a name="l00723"></a>00723                 fprintf(f, <span class="stringliteral">&quot;prop_clamp_min, prop_clamp_max);&quot;</span>);
<a name="l00724"></a>00724             }
<a name="l00725"></a>00725             <span class="keywordflow">else</span> {
<a name="l00726"></a>00726                 <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#af938145fa20c2eccb1b1a7ec40364073">hardmin</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l00727"></a>00727                 <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a5291969e5fc14586dfb3d4009045d900">hardmax</a>); fprintf(f, <span class="stringliteral">&quot;);\n&quot;</span>);
<a name="l00728"></a>00728             }
<a name="l00729"></a>00729             <span class="keywordflow">return</span>;
<a name="l00730"></a>00730         }
<a name="l00731"></a>00731     }
<a name="l00732"></a>00732     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>) {
<a name="l00733"></a>00733         <a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a> *fprop = (<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)prop;
<a name="l00734"></a>00734 
<a name="l00735"></a>00735         <span class="keywordflow">if</span> (fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a9aceb1cb3479ddf907ef43fd2ed9dd3c">hardmin</a> != -<a class="code" href="../../d3/db4/VEC3_8h.html#a7fbf1534f9e0f0bfdb86fb928902474c">FLT_MAX</a> || fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ac3779156773c5c6803b410406d4bf33e">hardmax</a> != <a class="code" href="../../d3/db4/VEC3_8h.html#a7fbf1534f9e0f0bfdb86fb928902474c">FLT_MAX</a>) {
<a name="l00736"></a>00736             <span class="keywordflow">if</span> (array) fprintf(f, <span class="stringliteral">&quot;CLAMPIS(values[i], &quot;</span>);
<a name="l00737"></a>00737             <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;CLAMPIS(value, &quot;</span>);
<a name="l00738"></a>00738             <span class="keywordflow">if</span> (fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad2a6fb143197f0b45d7800f2f92082a2">range</a>) {
<a name="l00739"></a>00739                 fprintf(f, <span class="stringliteral">&quot;prop_clamp_min, prop_clamp_max);&quot;</span>);
<a name="l00740"></a>00740             }
<a name="l00741"></a>00741             <span class="keywordflow">else</span> {
<a name="l00742"></a>00742                 <a class="code" href="../../da/df2/makesrna_8c.html#a3bdf407c0cadddb4dd54761c2cadf807">rna_float_print</a>(f, fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a9aceb1cb3479ddf907ef43fd2ed9dd3c">hardmin</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l00743"></a>00743                 <a class="code" href="../../da/df2/makesrna_8c.html#a3bdf407c0cadddb4dd54761c2cadf807">rna_float_print</a>(f, fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ac3779156773c5c6803b410406d4bf33e">hardmax</a>); fprintf(f, <span class="stringliteral">&quot;);\n&quot;</span>);
<a name="l00744"></a>00744             }
<a name="l00745"></a>00745             <span class="keywordflow">return</span>;
<a name="l00746"></a>00746         }
<a name="l00747"></a>00747     }
<a name="l00748"></a>00748 
<a name="l00749"></a>00749     <span class="keywordflow">if</span> (array)
<a name="l00750"></a>00750         fprintf(f, <span class="stringliteral">&quot;values[i];\n&quot;</span>);
<a name="l00751"></a>00751     <span class="keywordflow">else</span>
<a name="l00752"></a>00752         fprintf(f, <span class="stringliteral">&quot;value;\n&quot;</span>);
<a name="l00753"></a>00753 }
<a name="l00754"></a>00754 
<a name="l00755"></a><a class="code" href="../../da/df2/makesrna_8c.html#af34830fc8d37bcfe4879c7b92851693f">00755</a> <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#af34830fc8d37bcfe4879c7b92851693f">rna_def_property_set_func</a>(FILE *f, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp,
<a name="l00756"></a>00756                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *manualfunc)
<a name="l00757"></a>00757 {
<a name="l00758"></a>00758     <span class="keywordtype">char</span> *func;
<a name="l00759"></a>00759 
<a name="l00760"></a>00760     <span class="keywordflow">if</span> (!(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>))
<a name="l00761"></a>00761         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00762"></a>00762     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a> &amp;&amp; manualfunc == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00763"></a>00763         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00764"></a>00764 
<a name="l00765"></a>00765     <span class="keywordflow">if</span> (!manualfunc) {
<a name="l00766"></a>00766         <span class="keywordflow">if</span> (!dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a> || !dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>) {
<a name="l00767"></a>00767             <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a3d1043a2d56b3c9bffba1d418f9a6711">PROP_EDITABLE</a>) {
<a name="l00768"></a>00768                 fprintf(stderr, <span class="stringliteral">&quot;%s: %s.%s has no valid dna info.\n&quot;</span>,
<a name="l00769"></a>00769                         __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l00770"></a>00770                 <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l00771"></a>00771             }
<a name="l00772"></a>00772             <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00773"></a>00773         }
<a name="l00774"></a>00774     }
<a name="l00775"></a>00775 
<a name="l00776"></a>00776     func = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), <span class="stringliteral">&quot;set&quot;</span>);
<a name="l00777"></a>00777 
<a name="l00778"></a>00778     <span class="keywordflow">switch</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>) {
<a name="l00779"></a>00779         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>: {
<a name="l00780"></a>00780             <a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a> *sprop = (<a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a>*)prop;
<a name="l00781"></a>00781             fprintf(f, <span class="stringliteral">&quot;void %s(PointerRNA *ptr, const char *value)\n&quot;</span>, func);
<a name="l00782"></a>00782             fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l00783"></a>00783             <span class="keywordflow">if</span> (manualfunc) {
<a name="l00784"></a>00784                 fprintf(f, <span class="stringliteral">&quot;    %s(ptr, value);\n&quot;</span>, manualfunc);
<a name="l00785"></a>00785             }
<a name="l00786"></a>00786             <span class="keywordflow">else</span> {
<a name="l00787"></a>00787                 <span class="keyword">const</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bc">PropertySubType</a> subtype = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aab659b6cc4e02fde4bf9f00f1a56e3b7">subtype</a>;
<a name="l00788"></a>00788                 <span class="keyword">const</span> <span class="keywordtype">char</span> *string_copy_func = (subtype == <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcac72d63744a87a62fcb2e65d289bc0e06">PROP_FILEPATH</a> ||
<a name="l00789"></a>00789                                                subtype == <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca8a0da51c5a63585b3bdc82aded02f113">PROP_DIRPATH</a>  ||
<a name="l00790"></a>00790                                                subtype == <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca3b73b4ff1a1029f1649a06a954cb2272">PROP_FILENAME</a> ||
<a name="l00791"></a>00791                                                subtype == <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca1fdd5bc375b3df54bc08e097ef28c411">PROP_BYTESTRING</a>) ?
<a name="l00792"></a>00792                             <span class="stringliteral">&quot;BLI_strncpy&quot;</span> : <span class="stringliteral">&quot;BLI_strncpy_utf8&quot;</span>;
<a name="l00793"></a>00793 
<a name="l00794"></a>00794                 <a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">rna_print_data_get</a>(f, dp);
<a name="l00795"></a>00795 
<a name="l00796"></a>00796                 <span class="keywordflow">if</span> (!(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a5def8c59b8ee9008946cf4314433b69a">PROP_NEVER_NULL</a>)) {
<a name="l00797"></a>00797                     fprintf(f, <span class="stringliteral">&quot;    if (data-&gt;%s == NULL) {\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00798"></a>00798                     fprintf(f, <span class="stringliteral">&quot;        return;\n&quot;</span>);
<a name="l00799"></a>00799                     fprintf(f, <span class="stringliteral">&quot;    }\n&quot;</span>);
<a name="l00800"></a>00800                 }
<a name="l00801"></a>00801 
<a name="l00802"></a>00802                 <span class="keywordflow">if</span> (sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a8c6048283a1bd199f370b6c9806530a7">maxlength</a>)
<a name="l00803"></a>00803                     fprintf(f, <span class="stringliteral">&quot;    %s(data-&gt;%s, value, %d);\n&quot;</span>, string_copy_func, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a8c6048283a1bd199f370b6c9806530a7">maxlength</a>);
<a name="l00804"></a>00804                 <span class="keywordflow">else</span>
<a name="l00805"></a>00805                     fprintf(f, <span class="stringliteral">&quot;    %s(data-&gt;%s, value, sizeof(data-&gt;%s));\n&quot;</span>, string_copy_func,
<a name="l00806"></a>00806                             dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00807"></a>00807             }
<a name="l00808"></a>00808             fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l00809"></a>00809             <span class="keywordflow">break</span>;
<a name="l00810"></a>00810         }
<a name="l00811"></a>00811         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>: {
<a name="l00812"></a>00812             fprintf(f, <span class="stringliteral">&quot;void %s(PointerRNA *ptr, PointerRNA value)\n&quot;</span>, func);
<a name="l00813"></a>00813             fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l00814"></a>00814             <span class="keywordflow">if</span> (manualfunc) {
<a name="l00815"></a>00815                 fprintf(f, <span class="stringliteral">&quot;    %s(ptr, value);\n&quot;</span>, manualfunc);
<a name="l00816"></a>00816             }
<a name="l00817"></a>00817             <span class="keywordflow">else</span> {
<a name="l00818"></a>00818                 <a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">rna_print_data_get</a>(f, dp);
<a name="l00819"></a>00819 
<a name="l00820"></a>00820                 <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411ac567a4814345fecbf94eed28cf694853">PROP_ID_SELF_CHECK</a>) {
<a name="l00821"></a>00821                     <a class="code" href="../../da/df2/makesrna_8c.html#ae85955059edc98d6ca0374764a24e222">rna_print_id_get</a>(f, dp);
<a name="l00822"></a>00822                     fprintf(f, <span class="stringliteral">&quot;    if (id==value.data) return;\n\n&quot;</span>);
<a name="l00823"></a>00823                 }
<a name="l00824"></a>00824 
<a name="l00825"></a>00825                 <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af02fab33c24ccce03d82b50453388b81">PROP_ID_REFCOUNT</a>) {
<a name="l00826"></a>00826                     fprintf(f, <span class="stringliteral">&quot;\n  if (data-&gt;%s)\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00827"></a>00827                     fprintf(f, <span class="stringliteral">&quot;        id_us_min((ID*)data-&gt;%s);\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00828"></a>00828                     fprintf(f, <span class="stringliteral">&quot;    if (value.data)\n&quot;</span>);
<a name="l00829"></a>00829                     fprintf(f, <span class="stringliteral">&quot;        id_us_plus((ID*)value.data);\n\n&quot;</span>);
<a name="l00830"></a>00830                 }
<a name="l00831"></a>00831                 <span class="keywordflow">else</span> {
<a name="l00832"></a>00832                     <a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a> *pprop = (<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a>*)dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>;
<a name="l00833"></a>00833                     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type = <a class="code" href="../../da/df2/makesrna_8c.html#ab68a08323af6a2239723e9a74205e61f">rna_find_struct</a>((<span class="keyword">const</span> <span class="keywordtype">char</span>*)pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>);
<a name="l00834"></a>00834                     <span class="keywordflow">if</span> (type &amp;&amp; (type-&gt;flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a3e6d3131f627bd9c5b7f24b8997197ccaa082cb9c12e10b3e388a49bfe766340e">STRUCT_ID</a>)) {
<a name="l00835"></a>00835                         fprintf(f, <span class="stringliteral">&quot;    if (value.data)\n&quot;</span>);
<a name="l00836"></a>00836                         fprintf(f, <span class="stringliteral">&quot;        id_lib_extern((ID*)value.data);\n\n&quot;</span>);
<a name="l00837"></a>00837                     }
<a name="l00838"></a>00838                 }
<a name="l00839"></a>00839 
<a name="l00840"></a>00840                 fprintf(f, <span class="stringliteral">&quot;    data-&gt;%s= value.data;\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00841"></a>00841 
<a name="l00842"></a>00842             }
<a name="l00843"></a>00843             fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l00844"></a>00844             <span class="keywordflow">break</span>;
<a name="l00845"></a>00845         }
<a name="l00846"></a>00846         <span class="keywordflow">default</span>:
<a name="l00847"></a>00847             <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>) {
<a name="l00848"></a>00848                 <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a2201e5526a5719021ae9f6641266bc62">PROP_DYNAMIC</a>)
<a name="l00849"></a>00849                     fprintf(f, <span class="stringliteral">&quot;void %s(PointerRNA *ptr, const %s values[])\n&quot;</span>, func, <a class="code" href="../../da/df2/makesrna_8c.html#a55624a4a082cceb427bc596eaaaa8518">rna_type_type</a>(prop));
<a name="l00850"></a>00850                 <span class="keywordflow">else</span>
<a name="l00851"></a>00851                     fprintf(f, <span class="stringliteral">&quot;void %s(PointerRNA *ptr, const %s values[%u])\n&quot;</span>, func,
<a name="l00852"></a>00852                             <a class="code" href="../../da/df2/makesrna_8c.html#a55624a4a082cceb427bc596eaaaa8518">rna_type_type</a>(prop), prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l00853"></a>00853                 fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l00854"></a>00854 
<a name="l00855"></a>00855                 <span class="keywordflow">if</span> (manualfunc) {
<a name="l00856"></a>00856                     fprintf(f, <span class="stringliteral">&quot;    %s(ptr, values);\n&quot;</span>, manualfunc);
<a name="l00857"></a>00857                 }
<a name="l00858"></a>00858                 <span class="keywordflow">else</span> {
<a name="l00859"></a>00859                     <a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">rna_print_data_get</a>(f, dp);
<a name="l00860"></a>00860 
<a name="l00861"></a>00861                     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a2201e5526a5719021ae9f6641266bc62">PROP_DYNAMIC</a>) {
<a name="l00862"></a>00862                         <span class="keywordtype">char</span> *lenfunc = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>),
<a name="l00863"></a>00863                                                                 <span class="stringliteral">&quot;set_length&quot;</span>);
<a name="l00864"></a>00864                         fprintf(f, <span class="stringliteral">&quot;    int i, arraylen[RNA_MAX_ARRAY_DIMENSION];\n&quot;</span>);
<a name="l00865"></a>00865                         fprintf(f, <span class="stringliteral">&quot;    int len= %s(ptr, arraylen);\n\n&quot;</span>, lenfunc);
<a name="l00866"></a>00866                         <a class="code" href="../../da/df2/makesrna_8c.html#a7aa2dc3cd700396e79aaec72c34b5181">rna_clamp_value_range</a>(f, prop);
<a name="l00867"></a>00867                         fprintf(f, <span class="stringliteral">&quot;    for (i=0; i&lt;len; i++) {\n&quot;</span>);
<a name="l00868"></a>00868                         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(lenfunc);
<a name="l00869"></a>00869                     }
<a name="l00870"></a>00870                     <span class="keywordflow">else</span> {
<a name="l00871"></a>00871                         fprintf(f, <span class="stringliteral">&quot;    int i;\n\n&quot;</span>);
<a name="l00872"></a>00872                         <a class="code" href="../../da/df2/makesrna_8c.html#a7aa2dc3cd700396e79aaec72c34b5181">rna_clamp_value_range</a>(f, prop);
<a name="l00873"></a>00873                         fprintf(f, <span class="stringliteral">&quot;    for (i=0; i&lt;%u; i++) {\n&quot;</span>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l00874"></a>00874                     }
<a name="l00875"></a>00875 
<a name="l00876"></a>00876                     <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#aa241702ac3a92ab39c31a8dd4fe59cc8">dnaarraylength</a> == 1) {
<a name="l00877"></a>00877                         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a> &amp;&amp; dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>) {
<a name="l00878"></a>00878                             fprintf(f, <span class="stringliteral">&quot;        if (%svalues[i]) data-&gt;%s |= (%d&lt;&lt;i);\n&quot;</span>,
<a name="l00879"></a>00879                                     (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>)? <span class="stringliteral">&quot;!&quot;</span>: <span class="stringliteral">&quot;&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>);
<a name="l00880"></a>00880                             fprintf(f, <span class="stringliteral">&quot;        else data-&gt;%s &amp;= ~(%d&lt;&lt;i);\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>);
<a name="l00881"></a>00881                         }
<a name="l00882"></a>00882                         <span class="keywordflow">else</span> {
<a name="l00883"></a>00883                             fprintf(f, <span class="stringliteral">&quot;        (&amp;data-&gt;%s)[i]= %s&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>) ? <span class="stringliteral">&quot;!&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);
<a name="l00884"></a>00884                             <a class="code" href="../../da/df2/makesrna_8c.html#a0f83159479b3333db26bb1474d68df37">rna_clamp_value</a>(f, prop, 1);
<a name="l00885"></a>00885                         }
<a name="l00886"></a>00886                     }
<a name="l00887"></a>00887                     <span class="keywordflow">else</span> {
<a name="l00888"></a>00888                         <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a> &amp;&amp; dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>) {
<a name="l00889"></a>00889                             fprintf(f, <span class="stringliteral">&quot;        if (%svalues[i]) data-&gt;%s[i] |= &quot;</span>, (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>) ? <span class="stringliteral">&quot;!&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,
<a name="l00890"></a>00890                                     dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00891"></a>00891                             <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>);
<a name="l00892"></a>00892                             fprintf(f, <span class="stringliteral">&quot;;\n&quot;</span>);
<a name="l00893"></a>00893                             fprintf(f, <span class="stringliteral">&quot;        else data-&gt;%s[i] &amp;= ~&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00894"></a>00894                             <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>);
<a name="l00895"></a>00895                             fprintf(f, <span class="stringliteral">&quot;;\n&quot;</span>);
<a name="l00896"></a>00896                         }
<a name="l00897"></a>00897                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../da/df2/makesrna_8c.html#a73539a21413c97275d5610c2375cabc5">rna_color_quantize</a>(prop, dp)) {
<a name="l00898"></a>00898                             fprintf(f, <span class="stringliteral">&quot;        data-&gt;%s[i]= FTOCHAR(values[i]);\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00899"></a>00899                         }
<a name="l00900"></a>00900                         <span class="keywordflow">else</span> {
<a name="l00901"></a>00901                             <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>)
<a name="l00902"></a>00902                                 fprintf(f, <span class="stringliteral">&quot;        ((%s*)data-&gt;%s)[i]= %s&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>,
<a name="l00903"></a>00903                                         (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>) ? <span class="stringliteral">&quot;!&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);
<a name="l00904"></a>00904                             <span class="keywordflow">else</span>
<a name="l00905"></a>00905                                 fprintf(f, <span class="stringliteral">&quot;        (data-&gt;%s)[i]= %s&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>) ? <span class="stringliteral">&quot;!&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);
<a name="l00906"></a>00906                             <a class="code" href="../../da/df2/makesrna_8c.html#a0f83159479b3333db26bb1474d68df37">rna_clamp_value</a>(f, prop, 1);
<a name="l00907"></a>00907                         }
<a name="l00908"></a>00908                     }
<a name="l00909"></a>00909                     fprintf(f, <span class="stringliteral">&quot;    }\n&quot;</span>);
<a name="l00910"></a>00910                 }
<a name="l00911"></a>00911                 fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l00912"></a>00912             }
<a name="l00913"></a>00913             <span class="keywordflow">else</span> {
<a name="l00914"></a>00914                 fprintf(f, <span class="stringliteral">&quot;void %s(PointerRNA *ptr, %s value)\n&quot;</span>, func, <a class="code" href="../../da/df2/makesrna_8c.html#a55624a4a082cceb427bc596eaaaa8518">rna_type_type</a>(prop));
<a name="l00915"></a>00915                 fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l00916"></a>00916 
<a name="l00917"></a>00917                 <span class="keywordflow">if</span> (manualfunc) {
<a name="l00918"></a>00918                     fprintf(f, <span class="stringliteral">&quot;    %s(ptr, value);\n&quot;</span>, manualfunc);
<a name="l00919"></a>00919                 }
<a name="l00920"></a>00920                 <span class="keywordflow">else</span> {
<a name="l00921"></a>00921                     <a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">rna_print_data_get</a>(f, dp);
<a name="l00922"></a>00922                     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a> &amp;&amp; dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>) {
<a name="l00923"></a>00923                         fprintf(f, <span class="stringliteral">&quot;    if (%svalue) data-&gt;%s |= &quot;</span>, (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>) ? <span class="stringliteral">&quot;!&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00924"></a>00924                         <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>);
<a name="l00925"></a>00925                         fprintf(f, <span class="stringliteral">&quot;;\n&quot;</span>);
<a name="l00926"></a>00926                         fprintf(f, <span class="stringliteral">&quot;    else data-&gt;%s &amp;= ~&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00927"></a>00927                         <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>);
<a name="l00928"></a>00928                         fprintf(f, <span class="stringliteral">&quot;;\n&quot;</span>);
<a name="l00929"></a>00929                     }
<a name="l00930"></a>00930                     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a> &amp;&amp; dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#ab8aff16736ae4bd359b5d9cad96ee125">enumbitflags</a>) {
<a name="l00931"></a>00931                         fprintf(f, <span class="stringliteral">&quot;    data-&gt;%s &amp;= ~&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00932"></a>00932                         <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, <a class="code" href="../../da/df2/makesrna_8c.html#a52aba2836919679978612516daba4ce8">rna_enum_bitmask</a>(prop));
<a name="l00933"></a>00933                         fprintf(f, <span class="stringliteral">&quot;;\n&quot;</span>);
<a name="l00934"></a>00934                         fprintf(f, <span class="stringliteral">&quot;    data-&gt;%s |= value;\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00935"></a>00935                     }
<a name="l00936"></a>00936                     <span class="keywordflow">else</span> {
<a name="l00937"></a>00937                         <a class="code" href="../../da/df2/makesrna_8c.html#a7aa2dc3cd700396e79aaec72c34b5181">rna_clamp_value_range</a>(f, prop);
<a name="l00938"></a>00938                         fprintf(f, <span class="stringliteral">&quot;    data-&gt;%s= %s&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a9f0e2382dd075890401f618e57a45e4e">booleannegative</a>) ? <span class="stringliteral">&quot;!&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);
<a name="l00939"></a>00939                         <a class="code" href="../../da/df2/makesrna_8c.html#a0f83159479b3333db26bb1474d68df37">rna_clamp_value</a>(f, prop, 0);
<a name="l00940"></a>00940                     }
<a name="l00941"></a>00941                 }
<a name="l00942"></a>00942                 fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l00943"></a>00943             }
<a name="l00944"></a>00944             <span class="keywordflow">break</span>;
<a name="l00945"></a>00945     }
<a name="l00946"></a>00946 
<a name="l00947"></a>00947     <span class="keywordflow">return</span> func;
<a name="l00948"></a>00948 }
<a name="l00949"></a>00949 
<a name="l00950"></a><a class="code" href="../../da/df2/makesrna_8c.html#a74a2631b4100ef6cfc012d46200b60a0">00950</a> <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#a74a2631b4100ef6cfc012d46200b60a0">rna_def_property_length_func</a>(FILE *f, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp,
<a name="l00951"></a>00951                                           <span class="keyword">const</span> <span class="keywordtype">char</span> *manualfunc)
<a name="l00952"></a>00952 {
<a name="l00953"></a>00953     <span class="keywordtype">char</span> *func = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00954"></a>00954 
<a name="l00955"></a>00955     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a> &amp;&amp; manualfunc == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00956"></a>00956         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00957"></a>00957 
<a name="l00958"></a>00958     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>) {
<a name="l00959"></a>00959         <span class="keywordflow">if</span> (!manualfunc) {
<a name="l00960"></a>00960             <span class="keywordflow">if</span> (!dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a> || !dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>) {
<a name="l00961"></a>00961                 fprintf(stderr, <span class="stringliteral">&quot;%s: %s.%s has no valid dna info.\n&quot;</span>,
<a name="l00962"></a>00962                         __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l00963"></a>00963                 <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l00964"></a>00964                 <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00965"></a>00965             }
<a name="l00966"></a>00966         }
<a name="l00967"></a>00967 
<a name="l00968"></a>00968         func = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), <span class="stringliteral">&quot;length&quot;</span>);
<a name="l00969"></a>00969 
<a name="l00970"></a>00970         fprintf(f, <span class="stringliteral">&quot;int %s(PointerRNA *ptr)\n&quot;</span>, func);
<a name="l00971"></a>00971         fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l00972"></a>00972         <span class="keywordflow">if</span> (manualfunc) {
<a name="l00973"></a>00973             fprintf(f, <span class="stringliteral">&quot;    return %s(ptr);\n&quot;</span>, manualfunc);
<a name="l00974"></a>00974         }
<a name="l00975"></a>00975         <span class="keywordflow">else</span> {
<a name="l00976"></a>00976             <a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">rna_print_data_get</a>(f, dp);
<a name="l00977"></a>00977             <span class="keywordflow">if</span> (!(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a5def8c59b8ee9008946cf4314433b69a">PROP_NEVER_NULL</a>)) {
<a name="l00978"></a>00978                 fprintf(f, <span class="stringliteral">&quot;    if (data-&gt;%s == NULL) return 0;\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00979"></a>00979             }
<a name="l00980"></a>00980             fprintf(f, <span class="stringliteral">&quot;    return strlen(data-&gt;%s);\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l00981"></a>00981         }
<a name="l00982"></a>00982         fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l00983"></a>00983     }
<a name="l00984"></a>00984     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>) {
<a name="l00985"></a>00985         <span class="keywordflow">if</span> (!manualfunc) {
<a name="l00986"></a>00986             <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a> &amp;&amp; (!(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a5521f1c360364e8657b56559dd966c5c">dnalengthname</a> || dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a3a37cb32b1e3651bd08d33292bf1bd2d">dnalengthfixed</a>)|| !dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>)) {
<a name="l00987"></a>00987                 fprintf(stderr, <span class="stringliteral">&quot;%s: %s.%s has no valid dna info.\n&quot;</span>,
<a name="l00988"></a>00988                         __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l00989"></a>00989                 <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l00990"></a>00990                 <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00991"></a>00991             }
<a name="l00992"></a>00992         }
<a name="l00993"></a>00993 
<a name="l00994"></a>00994         func = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), <span class="stringliteral">&quot;length&quot;</span>);
<a name="l00995"></a>00995 
<a name="l00996"></a>00996         fprintf(f, <span class="stringliteral">&quot;int %s(PointerRNA *ptr)\n&quot;</span>, func);
<a name="l00997"></a>00997         fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l00998"></a>00998         <span class="keywordflow">if</span> (manualfunc) {
<a name="l00999"></a>00999             fprintf(f, <span class="stringliteral">&quot;    return %s(ptr);\n&quot;</span>, manualfunc);
<a name="l01000"></a>01000         }
<a name="l01001"></a>01001         <span class="keywordflow">else</span> {
<a name="l01002"></a>01002             <a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">rna_print_data_get</a>(f, dp);
<a name="l01003"></a>01003             <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a5521f1c360364e8657b56559dd966c5c">dnalengthname</a>)
<a name="l01004"></a>01004                 fprintf(f, <span class="stringliteral">&quot;    return (data-&gt;%s == NULL)? 0: data-&gt;%s;\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a5521f1c360364e8657b56559dd966c5c">dnalengthname</a>);
<a name="l01005"></a>01005             <span class="keywordflow">else</span>
<a name="l01006"></a>01006                 fprintf(f, <span class="stringliteral">&quot;    return (data-&gt;%s == NULL)? 0: %d;\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a3a37cb32b1e3651bd08d33292bf1bd2d">dnalengthfixed</a>);
<a name="l01007"></a>01007         }
<a name="l01008"></a>01008         fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l01009"></a>01009     }
<a name="l01010"></a>01010 
<a name="l01011"></a>01011     <span class="keywordflow">return</span> func;
<a name="l01012"></a>01012 }
<a name="l01013"></a>01013 
<a name="l01014"></a><a class="code" href="../../da/df2/makesrna_8c.html#af1a685f772c6d18b5ae7ddb814e3fab1">01014</a> <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#af1a685f772c6d18b5ae7ddb814e3fab1">rna_def_property_begin_func</a>(FILE *f, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp,
<a name="l01015"></a>01015                                          <span class="keyword">const</span> <span class="keywordtype">char</span> *manualfunc)
<a name="l01016"></a>01016 {
<a name="l01017"></a>01017     <span class="keywordtype">char</span> *func, *getfunc;
<a name="l01018"></a>01018 
<a name="l01019"></a>01019     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a> &amp;&amp; manualfunc == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01020"></a>01020         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01021"></a>01021 
<a name="l01022"></a>01022     <span class="keywordflow">if</span> (!manualfunc) {
<a name="l01023"></a>01023         <span class="keywordflow">if</span> (!dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a> || !dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>) {
<a name="l01024"></a>01024             fprintf(stderr, <span class="stringliteral">&quot;%s: %s.%s has no valid dna info.\n&quot;</span>,
<a name="l01025"></a>01025                     __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01026"></a>01026             <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l01027"></a>01027             <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01028"></a>01028         }
<a name="l01029"></a>01029     }
<a name="l01030"></a>01030 
<a name="l01031"></a>01031     func = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), <span class="stringliteral">&quot;begin&quot;</span>);
<a name="l01032"></a>01032 
<a name="l01033"></a>01033     fprintf(f, <span class="stringliteral">&quot;void %s(CollectionPropertyIterator *iter, PointerRNA *ptr)\n&quot;</span>, func);
<a name="l01034"></a>01034     fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l01035"></a>01035 
<a name="l01036"></a>01036     <span class="keywordflow">if</span> (!manualfunc)
<a name="l01037"></a>01037         <a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">rna_print_data_get</a>(f, dp);
<a name="l01038"></a>01038 
<a name="l01039"></a>01039     fprintf(f, <span class="stringliteral">&quot;\n  memset(iter, 0, sizeof(*iter));\n&quot;</span>);
<a name="l01040"></a>01040     fprintf(f, <span class="stringliteral">&quot;    iter-&gt;parent= *ptr;\n&quot;</span>);
<a name="l01041"></a>01041     fprintf(f, <span class="stringliteral">&quot;    iter-&gt;prop= (PropertyRNA*)&amp;rna_%s_%s;\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01042"></a>01042 
<a name="l01043"></a>01043     <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a5521f1c360364e8657b56559dd966c5c">dnalengthname</a> || dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a3a37cb32b1e3651bd08d33292bf1bd2d">dnalengthfixed</a>) {
<a name="l01044"></a>01044         <span class="keywordflow">if</span> (manualfunc) {
<a name="l01045"></a>01045             fprintf(f, <span class="stringliteral">&quot;\n  %s(iter, ptr);\n&quot;</span>, manualfunc);
<a name="l01046"></a>01046         }
<a name="l01047"></a>01047         <span class="keywordflow">else</span> {
<a name="l01048"></a>01048             <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a5521f1c360364e8657b56559dd966c5c">dnalengthname</a>)
<a name="l01049"></a>01049                 fprintf(f, <span class="stringliteral">&quot;\n  rna_iterator_array_begin(iter, data-&gt;%s, sizeof(data-&gt;%s[0]), data-&gt;%s, 0, NULL);\n&quot;</span>,
<a name="l01050"></a>01050                         dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a5521f1c360364e8657b56559dd966c5c">dnalengthname</a>);
<a name="l01051"></a>01051             <span class="keywordflow">else</span>
<a name="l01052"></a>01052                 fprintf(f, <span class="stringliteral">&quot;\n  rna_iterator_array_begin(iter, data-&gt;%s, sizeof(data-&gt;%s[0]), %d, 0, NULL);\n&quot;</span>,
<a name="l01053"></a>01053                         dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a3a37cb32b1e3651bd08d33292bf1bd2d">dnalengthfixed</a>);
<a name="l01054"></a>01054         }
<a name="l01055"></a>01055     }
<a name="l01056"></a>01056     <span class="keywordflow">else</span> {
<a name="l01057"></a>01057         <span class="keywordflow">if</span> (manualfunc)
<a name="l01058"></a>01058             fprintf(f, <span class="stringliteral">&quot;\n  %s(iter, ptr);\n&quot;</span>, manualfunc);
<a name="l01059"></a>01059         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#abf7a555d57e01eaa912a9aab72877e51">dnapointerlevel</a> == 0)
<a name="l01060"></a>01060             fprintf(f, <span class="stringliteral">&quot;\n  rna_iterator_listbase_begin(iter, &amp;data-&gt;%s, NULL);\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l01061"></a>01061         <span class="keywordflow">else</span>
<a name="l01062"></a>01062             fprintf(f, <span class="stringliteral">&quot;\n  rna_iterator_listbase_begin(iter, data-&gt;%s, NULL);\n&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l01063"></a>01063     }
<a name="l01064"></a>01064 
<a name="l01065"></a>01065     getfunc = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), <span class="stringliteral">&quot;get&quot;</span>);
<a name="l01066"></a>01066 
<a name="l01067"></a>01067     fprintf(f, <span class="stringliteral">&quot;\n  if (iter-&gt;valid)\n&quot;</span>);
<a name="l01068"></a>01068     fprintf(f, <span class="stringliteral">&quot;        iter-&gt;ptr= %s(iter);\n&quot;</span>, getfunc);
<a name="l01069"></a>01069 
<a name="l01070"></a>01070     fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l01071"></a>01071 
<a name="l01072"></a>01072 
<a name="l01073"></a>01073     <span class="keywordflow">return</span> func;
<a name="l01074"></a>01074 }
<a name="l01075"></a>01075 
<a name="l01076"></a><a class="code" href="../../da/df2/makesrna_8c.html#a15f40ab828616c68fd8b2a7249d7a75c">01076</a> <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#a15f40ab828616c68fd8b2a7249d7a75c">rna_def_property_lookup_int_func</a>(FILE *f, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp,
<a name="l01077"></a>01077                                               <span class="keyword">const</span> <span class="keywordtype">char</span> *manualfunc, <span class="keyword">const</span> <span class="keywordtype">char</span> *nextfunc)
<a name="l01078"></a>01078 {
<a name="l01079"></a>01079     <span class="comment">/* note on indices, this is for external functions and ignores skipped values.</span>
<a name="l01080"></a>01080 <span class="comment">     * so the the index can only be checked against the length when there is no &#39;skip&#39; funcion. */</span>
<a name="l01081"></a>01081     <span class="keywordtype">char</span> *func;
<a name="l01082"></a>01082 
<a name="l01083"></a>01083     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a> &amp;&amp; manualfunc == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01084"></a>01084         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01085"></a>01085 
<a name="l01086"></a>01086     <span class="keywordflow">if</span> (!manualfunc) {
<a name="l01087"></a>01087         <span class="keywordflow">if</span> (!dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a> || !dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>)
<a name="l01088"></a>01088             <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01089"></a>01089 
<a name="l01090"></a>01090         <span class="comment">/* only supported in case of standard next functions */</span>
<a name="l01091"></a>01091         <span class="keywordflow">if</span> (strcmp(nextfunc, <span class="stringliteral">&quot;rna_iterator_array_next&quot;</span>) == 0);
<a name="l01092"></a>01092         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(nextfunc, <span class="stringliteral">&quot;rna_iterator_listbase_next&quot;</span>) == 0);
<a name="l01093"></a>01093         <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01094"></a>01094     }
<a name="l01095"></a>01095 
<a name="l01096"></a>01096     func = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), <span class="stringliteral">&quot;lookup_int&quot;</span>);
<a name="l01097"></a>01097 
<a name="l01098"></a>01098     fprintf(f, <span class="stringliteral">&quot;int %s(PointerRNA *ptr, int index, PointerRNA *r_ptr)\n&quot;</span>, func);
<a name="l01099"></a>01099     fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l01100"></a>01100 
<a name="l01101"></a>01101     <span class="keywordflow">if</span> (manualfunc) {
<a name="l01102"></a>01102         fprintf(f, <span class="stringliteral">&quot;\n  return %s(ptr, index, r_ptr);\n&quot;</span>, manualfunc);
<a name="l01103"></a>01103         fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l01104"></a>01104         <span class="keywordflow">return</span> func;
<a name="l01105"></a>01105     }
<a name="l01106"></a>01106 
<a name="l01107"></a>01107     fprintf(f, <span class="stringliteral">&quot;    int found= 0;\n&quot;</span>);
<a name="l01108"></a>01108     fprintf(f, <span class="stringliteral">&quot;    CollectionPropertyIterator iter;\n\n&quot;</span>);
<a name="l01109"></a>01109 
<a name="l01110"></a>01110     fprintf(f, <span class="stringliteral">&quot;    %s_%s_begin(&amp;iter, ptr);\n\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01111"></a>01111     fprintf(f, <span class="stringliteral">&quot;    if (iter.valid) {\n&quot;</span>);
<a name="l01112"></a>01112 
<a name="l01113"></a>01113     <span class="keywordflow">if</span> (strcmp(nextfunc, <span class="stringliteral">&quot;rna_iterator_array_next&quot;</span>) == 0) {
<a name="l01114"></a>01114         fprintf(f, <span class="stringliteral">&quot;        ArrayIterator *internal= iter.internal;\n&quot;</span>);
<a name="l01115"></a>01115         fprintf(f, <span class="stringliteral">&quot;        if (index &lt; 0 || index &gt;= internal-&gt;length) {\n&quot;</span>);
<a name="l01116"></a>01116         fprintf(f, <span class="stringliteral">&quot;#ifdef __GNUC__\n&quot;</span>);
<a name="l01117"></a>01117         fprintf(f, <span class="stringliteral">&quot;            printf(\&quot;Array iterator out of range: %%s (index %%d)\\n\&quot;, __func__, index);\n&quot;</span>);
<a name="l01118"></a>01118         fprintf(f, <span class="stringliteral">&quot;#else\n&quot;</span>);
<a name="l01119"></a>01119         fprintf(f, <span class="stringliteral">&quot;            printf(\&quot;Array iterator out of range: (index %%d)\\n\&quot;, index);\n&quot;</span>);
<a name="l01120"></a>01120         fprintf(f, <span class="stringliteral">&quot;#endif\n&quot;</span>);
<a name="l01121"></a>01121         fprintf(f, <span class="stringliteral">&quot;        }\n&quot;</span>);
<a name="l01122"></a>01122         fprintf(f, <span class="stringliteral">&quot;        else if (internal-&gt;skip) {\n&quot;</span>);
<a name="l01123"></a>01123         fprintf(f, <span class="stringliteral">&quot;            while (index-- &gt; 0 &amp;&amp; iter.valid) {\n&quot;</span>);
<a name="l01124"></a>01124         fprintf(f, <span class="stringliteral">&quot;                rna_iterator_array_next(&amp;iter);\n&quot;</span>);
<a name="l01125"></a>01125         fprintf(f, <span class="stringliteral">&quot;            }\n&quot;</span>);
<a name="l01126"></a>01126         fprintf(f, <span class="stringliteral">&quot;            found= (index == -1 &amp;&amp; iter.valid);\n&quot;</span>);
<a name="l01127"></a>01127         fprintf(f, <span class="stringliteral">&quot;        }\n&quot;</span>);
<a name="l01128"></a>01128         fprintf(f, <span class="stringliteral">&quot;        else {\n&quot;</span>);
<a name="l01129"></a>01129         fprintf(f, <span class="stringliteral">&quot;            internal-&gt;ptr += internal-&gt;itemsize*index;\n&quot;</span>);
<a name="l01130"></a>01130         fprintf(f, <span class="stringliteral">&quot;            found= 1;\n&quot;</span>);
<a name="l01131"></a>01131         fprintf(f, <span class="stringliteral">&quot;        }\n&quot;</span>);
<a name="l01132"></a>01132     }
<a name="l01133"></a>01133     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(nextfunc, <span class="stringliteral">&quot;rna_iterator_listbase_next&quot;</span>) == 0) {
<a name="l01134"></a>01134         fprintf(f, <span class="stringliteral">&quot;        ListBaseIterator *internal= iter.internal;\n&quot;</span>);
<a name="l01135"></a>01135         fprintf(f, <span class="stringliteral">&quot;        if (internal-&gt;skip) {\n&quot;</span>);
<a name="l01136"></a>01136         fprintf(f, <span class="stringliteral">&quot;            while (index-- &gt; 0 &amp;&amp; iter.valid) {\n&quot;</span>);
<a name="l01137"></a>01137         fprintf(f, <span class="stringliteral">&quot;                rna_iterator_listbase_next(&amp;iter);\n&quot;</span>);
<a name="l01138"></a>01138         fprintf(f, <span class="stringliteral">&quot;            }\n&quot;</span>);
<a name="l01139"></a>01139         fprintf(f, <span class="stringliteral">&quot;            found= (index == -1 &amp;&amp; iter.valid);\n&quot;</span>);
<a name="l01140"></a>01140         fprintf(f, <span class="stringliteral">&quot;        }\n&quot;</span>);
<a name="l01141"></a>01141         fprintf(f, <span class="stringliteral">&quot;        else {\n&quot;</span>);
<a name="l01142"></a>01142         fprintf(f, <span class="stringliteral">&quot;            while (index-- &gt; 0 &amp;&amp; internal-&gt;link)\n&quot;</span>);
<a name="l01143"></a>01143         fprintf(f, <span class="stringliteral">&quot;                internal-&gt;link= internal-&gt;link-&gt;next;\n&quot;</span>);
<a name="l01144"></a>01144         fprintf(f, <span class="stringliteral">&quot;            found= (index == -1 &amp;&amp; internal-&gt;link);\n&quot;</span>);
<a name="l01145"></a>01145         fprintf(f, <span class="stringliteral">&quot;        }\n&quot;</span>);
<a name="l01146"></a>01146     }
<a name="l01147"></a>01147 
<a name="l01148"></a>01148     fprintf(f, <span class="stringliteral">&quot;        if (found) *r_ptr = %s_%s_get(&amp;iter);\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01149"></a>01149     fprintf(f, <span class="stringliteral">&quot;    }\n\n&quot;</span>);
<a name="l01150"></a>01150     fprintf(f, <span class="stringliteral">&quot;    %s_%s_end(&amp;iter);\n\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01151"></a>01151 
<a name="l01152"></a>01152     fprintf(f, <span class="stringliteral">&quot;    return found;\n&quot;</span>);
<a name="l01153"></a>01153 
<a name="l01154"></a>01154 <span class="preprocessor">#if 0</span>
<a name="l01155"></a>01155 <span class="preprocessor"></span>    <a class="code" href="../../da/df2/makesrna_8c.html#a03c8960593971f656a066f8194e582df">rna_print_data_get</a>(f, dp);
<a name="l01156"></a>01156     item_type = (cprop-&gt;item_type)? (<span class="keyword">const</span> <span class="keywordtype">char</span>*)cprop-&gt;item_type: <span class="stringliteral">&quot;UnknownType&quot;</span>;
<a name="l01157"></a>01157 
<a name="l01158"></a>01158     <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a5521f1c360364e8657b56559dd966c5c">dnalengthname</a> || dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a3a37cb32b1e3651bd08d33292bf1bd2d">dnalengthfixed</a>) {
<a name="l01159"></a>01159         <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a5521f1c360364e8657b56559dd966c5c">dnalengthname</a>)
<a name="l01160"></a>01160             fprintf(f, <span class="stringliteral">&quot;\n  rna_array_lookup_int(ptr, &amp;RNA_%s, data-&gt;%s, sizeof(data-&gt;%s[0]), data-&gt;%s, index);\n&quot;</span>,
<a name="l01161"></a>01161                     item_type, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a5521f1c360364e8657b56559dd966c5c">dnalengthname</a>);
<a name="l01162"></a>01162         <span class="keywordflow">else</span>
<a name="l01163"></a>01163             fprintf(f, <span class="stringliteral">&quot;\n  rna_array_lookup_int(ptr, &amp;RNA_%s, data-&gt;%s, sizeof(data-&gt;%s[0]), %d, index);\n&quot;</span>,
<a name="l01164"></a>01164                     item_type, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a3a37cb32b1e3651bd08d33292bf1bd2d">dnalengthfixed</a>);
<a name="l01165"></a>01165     }
<a name="l01166"></a>01166     <span class="keywordflow">else</span> {
<a name="l01167"></a>01167         <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#abf7a555d57e01eaa912a9aab72877e51">dnapointerlevel</a> == 0)
<a name="l01168"></a>01168             fprintf(f, <span class="stringliteral">&quot;\n  return rna_listbase_lookup_int(ptr, &amp;RNA_%s, &amp;data-&gt;%s, index);\n&quot;</span>,
<a name="l01169"></a>01169                     item_type, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l01170"></a>01170         <span class="keywordflow">else</span>
<a name="l01171"></a>01171             fprintf(f, <span class="stringliteral">&quot;\n  return rna_listbase_lookup_int(ptr, &amp;RNA_%s, data-&gt;%s, index);\n&quot;</span>, item_type, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>);
<a name="l01172"></a>01172     }
<a name="l01173"></a>01173 <span class="preprocessor">#endif</span>
<a name="l01174"></a>01174 <span class="preprocessor"></span>
<a name="l01175"></a>01175     fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l01176"></a>01176 
<a name="l01177"></a>01177     <span class="keywordflow">return</span> func;
<a name="l01178"></a>01178 }
<a name="l01179"></a>01179 
<a name="l01180"></a><a class="code" href="../../da/df2/makesrna_8c.html#a4cd6f7ffbfa455f870d14f96e150f419">01180</a> <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#a4cd6f7ffbfa455f870d14f96e150f419">rna_def_property_next_func</a>(FILE *f, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp,
<a name="l01181"></a>01181                                         <span class="keyword">const</span> <span class="keywordtype">char</span> *manualfunc)
<a name="l01182"></a>01182 {
<a name="l01183"></a>01183     <span class="keywordtype">char</span> *func, *getfunc;
<a name="l01184"></a>01184 
<a name="l01185"></a>01185     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a> &amp;&amp; manualfunc == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01186"></a>01186         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01187"></a>01187 
<a name="l01188"></a>01188     <span class="keywordflow">if</span> (!manualfunc)
<a name="l01189"></a>01189         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01190"></a>01190 
<a name="l01191"></a>01191     func = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), <span class="stringliteral">&quot;next&quot;</span>);
<a name="l01192"></a>01192 
<a name="l01193"></a>01193     fprintf(f, <span class="stringliteral">&quot;void %s(CollectionPropertyIterator *iter)\n&quot;</span>, func);
<a name="l01194"></a>01194     fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l01195"></a>01195     fprintf(f, <span class="stringliteral">&quot;    %s(iter);\n&quot;</span>, manualfunc);
<a name="l01196"></a>01196 
<a name="l01197"></a>01197     getfunc = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), <span class="stringliteral">&quot;get&quot;</span>);
<a name="l01198"></a>01198 
<a name="l01199"></a>01199     fprintf(f, <span class="stringliteral">&quot;\n  if (iter-&gt;valid)\n&quot;</span>);
<a name="l01200"></a>01200     fprintf(f, <span class="stringliteral">&quot;        iter-&gt;ptr= %s(iter);\n&quot;</span>, getfunc);
<a name="l01201"></a>01201 
<a name="l01202"></a>01202     fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l01203"></a>01203 
<a name="l01204"></a>01204     <span class="keywordflow">return</span> func;
<a name="l01205"></a>01205 }
<a name="l01206"></a>01206 
<a name="l01207"></a><a class="code" href="../../da/df2/makesrna_8c.html#a1b5d6de2a154e6702c7a44832e8a154f">01207</a> <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#a1b5d6de2a154e6702c7a44832e8a154f">rna_def_property_end_func</a>(FILE *f, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp,
<a name="l01208"></a>01208                                        <span class="keyword">const</span> <span class="keywordtype">char</span> *manualfunc)
<a name="l01209"></a>01209 {
<a name="l01210"></a>01210     <span class="keywordtype">char</span> *func;
<a name="l01211"></a>01211 
<a name="l01212"></a>01212     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a> &amp;&amp; manualfunc == <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01213"></a>01213         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01214"></a>01214 
<a name="l01215"></a>01215     func = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), <span class="stringliteral">&quot;end&quot;</span>);
<a name="l01216"></a>01216 
<a name="l01217"></a>01217     fprintf(f, <span class="stringliteral">&quot;void %s(CollectionPropertyIterator *iter)\n&quot;</span>, func);
<a name="l01218"></a>01218     fprintf(f, <span class="stringliteral">&quot;{\n&quot;</span>);
<a name="l01219"></a>01219     <span class="keywordflow">if</span> (manualfunc)
<a name="l01220"></a>01220         fprintf(f, <span class="stringliteral">&quot;    %s(iter);\n&quot;</span>, manualfunc);
<a name="l01221"></a>01221     fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l01222"></a>01222 
<a name="l01223"></a>01223     <span class="keywordflow">return</span> func;
<a name="l01224"></a>01224 }
<a name="l01225"></a>01225 
<a name="l01226"></a><a class="code" href="../../da/df2/makesrna_8c.html#af102dac003855dc04e76895393deba0a">01226</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#af102dac003855dc04e76895393deba0a">rna_set_raw_property</a>(<a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01227"></a>01227 {
<a name="l01228"></a>01228     <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#abf7a555d57e01eaa912a9aab72877e51">dnapointerlevel</a> != 0)
<a name="l01229"></a>01229         <span class="keywordflow">return</span>;
<a name="l01230"></a>01230     <span class="keywordflow">if</span> (!dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a> || !dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a> || !dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a>)
<a name="l01231"></a>01231         <span class="keywordflow">return</span>;
<a name="l01232"></a>01232     
<a name="l01233"></a>01233     <span class="keywordflow">if</span> (strcmp(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>, <span class="stringliteral">&quot;char&quot;</span>) == 0) {
<a name="l01234"></a>01234         prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad5f2d3c325107cd8ea0ef7ca1c2b3105">rawtype</a> = <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a4ae083171407e6672ae9bbbf9f355910">PROP_RAW_CHAR</a>;
<a name="l01235"></a>01235         prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> |= <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a25b3c9c6e12273140cdefbe3fe85e37b">PROP_RAW_ACCESS</a>;
<a name="l01236"></a>01236     }
<a name="l01237"></a>01237     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>, <span class="stringliteral">&quot;short&quot;</span>) == 0) {
<a name="l01238"></a>01238         prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad5f2d3c325107cd8ea0ef7ca1c2b3105">rawtype</a> = <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628af045089644ab3ed667ac983560669182">PROP_RAW_SHORT</a>;
<a name="l01239"></a>01239         prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> |= <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a25b3c9c6e12273140cdefbe3fe85e37b">PROP_RAW_ACCESS</a>;
<a name="l01240"></a>01240     }
<a name="l01241"></a>01241     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>, <span class="stringliteral">&quot;int&quot;</span>) == 0) {
<a name="l01242"></a>01242         prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad5f2d3c325107cd8ea0ef7ca1c2b3105">rawtype</a> = <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a23ffa2515c48515068b2b70dac56fa18">PROP_RAW_INT</a>;
<a name="l01243"></a>01243         prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> |= <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a25b3c9c6e12273140cdefbe3fe85e37b">PROP_RAW_ACCESS</a>;
<a name="l01244"></a>01244     }
<a name="l01245"></a>01245     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>, <span class="stringliteral">&quot;float&quot;</span>) == 0) {
<a name="l01246"></a>01246         prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad5f2d3c325107cd8ea0ef7ca1c2b3105">rawtype</a> = <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a5ea7bd697b77a8d06dac2bab9dbb58d0">PROP_RAW_FLOAT</a>;
<a name="l01247"></a>01247         prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> |= <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a25b3c9c6e12273140cdefbe3fe85e37b">PROP_RAW_ACCESS</a>;
<a name="l01248"></a>01248     }
<a name="l01249"></a>01249     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>, <span class="stringliteral">&quot;double&quot;</span>) == 0) {
<a name="l01250"></a>01250         prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad5f2d3c325107cd8ea0ef7ca1c2b3105">rawtype</a> = <a class="code" href="../../de/d7e/RNA__types_8h.html#ae668bea38b5a1d6c35dedeaa5bfe6628a830e5e473e8af42b07ad615e09937dda">PROP_RAW_DOUBLE</a>;
<a name="l01251"></a>01251         prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> |= <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a25b3c9c6e12273140cdefbe3fe85e37b">PROP_RAW_ACCESS</a>;
<a name="l01252"></a>01252     }
<a name="l01253"></a>01253 }
<a name="l01254"></a>01254 
<a name="l01255"></a><a class="code" href="../../da/df2/makesrna_8c.html#a3047f09fa96198d8756f92a04d66de23">01255</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a3047f09fa96198d8756f92a04d66de23">rna_set_raw_offset</a>(FILE *f, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l01256"></a>01256 {
<a name="l01257"></a>01257     <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp = <a class="code" href="../../dc/d7e/rna__define_8c.html#a4ca2647cedcf60c6d0baded6597400fb">rna_find_struct_property_def</a>(srna, prop);
<a name="l01258"></a>01258 
<a name="l01259"></a>01259     fprintf(f, <span class="stringliteral">&quot;\toffsetof(%s, %s), %d&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a06804f07dfa82735f66379ff8dffb06e">dnaname</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad5f2d3c325107cd8ea0ef7ca1c2b3105">rawtype</a>);
<a name="l01260"></a>01260 }
<a name="l01261"></a>01261 
<a name="l01262"></a><a class="code" href="../../da/df2/makesrna_8c.html#a137934fd7d4e02f77612726ad3337e4c">01262</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a137934fd7d4e02f77612726ad3337e4c">rna_def_property_funcs</a>(FILE *f, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp)
<a name="l01263"></a>01263 {
<a name="l01264"></a>01264     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop;
<a name="l01265"></a>01265 
<a name="l01266"></a>01266     prop = dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>;
<a name="l01267"></a>01267 
<a name="l01268"></a>01268     <span class="keywordflow">switch</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>) {
<a name="l01269"></a>01269         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>: {
<a name="l01270"></a>01270             <a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a> *bprop = (<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a>*)prop;
<a name="l01271"></a>01271 
<a name="l01272"></a>01272             <span class="keywordflow">if</span> (!prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>) {
<a name="l01273"></a>01273                 <span class="keywordflow">if</span> (!bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#ab002855a642299be3ea8a3e74f6cbd93">get</a> &amp;&amp; !bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#aa4b7a8febf3b265db636dad2899b7fce">set</a> &amp;&amp; !dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a29580e0b83106c3e8b9fa249a9746a22">booleanbit</a>)
<a name="l01274"></a>01274                     <a class="code" href="../../da/df2/makesrna_8c.html#af102dac003855dc04e76895393deba0a">rna_set_raw_property</a>(dp, prop);
<a name="l01275"></a>01275 
<a name="l01276"></a>01276                 bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#ab002855a642299be3ea8a3e74f6cbd93">get</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a0b168ef04a86c1f7f811c162107c347d">rna_def_property_get_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#ab002855a642299be3ea8a3e74f6cbd93">get</a>);
<a name="l01277"></a>01277                 bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#aa4b7a8febf3b265db636dad2899b7fce">set</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#af34830fc8d37bcfe4879c7b92851693f">rna_def_property_set_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#aa4b7a8febf3b265db636dad2899b7fce">set</a>);
<a name="l01278"></a>01278             }
<a name="l01279"></a>01279             <span class="keywordflow">else</span> {
<a name="l01280"></a>01280                 bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#af38a68b63e12461123465bdc74b74fc3">getarray</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a0b168ef04a86c1f7f811c162107c347d">rna_def_property_get_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#af38a68b63e12461123465bdc74b74fc3">getarray</a>);
<a name="l01281"></a>01281                 bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#a7535d073b74cdb69dbb338efb46ea7ef">setarray</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#af34830fc8d37bcfe4879c7b92851693f">rna_def_property_set_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#a7535d073b74cdb69dbb338efb46ea7ef">setarray</a>);
<a name="l01282"></a>01282             }
<a name="l01283"></a>01283             <span class="keywordflow">break</span>;
<a name="l01284"></a>01284         }
<a name="l01285"></a>01285         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>: {
<a name="l01286"></a>01286             <a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a> *iprop = (<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)prop;
<a name="l01287"></a>01287 
<a name="l01288"></a>01288             <span class="keywordflow">if</span> (!prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>) {
<a name="l01289"></a>01289                 <span class="keywordflow">if</span> (!iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a05b1e1f8ecb1ae59b6f369a83dbcadab">get</a> &amp;&amp; !iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a4d0d92a22e08ba1a5d4b1af4be0c62b6">set</a>)
<a name="l01290"></a>01290                     <a class="code" href="../../da/df2/makesrna_8c.html#af102dac003855dc04e76895393deba0a">rna_set_raw_property</a>(dp, prop);
<a name="l01291"></a>01291 
<a name="l01292"></a>01292                 iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a05b1e1f8ecb1ae59b6f369a83dbcadab">get</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a0b168ef04a86c1f7f811c162107c347d">rna_def_property_get_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a05b1e1f8ecb1ae59b6f369a83dbcadab">get</a>);
<a name="l01293"></a>01293                 iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a4d0d92a22e08ba1a5d4b1af4be0c62b6">set</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#af34830fc8d37bcfe4879c7b92851693f">rna_def_property_set_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a4d0d92a22e08ba1a5d4b1af4be0c62b6">set</a>);
<a name="l01294"></a>01294             }
<a name="l01295"></a>01295             <span class="keywordflow">else</span> {
<a name="l01296"></a>01296                 <span class="keywordflow">if</span> (!iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a1eb04ac10c6ac4c42cab8280d4df0bcb">getarray</a> &amp;&amp; !iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a385d89591c72c779ceda91b2157fe2b9">setarray</a>)
<a name="l01297"></a>01297                     <a class="code" href="../../da/df2/makesrna_8c.html#af102dac003855dc04e76895393deba0a">rna_set_raw_property</a>(dp, prop);
<a name="l01298"></a>01298 
<a name="l01299"></a>01299                 iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a1eb04ac10c6ac4c42cab8280d4df0bcb">getarray</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a0b168ef04a86c1f7f811c162107c347d">rna_def_property_get_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a1eb04ac10c6ac4c42cab8280d4df0bcb">getarray</a>);
<a name="l01300"></a>01300                 iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a385d89591c72c779ceda91b2157fe2b9">setarray</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#af34830fc8d37bcfe4879c7b92851693f">rna_def_property_set_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a385d89591c72c779ceda91b2157fe2b9">setarray</a>);
<a name="l01301"></a>01301             }
<a name="l01302"></a>01302             <span class="keywordflow">break</span>;
<a name="l01303"></a>01303         }
<a name="l01304"></a>01304         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>: {
<a name="l01305"></a>01305             <a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a> *fprop = (<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)prop;
<a name="l01306"></a>01306 
<a name="l01307"></a>01307             <span class="keywordflow">if</span> (!prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>) {
<a name="l01308"></a>01308                 <span class="keywordflow">if</span> (!fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a37d7799d1e8366004cdcf421dda24465">get</a> &amp;&amp; !fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#abf91278882ce2d3abd336c9eed9ac9e1">set</a>)
<a name="l01309"></a>01309                     <a class="code" href="../../da/df2/makesrna_8c.html#af102dac003855dc04e76895393deba0a">rna_set_raw_property</a>(dp, prop);
<a name="l01310"></a>01310 
<a name="l01311"></a>01311                 fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a37d7799d1e8366004cdcf421dda24465">get</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a0b168ef04a86c1f7f811c162107c347d">rna_def_property_get_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a37d7799d1e8366004cdcf421dda24465">get</a>);
<a name="l01312"></a>01312                 fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#abf91278882ce2d3abd336c9eed9ac9e1">set</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#af34830fc8d37bcfe4879c7b92851693f">rna_def_property_set_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#abf91278882ce2d3abd336c9eed9ac9e1">set</a>);
<a name="l01313"></a>01313             }
<a name="l01314"></a>01314             <span class="keywordflow">else</span> {
<a name="l01315"></a>01315                 <span class="keywordflow">if</span> (!fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a6cafd3ec71f94bbadbc99351e2426c8e">getarray</a> &amp;&amp; !fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad46d3fa0dfee75ed8437809333c40c0c">setarray</a>)
<a name="l01316"></a>01316                     <a class="code" href="../../da/df2/makesrna_8c.html#af102dac003855dc04e76895393deba0a">rna_set_raw_property</a>(dp, prop);
<a name="l01317"></a>01317 
<a name="l01318"></a>01318                 fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a6cafd3ec71f94bbadbc99351e2426c8e">getarray</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a0b168ef04a86c1f7f811c162107c347d">rna_def_property_get_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a6cafd3ec71f94bbadbc99351e2426c8e">getarray</a>);
<a name="l01319"></a>01319                 fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad46d3fa0dfee75ed8437809333c40c0c">setarray</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#af34830fc8d37bcfe4879c7b92851693f">rna_def_property_set_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad46d3fa0dfee75ed8437809333c40c0c">setarray</a>);
<a name="l01320"></a>01320             }
<a name="l01321"></a>01321             <span class="keywordflow">break</span>;
<a name="l01322"></a>01322         }
<a name="l01323"></a>01323         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>: {
<a name="l01324"></a>01324             <a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a> *eprop = (<a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a>*)prop;
<a name="l01325"></a>01325 
<a name="l01326"></a>01326             eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#a92f12b4c74e1c0150027a8a6a51b112c">get</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a0b168ef04a86c1f7f811c162107c347d">rna_def_property_get_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#a92f12b4c74e1c0150027a8a6a51b112c">get</a>);
<a name="l01327"></a>01327             eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#aff533710b1ed83e95de01ad3ed642b8b">set</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#af34830fc8d37bcfe4879c7b92851693f">rna_def_property_set_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#aff533710b1ed83e95de01ad3ed642b8b">set</a>);
<a name="l01328"></a>01328             <span class="keywordflow">break</span>;
<a name="l01329"></a>01329         }
<a name="l01330"></a>01330         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>: {
<a name="l01331"></a>01331             <a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a> *sprop = (<a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a>*)prop;
<a name="l01332"></a>01332 
<a name="l01333"></a>01333             sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#ac886cc47c50ad9f4a889f6571ed66e3b">get</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a0b168ef04a86c1f7f811c162107c347d">rna_def_property_get_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#ac886cc47c50ad9f4a889f6571ed66e3b">get</a>);
<a name="l01334"></a>01334             sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a81bdf8f4989f95df5e6e90ba34e06039">length</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a74a2631b4100ef6cfc012d46200b60a0">rna_def_property_length_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a81bdf8f4989f95df5e6e90ba34e06039">length</a>);
<a name="l01335"></a>01335             sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a3281606f113e61e29e85349fca73bb39">set</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#af34830fc8d37bcfe4879c7b92851693f">rna_def_property_set_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a3281606f113e61e29e85349fca73bb39">set</a>);
<a name="l01336"></a>01336             <span class="keywordflow">break</span>;
<a name="l01337"></a>01337         }
<a name="l01338"></a>01338         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>: {
<a name="l01339"></a>01339             <a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a> *pprop = (<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a>*)prop;
<a name="l01340"></a>01340 
<a name="l01341"></a>01341             pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7e051ebaa5617c5cd3e3442b2be318b8">get</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a0b168ef04a86c1f7f811c162107c347d">rna_def_property_get_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7e051ebaa5617c5cd3e3442b2be318b8">get</a>);
<a name="l01342"></a>01342             pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#ab36579bb615fdb1d8987ff0847edd34d">set</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#af34830fc8d37bcfe4879c7b92851693f">rna_def_property_set_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#ab36579bb615fdb1d8987ff0847edd34d">set</a>);
<a name="l01343"></a>01343             <span class="keywordflow">if</span> (!pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>) {
<a name="l01344"></a>01344                 fprintf(stderr, <span class="stringliteral">&quot;%s: %s.%s, pointer must have a struct type.\n&quot;</span>,
<a name="l01345"></a>01345                         __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01346"></a>01346                 <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l01347"></a>01347             }
<a name="l01348"></a>01348             <span class="keywordflow">break</span>;
<a name="l01349"></a>01349         }
<a name="l01350"></a>01350         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>: {
<a name="l01351"></a>01351             <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)prop;
<a name="l01352"></a>01352             <span class="keyword">const</span> <span class="keywordtype">char</span> *nextfunc = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a538ed24fbf25d43e86c6206278616431">next</a>;
<a name="l01353"></a>01353 
<a name="l01354"></a>01354             <a class="code" href="../../dd/db6/paraloopend_8h.html#a65986f23fef03474a87b62a14beafe42">if</a> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a> &amp;&amp; strcmp(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>, <span class="stringliteral">&quot;ListBase&quot;</span>) == 0);
<a name="l01355"></a>01355             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a5521f1c360364e8657b56559dd966c5c">dnalengthname</a> || dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a3a37cb32b1e3651bd08d33292bf1bd2d">dnalengthfixed</a>)
<a name="l01356"></a>01356                 cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a57b67e8ad4dc9ffba53ed41b597ae6ba">length</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a74a2631b4100ef6cfc012d46200b60a0">rna_def_property_length_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a57b67e8ad4dc9ffba53ed41b597ae6ba">length</a>);
<a name="l01357"></a>01357 
<a name="l01358"></a>01358             <span class="comment">/* test if we can allow raw array access, if it is using our standard</span>
<a name="l01359"></a>01359 <span class="comment">             * array get/next function, we can be sure it is an actual array */</span>
<a name="l01360"></a>01360             <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a538ed24fbf25d43e86c6206278616431">next</a> &amp;&amp; cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#adf3521bb24dca0359fd985eb65299a40">get</a>)
<a name="l01361"></a>01361                 <span class="keywordflow">if</span> (strcmp((<span class="keyword">const</span> <span class="keywordtype">char</span>*)cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a538ed24fbf25d43e86c6206278616431">next</a>, <span class="stringliteral">&quot;rna_iterator_array_next&quot;</span>) == 0 &amp;&amp;
<a name="l01362"></a>01362                    strcmp((<span class="keyword">const</span> <span class="keywordtype">char</span>*)cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#adf3521bb24dca0359fd985eb65299a40">get</a>, <span class="stringliteral">&quot;rna_iterator_array_get&quot;</span>) == 0)
<a name="l01363"></a>01363                     prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> |= <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411aef6cb1f85525236d6032aa068519a6a1">PROP_RAW_ARRAY</a>;
<a name="l01364"></a>01364 
<a name="l01365"></a>01365             cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#adf3521bb24dca0359fd985eb65299a40">get</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a0b168ef04a86c1f7f811c162107c347d">rna_def_property_get_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#adf3521bb24dca0359fd985eb65299a40">get</a>);
<a name="l01366"></a>01366             cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a810dead54b28eb961a333690e4a145e6">begin</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#af1a685f772c6d18b5ae7ddb814e3fab1">rna_def_property_begin_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a810dead54b28eb961a333690e4a145e6">begin</a>);
<a name="l01367"></a>01367             cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a538ed24fbf25d43e86c6206278616431">next</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a4cd6f7ffbfa455f870d14f96e150f419">rna_def_property_next_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a538ed24fbf25d43e86c6206278616431">next</a>);
<a name="l01368"></a>01368             cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#aa6f541a3e80d455e296162ea2989d62e">end</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a1b5d6de2a154e6702c7a44832e8a154f">rna_def_property_end_func</a>(f, srna, prop, dp, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#aa6f541a3e80d455e296162ea2989d62e">end</a>);
<a name="l01369"></a>01369             cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a77e970b438f1f5d15dd05f65aa82d074">lookupint</a> = (<span class="keywordtype">void</span>*)<a class="code" href="../../da/df2/makesrna_8c.html#a15f40ab828616c68fd8b2a7249d7a75c">rna_def_property_lookup_int_func</a>(f, srna, prop, dp,
<a name="l01370"></a>01370                                                                        (<span class="keyword">const</span> <span class="keywordtype">char</span>*)cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a77e970b438f1f5d15dd05f65aa82d074">lookupint</a>, nextfunc);
<a name="l01371"></a>01371 
<a name="l01372"></a>01372             <span class="keywordflow">if</span> (!(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>)) {
<a name="l01373"></a>01373                 <span class="keywordflow">if</span> (!cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a810dead54b28eb961a333690e4a145e6">begin</a>) {
<a name="l01374"></a>01374                     fprintf(stderr, <span class="stringliteral">&quot;%s: %s.%s, collection must have a begin function.\n&quot;</span>,
<a name="l01375"></a>01375                             __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01376"></a>01376                     <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l01377"></a>01377                 }
<a name="l01378"></a>01378                 <span class="keywordflow">if</span> (!cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a538ed24fbf25d43e86c6206278616431">next</a>) {
<a name="l01379"></a>01379                     fprintf(stderr, <span class="stringliteral">&quot;%s: %s.%s, collection must have a next function.\n&quot;</span>,
<a name="l01380"></a>01380                             __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01381"></a>01381                     <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l01382"></a>01382                 }
<a name="l01383"></a>01383                 <span class="keywordflow">if</span> (!cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#adf3521bb24dca0359fd985eb65299a40">get</a>) {
<a name="l01384"></a>01384                     fprintf(stderr, <span class="stringliteral">&quot;%s: %s.%s, collection must have a get function.\n&quot;</span>,
<a name="l01385"></a>01385                             __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01386"></a>01386                     <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l01387"></a>01387                 }
<a name="l01388"></a>01388             }
<a name="l01389"></a>01389             <span class="keywordflow">if</span> (!cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a>) {
<a name="l01390"></a>01390                 fprintf(stderr, <span class="stringliteral">&quot;%s: %s.%s, collection must have a struct type.\n&quot;</span>,
<a name="l01391"></a>01391                         __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01392"></a>01392                 <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l01393"></a>01393             }
<a name="l01394"></a>01394             <span class="keywordflow">break</span>;
<a name="l01395"></a>01395         }
<a name="l01396"></a>01396     }
<a name="l01397"></a>01397 }
<a name="l01398"></a>01398 
<a name="l01399"></a><a class="code" href="../../da/df2/makesrna_8c.html#ab7f1cd800b8f5d6ce169c98dd7ddaf5d">01399</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#ab7f1cd800b8f5d6ce169c98dd7ddaf5d">rna_def_property_funcs_header</a>(FILE *f, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp)
<a name="l01400"></a>01400 {
<a name="l01401"></a>01401     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop;
<a name="l01402"></a>01402     <span class="keywordtype">char</span> *func;
<a name="l01403"></a>01403 
<a name="l01404"></a>01404     prop = dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>;
<a name="l01405"></a>01405 
<a name="l01406"></a>01406     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; (<a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>|<a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411ad37a289ebc0e12abf00cda2657a10f94">PROP_BUILTIN</a>))
<a name="l01407"></a>01407         <span class="keywordflow">return</span>;
<a name="l01408"></a>01408 
<a name="l01409"></a>01409     func = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), <span class="stringliteral">&quot;&quot;</span>);
<a name="l01410"></a>01410 
<a name="l01411"></a>01411     <span class="keywordflow">switch</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>) {
<a name="l01412"></a>01412         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>:
<a name="l01413"></a>01413         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>: {
<a name="l01414"></a>01414             <span class="keywordflow">if</span> (!prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>) {
<a name="l01415"></a>01415                 fprintf(f, <span class="stringliteral">&quot;int %sget(PointerRNA *ptr);\n&quot;</span>, func);
<a name="l01416"></a>01416                 <span class="comment">/*fprintf(f, &quot;void %sset(PointerRNA *ptr, int value);\n&quot;, func); */</span>
<a name="l01417"></a>01417             }
<a name="l01418"></a>01418             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> &amp;&amp; prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>) {
<a name="l01419"></a>01419                 fprintf(f, <span class="stringliteral">&quot;void %sget(PointerRNA *ptr, int values[%u]);\n&quot;</span>, func, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l01420"></a>01420                 <span class="comment">/*fprintf(f, &quot;void %sset(PointerRNA *ptr, const int values[%d]);\n&quot;, func, prop-&gt;arraylength); */</span>
<a name="l01421"></a>01421             }
<a name="l01422"></a>01422             <span class="keywordflow">else</span> {
<a name="l01423"></a>01423                 fprintf(f, <span class="stringliteral">&quot;void %sget(PointerRNA *ptr, int values[]);\n&quot;</span>, func);
<a name="l01424"></a>01424                 <span class="comment">/*fprintf(f, &quot;void %sset(PointerRNA *ptr, const int values[]);\n&quot;, func); */</span>
<a name="l01425"></a>01425             }
<a name="l01426"></a>01426             <span class="keywordflow">break</span>;
<a name="l01427"></a>01427         }
<a name="l01428"></a>01428         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>: {
<a name="l01429"></a>01429             <span class="keywordflow">if</span> (!prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>) {
<a name="l01430"></a>01430                 fprintf(f, <span class="stringliteral">&quot;float %sget(PointerRNA *ptr);\n&quot;</span>, func);
<a name="l01431"></a>01431                 <span class="comment">/*fprintf(f, &quot;void %sset(PointerRNA *ptr, float value);\n&quot;, func); */</span>
<a name="l01432"></a>01432             }
<a name="l01433"></a>01433             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> &amp;&amp; prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>) {
<a name="l01434"></a>01434                 fprintf(f, <span class="stringliteral">&quot;void %sget(PointerRNA *ptr, float values[%u]);\n&quot;</span>, func, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l01435"></a>01435                 <span class="comment">/*fprintf(f, &quot;void %sset(PointerRNA *ptr, const float values[%d]);\n&quot;, func, prop-&gt;arraylength); */</span>
<a name="l01436"></a>01436             }
<a name="l01437"></a>01437             <span class="keywordflow">else</span> {
<a name="l01438"></a>01438                 fprintf(f, <span class="stringliteral">&quot;void %sget(PointerRNA *ptr, float values[]);\n&quot;</span>, func);
<a name="l01439"></a>01439                 <span class="comment">/*fprintf(f, &quot;void %sset(PointerRNA *ptr, const float values[]);\n&quot;, func); */</span>
<a name="l01440"></a>01440             }
<a name="l01441"></a>01441             <span class="keywordflow">break</span>;
<a name="l01442"></a>01442         }
<a name="l01443"></a>01443         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>: {
<a name="l01444"></a>01444             <a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a> *eprop = (<a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a>*)prop;
<a name="l01445"></a>01445             <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l01446"></a>01446 
<a name="l01447"></a>01447             <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>) {
<a name="l01448"></a>01448                 fprintf(f, <span class="stringliteral">&quot;enum {\n&quot;</span>);
<a name="l01449"></a>01449 
<a name="l01450"></a>01450                 <span class="keywordflow">for</span> (i = 0; i&lt;eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#acc1c230b53fac65d28a8631e7fdaafa6">totitem</a>; i++)
<a name="l01451"></a>01451                     <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>[0])
<a name="l01452"></a>01452                         fprintf(f, <span class="stringliteral">&quot;\t%s_%s_%s = %d,\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>,
<a name="l01453"></a>01453                                 eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>, eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a>);
<a name="l01454"></a>01454 
<a name="l01455"></a>01455                 fprintf(f, <span class="stringliteral">&quot;};\n\n&quot;</span>);
<a name="l01456"></a>01456             }
<a name="l01457"></a>01457 
<a name="l01458"></a>01458             fprintf(f, <span class="stringliteral">&quot;int %sget(PointerRNA *ptr);\n&quot;</span>, func);
<a name="l01459"></a>01459             <span class="comment">/*fprintf(f, &quot;void %sset(PointerRNA *ptr, int value);\n&quot;, func); */</span>
<a name="l01460"></a>01460 
<a name="l01461"></a>01461             <span class="keywordflow">break</span>;
<a name="l01462"></a>01462         }
<a name="l01463"></a>01463         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>: {
<a name="l01464"></a>01464             <a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a> *sprop = (<a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a>*)prop;
<a name="l01465"></a>01465 
<a name="l01466"></a>01466             <span class="keywordflow">if</span> (sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a8c6048283a1bd199f370b6c9806530a7">maxlength</a>) {
<a name="l01467"></a>01467                 fprintf(f, <span class="stringliteral">&quot;#define %s_%s_MAX %d\n\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a8c6048283a1bd199f370b6c9806530a7">maxlength</a>);
<a name="l01468"></a>01468             }
<a name="l01469"></a>01469             
<a name="l01470"></a>01470             fprintf(f, <span class="stringliteral">&quot;void %sget(PointerRNA *ptr, char *value);\n&quot;</span>, func);
<a name="l01471"></a>01471             fprintf(f, <span class="stringliteral">&quot;int %slength(PointerRNA *ptr);\n&quot;</span>, func);
<a name="l01472"></a>01472             <span class="comment">/*fprintf(f, &quot;void %sset(PointerRNA *ptr, const char *value);\n&quot;, func); */</span>
<a name="l01473"></a>01473 
<a name="l01474"></a>01474             <span class="keywordflow">break</span>;
<a name="l01475"></a>01475         }
<a name="l01476"></a>01476         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>: {
<a name="l01477"></a>01477             fprintf(f, <span class="stringliteral">&quot;PointerRNA %sget(PointerRNA *ptr);\n&quot;</span>, func);
<a name="l01478"></a>01478             <span class="comment">/*fprintf(f, &quot;void %sset(PointerRNA *ptr, PointerRNA value);\n&quot;, func); */</span>
<a name="l01479"></a>01479             <span class="keywordflow">break</span>;
<a name="l01480"></a>01480         }
<a name="l01481"></a>01481         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>: {
<a name="l01482"></a>01482             fprintf(f, <span class="stringliteral">&quot;void %sbegin(CollectionPropertyIterator *iter, PointerRNA *ptr);\n&quot;</span>, func);
<a name="l01483"></a>01483             fprintf(f, <span class="stringliteral">&quot;void %snext(CollectionPropertyIterator *iter);\n&quot;</span>, func);
<a name="l01484"></a>01484             fprintf(f, <span class="stringliteral">&quot;void %send(CollectionPropertyIterator *iter);\n&quot;</span>, func);
<a name="l01485"></a>01485             <span class="comment">/*fprintf(f, &quot;int %slength(PointerRNA *ptr);\n&quot;, func); */</span>
<a name="l01486"></a>01486             <span class="comment">/*fprintf(f, &quot;void %slookup_int(PointerRNA *ptr, int key, StructRNA **type);\n&quot;, func); */</span>
<a name="l01487"></a>01487             <span class="comment">/*fprintf(f, &quot;void %slookup_string(PointerRNA *ptr, const char *key, StructRNA **type);\n&quot;, func); */</span>
<a name="l01488"></a>01488             <span class="keywordflow">break</span>;
<a name="l01489"></a>01489         }
<a name="l01490"></a>01490     }
<a name="l01491"></a>01491 
<a name="l01492"></a>01492     fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01493"></a>01493 }
<a name="l01494"></a>01494 
<a name="l01495"></a><a class="code" href="../../da/df2/makesrna_8c.html#a9f536975c71dd9465ccdd248f4ccef99">01495</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a9f536975c71dd9465ccdd248f4ccef99">rna_def_property_funcs_header_cpp</a>(FILE *f, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp)
<a name="l01496"></a>01496 {
<a name="l01497"></a>01497     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop;
<a name="l01498"></a>01498 
<a name="l01499"></a>01499     prop = dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>;
<a name="l01500"></a>01500 
<a name="l01501"></a>01501     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; (<a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>|<a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411ad37a289ebc0e12abf00cda2657a10f94">PROP_BUILTIN</a>))
<a name="l01502"></a>01502         <span class="keywordflow">return</span>;
<a name="l01503"></a>01503     
<a name="l01504"></a>01504     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad1e32193f23c2d55cab37a31342d125d">name</a> &amp;&amp; prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#abda687700ead49a2210c9bc9c63ef6c6">description</a> &amp;&amp; prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#abda687700ead49a2210c9bc9c63ef6c6">description</a>[0] != <span class="charliteral">&#39;\0&#39;</span>)
<a name="l01505"></a>01505         fprintf(f, <span class="stringliteral">&quot;\t/* %s: %s */\n&quot;</span>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad1e32193f23c2d55cab37a31342d125d">name</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#abda687700ead49a2210c9bc9c63ef6c6">description</a>);
<a name="l01506"></a>01506     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad1e32193f23c2d55cab37a31342d125d">name</a>)
<a name="l01507"></a>01507         fprintf(f, <span class="stringliteral">&quot;\t/* %s */\n&quot;</span>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad1e32193f23c2d55cab37a31342d125d">name</a>);
<a name="l01508"></a>01508     <span class="keywordflow">else</span>
<a name="l01509"></a>01509         fprintf(f, <span class="stringliteral">&quot;\t/* */\n&quot;</span>);
<a name="l01510"></a>01510 
<a name="l01511"></a>01511     <span class="keywordflow">switch</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>) {
<a name="l01512"></a>01512         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>: {
<a name="l01513"></a>01513             <span class="keywordflow">if</span> (!prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>)
<a name="l01514"></a>01514                 fprintf(f, <span class="stringliteral">&quot;\tinline bool %s(void);&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01515"></a>01515             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>)
<a name="l01516"></a>01516                 fprintf(f, <span class="stringliteral">&quot;\tinline Array&lt;int, %u&gt; %s(void);&quot;</span>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01517"></a>01517             <span class="keywordflow">break</span>;
<a name="l01518"></a>01518         }
<a name="l01519"></a>01519         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>: {
<a name="l01520"></a>01520             <span class="keywordflow">if</span> (!prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>)
<a name="l01521"></a>01521                 fprintf(f, <span class="stringliteral">&quot;\tinline int %s(void);&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01522"></a>01522             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>)
<a name="l01523"></a>01523                 fprintf(f, <span class="stringliteral">&quot;\tinline Array&lt;int, %u&gt; %s(void);&quot;</span>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01524"></a>01524             <span class="keywordflow">break</span>;
<a name="l01525"></a>01525         }
<a name="l01526"></a>01526         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>: {
<a name="l01527"></a>01527             <span class="keywordflow">if</span> (!prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>)
<a name="l01528"></a>01528                 fprintf(f, <span class="stringliteral">&quot;\tinline float %s(void);&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01529"></a>01529             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>)
<a name="l01530"></a>01530                 fprintf(f, <span class="stringliteral">&quot;\tinline Array&lt;float, %u&gt; %s(void);&quot;</span>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01531"></a>01531             <span class="keywordflow">break</span>;
<a name="l01532"></a>01532         }
<a name="l01533"></a>01533         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>: {
<a name="l01534"></a>01534             <a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a> *eprop = (<a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a>*)prop;
<a name="l01535"></a>01535             <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l01536"></a>01536 
<a name="l01537"></a>01537             <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>) {
<a name="l01538"></a>01538                 fprintf(f, <span class="stringliteral">&quot;\tenum %s_enum {\n&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01539"></a>01539 
<a name="l01540"></a>01540                 <span class="keywordflow">for</span> (i = 0; i&lt;eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#acc1c230b53fac65d28a8631e7fdaafa6">totitem</a>; i++)
<a name="l01541"></a>01541                     <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>[0])
<a name="l01542"></a>01542                         fprintf(f, <span class="stringliteral">&quot;\t\t%s_%s = %d,\n&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>,
<a name="l01543"></a>01543                                 eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a>);
<a name="l01544"></a>01544 
<a name="l01545"></a>01545                 fprintf(f, <span class="stringliteral">&quot;\t};\n&quot;</span>);
<a name="l01546"></a>01546             }
<a name="l01547"></a>01547 
<a name="l01548"></a>01548             fprintf(f, <span class="stringliteral">&quot;\tinline %s_enum %s(void);&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01549"></a>01549             <span class="keywordflow">break</span>;
<a name="l01550"></a>01550         }
<a name="l01551"></a>01551         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>: {
<a name="l01552"></a>01552             fprintf(f, <span class="stringliteral">&quot;\tinline std::string %s(void);&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01553"></a>01553             <span class="keywordflow">break</span>;
<a name="l01554"></a>01554         }
<a name="l01555"></a>01555         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>: {
<a name="l01556"></a>01556             <a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a> *pprop = (<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a>*)dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>;
<a name="l01557"></a>01557 
<a name="l01558"></a>01558             <a class="code" href="../../dd/db6/paraloopend_8h.html#a65986f23fef03474a87b62a14beafe42">if</a> (pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>)
<a name="l01559"></a>01559                 fprintf(f, <span class="stringliteral">&quot;\tinline %s %s(void);&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01560"></a>01560             <span class="keywordflow">else</span>
<a name="l01561"></a>01561                 fprintf(f, <span class="stringliteral">&quot;\tinline %s %s(void);&quot;</span>, <span class="stringliteral">&quot;UnknownType&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01562"></a>01562             <span class="keywordflow">break</span>;
<a name="l01563"></a>01563         }
<a name="l01564"></a>01564         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>: {
<a name="l01565"></a>01565             <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>;
<a name="l01566"></a>01566 
<a name="l01567"></a>01567             <a class="code" href="../../dd/db6/paraloopend_8h.html#a65986f23fef03474a87b62a14beafe42">if</a> (cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a>)
<a name="l01568"></a>01568                 fprintf(f, <span class="stringliteral">&quot;\tCOLLECTION_PROPERTY(%s, %s, %s)&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>,
<a name="l01569"></a>01569                         <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01570"></a>01570             <span class="keywordflow">else</span>
<a name="l01571"></a>01571                 fprintf(f, <span class="stringliteral">&quot;\tCOLLECTION_PROPERTY(%s, %s, %s)&quot;</span>, <span class="stringliteral">&quot;UnknownType&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>,
<a name="l01572"></a>01572                         <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01573"></a>01573             <span class="keywordflow">break</span>;
<a name="l01574"></a>01574         }
<a name="l01575"></a>01575     }
<a name="l01576"></a>01576 
<a name="l01577"></a>01577     fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01578"></a>01578 }
<a name="l01579"></a>01579 
<a name="l01580"></a><a class="code" href="../../da/df2/makesrna_8c.html#adf9831995643891fa54d22e732675c87">01580</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#adf9831995643891fa54d22e732675c87">rna_def_property_funcs_impl_cpp</a>(FILE *f, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp)
<a name="l01581"></a>01581 {
<a name="l01582"></a>01582     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop;
<a name="l01583"></a>01583 
<a name="l01584"></a>01584     prop = dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>;
<a name="l01585"></a>01585 
<a name="l01586"></a>01586     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; (<a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>|<a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411ad37a289ebc0e12abf00cda2657a10f94">PROP_BUILTIN</a>))
<a name="l01587"></a>01587         <span class="keywordflow">return</span>;
<a name="l01588"></a>01588 
<a name="l01589"></a>01589     <span class="keywordflow">switch</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>) {
<a name="l01590"></a>01590         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>: {
<a name="l01591"></a>01591             <span class="keywordflow">if</span> (!prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>)
<a name="l01592"></a>01592                 fprintf(f, <span class="stringliteral">&quot;\tBOOLEAN_PROPERTY(%s, %s)&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01593"></a>01593             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>)
<a name="l01594"></a>01594                 fprintf(f, <span class="stringliteral">&quot;\tBOOLEAN_ARRAY_PROPERTY(%s, %u, %s)&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>,
<a name="l01595"></a>01595                         <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01596"></a>01596             <span class="keywordflow">break</span>;
<a name="l01597"></a>01597         }
<a name="l01598"></a>01598         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>: {
<a name="l01599"></a>01599             <span class="keywordflow">if</span> (!prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>)
<a name="l01600"></a>01600                 fprintf(f, <span class="stringliteral">&quot;\tINT_PROPERTY(%s, %s)&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01601"></a>01601             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>)
<a name="l01602"></a>01602                 fprintf(f, <span class="stringliteral">&quot;\tINT_ARRAY_PROPERTY(%s, %u, %s)&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>,
<a name="l01603"></a>01603                         <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01604"></a>01604             <span class="keywordflow">break</span>;
<a name="l01605"></a>01605         }
<a name="l01606"></a>01606         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>: {
<a name="l01607"></a>01607             <span class="keywordflow">if</span> (!prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>)
<a name="l01608"></a>01608                 fprintf(f, <span class="stringliteral">&quot;\tFLOAT_PROPERTY(%s, %s)&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01609"></a>01609             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>)
<a name="l01610"></a>01610                 fprintf(f, <span class="stringliteral">&quot;\tFLOAT_ARRAY_PROPERTY(%s, %u, %s)&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>,
<a name="l01611"></a>01611                         <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01612"></a>01612             <span class="keywordflow">break</span>;
<a name="l01613"></a>01613         }
<a name="l01614"></a>01614         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>: {
<a name="l01615"></a>01615             fprintf(f, <span class="stringliteral">&quot;\tENUM_PROPERTY(%s_enum, %s, %s)&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>), srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>,
<a name="l01616"></a>01616                     <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01617"></a>01617 
<a name="l01618"></a>01618             <span class="keywordflow">break</span>;
<a name="l01619"></a>01619         }
<a name="l01620"></a>01620         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>: {
<a name="l01621"></a>01621             fprintf(f, <span class="stringliteral">&quot;\tSTRING_PROPERTY(%s, %s)&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01622"></a>01622             <span class="keywordflow">break</span>;
<a name="l01623"></a>01623         }
<a name="l01624"></a>01624         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>: {
<a name="l01625"></a>01625             <a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a> *pprop = (<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a>*)dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>;
<a name="l01626"></a>01626 
<a name="l01627"></a>01627             <a class="code" href="../../dd/db6/paraloopend_8h.html#a65986f23fef03474a87b62a14beafe42">if</a> (pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>)
<a name="l01628"></a>01628                 fprintf(f, <span class="stringliteral">&quot;\tPOINTER_PROPERTY(%s, %s, %s)&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>,
<a name="l01629"></a>01629                         <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01630"></a>01630             <span class="keywordflow">else</span>
<a name="l01631"></a>01631                 fprintf(f, <span class="stringliteral">&quot;\tPOINTER_PROPERTY(%s, %s, %s)&quot;</span>, <span class="stringliteral">&quot;UnknownType&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>,
<a name="l01632"></a>01632                         <a class="code" href="../../da/df2/makesrna_8c.html#a5ea32f39ee86f046950383016c524dfb">rna_safe_id</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>));
<a name="l01633"></a>01633             <span class="keywordflow">break</span>;
<a name="l01634"></a>01634         }
<a name="l01635"></a>01635         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>: {
<a name="l01636"></a>01636 <span class="preprocessor">#if 0</span>
<a name="l01637"></a>01637 <span class="preprocessor"></span>            <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>;
<a name="l01638"></a>01638 
<a name="l01639"></a>01639             <a class="code" href="../../dd/db6/paraloopend_8h.html#a65986f23fef03474a87b62a14beafe42">if</a> (cprop-&gt;type)
<a name="l01640"></a>01640                 fprintf(f, <span class="stringliteral">&quot;\tCOLLECTION_PROPERTY(%s, %s, %s)&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)cprop-&gt;type, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>,
<a name="l01641"></a>01641                         prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01642"></a>01642             <span class="keywordflow">else</span>
<a name="l01643"></a>01643                 fprintf(f, <span class="stringliteral">&quot;\tCOLLECTION_PROPERTY(%s, %s, %s)&quot;</span>, <span class="stringliteral">&quot;UnknownType&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01644"></a>01644 <span class="preprocessor">#endif</span>
<a name="l01645"></a>01645 <span class="preprocessor"></span>            <span class="keywordflow">break</span>;
<a name="l01646"></a>01646         }
<a name="l01647"></a>01647     }
<a name="l01648"></a>01648 
<a name="l01649"></a>01649     fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01650"></a>01650 }
<a name="l01651"></a>01651 
<a name="l01652"></a><a class="code" href="../../da/df2/makesrna_8c.html#a04afc7158cbb22a5ebade8b4382eef6b">01652</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a04afc7158cbb22a5ebade8b4382eef6b">rna_def_function_funcs</a>(FILE *f, <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a> *dsrna, <a class="code" href="../../da/d93/structFunctionDefRNA.html">FunctionDefRNA</a> *dfunc)
<a name="l01653"></a>01653 {
<a name="l01654"></a>01654     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna;
<a name="l01655"></a>01655     <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func;
<a name="l01656"></a>01656     <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dparm;
<a name="l01657"></a>01657     <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87">PropertyType</a> type;
<a name="l01658"></a>01658     <span class="keyword">const</span> <span class="keywordtype">char</span> *funcname, *valstr;
<a name="l01659"></a>01659     <span class="keyword">const</span> <span class="keywordtype">char</span> *ptrstr;
<a name="l01660"></a>01660     <span class="keyword">const</span> <span class="keywordtype">short</span> has_data = (dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#ac956a735489cbde00dd6c80f4e9bf75c">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6d3cb066e6ab297674f96f10ed585ba0">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a> != <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l01661"></a>01661     <span class="keywordtype">int</span> flag, pout, cptr, first;
<a name="l01662"></a>01662 
<a name="l01663"></a>01663     srna = dsrna-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>;
<a name="l01664"></a>01664     func = dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#ab31acffef11566ddfad17040241afbe7">func</a>;
<a name="l01665"></a>01665 
<a name="l01666"></a>01666     <span class="keywordflow">if</span> (!dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#adf195f70d88e9ec4ca7ba4ac6b3769e6">call</a>)
<a name="l01667"></a>01667         <span class="keywordflow">return</span>;
<a name="l01668"></a>01668 
<a name="l01669"></a>01669     funcname = <a class="code" href="../../da/df2/makesrna_8c.html#a3b7933ddde6a230010a367156ca99262">rna_alloc_function_name</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a31dbda90220cff3985c6ccdbb90171ab">identifier</a>, <span class="stringliteral">&quot;call&quot;</span>);
<a name="l01670"></a>01670 
<a name="l01671"></a>01671     <span class="comment">/* function definition */</span>
<a name="l01672"></a>01672     fprintf(f, <span class="stringliteral">&quot;void %s(bContext *C, ReportList *reports, PointerRNA *_ptr, ParameterList *_parms)&quot;</span>, funcname);
<a name="l01673"></a>01673     fprintf(f, <span class="stringliteral">&quot;\n{\n&quot;</span>);
<a name="l01674"></a>01674 
<a name="l01675"></a>01675     <span class="comment">/* variable definitions */</span>
<a name="l01676"></a>01676     
<a name="l01677"></a>01677     <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217acf4631f0c00b32bc413853b4c35a81a1">FUNC_USE_SELF_ID</a>) {
<a name="l01678"></a>01678         fprintf(f, <span class="stringliteral">&quot;\tstruct ID *_selfid;\n&quot;</span>);
<a name="l01679"></a>01679     }
<a name="l01680"></a>01680 
<a name="l01681"></a>01681     <span class="keywordflow">if</span> ((func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217a87611e0c0a7fef1f0eadd42d7962dd35">FUNC_NO_SELF</a>) == 0) {
<a name="l01682"></a>01682         <span class="keywordflow">if</span> (dsrna-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a25a56ecd1801d4754b958402d5ebd73c">dnaname</a>) fprintf(f, <span class="stringliteral">&quot;\tstruct %s *_self;\n&quot;</span>, dsrna-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a25a56ecd1801d4754b958402d5ebd73c">dnaname</a>);
<a name="l01683"></a>01683         <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;\tstruct %s *_self;\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l01684"></a>01684     }
<a name="l01685"></a>01685 
<a name="l01686"></a>01686     dparm = dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#ac956a735489cbde00dd6c80f4e9bf75c">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6d3cb066e6ab297674f96f10ed585ba0">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l01687"></a>01687     <span class="keywordflow">for</span> (; dparm; dparm = dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a516b8f0d73f5783a16d93736d62cc248">next</a>) {
<a name="l01688"></a>01688         type = dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>;
<a name="l01689"></a>01689         flag = dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a>;
<a name="l01690"></a>01690         pout = (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af756c66a992455155baf9febc96b857f">PROP_OUTPUT</a>);
<a name="l01691"></a>01691         cptr = ((type == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>) &amp;&amp; !(flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a88f6c010a50eab9e38cd86ab35059120">PROP_RNAPTR</a>));
<a name="l01692"></a>01692 
<a name="l01693"></a>01693         <span class="keywordflow">if</span> (dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a> == func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>)
<a name="l01694"></a>01694             ptrstr = cptr || dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> ? <span class="stringliteral">&quot;*&quot;</span> : <span class="stringliteral">&quot;&quot;</span>;
<a name="l01695"></a>01695         <span class="comment">/* XXX only arrays and strings are allowed to be dynamic, is this checked anywhere? */</span>
<a name="l01696"></a>01696         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cptr || (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a2201e5526a5719021ae9f6641266bc62">PROP_DYNAMIC</a>))
<a name="l01697"></a>01697             ptrstr = pout ? <span class="stringliteral">&quot;**&quot;</span> : <span class="stringliteral">&quot;*&quot;</span>;
<a name="l01698"></a>01698         <span class="comment">/* fixed size arrays and RNA pointers are pre-allocated on the ParameterList stack, pass a pointer to it */</span>
<a name="l01699"></a>01699         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a> || dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>)
<a name="l01700"></a>01700             ptrstr = <span class="stringliteral">&quot;*&quot;</span>;
<a name="l01701"></a>01701         <span class="comment">/* PROP_THICK_WRAP strings are pre-allocated on the ParameterList stack,</span>
<a name="l01702"></a>01702 <span class="comment">         * but type name for string props is already char*, so leave empty */</span>
<a name="l01703"></a>01703         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a> &amp;&amp; (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a09aca10c47349234aa905bc8a9f15ace">PROP_THICK_WRAP</a>))
<a name="l01704"></a>01704             ptrstr = <span class="stringliteral">&quot;&quot;</span>;
<a name="l01705"></a>01705         <span class="keywordflow">else</span>
<a name="l01706"></a>01706             ptrstr = pout ? <span class="stringliteral">&quot;*&quot;</span> : <span class="stringliteral">&quot;&quot;</span>;
<a name="l01707"></a>01707 
<a name="l01708"></a>01708         <span class="comment">/* for dynamic parameters we pass an additional int for the length of the parameter */</span>
<a name="l01709"></a>01709         <span class="keywordflow">if</span> (flag &amp; PROP_DYNAMIC)
<a name="l01710"></a>01710             fprintf(f, <span class="stringliteral">&quot;\tint %s%s_len;\n&quot;</span>, pout ? <span class="stringliteral">&quot;*&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01711"></a>01711         
<a name="l01712"></a>01712         fprintf(f, <span class="stringliteral">&quot;\t%s%s %s%s;\n&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#aa8b4620ea8be4ff6af60ca9e01453764">rna_type_struct</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>), <a class="code" href="../../da/df2/makesrna_8c.html#ac8a9ce20f65c121bef35965645868a13">rna_parameter_type_name</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>),
<a name="l01713"></a>01713                 ptrstr, dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01714"></a>01714     }
<a name="l01715"></a>01715 
<a name="l01716"></a>01716     <span class="keywordflow">if</span> (has_data) {
<a name="l01717"></a>01717         fprintf(f, <span class="stringliteral">&quot;\tchar *_data&quot;</span>);
<a name="l01718"></a>01718         <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>) fprintf(f, <span class="stringliteral">&quot;, *_retdata&quot;</span>);
<a name="l01719"></a>01719         fprintf(f, <span class="stringliteral">&quot;;\n&quot;</span>);
<a name="l01720"></a>01720         fprintf(f, <span class="stringliteral">&quot;\t\n&quot;</span>);
<a name="l01721"></a>01721     }
<a name="l01722"></a>01722 
<a name="l01723"></a>01723     <span class="comment">/* assign self */</span>
<a name="l01724"></a>01724     <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217acf4631f0c00b32bc413853b4c35a81a1">FUNC_USE_SELF_ID</a>) {
<a name="l01725"></a>01725         fprintf(f, <span class="stringliteral">&quot;\t_selfid= (struct ID*)_ptr-&gt;id.data;\n&quot;</span>);
<a name="l01726"></a>01726     }
<a name="l01727"></a>01727     
<a name="l01728"></a>01728     <span class="keywordflow">if</span> ((func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217a87611e0c0a7fef1f0eadd42d7962dd35">FUNC_NO_SELF</a>) == 0) {
<a name="l01729"></a>01729         <span class="keywordflow">if</span> (dsrna-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a25a56ecd1801d4754b958402d5ebd73c">dnaname</a>) fprintf(f, <span class="stringliteral">&quot;\t_self= (struct %s *)_ptr-&gt;data;\n&quot;</span>, dsrna-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a25a56ecd1801d4754b958402d5ebd73c">dnaname</a>);
<a name="l01730"></a>01730         <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;\t_self= (struct %s *)_ptr-&gt;data;\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l01731"></a>01731     }
<a name="l01732"></a>01732 
<a name="l01733"></a>01733     <span class="keywordflow">if</span> (has_data) {
<a name="l01734"></a>01734         fprintf(f, <span class="stringliteral">&quot;\t_data= (char *)_parms-&gt;data;\n&quot;</span>);
<a name="l01735"></a>01735     }
<a name="l01736"></a>01736 
<a name="l01737"></a>01737     dparm = dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#ac956a735489cbde00dd6c80f4e9bf75c">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6d3cb066e6ab297674f96f10ed585ba0">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l01738"></a>01738     <span class="keywordflow">for</span> (; dparm; dparm = dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a516b8f0d73f5783a16d93736d62cc248">next</a>) {
<a name="l01739"></a>01739         type = dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>;
<a name="l01740"></a>01740         flag = dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a>;
<a name="l01741"></a>01741         pout = (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af756c66a992455155baf9febc96b857f">PROP_OUTPUT</a>);
<a name="l01742"></a>01742         cptr = ((type == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>) &amp;&amp; !(flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a88f6c010a50eab9e38cd86ab35059120">PROP_RNAPTR</a>));
<a name="l01743"></a>01743 
<a name="l01744"></a>01744         <span class="keywordflow">if</span> (dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a> == func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>)
<a name="l01745"></a>01745             fprintf(f, <span class="stringliteral">&quot;\t_retdata= _data;\n&quot;</span>);
<a name="l01746"></a>01746         <span class="keywordflow">else</span> {
<a name="l01747"></a>01747             <span class="keyword">const</span> <span class="keywordtype">char</span> *data_str;
<a name="l01748"></a>01748             <span class="keywordflow">if</span> (cptr || (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a2201e5526a5719021ae9f6641266bc62">PROP_DYNAMIC</a>)) {
<a name="l01749"></a>01749                 ptrstr = <span class="stringliteral">&quot;**&quot;</span>;
<a name="l01750"></a>01750                 valstr = <span class="stringliteral">&quot;*&quot;</span>;
<a name="l01751"></a>01751             }
<a name="l01752"></a>01752             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a> || dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>) {
<a name="l01753"></a>01753                 ptrstr = <span class="stringliteral">&quot;*&quot;</span>;
<a name="l01754"></a>01754                 valstr = <span class="stringliteral">&quot;&quot;</span>;
<a name="l01755"></a>01755             }
<a name="l01756"></a>01756             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a> &amp;&amp; (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a09aca10c47349234aa905bc8a9f15ace">PROP_THICK_WRAP</a>)) {
<a name="l01757"></a>01757                 ptrstr = <span class="stringliteral">&quot;&quot;</span>;
<a name="l01758"></a>01758                 valstr = <span class="stringliteral">&quot;&quot;</span>;
<a name="l01759"></a>01759             }
<a name="l01760"></a>01760             <span class="keywordflow">else</span> {
<a name="l01761"></a>01761                 ptrstr = <span class="stringliteral">&quot;*&quot;</span>;
<a name="l01762"></a>01762                 valstr = <span class="stringliteral">&quot;*&quot;</span>;
<a name="l01763"></a>01763             }
<a name="l01764"></a>01764 
<a name="l01765"></a>01765             <span class="comment">/* this must be kept in sync with RNA_parameter_length_get_data,</span>
<a name="l01766"></a>01766 <span class="comment">             * we could just call the function directly, but this is faster */</span>
<a name="l01767"></a>01767             <span class="keywordflow">if</span> (flag &amp; PROP_DYNAMIC) {
<a name="l01768"></a>01768                 fprintf(f, <span class="stringliteral">&quot;\t%s_len= %s((int *)_data);\n&quot;</span>, dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, pout ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;*&quot;</span>);
<a name="l01769"></a>01769                 data_str = <span class="stringliteral">&quot;(&amp;(((char *)_data)[sizeof(void *)]))&quot;</span>;
<a name="l01770"></a>01770             }
<a name="l01771"></a>01771             <span class="keywordflow">else</span> {
<a name="l01772"></a>01772                 data_str = <span class="stringliteral">&quot;_data&quot;</span>;
<a name="l01773"></a>01773             }
<a name="l01774"></a>01774             fprintf(f, <span class="stringliteral">&quot;\t%s= &quot;</span>, dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01775"></a>01775 
<a name="l01776"></a>01776             <span class="keywordflow">if</span> (!pout)
<a name="l01777"></a>01777                 fprintf(f, <span class="stringliteral">&quot;%s&quot;</span>, valstr);
<a name="l01778"></a>01778 
<a name="l01779"></a>01779             fprintf(f, <span class="stringliteral">&quot;((%s%s%s)%s);\n&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#aa8b4620ea8be4ff6af60ca9e01453764">rna_type_struct</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>), <a class="code" href="../../da/df2/makesrna_8c.html#ac8a9ce20f65c121bef35965645868a13">rna_parameter_type_name</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>),
<a name="l01780"></a>01780                     ptrstr, data_str);
<a name="l01781"></a>01781         }
<a name="l01782"></a>01782 
<a name="l01783"></a>01783         <span class="keywordflow">if</span> (dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a516b8f0d73f5783a16d93736d62cc248">next</a>)
<a name="l01784"></a>01784             fprintf(f, <span class="stringliteral">&quot;\t_data+= %d;\n&quot;</span>, <a class="code" href="../../dc/d7e/rna__define_8c.html#a439a0e735031237e76582033c8005611">rna_parameter_size_alloc</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>));
<a name="l01785"></a>01785     }
<a name="l01786"></a>01786 
<a name="l01787"></a>01787     <span class="keywordflow">if</span> (dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#adf195f70d88e9ec4ca7ba4ac6b3769e6">call</a>) {
<a name="l01788"></a>01788         fprintf(f, <span class="stringliteral">&quot;\t\n&quot;</span>);
<a name="l01789"></a>01789         fprintf(f, <span class="stringliteral">&quot;\t&quot;</span>);
<a name="l01790"></a>01790         <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>) fprintf(f, <span class="stringliteral">&quot;%s= &quot;</span>, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01791"></a>01791         fprintf(f, <span class="stringliteral">&quot;%s(&quot;</span>, dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#adf195f70d88e9ec4ca7ba4ac6b3769e6">call</a>);
<a name="l01792"></a>01792 
<a name="l01793"></a>01793         first = 1;
<a name="l01794"></a>01794 
<a name="l01795"></a>01795         <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217acf4631f0c00b32bc413853b4c35a81a1">FUNC_USE_SELF_ID</a>) {
<a name="l01796"></a>01796             fprintf(f, <span class="stringliteral">&quot;_selfid&quot;</span>);
<a name="l01797"></a>01797             first = 0;
<a name="l01798"></a>01798         }
<a name="l01799"></a>01799 
<a name="l01800"></a>01800         <span class="keywordflow">if</span> ((func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217a87611e0c0a7fef1f0eadd42d7962dd35">FUNC_NO_SELF</a>) == 0) {
<a name="l01801"></a>01801             <span class="keywordflow">if</span> (!first) fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l01802"></a>01802             fprintf(f, <span class="stringliteral">&quot;_self&quot;</span>);
<a name="l01803"></a>01803             first = 0;
<a name="l01804"></a>01804         }
<a name="l01805"></a>01805 
<a name="l01806"></a>01806         <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217a9845b7a51dfce517e663c04ae36d93ba">FUNC_USE_MAIN</a>) {
<a name="l01807"></a>01807             <span class="keywordflow">if</span> (!first) fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l01808"></a>01808             first = 0;
<a name="l01809"></a>01809             fprintf(f, <span class="stringliteral">&quot;CTX_data_main(C)&quot;</span>); <span class="comment">/* may have direct access later */</span>
<a name="l01810"></a>01810         }
<a name="l01811"></a>01811 
<a name="l01812"></a>01812         <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217ac30084aae1a466ac0beb442001d6efc1">FUNC_USE_CONTEXT</a>) {
<a name="l01813"></a>01813             <span class="keywordflow">if</span> (!first) fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l01814"></a>01814             first = 0;
<a name="l01815"></a>01815             fprintf(f, <span class="stringliteral">&quot;C&quot;</span>);
<a name="l01816"></a>01816         }
<a name="l01817"></a>01817 
<a name="l01818"></a>01818         <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217a0e9bfa167db81097fdadb885a5b9f4a7">FUNC_USE_REPORTS</a>) {
<a name="l01819"></a>01819             <span class="keywordflow">if</span> (!first) fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l01820"></a>01820             first = 0;
<a name="l01821"></a>01821             fprintf(f, <span class="stringliteral">&quot;reports&quot;</span>);
<a name="l01822"></a>01822         }
<a name="l01823"></a>01823 
<a name="l01824"></a>01824         dparm = dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#ac956a735489cbde00dd6c80f4e9bf75c">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6d3cb066e6ab297674f96f10ed585ba0">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l01825"></a>01825         <span class="keywordflow">for</span> (; dparm; dparm = dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a516b8f0d73f5783a16d93736d62cc248">next</a>) {
<a name="l01826"></a>01826             <span class="keywordflow">if</span> (dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a> == func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>)
<a name="l01827"></a>01827                 <span class="keywordflow">continue</span>;
<a name="l01828"></a>01828 
<a name="l01829"></a>01829             <span class="keywordflow">if</span> (!first) fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l01830"></a>01830             first = 0;
<a name="l01831"></a>01831 
<a name="l01832"></a>01832             <span class="keywordflow">if</span> (dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a2201e5526a5719021ae9f6641266bc62">PROP_DYNAMIC</a>)
<a name="l01833"></a>01833                 fprintf(f, <span class="stringliteral">&quot;%s_len, %s&quot;</span>, dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01834"></a>01834             <span class="keywordflow">else</span>
<a name="l01835"></a>01835                 fprintf(f, <span class="stringliteral">&quot;%s&quot;</span>, dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01836"></a>01836         }
<a name="l01837"></a>01837 
<a name="l01838"></a>01838         fprintf(f, <span class="stringliteral">&quot;);\n&quot;</span>);
<a name="l01839"></a>01839 
<a name="l01840"></a>01840         <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>) {
<a name="l01841"></a>01841             dparm = <a class="code" href="../../dc/d7e/rna__define_8c.html#acf54fe713a5ebf18218256a4b52d6535">rna_find_parameter_def</a>(func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>);
<a name="l01842"></a>01842             ptrstr = (((dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>) &amp;&amp; !(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a88f6c010a50eab9e38cd86ab35059120">PROP_RNAPTR</a>)) ||
<a name="l01843"></a>01843                       (dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>)) ? <span class="stringliteral">&quot;*&quot;</span> : <span class="stringliteral">&quot;&quot;</span>;
<a name="l01844"></a>01844             fprintf(f, <span class="stringliteral">&quot;\t*((%s%s%s*)_retdata)= %s;\n&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#aa8b4620ea8be4ff6af60ca9e01453764">rna_type_struct</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>),
<a name="l01845"></a>01845                     <a class="code" href="../../da/df2/makesrna_8c.html#ac8a9ce20f65c121bef35965645868a13">rna_parameter_type_name</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>), ptrstr, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l01846"></a>01846         }
<a name="l01847"></a>01847     }
<a name="l01848"></a>01848 
<a name="l01849"></a>01849     fprintf(f, <span class="stringliteral">&quot;}\n\n&quot;</span>);
<a name="l01850"></a>01850 
<a name="l01851"></a>01851     dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#a4c73756999cadfe8b72e15a6369c03b3">gencall</a> = funcname;
<a name="l01852"></a>01852 }
<a name="l01853"></a>01853 
<a name="l01854"></a><a class="code" href="../../da/df2/makesrna_8c.html#a546db9847061185b2ea8eb080a195a5a">01854</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a546db9847061185b2ea8eb080a195a5a">rna_auto_types</a>(<span class="keywordtype">void</span>)
<a name="l01855"></a>01855 {
<a name="l01856"></a>01856     <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a> *ds;
<a name="l01857"></a>01857     <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp;
<a name="l01858"></a>01858 
<a name="l01859"></a>01859     <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>) {
<a name="l01860"></a>01860         <span class="comment">/* DNA name for Screen is patched in 2.5, we do the reverse here .. */</span>
<a name="l01861"></a>01861         <span class="keywordflow">if</span> (ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a25a56ecd1801d4754b958402d5ebd73c">dnaname</a> &amp;&amp; strcmp(ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a25a56ecd1801d4754b958402d5ebd73c">dnaname</a>, <span class="stringliteral">&quot;Screen&quot;</span>) == 0)
<a name="l01862"></a>01862             ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a25a56ecd1801d4754b958402d5ebd73c">dnaname</a> = <span class="stringliteral">&quot;bScreen&quot;</span>;
<a name="l01863"></a>01863 
<a name="l01864"></a>01864         <span class="keywordflow">for</span> (dp = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6d3cb066e6ab297674f96f10ed585ba0">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; dp; dp = dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a516b8f0d73f5783a16d93736d62cc248">next</a>) {
<a name="l01865"></a>01865             <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a> &amp;&amp; strcmp(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a>, <span class="stringliteral">&quot;Screen&quot;</span>) == 0)
<a name="l01866"></a>01866                 dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0b40e72cc1036e7f2b7d6f4132a63184">dnastructname</a> = <span class="stringliteral">&quot;bScreen&quot;</span>;
<a name="l01867"></a>01867 
<a name="l01868"></a>01868             <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>) {
<a name="l01869"></a>01869                 <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>) {
<a name="l01870"></a>01870                     <a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a> *pprop = (<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a>*)dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>;
<a name="l01871"></a>01871                     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *type;
<a name="l01872"></a>01872 
<a name="l01873"></a>01873                     <a class="code" href="../../dd/db6/paraloopend_8h.html#a65986f23fef03474a87b62a14beafe42">if</a> (!pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a> &amp;&amp; !pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7e051ebaa5617c5cd3e3442b2be318b8">get</a>)
<a name="l01874"></a>01874                         pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a> = (<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a>*)<a class="code" href="../../da/df2/makesrna_8c.html#ad6ba390908141752d2332dbf01236a4e">rna_find_type</a>(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>);
<a name="l01875"></a>01875 
<a name="l01876"></a>01876                     <span class="keywordflow">if</span> (pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>) {
<a name="l01877"></a>01877                         type = <a class="code" href="../../da/df2/makesrna_8c.html#ab68a08323af6a2239723e9a74205e61f">rna_find_struct</a>((<span class="keyword">const</span> <span class="keywordtype">char</span>*)pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>);
<a name="l01878"></a>01878                         <span class="keywordflow">if</span> (type &amp;&amp; (type-&gt;flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a3e6d3131f627bd9c5b7f24b8997197cca0ea65f557195399ea83664f845cff6d9">STRUCT_ID_REFCOUNT</a>))
<a name="l01879"></a>01879                             pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#aa95d7af0f9c3c6134ee7a79b1e6be54b">property</a>.<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> |= <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af02fab33c24ccce03d82b50453388b81">PROP_ID_REFCOUNT</a>;
<a name="l01880"></a>01880                     }
<a name="l01881"></a>01881                 }
<a name="l01882"></a>01882                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>) {
<a name="l01883"></a>01883                     <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>;
<a name="l01884"></a>01884 
<a name="l01885"></a>01885                     <a class="code" href="../../dd/db6/paraloopend_8h.html#a65986f23fef03474a87b62a14beafe42">if</a> (!cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a> &amp;&amp; !cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#adf3521bb24dca0359fd985eb65299a40">get</a> &amp;&amp; strcmp(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>, <span class="stringliteral">&quot;ListBase&quot;</span>) == 0)
<a name="l01886"></a>01886                         cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a> = (<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a>*)<a class="code" href="../../da/df2/makesrna_8c.html#ad6ba390908141752d2332dbf01236a4e">rna_find_type</a>(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a0518b12d60d2dd8b2254d4ca5632d5fb">dnatype</a>);
<a name="l01887"></a>01887                 }
<a name="l01888"></a>01888             }
<a name="l01889"></a>01889         }
<a name="l01890"></a>01890     }
<a name="l01891"></a>01891 }
<a name="l01892"></a>01892 
<a name="l01893"></a><a class="code" href="../../da/df2/makesrna_8c.html#a78097b98ad92fb7e79b2d6b69e6a920c">01893</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a78097b98ad92fb7e79b2d6b69e6a920c">rna_sort</a>(<a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna)
<a name="l01894"></a>01894 {
<a name="l01895"></a>01895     <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a> *ds;
<a name="l01896"></a>01896     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna;
<a name="l01897"></a>01897 
<a name="l01898"></a>01898     <a class="code" href="../../da/df2/makesrna_8c.html#ac51f1b3c0cab557ef8845ad49bb4583d">rna_sortlist</a>(&amp;brna-&gt;<a class="code" href="../../df/dbd/structBlenderRNA.html#a7ac5911084bd23d6b76694752248983b">structs</a>, <a class="code" href="../../da/df2/makesrna_8c.html#ae47bfb8af1a7e46d21d78c87ef9c375a">cmp_struct</a>);
<a name="l01899"></a>01899     <a class="code" href="../../da/df2/makesrna_8c.html#ac51f1b3c0cab557ef8845ad49bb4583d">rna_sortlist</a>(&amp;<a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a61ec07aa4fe37e9f8cbb8c15a1b6a28a">cmp_def_struct</a>);
<a name="l01900"></a>01900 
<a name="l01901"></a>01901     <span class="keywordflow">for</span> (srna = brna-&gt;<a class="code" href="../../df/dbd/structBlenderRNA.html#a7ac5911084bd23d6b76694752248983b">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; srna; srna = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a695340065c4f30d7f168f13de6d7b9b4">next</a>)
<a name="l01902"></a>01902         <a class="code" href="../../da/df2/makesrna_8c.html#ac51f1b3c0cab557ef8845ad49bb4583d">rna_sortlist</a>(&amp;srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>, <a class="code" href="../../da/df2/makesrna_8c.html#ab34e1aa51b5b82689b2746f264070bcc">cmp_property</a>);
<a name="l01903"></a>01903 
<a name="l01904"></a>01904     <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>)
<a name="l01905"></a>01905         <a class="code" href="../../da/df2/makesrna_8c.html#ac51f1b3c0cab557ef8845ad49bb4583d">rna_sortlist</a>(&amp;ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6d3cb066e6ab297674f96f10ed585ba0">properties</a>, <a class="code" href="../../da/df2/makesrna_8c.html#a8f9bc96244a20201f9e4ce8e43c8f938">cmp_def_property</a>);
<a name="l01906"></a>01906 }
<a name="l01907"></a>01907 
<a name="l01908"></a><a class="code" href="../../da/df2/makesrna_8c.html#aa42a22c17574ac8ef250bed4480c3b94">01908</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#aa42a22c17574ac8ef250bed4480c3b94">rna_property_structname</a>(<a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87">PropertyType</a> type)
<a name="l01909"></a>01909 {
<a name="l01910"></a>01910     <span class="keywordflow">switch</span> (type) {
<a name="l01911"></a>01911         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;BoolPropertyRNA&quot;</span>;
<a name="l01912"></a>01912         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;IntPropertyRNA&quot;</span>;
<a name="l01913"></a>01913         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;FloatPropertyRNA&quot;</span>;
<a name="l01914"></a>01914         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;StringPropertyRNA&quot;</span>;
<a name="l01915"></a>01915         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;EnumPropertyRNA&quot;</span>;
<a name="l01916"></a>01916         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PointerPropertyRNA&quot;</span>;
<a name="l01917"></a>01917         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;CollectionPropertyRNA&quot;</span>;
<a name="l01918"></a>01918         <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;UnknownPropertyRNA&quot;</span>;
<a name="l01919"></a>01919     }
<a name="l01920"></a>01920 }
<a name="l01921"></a>01921 
<a name="l01922"></a><a class="code" href="../../da/df2/makesrna_8c.html#ae7e261521e0a09b1727439039bd81d58">01922</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#ae7e261521e0a09b1727439039bd81d58">rna_property_subtypename</a>(<a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bc">PropertySubType</a> type)
<a name="l01923"></a>01923 {
<a name="l01924"></a>01924     <span class="keywordflow">switch</span> (type) {
<a name="l01925"></a>01925         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca8134bae8bb64b7bab4a27a4b504f8081">PROP_NONE</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_NONE&quot;</span>;
<a name="l01926"></a>01926         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcac72d63744a87a62fcb2e65d289bc0e06">PROP_FILEPATH</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_FILEPATH&quot;</span>;
<a name="l01927"></a>01927         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca3b73b4ff1a1029f1649a06a954cb2272">PROP_FILENAME</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_FILENAME&quot;</span>;
<a name="l01928"></a>01928         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca8a0da51c5a63585b3bdc82aded02f113">PROP_DIRPATH</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_DIRPATH&quot;</span>;
<a name="l01929"></a>01929         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca1fdd5bc375b3df54bc08e097ef28c411">PROP_BYTESTRING</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_BYTESTRING&quot;</span>;
<a name="l01930"></a>01930         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca9983e0137b11ce12f115d0cbe47901c6">PROP_TRANSLATE</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_TRANSLATE&quot;</span>;
<a name="l01931"></a>01931         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcabda84db99ef4427ac669764899abe5ac">PROP_UNSIGNED</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_UNSIGNED&quot;</span>;
<a name="l01932"></a>01932         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcaa2f8236d5ea5dd822d75977307ddbea3">PROP_PERCENTAGE</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_PERCENTAGE&quot;</span>;
<a name="l01933"></a>01933         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcaaaf43117563adf0a1560ab45f242f8e6">PROP_FACTOR</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_FACTOR&quot;</span>;
<a name="l01934"></a>01934         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca515e44f4ccd8703340c398e753101c6a">PROP_ANGLE</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_ANGLE&quot;</span>;
<a name="l01935"></a>01935         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca030d9aa7b39d36c8cd8ef7f31cabebe6">PROP_TIME</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_TIME&quot;</span>;
<a name="l01936"></a>01936         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca1b2a47e56046328ad01034d30a0ca51b">PROP_DISTANCE</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_DISTANCE&quot;</span>;
<a name="l01937"></a>01937         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca45b761f7a18f8b6316b4ca9d086304df">PROP_COLOR</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_COLOR&quot;</span>;
<a name="l01938"></a>01938         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcaae97c629470b1ebaf9aa8f213e1a3c7d">PROP_TRANSLATION</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_TRANSLATION&quot;</span>;
<a name="l01939"></a>01939         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca0f183ef977e63dc5d7dff062713b9061">PROP_DIRECTION</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_DIRECTION&quot;</span>;
<a name="l01940"></a>01940         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca0a34a6d3cb960033226c159a1a75918c">PROP_MATRIX</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_MATRIX&quot;</span>;
<a name="l01941"></a>01941         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca74cb812d78d6529087feb6b751589c8d">PROP_EULER</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_EULER&quot;</span>;
<a name="l01942"></a>01942         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcac5e63bab4b4aa6237547e0611790c02d">PROP_QUATERNION</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_QUATERNION&quot;</span>;
<a name="l01943"></a>01943         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca5a6a0f671b79c62678754f52749c523c">PROP_AXISANGLE</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_AXISANGLE&quot;</span>;
<a name="l01944"></a>01944         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcad9075e305ca742aea73b50a6e9b02cb8">PROP_VELOCITY</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_VELOCITY&quot;</span>;
<a name="l01945"></a>01945         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca1e11684e4c261b90456fbc87c44ce897">PROP_ACCELERATION</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_ACCELERATION&quot;</span>;
<a name="l01946"></a>01946         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca106479cf1ee36b822fe22ac41dc63b25">PROP_XYZ</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_XYZ&quot;</span>;
<a name="l01947"></a>01947         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcaab1f54146da7110e2098e8f4f47712ae">PROP_COLOR_GAMMA</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_COLOR_GAMMA&quot;</span>;
<a name="l01948"></a>01948         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca77df19269ed74fb2f60f7c3ad03c7f59">PROP_COORDS</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_COORDS&quot;</span>;
<a name="l01949"></a>01949         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bcabf01b70f8337c0f7df1349bbaf378641">PROP_LAYER</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_LAYER&quot;</span>;
<a name="l01950"></a>01950         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bca344a69a24cf037e369419b7b86dc38cf">PROP_LAYER_MEMBER</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_LAYER_MEMBER&quot;</span>;
<a name="l01951"></a>01951         <span class="keywordflow">default</span>: {
<a name="l01952"></a>01952             <span class="comment">/* in case we don&#39;t have a type preset that includes the subtype */</span>
<a name="l01953"></a>01953             <span class="keywordflow">if</span> (<a class="code" href="../../de/d7e/RNA__types_8h.html#a949f2f7bae19c6fda0a6f60c640fa903">RNA_SUBTYPE_UNIT</a>(type)) {
<a name="l01954"></a>01954                 <span class="keywordflow">return</span> <a class="code" href="../../da/df2/makesrna_8c.html#ae7e261521e0a09b1727439039bd81d58">rna_property_subtypename</a>(type &amp; ~<a class="code" href="../../de/d7e/RNA__types_8h.html#a949f2f7bae19c6fda0a6f60c640fa903">RNA_SUBTYPE_UNIT</a>(type));
<a name="l01955"></a>01955             }
<a name="l01956"></a>01956             <span class="keywordflow">else</span> {
<a name="l01957"></a>01957                 <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_SUBTYPE_UNKNOWN&quot;</span>;
<a name="l01958"></a>01958             }
<a name="l01959"></a>01959         }
<a name="l01960"></a>01960     }
<a name="l01961"></a>01961 }
<a name="l01962"></a>01962 
<a name="l01963"></a><a class="code" href="../../da/df2/makesrna_8c.html#aa7cf693d1df03adbf0eefb062ca42c3c">01963</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#aa7cf693d1df03adbf0eefb062ca42c3c">rna_property_subtype_unit</a>(<a class="code" href="../../de/d7e/RNA__types_8h.html#afc8d3af46d7ce49bb3e75305354fd9bc">PropertySubType</a> type)
<a name="l01964"></a>01964 {
<a name="l01965"></a>01965     <span class="keywordflow">switch</span> (<a class="code" href="../../de/d7e/RNA__types_8h.html#a949f2f7bae19c6fda0a6f60c640fa903">RNA_SUBTYPE_UNIT</a>(type)) {
<a name="l01966"></a>01966         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a8d7527997daaefd04aad47358e7b7565a6fa843af0f37084fd098d2e54440053e">PROP_UNIT_NONE</a>:        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_UNIT_NONE&quot;</span>;
<a name="l01967"></a>01967         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a8d7527997daaefd04aad47358e7b7565a5f139b75bd27ae84c7c3849ae1e9c0f2">PROP_UNIT_LENGTH</a>:      <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_UNIT_LENGTH&quot;</span>;
<a name="l01968"></a>01968         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a8d7527997daaefd04aad47358e7b7565a8685a459e096fe4ccf0e3054aeb9d7bb">PROP_UNIT_AREA</a>:        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_UNIT_AREA&quot;</span>;
<a name="l01969"></a>01969         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a8d7527997daaefd04aad47358e7b7565a10cf35ac19e6266955a651196653a818">PROP_UNIT_VOLUME</a>:      <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_UNIT_VOLUME&quot;</span>;
<a name="l01970"></a>01970         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a8d7527997daaefd04aad47358e7b7565aca750296f5588bbbc53144c2211fb971">PROP_UNIT_MASS</a>:        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_UNIT_MASS&quot;</span>;
<a name="l01971"></a>01971         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a8d7527997daaefd04aad47358e7b7565a20e09b2da481f2141dab749c16696c7b">PROP_UNIT_ROTATION</a>:    <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_UNIT_ROTATION&quot;</span>;
<a name="l01972"></a>01972         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a8d7527997daaefd04aad47358e7b7565aa89851106c91116899f6410b59c17936">PROP_UNIT_TIME</a>:        <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_UNIT_TIME&quot;</span>;
<a name="l01973"></a>01973         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a8d7527997daaefd04aad47358e7b7565a54053407d4a077464a793b9f13ad0214">PROP_UNIT_VELOCITY</a>:    <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_UNIT_VELOCITY&quot;</span>;
<a name="l01974"></a>01974         <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a8d7527997daaefd04aad47358e7b7565a6fd49f3a2fea8d6f6caf8b70593c6fdd">PROP_UNIT_ACCELERATION</a>:<span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_UNIT_ACCELERATION&quot;</span>;
<a name="l01975"></a>01975         <span class="keywordflow">default</span>:                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;PROP_UNIT_UNKNOWN&quot;</span>;
<a name="l01976"></a>01976     }
<a name="l01977"></a>01977 }
<a name="l01978"></a>01978 
<a name="l01979"></a><a class="code" href="../../da/df2/makesrna_8c.html#af5bb1f17d2c56d0c8bb6b32d530ef437">01979</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#af5bb1f17d2c56d0c8bb6b32d530ef437">rna_generate_prototypes</a>(<a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna, FILE *f)
<a name="l01980"></a>01980 {
<a name="l01981"></a>01981     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna;
<a name="l01982"></a>01982 
<a name="l01983"></a>01983     <span class="keywordflow">for</span> (srna = brna-&gt;<a class="code" href="../../df/dbd/structBlenderRNA.html#a7ac5911084bd23d6b76694752248983b">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; srna; srna = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a695340065c4f30d7f168f13de6d7b9b4">next</a>)
<a name="l01984"></a>01984         fprintf(f, <span class="stringliteral">&quot;extern StructRNA RNA_%s;\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l01985"></a>01985     fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01986"></a>01986 }
<a name="l01987"></a>01987 
<a name="l01988"></a><a class="code" href="../../da/df2/makesrna_8c.html#a5e5daa90bd72a110438204de39ddc6a9">01988</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a5e5daa90bd72a110438204de39ddc6a9">rna_generate_blender</a>(<a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna, FILE *f)
<a name="l01989"></a>01989 {
<a name="l01990"></a>01990     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna;
<a name="l01991"></a>01991 
<a name="l01992"></a>01992     fprintf(f, <span class="stringliteral">&quot;BlenderRNA BLENDER_RNA = {&quot;</span>);
<a name="l01993"></a>01993 
<a name="l01994"></a>01994     srna = brna-&gt;<a class="code" href="../../df/dbd/structBlenderRNA.html#a7ac5911084bd23d6b76694752248983b">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l01995"></a>01995     <span class="keywordflow">if</span> (srna) fprintf(f, <span class="stringliteral">&quot;{&amp;RNA_%s, &quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l01996"></a>01996     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;{NULL, &quot;</span>);
<a name="l01997"></a>01997 
<a name="l01998"></a>01998     srna = brna-&gt;<a class="code" href="../../df/dbd/structBlenderRNA.html#a7ac5911084bd23d6b76694752248983b">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#a46f89850aad8cd09b34b5bdc3aa8f91a">last</a>;
<a name="l01999"></a>01999     <span class="keywordflow">if</span> (srna) fprintf(f, <span class="stringliteral">&quot;&amp;RNA_%s}&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l02000"></a>02000     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;NULL}&quot;</span>);
<a name="l02001"></a>02001 
<a name="l02002"></a>02002     fprintf(f, <span class="stringliteral">&quot;};\n\n&quot;</span>);
<a name="l02003"></a>02003 }
<a name="l02004"></a>02004 
<a name="l02005"></a><a class="code" href="../../da/df2/makesrna_8c.html#ae2ada4e3baf2bf4e2ab993275cd2cf96">02005</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#ae2ada4e3baf2bf4e2ab993275cd2cf96">rna_generate_property_prototypes</a>(<a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, FILE *f)
<a name="l02006"></a>02006 {
<a name="l02007"></a>02007     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop;
<a name="l02008"></a>02008     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *base;
<a name="l02009"></a>02009 
<a name="l02010"></a>02010     base = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>;
<a name="l02011"></a>02011     <span class="keywordflow">while</span> (base) {
<a name="l02012"></a>02012         fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02013"></a>02013         <span class="keywordflow">for</span> (prop = base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; prop; prop = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>)
<a name="l02014"></a>02014             fprintf(f, <span class="stringliteral">&quot;%s%s rna_%s_%s;\n&quot;</span>, <span class="stringliteral">&quot;extern &quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#aa42a22c17574ac8ef250bed4480c3b94">rna_property_structname</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>),
<a name="l02015"></a>02015                     base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02016"></a>02016         base = base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>;
<a name="l02017"></a>02017     }
<a name="l02018"></a>02018 
<a name="l02019"></a>02019     <span class="keywordflow">if</span> (srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>)
<a name="l02020"></a>02020         fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02021"></a>02021 
<a name="l02022"></a>02022     <span class="keywordflow">for</span> (prop = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; prop; prop = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>)
<a name="l02023"></a>02023         fprintf(f, <span class="stringliteral">&quot;%s%s rna_%s_%s;\n&quot;</span>, (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411affc6f283d50d9abb1d2a3c2123d14a8b">PROP_EXPORT</a>)? <span class="stringliteral">&quot;&quot;</span>: <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#aa42a22c17574ac8ef250bed4480c3b94">rna_property_structname</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>),
<a name="l02024"></a>02024                 srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02025"></a>02025     fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02026"></a>02026 }
<a name="l02027"></a>02027 
<a name="l02028"></a><a class="code" href="../../da/df2/makesrna_8c.html#a8ab7f1a7e1a5f2823810b8164c227dee">02028</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a8ab7f1a7e1a5f2823810b8164c227dee">rna_generate_parameter_prototypes</a>(<a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func, FILE *f)
<a name="l02029"></a>02029 {
<a name="l02030"></a>02030     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *parm;
<a name="l02031"></a>02031 
<a name="l02032"></a>02032     <span class="keywordflow">for</span> (parm = func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; parm; parm = parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>)
<a name="l02033"></a>02033         fprintf(f, <span class="stringliteral">&quot;%s%s rna_%s_%s_%s;\n&quot;</span>, <span class="stringliteral">&quot;extern &quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#aa42a22c17574ac8ef250bed4480c3b94">rna_property_structname</a>(parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>), srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>,
<a name="l02034"></a>02034                 func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a31dbda90220cff3985c6ccdbb90171ab">identifier</a>, parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02035"></a>02035 
<a name="l02036"></a>02036     <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>)
<a name="l02037"></a>02037         fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02038"></a>02038 }
<a name="l02039"></a>02039 
<a name="l02040"></a><a class="code" href="../../da/df2/makesrna_8c.html#ab7bb68b04f16d5d5791cecf9cb5ea2c9">02040</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#ab7bb68b04f16d5d5791cecf9cb5ea2c9">rna_generate_function_prototypes</a>(<a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, FILE *f)
<a name="l02041"></a>02041 {
<a name="l02042"></a>02042     <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func;
<a name="l02043"></a>02043     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *base;
<a name="l02044"></a>02044 
<a name="l02045"></a>02045     base = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>;
<a name="l02046"></a>02046     <span class="keywordflow">while</span> (base) {
<a name="l02047"></a>02047         <span class="keywordflow">for</span> (func = base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#abf72392469c16ee5f6fea8ed9fa86240">functions</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; func; func = func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a695340065c4f30d7f168f13de6d7b9b4">next</a>) {
<a name="l02048"></a>02048             fprintf(f, <span class="stringliteral">&quot;%s%s rna_%s_%s_func;\n&quot;</span>, <span class="stringliteral">&quot;extern &quot;</span>, <span class="stringliteral">&quot;FunctionRNA&quot;</span>, base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a31dbda90220cff3985c6ccdbb90171ab">identifier</a>);
<a name="l02049"></a>02049             <a class="code" href="../../da/df2/makesrna_8c.html#a8ab7f1a7e1a5f2823810b8164c227dee">rna_generate_parameter_prototypes</a>(brna, base, func, f);
<a name="l02050"></a>02050         }
<a name="l02051"></a>02051 
<a name="l02052"></a>02052         <span class="keywordflow">if</span> (base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#abf72392469c16ee5f6fea8ed9fa86240">functions</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>)
<a name="l02053"></a>02053             fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02054"></a>02054 
<a name="l02055"></a>02055         base = base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>;
<a name="l02056"></a>02056     }
<a name="l02057"></a>02057 
<a name="l02058"></a>02058     <span class="keywordflow">for</span> (func = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#abf72392469c16ee5f6fea8ed9fa86240">functions</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; func; func = func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a695340065c4f30d7f168f13de6d7b9b4">next</a>) {
<a name="l02059"></a>02059         fprintf(f, <span class="stringliteral">&quot;%s%s rna_%s_%s_func;\n&quot;</span>, <span class="stringliteral">&quot;extern &quot;</span>, <span class="stringliteral">&quot;FunctionRNA&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a31dbda90220cff3985c6ccdbb90171ab">identifier</a>);
<a name="l02060"></a>02060         <a class="code" href="../../da/df2/makesrna_8c.html#a8ab7f1a7e1a5f2823810b8164c227dee">rna_generate_parameter_prototypes</a>(brna, srna, func, f);
<a name="l02061"></a>02061     }
<a name="l02062"></a>02062 
<a name="l02063"></a>02063     <span class="keywordflow">if</span> (srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#abf72392469c16ee5f6fea8ed9fa86240">functions</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>)
<a name="l02064"></a>02064         fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02065"></a>02065 }
<a name="l02066"></a>02066 
<a name="l02067"></a><a class="code" href="../../da/df2/makesrna_8c.html#a7322df473af5c669a7f288fc869de0d9">02067</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a7322df473af5c669a7f288fc869de0d9">rna_generate_static_parameter_prototypes</a>(<a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <a class="code" href="../../da/d93/structFunctionDefRNA.html">FunctionDefRNA</a> *dfunc, FILE *f)
<a name="l02068"></a>02068 {
<a name="l02069"></a>02069     <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func;
<a name="l02070"></a>02070     <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dparm;
<a name="l02071"></a>02071     <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a> *dsrna;
<a name="l02072"></a>02072     <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87">PropertyType</a> type;
<a name="l02073"></a>02073     <span class="keywordtype">int</span> flag, pout, cptr, first;
<a name="l02074"></a>02074     <span class="keyword">const</span> <span class="keywordtype">char</span> *ptrstr;
<a name="l02075"></a>02075 
<a name="l02076"></a>02076     dsrna = <a class="code" href="../../dc/d7e/rna__define_8c.html#a001b26cace1441a27d7a6cd26e904358">rna_find_struct_def</a>(srna);
<a name="l02077"></a>02077     func = dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#ab31acffef11566ddfad17040241afbe7">func</a>;
<a name="l02078"></a>02078 
<a name="l02079"></a>02079     <span class="comment">/* return type */</span>
<a name="l02080"></a>02080     <span class="keywordflow">for</span> (dparm = dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#ac956a735489cbde00dd6c80f4e9bf75c">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6d3cb066e6ab297674f96f10ed585ba0">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; dparm; dparm = dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a516b8f0d73f5783a16d93736d62cc248">next</a>) {
<a name="l02081"></a>02081         <span class="keywordflow">if</span> (dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a> == func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>) {
<a name="l02082"></a>02082             <span class="keywordflow">if</span> (dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>)
<a name="l02083"></a>02083                 fprintf(f, <span class="stringliteral">&quot;XXX no array return types yet&quot;</span>); <span class="comment">/* XXX not supported */</span>
<a name="l02084"></a>02084             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a> &amp;&amp; !(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a88f6c010a50eab9e38cd86ab35059120">PROP_RNAPTR</a>))
<a name="l02085"></a>02085                 fprintf(f, <span class="stringliteral">&quot;%s%s *&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#aa8b4620ea8be4ff6af60ca9e01453764">rna_type_struct</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>), <a class="code" href="../../da/df2/makesrna_8c.html#ac8a9ce20f65c121bef35965645868a13">rna_parameter_type_name</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>));
<a name="l02086"></a>02086             <span class="keywordflow">else</span>
<a name="l02087"></a>02087                 fprintf(f, <span class="stringliteral">&quot;%s%s &quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#aa8b4620ea8be4ff6af60ca9e01453764">rna_type_struct</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>), <a class="code" href="../../da/df2/makesrna_8c.html#ac8a9ce20f65c121bef35965645868a13">rna_parameter_type_name</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>));
<a name="l02088"></a>02088 
<a name="l02089"></a>02089             <span class="keywordflow">break</span>;
<a name="l02090"></a>02090         }
<a name="l02091"></a>02091     }
<a name="l02092"></a>02092 
<a name="l02093"></a>02093     <span class="comment">/* void if nothing to return */</span>
<a name="l02094"></a>02094     <span class="keywordflow">if</span> (!dparm)
<a name="l02095"></a>02095         fprintf(f, <span class="stringliteral">&quot;void &quot;</span>);
<a name="l02096"></a>02096 
<a name="l02097"></a>02097     <span class="comment">/* function name */</span>
<a name="l02098"></a>02098     fprintf(f, <span class="stringliteral">&quot;%s(&quot;</span>, dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#adf195f70d88e9ec4ca7ba4ac6b3769e6">call</a>);
<a name="l02099"></a>02099 
<a name="l02100"></a>02100     first = 1;
<a name="l02101"></a>02101 
<a name="l02102"></a>02102     <span class="comment">/* self, context and reports parameters */</span>
<a name="l02103"></a>02103     <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217acf4631f0c00b32bc413853b4c35a81a1">FUNC_USE_SELF_ID</a>) {
<a name="l02104"></a>02104         fprintf(f, <span class="stringliteral">&quot;struct ID *_selfid&quot;</span>);
<a name="l02105"></a>02105         first = 0;
<a name="l02106"></a>02106     }
<a name="l02107"></a>02107     
<a name="l02108"></a>02108     <span class="keywordflow">if</span> ((func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217a87611e0c0a7fef1f0eadd42d7962dd35">FUNC_NO_SELF</a>) == 0) {
<a name="l02109"></a>02109         <span class="keywordflow">if</span> (!first) fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02110"></a>02110         <span class="keywordflow">if</span> (dsrna-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a25a56ecd1801d4754b958402d5ebd73c">dnaname</a>) fprintf(f, <span class="stringliteral">&quot;struct %s *_self&quot;</span>, dsrna-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a25a56ecd1801d4754b958402d5ebd73c">dnaname</a>);
<a name="l02111"></a>02111         <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;struct %s *_self&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l02112"></a>02112         first = 0;
<a name="l02113"></a>02113     }
<a name="l02114"></a>02114 
<a name="l02115"></a>02115     <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217a9845b7a51dfce517e663c04ae36d93ba">FUNC_USE_MAIN</a>) {
<a name="l02116"></a>02116         <span class="keywordflow">if</span> (!first) fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02117"></a>02117         first = 0;
<a name="l02118"></a>02118         fprintf(f, <span class="stringliteral">&quot;Main *bmain&quot;</span>);
<a name="l02119"></a>02119     }
<a name="l02120"></a>02120 
<a name="l02121"></a>02121     <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217ac30084aae1a466ac0beb442001d6efc1">FUNC_USE_CONTEXT</a>) {
<a name="l02122"></a>02122         <span class="keywordflow">if</span> (!first) fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02123"></a>02123         first = 0;
<a name="l02124"></a>02124         fprintf(f, <span class="stringliteral">&quot;bContext *C&quot;</span>);
<a name="l02125"></a>02125     }
<a name="l02126"></a>02126 
<a name="l02127"></a>02127     <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#a2af2ad6b6441614038caf59d04b3b217a0e9bfa167db81097fdadb885a5b9f4a7">FUNC_USE_REPORTS</a>) {
<a name="l02128"></a>02128         <span class="keywordflow">if</span> (!first) fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02129"></a>02129         first = 0;
<a name="l02130"></a>02130         fprintf(f, <span class="stringliteral">&quot;ReportList *reports&quot;</span>);
<a name="l02131"></a>02131     }
<a name="l02132"></a>02132 
<a name="l02133"></a>02133     <span class="comment">/* defined parameters */</span>
<a name="l02134"></a>02134     <span class="keywordflow">for</span> (dparm = dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#ac956a735489cbde00dd6c80f4e9bf75c">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6d3cb066e6ab297674f96f10ed585ba0">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; dparm; dparm = dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a516b8f0d73f5783a16d93736d62cc248">next</a>) {
<a name="l02135"></a>02135         type = dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>;
<a name="l02136"></a>02136         flag = dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a>;
<a name="l02137"></a>02137         pout = (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af756c66a992455155baf9febc96b857f">PROP_OUTPUT</a>);
<a name="l02138"></a>02138         cptr = ((type == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>) &amp;&amp; !(flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a88f6c010a50eab9e38cd86ab35059120">PROP_RNAPTR</a>));
<a name="l02139"></a>02139 
<a name="l02140"></a>02140         <span class="keywordflow">if</span> (dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a> == func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>)
<a name="l02141"></a>02141             <span class="keywordflow">continue</span>;
<a name="l02142"></a>02142 
<a name="l02143"></a>02143         <span class="keywordflow">if</span> (cptr || (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a2201e5526a5719021ae9f6641266bc62">PROP_DYNAMIC</a>))
<a name="l02144"></a>02144             ptrstr = pout ? <span class="stringliteral">&quot;**&quot;</span> : <span class="stringliteral">&quot;*&quot;</span>;
<a name="l02145"></a>02145         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a> || dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>)
<a name="l02146"></a>02146             ptrstr = <span class="stringliteral">&quot;*&quot;</span>;
<a name="l02147"></a>02147         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a> &amp;&amp; (flag &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a09aca10c47349234aa905bc8a9f15ace">PROP_THICK_WRAP</a>))
<a name="l02148"></a>02148             ptrstr = <span class="stringliteral">&quot;&quot;</span>;
<a name="l02149"></a>02149         <span class="keywordflow">else</span>
<a name="l02150"></a>02150             ptrstr = pout ? <span class="stringliteral">&quot;*&quot;</span> : <span class="stringliteral">&quot;&quot;</span>;
<a name="l02151"></a>02151 
<a name="l02152"></a>02152         <span class="keywordflow">if</span> (!first) fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02153"></a>02153         first = 0;
<a name="l02154"></a>02154 
<a name="l02155"></a>02155         <span class="keywordflow">if</span> (flag &amp; PROP_DYNAMIC)
<a name="l02156"></a>02156             fprintf(f, <span class="stringliteral">&quot;int %s%s_len, &quot;</span>, pout ? <span class="stringliteral">&quot;*&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02157"></a>02157 
<a name="l02158"></a>02158         <span class="keywordflow">if</span> (!(flag &amp; PROP_DYNAMIC) &amp;&amp; dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>)
<a name="l02159"></a>02159             fprintf(f, <span class="stringliteral">&quot;%s%s %s[%u]&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#aa8b4620ea8be4ff6af60ca9e01453764">rna_type_struct</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>), <a class="code" href="../../da/df2/makesrna_8c.html#ac8a9ce20f65c121bef35965645868a13">rna_parameter_type_name</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>),
<a name="l02160"></a>02160                     dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l02161"></a>02161         <span class="keywordflow">else</span>
<a name="l02162"></a>02162             fprintf(f, <span class="stringliteral">&quot;%s%s %s%s&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#aa8b4620ea8be4ff6af60ca9e01453764">rna_type_struct</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>), <a class="code" href="../../da/df2/makesrna_8c.html#ac8a9ce20f65c121bef35965645868a13">rna_parameter_type_name</a>(dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>),
<a name="l02163"></a>02163                     ptrstr, dparm-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02164"></a>02164 
<a name="l02165"></a>02165     }
<a name="l02166"></a>02166 
<a name="l02167"></a>02167     fprintf(f, <span class="stringliteral">&quot;);\n&quot;</span>);
<a name="l02168"></a>02168 }
<a name="l02169"></a>02169 
<a name="l02170"></a><a class="code" href="../../da/df2/makesrna_8c.html#af30dc0b27752e13d5a508e593bd419fd">02170</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#af30dc0b27752e13d5a508e593bd419fd">rna_generate_static_function_prototypes</a>(<a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, FILE *f)
<a name="l02171"></a>02171 {
<a name="l02172"></a>02172     <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func;
<a name="l02173"></a>02173     <a class="code" href="../../da/d93/structFunctionDefRNA.html">FunctionDefRNA</a> *dfunc;
<a name="l02174"></a>02174     <span class="keywordtype">int</span> first = 1;
<a name="l02175"></a>02175 
<a name="l02176"></a>02176     <span class="keywordflow">for</span> (func = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#abf72392469c16ee5f6fea8ed9fa86240">functions</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; func; func = func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a695340065c4f30d7f168f13de6d7b9b4">next</a>) {
<a name="l02177"></a>02177         dfunc = <a class="code" href="../../dc/d7e/rna__define_8c.html#abe0f2ada50ee469d93991dac0c072008">rna_find_function_def</a>(func);
<a name="l02178"></a>02178 
<a name="l02179"></a>02179         <span class="keywordflow">if</span> (dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#adf195f70d88e9ec4ca7ba4ac6b3769e6">call</a>) {
<a name="l02180"></a>02180             <span class="keywordflow">if</span> (first) {
<a name="l02181"></a>02181                 fprintf(f, <span class="stringliteral">&quot;/* Repeated prototypes to detect errors */\n\n&quot;</span>);
<a name="l02182"></a>02182                 first = 0;
<a name="l02183"></a>02183             }
<a name="l02184"></a>02184 
<a name="l02185"></a>02185             <a class="code" href="../../da/df2/makesrna_8c.html#a7322df473af5c669a7f288fc869de0d9">rna_generate_static_parameter_prototypes</a>(brna, srna, dfunc, f);
<a name="l02186"></a>02186         }
<a name="l02187"></a>02187     }
<a name="l02188"></a>02188 
<a name="l02189"></a>02189     fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02190"></a>02190 }
<a name="l02191"></a>02191 
<a name="l02192"></a><a class="code" href="../../da/df2/makesrna_8c.html#a7310e918daef6bfcd8f7d1edd602d919">02192</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a7310e918daef6bfcd8f7d1edd602d919">rna_generate_property</a>(FILE *f, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, <span class="keyword">const</span> <span class="keywordtype">char</span> *nest, <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop)
<a name="l02193"></a>02193 {
<a name="l02194"></a>02194     <span class="keywordtype">char</span> *strnest = <span class="stringliteral">&quot;&quot;</span>, *errnest = <span class="stringliteral">&quot;&quot;</span>;
<a name="l02195"></a>02195     <span class="keywordtype">int</span> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a>, freenest = 0;
<a name="l02196"></a>02196     
<a name="l02197"></a>02197     <span class="keywordflow">if</span> (nest != <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l02198"></a>02198         len = <a class="code" href="../../d1/d22/stdosl_8h.html#af902ac638d8127503ad64a0eacb3a7e8">strlen</a>(nest);
<a name="l02199"></a>02199 
<a name="l02200"></a>02200         strnest = <a class="code" href="../../da/d2b/mallocn_8c.html#a2bfff00be1f0c49f1945b5d6f66af243">MEM_mallocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*(len+2), <span class="stringliteral">&quot;rna_generate_property -&gt; strnest&quot;</span>);
<a name="l02201"></a>02201         errnest = <a class="code" href="../../da/d2b/mallocn_8c.html#a2bfff00be1f0c49f1945b5d6f66af243">MEM_mallocN</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*(len+2), <span class="stringliteral">&quot;rna_generate_property -&gt; errnest&quot;</span>);
<a name="l02202"></a>02202 
<a name="l02203"></a>02203         strcpy(strnest, <span class="stringliteral">&quot;_&quot;</span>); strcat(strnest, nest);
<a name="l02204"></a>02204         strcpy(errnest, <span class="stringliteral">&quot;.&quot;</span>); strcat(errnest, nest);
<a name="l02205"></a>02205 
<a name="l02206"></a>02206         freenest = 1;
<a name="l02207"></a>02207     }
<a name="l02208"></a>02208 
<a name="l02209"></a>02209     <span class="keywordflow">switch</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>) {
<a name="l02210"></a>02210             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>: {
<a name="l02211"></a>02211                 <a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a> *eprop = (<a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a>*)prop;
<a name="l02212"></a>02212                 <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, defaultfound = 0, totflag = 0;
<a name="l02213"></a>02213 
<a name="l02214"></a>02214                 <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>) {
<a name="l02215"></a>02215                     fprintf(f, <span class="stringliteral">&quot;static EnumPropertyItem rna_%s%s_%s_items[%d] = {\n\t&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>,
<a name="l02216"></a>02216                             strnest, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#acc1c230b53fac65d28a8631e7fdaafa6">totitem</a>+1);
<a name="l02217"></a>02217 
<a name="l02218"></a>02218                     <span class="keywordflow">for</span> (i = 0; i&lt;eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#acc1c230b53fac65d28a8631e7fdaafa6">totitem</a>; i++) {
<a name="l02219"></a>02219                         fprintf(f, <span class="stringliteral">&quot;{%d, &quot;</span>, eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a>);
<a name="l02220"></a>02220                         <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02221"></a>02221                         fprintf(f, <span class="stringliteral">&quot;%d, &quot;</span>, eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#ae38fe62a960118663d463fffdbc42512">icon</a>);
<a name="l02222"></a>02222                         <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a7b7b028a28c6f9f13a9a1289ceabe8e8">name</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02223"></a>02223                         <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#ac81c34dc2a0f20d96292c0179e347c6f">description</a>); fprintf(f, <span class="stringliteral">&quot;},\n\t&quot;</span>);
<a name="l02224"></a>02224 
<a name="l02225"></a>02225                         <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a63a2e651d1ec3c62fca4064e6ebf32f0">identifier</a>[0]) {
<a name="l02226"></a>02226                             <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a4a6fd56ed59432e5f4c6f4e44b8b8599">PROP_ENUM_FLAG</a>) {
<a name="l02227"></a>02227                                 totflag |= eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a>;
<a name="l02228"></a>02228                             }
<a name="l02229"></a>02229                             <span class="keywordflow">else</span> {
<a name="l02230"></a>02230                                 <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#aaafd27278d2948ed86b3fc5ccec01531">defaultvalue</a> == eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>[i].<a class="code" href="../../d1/d8a/structEnumPropertyItem.html#a9877ecc8d1c18ef7c8c1a79fee82998e">value</a>) {
<a name="l02231"></a>02231                                     defaultfound = 1;
<a name="l02232"></a>02232                                 }
<a name="l02233"></a>02233                             }
<a name="l02234"></a>02234                         }
<a name="l02235"></a>02235                     }
<a name="l02236"></a>02236 
<a name="l02237"></a>02237                     fprintf(f, <span class="stringliteral">&quot;{0, NULL, 0, NULL, NULL}\n};\n\n&quot;</span>);
<a name="l02238"></a>02238 
<a name="l02239"></a>02239                     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a4a6fd56ed59432e5f4c6f4e44b8b8599">PROP_ENUM_FLAG</a>) {
<a name="l02240"></a>02240                         <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#aaafd27278d2948ed86b3fc5ccec01531">defaultvalue</a> &amp; ~totflag) {
<a name="l02241"></a>02241                             fprintf(stderr, <span class="stringliteral">&quot;%s: %s%s.%s, enum default includes unused bits (%d).\n&quot;</span>,
<a name="l02242"></a>02242                                     __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, errnest, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>,
<a name="l02243"></a>02243                                     eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#aaafd27278d2948ed86b3fc5ccec01531">defaultvalue</a> &amp; ~totflag);
<a name="l02244"></a>02244                             <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l02245"></a>02245                         }
<a name="l02246"></a>02246                     }
<a name="l02247"></a>02247                     <span class="keywordflow">else</span> {
<a name="l02248"></a>02248                         <span class="keywordflow">if</span> (!defaultfound) {
<a name="l02249"></a>02249                             fprintf(stderr, <span class="stringliteral">&quot;%s: %s%s.%s, enum default is not in items.\n&quot;</span>,
<a name="l02250"></a>02250                                     __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, errnest, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02251"></a>02251                             <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l02252"></a>02252                         }
<a name="l02253"></a>02253                     }
<a name="l02254"></a>02254                 }
<a name="l02255"></a>02255                 <span class="keywordflow">else</span> {
<a name="l02256"></a>02256                     fprintf(stderr, <span class="stringliteral">&quot;%s: %s%s.%s, enum must have items defined.\n&quot;</span>,
<a name="l02257"></a>02257                             __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, errnest, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02258"></a>02258                     <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l02259"></a>02259                 }
<a name="l02260"></a>02260                 <span class="keywordflow">break</span>;
<a name="l02261"></a>02261             }
<a name="l02262"></a>02262             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>: {
<a name="l02263"></a>02263                 <a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a> *bprop = (<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a>*)prop;
<a name="l02264"></a>02264                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l02265"></a>02265 
<a name="l02266"></a>02266                 <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> &amp;&amp; prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>) {
<a name="l02267"></a>02267                     fprintf(f, <span class="stringliteral">&quot;static int rna_%s%s_%s_default[%u] = {\n\t&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, strnest,
<a name="l02268"></a>02268                             prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l02269"></a>02269 
<a name="l02270"></a>02270                     <span class="keywordflow">for</span> (i = 0; i&lt;prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>; i++) {
<a name="l02271"></a>02271                         <span class="keywordflow">if</span> (bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#af8370f71b358dc644ae41a52537c0ad1">defaultarray</a>)
<a name="l02272"></a>02272                             fprintf(f, <span class="stringliteral">&quot;%d&quot;</span>, bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#af8370f71b358dc644ae41a52537c0ad1">defaultarray</a>[i]);
<a name="l02273"></a>02273                         <span class="keywordflow">else</span>
<a name="l02274"></a>02274                             fprintf(f, <span class="stringliteral">&quot;%d&quot;</span>, bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#a9287a7685acddae109d6e77933d33e36">defaultvalue</a>);
<a name="l02275"></a>02275                         <span class="keywordflow">if</span> (i != prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>-1)
<a name="l02276"></a>02276                             fprintf(f, <span class="stringliteral">&quot;,\n\t&quot;</span>);
<a name="l02277"></a>02277                     }
<a name="l02278"></a>02278 
<a name="l02279"></a>02279                     fprintf(f, <span class="stringliteral">&quot;\n};\n\n&quot;</span>);
<a name="l02280"></a>02280                 }
<a name="l02281"></a>02281                 <span class="keywordflow">break</span>;
<a name="l02282"></a>02282             }
<a name="l02283"></a>02283             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>: {
<a name="l02284"></a>02284                 <a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a> *iprop = (<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)prop;
<a name="l02285"></a>02285                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l02286"></a>02286 
<a name="l02287"></a>02287                 <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> &amp;&amp; prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>) {
<a name="l02288"></a>02288                     fprintf(f, <span class="stringliteral">&quot;static int rna_%s%s_%s_default[%u] = {\n\t&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, strnest,
<a name="l02289"></a>02289                             prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l02290"></a>02290 
<a name="l02291"></a>02291                     <span class="keywordflow">for</span> (i = 0; i&lt;prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>; i++) {
<a name="l02292"></a>02292                         <span class="keywordflow">if</span> (iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a24501f71567d8465de9386f9aa228205">defaultarray</a>)
<a name="l02293"></a>02293                             fprintf(f, <span class="stringliteral">&quot;%d&quot;</span>, iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a24501f71567d8465de9386f9aa228205">defaultarray</a>[i]);
<a name="l02294"></a>02294                         <span class="keywordflow">else</span>
<a name="l02295"></a>02295                             fprintf(f, <span class="stringliteral">&quot;%d&quot;</span>, iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#ab604c312ed42db6a1265e6eec399e3fa">defaultvalue</a>);
<a name="l02296"></a>02296                         <span class="keywordflow">if</span> (i != prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>-1)
<a name="l02297"></a>02297                             fprintf(f, <span class="stringliteral">&quot;,\n\t&quot;</span>);
<a name="l02298"></a>02298                     }
<a name="l02299"></a>02299 
<a name="l02300"></a>02300                     fprintf(f, <span class="stringliteral">&quot;\n};\n\n&quot;</span>);
<a name="l02301"></a>02301                 }
<a name="l02302"></a>02302                 <span class="keywordflow">break</span>;
<a name="l02303"></a>02303             }
<a name="l02304"></a>02304             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>: {
<a name="l02305"></a>02305                 <a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a> *fprop = (<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)prop;
<a name="l02306"></a>02306                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;
<a name="l02307"></a>02307 
<a name="l02308"></a>02308                 <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> &amp;&amp; prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>) {
<a name="l02309"></a>02309                     fprintf(f, <span class="stringliteral">&quot;static float rna_%s%s_%s_default[%u] = {\n\t&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, strnest,
<a name="l02310"></a>02310                             prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l02311"></a>02311 
<a name="l02312"></a>02312                     <span class="keywordflow">for</span> (i = 0; i&lt;prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>; i++) {
<a name="l02313"></a>02313                         <span class="keywordflow">if</span> (fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ac8661361049034d45c8ad47aad554f79">defaultarray</a>)
<a name="l02314"></a>02314                             <a class="code" href="../../da/df2/makesrna_8c.html#a3bdf407c0cadddb4dd54761c2cadf807">rna_float_print</a>(f, fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ac8661361049034d45c8ad47aad554f79">defaultarray</a>[i]);
<a name="l02315"></a>02315                         <span class="keywordflow">else</span>
<a name="l02316"></a>02316                             <a class="code" href="../../da/df2/makesrna_8c.html#a3bdf407c0cadddb4dd54761c2cadf807">rna_float_print</a>(f, fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#af57ac2a73207a6f50efaeffdcb948a06">defaultvalue</a>);
<a name="l02317"></a>02317                         <span class="keywordflow">if</span> (i != prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>-1)
<a name="l02318"></a>02318                             fprintf(f, <span class="stringliteral">&quot;,\n\t&quot;</span>);
<a name="l02319"></a>02319                     }
<a name="l02320"></a>02320 
<a name="l02321"></a>02321                     fprintf(f, <span class="stringliteral">&quot;\n};\n\n&quot;</span>);
<a name="l02322"></a>02322                 }
<a name="l02323"></a>02323                 <span class="keywordflow">break</span>;
<a name="l02324"></a>02324             }
<a name="l02325"></a>02325             <span class="keywordflow">default</span>:
<a name="l02326"></a>02326                 <span class="keywordflow">break</span>;
<a name="l02327"></a>02327     }
<a name="l02328"></a>02328 
<a name="l02329"></a>02329     fprintf(f, <span class="stringliteral">&quot;%s%s rna_%s%s_%s = {\n&quot;</span>,
<a name="l02330"></a>02330             (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411affc6f283d50d9abb1d2a3c2123d14a8b">PROP_EXPORT</a>) ? <span class="stringliteral">&quot;&quot;</span>: <span class="stringliteral">&quot;&quot;</span>,
<a name="l02331"></a>02331             <a class="code" href="../../da/df2/makesrna_8c.html#aa42a22c17574ac8ef250bed4480c3b94">rna_property_structname</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>),
<a name="l02332"></a>02332             srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, strnest, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02333"></a>02333 
<a name="l02334"></a>02334     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>) fprintf(f, <span class="stringliteral">&quot;\t{(PropertyRNA*)&amp;rna_%s%s_%s, &quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, strnest, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02335"></a>02335     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;\t{NULL, &quot;</span>);
<a name="l02336"></a>02336     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aaf974847aa8246abe823ca9a419730de">prev</a>) fprintf(f, <span class="stringliteral">&quot;(PropertyRNA*)&amp;rna_%s%s_%s,\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, strnest, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aaf974847aa8246abe823ca9a419730de">prev</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02337"></a>02337     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;NULL,\n&quot;</span>);
<a name="l02338"></a>02338     fprintf(f, <span class="stringliteral">&quot;\t%d, &quot;</span>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a8c194207b60f970356bb99da5fd9bd82">magic</a>);
<a name="l02339"></a>02339     <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02340"></a>02340     fprintf(f, <span class="stringliteral">&quot;, %d, &quot;</span>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a>);
<a name="l02341"></a>02341     <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad1e32193f23c2d55cab37a31342d125d">name</a>); fprintf(f, <span class="stringliteral">&quot;,\n\t&quot;</span>);
<a name="l02342"></a>02342     <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#abda687700ead49a2210c9bc9c63ef6c6">description</a>); fprintf(f, <span class="stringliteral">&quot;,\n\t&quot;</span>);
<a name="l02343"></a>02343     fprintf(f, <span class="stringliteral">&quot;%d,\n&quot;</span>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#adf7df191e45c5b7965a91f70e1c5ab1c">icon</a>);
<a name="l02344"></a>02344     <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a1697461d5c919df770008d0bbee49520">translation_context</a>); fprintf(f, <span class="stringliteral">&quot;,\n\t&quot;</span>);
<a name="l02345"></a>02345     fprintf(f, <span class="stringliteral">&quot;\t%s, %s|%s, %s, %u, {%u, %u, %u}, %u,\n&quot;</span>,
<a name="l02346"></a>02346             <a class="code" href="../../dc/d7e/rna__define_8c.html#af4a7db177a17763a91d343fa2a4424b2">RNA_property_typename</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>),
<a name="l02347"></a>02347             <a class="code" href="../../da/df2/makesrna_8c.html#ae7e261521e0a09b1727439039bd81d58">rna_property_subtypename</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aab659b6cc4e02fde4bf9f00f1a56e3b7">subtype</a>),
<a name="l02348"></a>02348             <a class="code" href="../../da/df2/makesrna_8c.html#aa7cf693d1df03adbf0eefb062ca42c3c">rna_property_subtype_unit</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aab659b6cc4e02fde4bf9f00f1a56e3b7">subtype</a>),
<a name="l02349"></a>02349             <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a14c797866dfe7efebf4de6653e2a7b09">getlength</a>),
<a name="l02350"></a>02350             prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a>,
<a name="l02351"></a>02351             prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ab2aa827db5a5e92940518a8dbd062ee7">arraylength</a>[0],
<a name="l02352"></a>02352             prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ab2aa827db5a5e92940518a8dbd062ee7">arraylength</a>[1],
<a name="l02353"></a>02353             prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ab2aa827db5a5e92940518a8dbd062ee7">arraylength</a>[2],
<a name="l02354"></a>02354             prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>);
<a name="l02355"></a>02355     fprintf(f, <span class="stringliteral">&quot;\t%s%s, %d, %s, %s,\n&quot;</span>,
<a name="l02356"></a>02356             (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a22e3422e89920ab20d4ffc932e52e058">PROP_CONTEXT_UPDATE</a>) ? <span class="stringliteral">&quot;(UpdateFunc)&quot;</span>: <span class="stringliteral">&quot;&quot;</span>,
<a name="l02357"></a>02357             <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#aec60aeb3fd6c4d9419be2aa13fefed90">update</a>),
<a name="l02358"></a>02358             prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a49b4c8972743e6fbf0b9cd2ae27c8d8e">noteflag</a>,
<a name="l02359"></a>02359             <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a5d71a8e5d7c789df08c32e3c34b55980">editable</a>),
<a name="l02360"></a>02360             <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a114a207b5d5bff2dfb47633d64b56316">itemeditable</a>));
<a name="l02361"></a>02361 
<a name="l02362"></a>02362     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; <a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411a25b3c9c6e12273140cdefbe3fe85e37b">PROP_RAW_ACCESS</a>) <a class="code" href="../../da/df2/makesrna_8c.html#a3047f09fa96198d8756f92a04d66de23">rna_set_raw_offset</a>(f, srna, prop);
<a name="l02363"></a>02363     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;\t0, -1&quot;</span>);
<a name="l02364"></a>02364 
<a name="l02365"></a>02365     <span class="comment">/* our own type - collections/arrays only */</span>
<a name="l02366"></a>02366     <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a9934dddbe99e234df1e3d68e0f882a71">srna</a>) fprintf(f, <span class="stringliteral">&quot;, &amp;RNA_%s&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a9934dddbe99e234df1e3d68e0f882a71">srna</a>);
<a name="l02367"></a>02367     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;, NULL&quot;</span>);
<a name="l02368"></a>02368 
<a name="l02369"></a>02369     fprintf(f, <span class="stringliteral">&quot;},\n&quot;</span>);
<a name="l02370"></a>02370 
<a name="l02371"></a>02371     <span class="keywordflow">switch</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a>) {
<a name="l02372"></a>02372             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a3f897b521d476ae35d56f769b80b54f4">PROP_BOOLEAN</a>: {
<a name="l02373"></a>02373                 <a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a> *bprop = (<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html">BoolPropertyRNA</a>*)prop;
<a name="l02374"></a>02374                 fprintf(f, <span class="stringliteral">&quot;\t%s, %s, %s, %s, %d, &quot;</span>,
<a name="l02375"></a>02375                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#ab002855a642299be3ea8a3e74f6cbd93">get</a>),
<a name="l02376"></a>02376                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#aa4b7a8febf3b265db636dad2899b7fce">set</a>),
<a name="l02377"></a>02377                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#af38a68b63e12461123465bdc74b74fc3">getarray</a>),
<a name="l02378"></a>02378                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#a7535d073b74cdb69dbb338efb46ea7ef">setarray</a>),
<a name="l02379"></a>02379                         bprop-&gt;<a class="code" href="../../d4/d3e/structBoolPropertyRNA.html#a9287a7685acddae109d6e77933d33e36">defaultvalue</a>);
<a name="l02380"></a>02380                 <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> &amp;&amp; prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>)
<a name="l02381"></a>02381                     fprintf(f, <span class="stringliteral">&quot;rna_%s%s_%s_default\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, strnest, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02382"></a>02382                 <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;NULL\n&quot;</span>);
<a name="l02383"></a>02383                 <span class="keywordflow">break</span>;
<a name="l02384"></a>02384             }
<a name="l02385"></a>02385             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a620d0acb046e6bc10271434db1960d41">PROP_INT</a>: {
<a name="l02386"></a>02386                 <a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a> *iprop = (<a class="code" href="../../d7/def/structIntPropertyRNA.html">IntPropertyRNA</a>*)prop;
<a name="l02387"></a>02387                 fprintf(f, <span class="stringliteral">&quot;\t%s, %s, %s, %s, %s,\n\t&quot;</span>,
<a name="l02388"></a>02388                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a05b1e1f8ecb1ae59b6f369a83dbcadab">get</a>),
<a name="l02389"></a>02389                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a4d0d92a22e08ba1a5d4b1af4be0c62b6">set</a>),
<a name="l02390"></a>02390                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a1eb04ac10c6ac4c42cab8280d4df0bcb">getarray</a>),
<a name="l02391"></a>02391                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a385d89591c72c779ceda91b2157fe2b9">setarray</a>),
<a name="l02392"></a>02392                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a361209eb96ad7996485080591d4d39b1">range</a>));
<a name="l02393"></a>02393                 <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#aeda205f50c37b35db0893a03c623d96d">softmin</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02394"></a>02394                 <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#aebc48706d04d264b649b843699b5d974">softmax</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02395"></a>02395                 <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#af938145fa20c2eccb1b1a7ec40364073">hardmin</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02396"></a>02396                 <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a5291969e5fc14586dfb3d4009045d900">hardmax</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02397"></a>02397                 <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#a871c4daacd89c8e290fa81940f22a26b">step</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02398"></a>02398                 <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, iprop-&gt;<a class="code" href="../../d7/def/structIntPropertyRNA.html#ab604c312ed42db6a1265e6eec399e3fa">defaultvalue</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02399"></a>02399                 <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> &amp;&amp; prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>)
<a name="l02400"></a>02400                     fprintf(f, <span class="stringliteral">&quot;rna_%s%s_%s_default\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, strnest, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02401"></a>02401                 <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;NULL\n&quot;</span>);
<a name="l02402"></a>02402                 <span class="keywordflow">break</span>;
<a name="l02403"></a>02403             }
<a name="l02404"></a>02404             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a273da4f3eac15c9bfdf45600a9d3a223">PROP_FLOAT</a>: {
<a name="l02405"></a>02405                 <a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a> *fprop = (<a class="code" href="../../dd/d65/structFloatPropertyRNA.html">FloatPropertyRNA</a>*)prop;
<a name="l02406"></a>02406                 fprintf(f, <span class="stringliteral">&quot;\t%s, %s, %s, %s, %s, &quot;</span>,
<a name="l02407"></a>02407                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a37d7799d1e8366004cdcf421dda24465">get</a>),
<a name="l02408"></a>02408                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#abf91278882ce2d3abd336c9eed9ac9e1">set</a>),
<a name="l02409"></a>02409                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a6cafd3ec71f94bbadbc99351e2426c8e">getarray</a>),
<a name="l02410"></a>02410                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad46d3fa0dfee75ed8437809333c40c0c">setarray</a>),
<a name="l02411"></a>02411                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ad2a6fb143197f0b45d7800f2f92082a2">range</a>));
<a name="l02412"></a>02412                 <a class="code" href="../../da/df2/makesrna_8c.html#a3bdf407c0cadddb4dd54761c2cadf807">rna_float_print</a>(f, fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#aede393a992441210bb7ec8539ca62188">softmin</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02413"></a>02413                 <a class="code" href="../../da/df2/makesrna_8c.html#a3bdf407c0cadddb4dd54761c2cadf807">rna_float_print</a>(f, fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#aec25b4c4c092d0b765db727fea6782c3">softmax</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02414"></a>02414                 <a class="code" href="../../da/df2/makesrna_8c.html#a3bdf407c0cadddb4dd54761c2cadf807">rna_float_print</a>(f, fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a9aceb1cb3479ddf907ef43fd2ed9dd3c">hardmin</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02415"></a>02415                 <a class="code" href="../../da/df2/makesrna_8c.html#a3bdf407c0cadddb4dd54761c2cadf807">rna_float_print</a>(f, fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#ac3779156773c5c6803b410406d4bf33e">hardmax</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02416"></a>02416                 <a class="code" href="../../da/df2/makesrna_8c.html#a3bdf407c0cadddb4dd54761c2cadf807">rna_float_print</a>(f, fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a7d10a33cbf8d0c9f6c34187eca719a98">step</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02417"></a>02417                 <a class="code" href="../../da/df2/makesrna_8c.html#ae8ec03d0371f5d0a3bb53d61416321e6">rna_int_print</a>(f, (<span class="keywordtype">int</span>)fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#a7d8a58e425395d8e955e135d781fd4d9">precision</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02418"></a>02418                 <a class="code" href="../../da/df2/makesrna_8c.html#a3bdf407c0cadddb4dd54761c2cadf807">rna_float_print</a>(f, fprop-&gt;<a class="code" href="../../dd/d65/structFloatPropertyRNA.html#af57ac2a73207a6f50efaeffdcb948a06">defaultvalue</a>); fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02419"></a>02419                 <span class="keywordflow">if</span> (prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a2e9e15bd1fa6bf203ea022bef7c904a2">arraydimension</a> &amp;&amp; prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad24c8cb2237e35fcc425956ba079f1c5">totarraylength</a>)
<a name="l02420"></a>02420                     fprintf(f, <span class="stringliteral">&quot;rna_%s%s_%s_default\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, strnest, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02421"></a>02421                 <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;NULL\n&quot;</span>);
<a name="l02422"></a>02422                 <span class="keywordflow">break</span>;
<a name="l02423"></a>02423             }
<a name="l02424"></a>02424             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a847d74deffc8d0ec556372561186ee41">PROP_STRING</a>: {
<a name="l02425"></a>02425                 <a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a> *sprop = (<a class="code" href="../../da/de8/structStringPropertyRNA.html">StringPropertyRNA</a>*)prop;
<a name="l02426"></a>02426                 fprintf(f, <span class="stringliteral">&quot;\t%s, %s, %s, %d, &quot;</span>,
<a name="l02427"></a>02427                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#ac886cc47c50ad9f4a889f6571ed66e3b">get</a>),
<a name="l02428"></a>02428                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a81bdf8f4989f95df5e6e90ba34e06039">length</a>),
<a name="l02429"></a>02429                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a3281606f113e61e29e85349fca73bb39">set</a>),
<a name="l02430"></a>02430                         sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a8c6048283a1bd199f370b6c9806530a7">maxlength</a>);
<a name="l02431"></a>02431                 <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, sprop-&gt;<a class="code" href="../../da/de8/structStringPropertyRNA.html#a4615fd7801befd167d2094383ebd8f5d">defaultvalue</a>); fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02432"></a>02432                 <span class="keywordflow">break</span>;
<a name="l02433"></a>02433             }
<a name="l02434"></a>02434             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87a46db685881d563dbd4be267143d05b84">PROP_ENUM</a>: {
<a name="l02435"></a>02435                 <a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a> *eprop = (<a class="code" href="../../d1/d87/structEnumPropertyRNA.html">EnumPropertyRNA</a>*)prop;
<a name="l02436"></a>02436                 fprintf(f, <span class="stringliteral">&quot;\t%s, %s, %s, NULL, &quot;</span>,
<a name="l02437"></a>02437                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#a92f12b4c74e1c0150027a8a6a51b112c">get</a>),
<a name="l02438"></a>02438                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#aff533710b1ed83e95de01ad3ed642b8b">set</a>),
<a name="l02439"></a>02439                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#a5fbab3085d23af7e99dd85c5c78a101f">itemf</a>));
<a name="l02440"></a>02440                 <span class="keywordflow">if</span> (eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#ade1e6e0fdda6bf3d2e05309fc1d739b4">item</a>)
<a name="l02441"></a>02441                     fprintf(f, <span class="stringliteral">&quot;rna_%s%s_%s_items, &quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, strnest, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02442"></a>02442                 <span class="keywordflow">else</span>
<a name="l02443"></a>02443                     fprintf(f, <span class="stringliteral">&quot;NULL, &quot;</span>);
<a name="l02444"></a>02444                 fprintf(f, <span class="stringliteral">&quot;%d, %d\n&quot;</span>, eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#acc1c230b53fac65d28a8631e7fdaafa6">totitem</a>, eprop-&gt;<a class="code" href="../../d1/d87/structEnumPropertyRNA.html#aaafd27278d2948ed86b3fc5ccec01531">defaultvalue</a>);
<a name="l02445"></a>02445                 <span class="keywordflow">break</span>;
<a name="l02446"></a>02446             }
<a name="l02447"></a>02447             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87ad5e00a64fb9a818656ec43c5a3817d7c">PROP_POINTER</a>: {
<a name="l02448"></a>02448                 <a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a> *pprop = (<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html">PointerPropertyRNA</a>*)prop;
<a name="l02449"></a>02449                 fprintf(f, <span class="stringliteral">&quot;\t%s, %s, %s, %s,&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7e051ebaa5617c5cd3e3442b2be318b8">get</a>),
<a name="l02450"></a>02450                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#ab36579bb615fdb1d8987ff0847edd34d">set</a>),
<a name="l02451"></a>02451                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a5be41f545e41810a8e4834d911b45a38">typef</a>),
<a name="l02452"></a>02452                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a8fa889928fbab42c346787feb3129bf7">poll</a>));
<a name="l02453"></a>02453                 <span class="keywordflow">if</span> (pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>) fprintf(f, <span class="stringliteral">&quot;&amp;RNA_%s\n&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)pprop-&gt;<a class="code" href="../../d3/d9e/structPointerPropertyRNA.html#a7b8c4c14be28404851d23c6aa5e0afd7">type</a>);
<a name="l02454"></a>02454                 <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;NULL\n&quot;</span>);
<a name="l02455"></a>02455                 <span class="keywordflow">break</span>;
<a name="l02456"></a>02456             }
<a name="l02457"></a>02457             <span class="keywordflow">case</span> <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>: {
<a name="l02458"></a>02458                 <a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a> *cprop = (<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html">CollectionPropertyRNA</a>*)prop;
<a name="l02459"></a>02459                 fprintf(f, <span class="stringliteral">&quot;\t%s, %s, %s, %s, %s, %s, %s, %s, &quot;</span>,
<a name="l02460"></a>02460                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a810dead54b28eb961a333690e4a145e6">begin</a>),
<a name="l02461"></a>02461                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a538ed24fbf25d43e86c6206278616431">next</a>),
<a name="l02462"></a>02462                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#aa6f541a3e80d455e296162ea2989d62e">end</a>),
<a name="l02463"></a>02463                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#adf3521bb24dca0359fd985eb65299a40">get</a>),
<a name="l02464"></a>02464                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a57b67e8ad4dc9ffba53ed41b597ae6ba">length</a>),
<a name="l02465"></a>02465                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a77e970b438f1f5d15dd05f65aa82d074">lookupint</a>),
<a name="l02466"></a>02466                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a574ad616e238bea073b3c3a6807be591">lookupstring</a>),
<a name="l02467"></a>02467                         <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a91e29b777814b4cd39181e5d1472f24d">assignint</a>));
<a name="l02468"></a>02468                 <span class="keywordflow">if</span> (cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a>) fprintf(f, <span class="stringliteral">&quot;&amp;RNA_%s\n&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">char</span>*)cprop-&gt;<a class="code" href="../../d5/dd1/structCollectionPropertyRNA.html#a71f0c0cdd4741d5e8e293ba40df750a5">item_type</a>);
<a name="l02469"></a>02469                 <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;NULL\n&quot;</span>);
<a name="l02470"></a>02470                 <span class="keywordflow">break</span>;
<a name="l02471"></a>02471             }
<a name="l02472"></a>02472     }
<a name="l02473"></a>02473 
<a name="l02474"></a>02474     fprintf(f, <span class="stringliteral">&quot;};\n\n&quot;</span>);
<a name="l02475"></a>02475 
<a name="l02476"></a>02476     <span class="keywordflow">if</span> (freenest) {
<a name="l02477"></a>02477         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(strnest);
<a name="l02478"></a>02478         <a class="code" href="../../da/d2b/mallocn_8c.html#aebca1f40b6b3b5815677a99dc56670d9">MEM_freeN</a>(errnest);
<a name="l02479"></a>02479     }
<a name="l02480"></a>02480 }
<a name="l02481"></a>02481 
<a name="l02482"></a><a class="code" href="../../da/df2/makesrna_8c.html#aafc0dce6521ee506e989c6ba1c281465">02482</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#aafc0dce6521ee506e989c6ba1c281465">rna_generate_struct</a>(<a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna, <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna, FILE *f)
<a name="l02483"></a>02483 {
<a name="l02484"></a>02484     <a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a> *func;
<a name="l02485"></a>02485     <a class="code" href="../../da/d93/structFunctionDefRNA.html">FunctionDefRNA</a> *dfunc;
<a name="l02486"></a>02486     <a class="code" href="../../d0/de5/structPropertyRNA.html">PropertyRNA</a> *prop, *parm;
<a name="l02487"></a>02487     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *base;
<a name="l02488"></a>02488 
<a name="l02489"></a>02489     fprintf(f, <span class="stringliteral">&quot;/* %s */\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a467f75252750500ab605ad9adbc79e4c">name</a>);
<a name="l02490"></a>02490 
<a name="l02491"></a>02491     <span class="keywordflow">for</span> (prop = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; prop; prop = prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>)
<a name="l02492"></a>02492         <a class="code" href="../../da/df2/makesrna_8c.html#a7310e918daef6bfcd8f7d1edd602d919">rna_generate_property</a>(f, srna, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, prop);
<a name="l02493"></a>02493 
<a name="l02494"></a>02494     <span class="keywordflow">for</span> (func = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#abf72392469c16ee5f6fea8ed9fa86240">functions</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; func; func = func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a695340065c4f30d7f168f13de6d7b9b4">next</a>) {
<a name="l02495"></a>02495         <span class="keywordflow">for</span> (parm = func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; parm; parm = parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a3b1c278fb350b0434c431aab9f301d8a">next</a>)
<a name="l02496"></a>02496             <a class="code" href="../../da/df2/makesrna_8c.html#a7310e918daef6bfcd8f7d1edd602d919">rna_generate_property</a>(f, srna, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a31dbda90220cff3985c6ccdbb90171ab">identifier</a>, parm);
<a name="l02497"></a>02497 
<a name="l02498"></a>02498         fprintf(f, <span class="stringliteral">&quot;%s%s rna_%s_%s_func = {\n&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;FunctionRNA&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a31dbda90220cff3985c6ccdbb90171ab">identifier</a>);
<a name="l02499"></a>02499 
<a name="l02500"></a>02500         <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a695340065c4f30d7f168f13de6d7b9b4">next</a>)
<a name="l02501"></a>02501             fprintf(f, <span class="stringliteral">&quot;\t{(FunctionRNA*)&amp;rna_%s_%s_func, &quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>,
<a name="l02502"></a>02502                     ((<a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a>*)func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a695340065c4f30d7f168f13de6d7b9b4">next</a>)-&gt;identifier);
<a name="l02503"></a>02503         <span class="keywordflow">else</span>
<a name="l02504"></a>02504             fprintf(f, <span class="stringliteral">&quot;\t{NULL, &quot;</span>);
<a name="l02505"></a>02505         <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a7a03e4a0699d75bcfa20ab4b6231569b">prev</a>)
<a name="l02506"></a>02506             fprintf(f, <span class="stringliteral">&quot;(FunctionRNA*)&amp;rna_%s_%s_func,\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>,
<a name="l02507"></a>02507                     ((<a class="code" href="../../dd/de5/structFunctionRNA.html">FunctionRNA</a>*)func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a7a03e4a0699d75bcfa20ab4b6231569b">prev</a>)-&gt;identifier);
<a name="l02508"></a>02508         <span class="keywordflow">else</span>
<a name="l02509"></a>02509             fprintf(f, <span class="stringliteral">&quot;NULL,\n&quot;</span>);
<a name="l02510"></a>02510 
<a name="l02511"></a>02511         fprintf(f, <span class="stringliteral">&quot;\tNULL,\n&quot;</span>);
<a name="l02512"></a>02512 
<a name="l02513"></a>02513         parm = func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l02514"></a>02514         <span class="keywordflow">if</span> (parm) fprintf(f, <span class="stringliteral">&quot;\t{(PropertyRNA*)&amp;rna_%s_%s_%s, &quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a31dbda90220cff3985c6ccdbb90171ab">identifier</a>, parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02515"></a>02515         <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;\t{NULL, &quot;</span>);
<a name="l02516"></a>02516 
<a name="l02517"></a>02517         parm = func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#aa0181d2045a2421881e8cf53f173c4fa">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#a46f89850aad8cd09b34b5bdc3aa8f91a">last</a>;
<a name="l02518"></a>02518         <span class="keywordflow">if</span> (parm) fprintf(f, <span class="stringliteral">&quot;(PropertyRNA*)&amp;rna_%s_%s_%s}},\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a31dbda90220cff3985c6ccdbb90171ab">identifier</a>, parm-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02519"></a>02519         <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;NULL}},\n&quot;</span>);
<a name="l02520"></a>02520 
<a name="l02521"></a>02521         fprintf(f, <span class="stringliteral">&quot;\t&quot;</span>);
<a name="l02522"></a>02522         <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a31dbda90220cff3985c6ccdbb90171ab">identifier</a>);
<a name="l02523"></a>02523         fprintf(f, <span class="stringliteral">&quot;, %d, &quot;</span>, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a1ff724c7b6a7f9cb08b60c8ea73d3be0">flag</a>);
<a name="l02524"></a>02524         <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#ab23719cc61bd9f3102a10d8447da5fd1">description</a>); fprintf(f, <span class="stringliteral">&quot;,\n&quot;</span>);
<a name="l02525"></a>02525 
<a name="l02526"></a>02526         dfunc = <a class="code" href="../../dc/d7e/rna__define_8c.html#abe0f2ada50ee469d93991dac0c072008">rna_find_function_def</a>(func);
<a name="l02527"></a>02527         <span class="keywordflow">if</span> (dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#a4c73756999cadfe8b72e15a6369c03b3">gencall</a>) fprintf(f, <span class="stringliteral">&quot;\t%s,\n&quot;</span>, dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#a4c73756999cadfe8b72e15a6369c03b3">gencall</a>);
<a name="l02528"></a>02528         <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;\tNULL,\n&quot;</span>);
<a name="l02529"></a>02529 
<a name="l02530"></a>02530         <span class="keywordflow">if</span> (func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>)
<a name="l02531"></a>02531             fprintf(f, <span class="stringliteral">&quot;\t(PropertyRNA*)&amp;rna_%s_%s_%s\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a31dbda90220cff3985c6ccdbb90171ab">identifier</a>, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a3ffc17f02516fb5e33e8a0fdb75c4891">c_ret</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02532"></a>02532         <span class="keywordflow">else</span>
<a name="l02533"></a>02533             fprintf(f, <span class="stringliteral">&quot;\tNULL\n&quot;</span>);
<a name="l02534"></a>02534 
<a name="l02535"></a>02535         fprintf(f, <span class="stringliteral">&quot;};\n&quot;</span>);
<a name="l02536"></a>02536         fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02537"></a>02537     }
<a name="l02538"></a>02538 
<a name="l02539"></a>02539     fprintf(f, <span class="stringliteral">&quot;StructRNA RNA_%s = {\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l02540"></a>02540 
<a name="l02541"></a>02541     <span class="keywordflow">if</span> (srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a695340065c4f30d7f168f13de6d7b9b4">next</a>) fprintf(f, <span class="stringliteral">&quot;\t{(ContainerRNA *)&amp;RNA_%s, &quot;</span>, ((<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a>*)srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a695340065c4f30d7f168f13de6d7b9b4">next</a>)-&gt;identifier);
<a name="l02542"></a>02542     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;\t{NULL, &quot;</span>);
<a name="l02543"></a>02543     <span class="keywordflow">if</span> (srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a7a03e4a0699d75bcfa20ab4b6231569b">prev</a>) fprintf(f, <span class="stringliteral">&quot;(ContainerRNA *)&amp;RNA_%s,\n&quot;</span>, ((<a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a>*)srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a7a03e4a0699d75bcfa20ab4b6231569b">prev</a>)-&gt;identifier);
<a name="l02544"></a>02544     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;NULL,\n&quot;</span>);
<a name="l02545"></a>02545 
<a name="l02546"></a>02546     fprintf(f, <span class="stringliteral">&quot;\tNULL,\n&quot;</span>);
<a name="l02547"></a>02547 
<a name="l02548"></a>02548     prop = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l02549"></a>02549     <span class="keywordflow">if</span> (prop) fprintf(f, <span class="stringliteral">&quot;\t{(PropertyRNA*)&amp;rna_%s_%s, &quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02550"></a>02550     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;\t{NULL, &quot;</span>);
<a name="l02551"></a>02551 
<a name="l02552"></a>02552     prop = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a86e29bbfc2764ded8db2a621346a07fc">cont</a>.<a class="code" href="../../dd/d0d/structContainerRNA.html#a518fb4e0adaccbf9af13f2f0d9ae450f">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#a46f89850aad8cd09b34b5bdc3aa8f91a">last</a>;
<a name="l02553"></a>02553     <span class="keywordflow">if</span> (prop) fprintf(f, <span class="stringliteral">&quot;(PropertyRNA*)&amp;rna_%s_%s}},\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02554"></a>02554     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;NULL}},\n&quot;</span>);
<a name="l02555"></a>02555     fprintf(f, <span class="stringliteral">&quot;\t&quot;</span>);
<a name="l02556"></a>02556     <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l02557"></a>02557     fprintf(f, <span class="stringliteral">&quot;\t, NULL,NULL\n&quot;</span>); <span class="comment">/* PyType - Cant initialize here */</span>
<a name="l02558"></a>02558     fprintf(f, <span class="stringliteral">&quot;, %d, &quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a82c8bd65fc8b7f4953ea5e235eaffc7b">flag</a>);
<a name="l02559"></a>02559     <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a467f75252750500ab605ad9adbc79e4c">name</a>);
<a name="l02560"></a>02560     fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02561"></a>02561     <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa39ea143870afc422f801499d6865020">description</a>);
<a name="l02562"></a>02562     fprintf(f, <span class="stringliteral">&quot;, &quot;</span>);
<a name="l02563"></a>02563     <a class="code" href="../../da/df2/makesrna_8c.html#a2859924936c4db482e76495e4f0a9ddd">rna_print_c_string</a>(f, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a9305e8be4a62e25d66f5d2072f36a0b2">translation_context</a>);
<a name="l02564"></a>02564     fprintf(f, <span class="stringliteral">&quot;,\n\t%d,\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a912b077d958b020253f221536f9bd184">icon</a>);
<a name="l02565"></a>02565 
<a name="l02566"></a>02566     prop = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a9f669d0c36485111d4f7e5101e907e04">nameproperty</a>;
<a name="l02567"></a>02567     <span class="keywordflow">if</span> (prop) {
<a name="l02568"></a>02568         base = srna;
<a name="l02569"></a>02569         <span class="keywordflow">while</span> (base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a> &amp;&amp; base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a9f669d0c36485111d4f7e5101e907e04">nameproperty</a> == prop)
<a name="l02570"></a>02570             base = base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>;
<a name="l02571"></a>02571 
<a name="l02572"></a>02572         fprintf(f, <span class="stringliteral">&quot;\t(PropertyRNA*)&amp;rna_%s_%s, &quot;</span>, base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, prop-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02573"></a>02573     }
<a name="l02574"></a>02574     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;\tNULL, &quot;</span>);
<a name="l02575"></a>02575 
<a name="l02576"></a>02576     prop = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#abdb14cddf7a56383914f921f8340b1d0">iteratorproperty</a>;
<a name="l02577"></a>02577     base = srna;
<a name="l02578"></a>02578     <span class="keywordflow">while</span> (base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a> &amp;&amp; base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#abdb14cddf7a56383914f921f8340b1d0">iteratorproperty</a> == prop)
<a name="l02579"></a>02579         base = base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>;
<a name="l02580"></a>02580     fprintf(f, <span class="stringliteral">&quot;(PropertyRNA*)&amp;rna_%s_rna_properties,\n&quot;</span>, base-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l02581"></a>02581 
<a name="l02582"></a>02582     <span class="keywordflow">if</span> (srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>) fprintf(f, <span class="stringliteral">&quot;\t&amp;RNA_%s,\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l02583"></a>02583     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;\tNULL,\n&quot;</span>);
<a name="l02584"></a>02584 
<a name="l02585"></a>02585     <span class="keywordflow">if</span> (srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a8f07c5c2ca30bcab391ec8b6095d99aa">nested</a>) fprintf(f, <span class="stringliteral">&quot;\t&amp;RNA_%s,\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a8f07c5c2ca30bcab391ec8b6095d99aa">nested</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l02586"></a>02586     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;\tNULL,\n&quot;</span>);
<a name="l02587"></a>02587 
<a name="l02588"></a>02588     fprintf(f, <span class="stringliteral">&quot;\t%s,\n&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#ad132d063072c6de530d5ad13fece9f37">refine</a>));
<a name="l02589"></a>02589     fprintf(f, <span class="stringliteral">&quot;\t%s,\n&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#af5cb5942459b94566f7ab91b0d6ae6aa">path</a>));
<a name="l02590"></a>02590     fprintf(f, <span class="stringliteral">&quot;\t%s,\n&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a076ff3f21540511062bac30a9549cae8">reg</a>));
<a name="l02591"></a>02591     fprintf(f, <span class="stringliteral">&quot;\t%s,\n&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a0950724debff13082df9065584ad5d08">unreg</a>));
<a name="l02592"></a>02592     fprintf(f, <span class="stringliteral">&quot;\t%s,\n&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a85043d93484a72806fc74684bdb84d69">instance</a>));
<a name="l02593"></a>02593     fprintf(f, <span class="stringliteral">&quot;\t%s,\n&quot;</span>, <a class="code" href="../../da/df2/makesrna_8c.html#ae4032f8fd16932d07c1d3179d2fa2a09">rna_function_string</a>(srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa631ef4e3acff4e722a2efeb4d50a2a2">idproperties</a>));
<a name="l02594"></a>02594 
<a name="l02595"></a>02595     <span class="keywordflow">if</span> (srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a076ff3f21540511062bac30a9549cae8">reg</a> &amp;&amp; !srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#ad132d063072c6de530d5ad13fece9f37">refine</a>) {
<a name="l02596"></a>02596         fprintf(stderr, <span class="stringliteral">&quot;%s: %s has a register function, must also have refine function.\n&quot;</span>,
<a name="l02597"></a>02597                 __func__, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l02598"></a>02598         <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> = 1;
<a name="l02599"></a>02599     }
<a name="l02600"></a>02600 
<a name="l02601"></a>02601     func = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#abf72392469c16ee5f6fea8ed9fa86240">functions</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>;
<a name="l02602"></a>02602     <span class="keywordflow">if</span> (func) fprintf(f, <span class="stringliteral">&quot;\t{(FunctionRNA*)&amp;rna_%s_%s_func, &quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a31dbda90220cff3985c6ccdbb90171ab">identifier</a>);
<a name="l02603"></a>02603     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;\t{NULL, &quot;</span>);
<a name="l02604"></a>02604 
<a name="l02605"></a>02605     func = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#abf72392469c16ee5f6fea8ed9fa86240">functions</a>.<a class="code" href="../../d6/d85/structListBase.html#a46f89850aad8cd09b34b5bdc3aa8f91a">last</a>;
<a name="l02606"></a>02606     <span class="keywordflow">if</span> (func) fprintf(f, <span class="stringliteral">&quot;(FunctionRNA*)&amp;rna_%s_%s_func}\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, func-&gt;<a class="code" href="../../dd/de5/structFunctionRNA.html#a31dbda90220cff3985c6ccdbb90171ab">identifier</a>);
<a name="l02607"></a>02607     <span class="keywordflow">else</span> fprintf(f, <span class="stringliteral">&quot;NULL}\n&quot;</span>);
<a name="l02608"></a>02608 
<a name="l02609"></a>02609     fprintf(f, <span class="stringliteral">&quot;};\n&quot;</span>);
<a name="l02610"></a>02610 
<a name="l02611"></a>02611     fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02612"></a>02612 }
<a name="l02613"></a>02613 
<a name="l02614"></a><a class="code" href="../../d8/d79/structRNAProcessItem.html">02614</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d79/structRNAProcessItem.html">RNAProcessItem</a> {
<a name="l02615"></a><a class="code" href="../../d8/d79/structRNAProcessItem.html#a7a6cc2d9e4f4854dbf3f4a21a41008c7">02615</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d79/structRNAProcessItem.html#a7a6cc2d9e4f4854dbf3f4a21a41008c7">filename</a>;
<a name="l02616"></a><a class="code" href="../../d8/d79/structRNAProcessItem.html#aed896f7d0f0cf82f0e540bde1be3206b">02616</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d79/structRNAProcessItem.html#aed896f7d0f0cf82f0e540bde1be3206b">api_filename</a>;
<a name="l02617"></a><a class="code" href="../../d8/d79/structRNAProcessItem.html#aa8ca297256a4461045905a04aa7c9493">02617</a>     void (*<a class="code" href="../../d8/d79/structRNAProcessItem.html#aa8ca297256a4461045905a04aa7c9493">define</a>)(<a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna);
<a name="l02618"></a>02618 } <a class="code" href="../../da/df2/makesrna_8c.html#a0a0902b5e69c8006ec67b351e9466bb8">RNAProcessItem</a>;
<a name="l02619"></a>02619 
<a name="l02620"></a><a class="code" href="../../da/df2/makesrna_8c.html#a406ca9aa675d99b54e8a613ae5427375">02620</a> <span class="keyword">static</span> <a class="code" href="../../d8/d79/structRNAProcessItem.html">RNAProcessItem</a> <a class="code" href="../../da/df2/makesrna_8c.html#a406ca9aa675d99b54e8a613ae5427375">PROCESS_ITEMS</a>[] = {
<a name="l02621"></a>02621     {<span class="stringliteral">&quot;rna_rna.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a1337c1e29034c92957a6a871d7a02667">RNA_def_rna</a>},
<a name="l02622"></a>02622     {<span class="stringliteral">&quot;rna_ID.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d0c/rna__ID_8c.html#a846e8d311e3beb5d3803c62ea45323c1">RNA_def_ID</a>},
<a name="l02623"></a>02623     {<span class="stringliteral">&quot;rna_texture.c&quot;</span>, <span class="stringliteral">&quot;rna_texture_api.c&quot;</span>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a0f3c24c616898cda745e23188963b1b8">RNA_def_texture</a>},
<a name="l02624"></a>02624     {<span class="stringliteral">&quot;rna_action.c&quot;</span>, <span class="stringliteral">&quot;rna_action_api.c&quot;</span>, <a class="code" href="../../df/df7/rna__action_8c.html#a87b3adc855d4e7997fcff84ffa838caa">RNA_def_action</a>},
<a name="l02625"></a>02625     {<span class="stringliteral">&quot;rna_animation.c&quot;</span>, <span class="stringliteral">&quot;rna_animation_api.c&quot;</span>, <a class="code" href="../../db/db5/rna__animation_8c.html#a132bdb7091d007735eb00b704d4f1848">RNA_def_animation</a>},
<a name="l02626"></a>02626     {<span class="stringliteral">&quot;rna_animviz.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d62/rna__animviz_8c.html#a6a71c03a4e8cf15fbca72ab754488835">RNA_def_animviz</a>},
<a name="l02627"></a>02627     {<span class="stringliteral">&quot;rna_actuator.c&quot;</span>, <span class="stringliteral">&quot;rna_actuator_api.c&quot;</span>, <a class="code" href="../../de/d7e/rna__actuator_8c.html#afa23ca8a6c0092d2c4d8d32cac17dba4">RNA_def_actuator</a>},
<a name="l02628"></a>02628     {<span class="stringliteral">&quot;rna_armature.c&quot;</span>, <span class="stringliteral">&quot;rna_armature_api.c&quot;</span>, <a class="code" href="../../de/dab/rna__armature_8c.html#a19b30c763ed979af1ea86bd41e8b4eb6">RNA_def_armature</a>},
<a name="l02629"></a>02629     {<span class="stringliteral">&quot;rna_boid.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/dbc/rna__boid_8c.html#a2109cb1d2af8efd2a1ca633a48b28bcc">RNA_def_boid</a>},
<a name="l02630"></a>02630     {<span class="stringliteral">&quot;rna_brush.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../da/dfb/rna__brush_8c.html#a74153cb997a9fec6203bda2c419b8b38">RNA_def_brush</a>},
<a name="l02631"></a>02631     {<span class="stringliteral">&quot;rna_camera.c&quot;</span>, <span class="stringliteral">&quot;rna_camera_api.c&quot;</span>, <a class="code" href="../../dd/d8c/rna__camera_8c.html#a354fb56b41e93ca93fb82607305d8895">RNA_def_camera</a>},
<a name="l02632"></a>02632     {<span class="stringliteral">&quot;rna_cloth.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/d1d/rna__cloth_8c.html#a50dfdde151d8cf78c31f0ef74d09a131">RNA_def_cloth</a>},
<a name="l02633"></a>02633     {<span class="stringliteral">&quot;rna_color.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d65/rna__color_8c.html#a1dc39b838d65fdb1a065dcb4b8bdabbc">RNA_def_color</a>},
<a name="l02634"></a>02634     {<span class="stringliteral">&quot;rna_constraint.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d2/da3/rna__constraint_8c.html#acaec829a363cccc8f80685e292e8706a">RNA_def_constraint</a>},
<a name="l02635"></a>02635     {<span class="stringliteral">&quot;rna_context.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/d3e/rna__context_8c.html#ad48516483296df300838d3ca6b4a6c08">RNA_def_context</a>},
<a name="l02636"></a>02636     {<span class="stringliteral">&quot;rna_controller.c&quot;</span>, <span class="stringliteral">&quot;rna_controller_api.c&quot;</span>, <a class="code" href="../../d7/d23/rna__controller_8c.html#aaed45696d52804853df85229d2275174">RNA_def_controller</a>},
<a name="l02637"></a>02637     {<span class="stringliteral">&quot;rna_curve.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../db/da5/rna__curve_8c.html#afa283a3083cef49979914b7003c60c90">RNA_def_curve</a>},
<a name="l02638"></a>02638     {<span class="stringliteral">&quot;rna_dynamicpaint.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d3/db9/rna__dynamicpaint_8c.html#a60ec11be38aa24dd278b01464509c985">RNA_def_dynamic_paint</a>},
<a name="l02639"></a>02639     {<span class="stringliteral">&quot;rna_fcurve.c&quot;</span>, <span class="stringliteral">&quot;rna_fcurve_api.c&quot;</span>, <a class="code" href="../../d3/de6/rna__fcurve_8c.html#a2c0667f5e1c46f16b7ec3fa293c2be78">RNA_def_fcurve</a>},
<a name="l02640"></a>02640     {<span class="stringliteral">&quot;rna_fluidsim.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d9/d09/rna__fluidsim_8c.html#aae482063ed5f7678bb04517a4df73867">RNA_def_fluidsim</a>},
<a name="l02641"></a>02641     {<span class="stringliteral">&quot;rna_gpencil.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/d84/rna__gpencil_8c.html#a9fcebb5486857a8a118bdb5c290a5870">RNA_def_gpencil</a>},
<a name="l02642"></a>02642     {<span class="stringliteral">&quot;rna_group.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/d05/rna__group_8c.html#a676e7b2d1dea35f05089b37b9db78baf">RNA_def_group</a>},
<a name="l02643"></a>02643     {<span class="stringliteral">&quot;rna_image.c&quot;</span>, <span class="stringliteral">&quot;rna_image_api.c&quot;</span>, <a class="code" href="../../dc/da1/rna__image_8c.html#a188063f88f04447b247157473306b4a2">RNA_def_image</a>},
<a name="l02644"></a>02644     {<span class="stringliteral">&quot;rna_key.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a92165f69ab4c13daabc7f8640e8374d3">RNA_def_key</a>},
<a name="l02645"></a>02645     {<span class="stringliteral">&quot;rna_lamp.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a4b52d1b05f954a5509b380e853f43896">RNA_def_lamp</a>},
<a name="l02646"></a>02646     {<span class="stringliteral">&quot;rna_lattice.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a06ceddb15bf71c35332f2f21caa54de0">RNA_def_lattice</a>},
<a name="l02647"></a>02647     {<span class="stringliteral">&quot;rna_main.c&quot;</span>, <span class="stringliteral">&quot;rna_main_api.c&quot;</span>, <a class="code" href="../../d1/d29/rna__internal_8h.html#afd5ebc61d04c2fa7503cfa302877eceb">RNA_def_main</a>},
<a name="l02648"></a>02648     {<span class="stringliteral">&quot;rna_material.c&quot;</span>, <span class="stringliteral">&quot;rna_material_api.c&quot;</span>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a90e9ddadc788700267168eda44e72a99">RNA_def_material</a>},
<a name="l02649"></a>02649     {<span class="stringliteral">&quot;rna_mesh.c&quot;</span>, <span class="stringliteral">&quot;rna_mesh_api.c&quot;</span>, <a class="code" href="../../d1/d29/rna__internal_8h.html#aa62e14e7217f1544878f787d4a192018">RNA_def_mesh</a>},
<a name="l02650"></a>02650     {<span class="stringliteral">&quot;rna_meta.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a11d8fc2bb26170bdf6b16050662a69b3">RNA_def_meta</a>},
<a name="l02651"></a>02651     {<span class="stringliteral">&quot;rna_modifier.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#adda9d38b92820932f4bfb736b2d32470">RNA_def_modifier</a>},
<a name="l02652"></a>02652     {<span class="stringliteral">&quot;rna_nla.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a7ba4682e5f397af152b033d5d1b42b43">RNA_def_nla</a>},
<a name="l02653"></a>02653     {<span class="stringliteral">&quot;rna_nodetree.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#ab33e65169142cfd32eab51db1a31d0ae">RNA_def_nodetree</a>},
<a name="l02654"></a>02654     {<span class="stringliteral">&quot;rna_object.c&quot;</span>, <span class="stringliteral">&quot;rna_object_api.c&quot;</span>, <a class="code" href="../../d1/d29/rna__internal_8h.html#ab25646fdf15b47d0ddacf508a62bc8b4">RNA_def_object</a>},
<a name="l02655"></a>02655     {<span class="stringliteral">&quot;rna_object_force.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#abd621cf1a5aaff73e881ce27c55b982e">RNA_def_object_force</a>},
<a name="l02656"></a>02656     {<span class="stringliteral">&quot;rna_packedfile.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#aea0f6072a68a4a494768899349482d6c">RNA_def_packedfile</a>},
<a name="l02657"></a>02657     {<span class="stringliteral">&quot;rna_particle.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a450ceb57fbedd8abfac35386c9234500">RNA_def_particle</a>},
<a name="l02658"></a>02658     {<span class="stringliteral">&quot;rna_pose.c&quot;</span>, <span class="stringliteral">&quot;rna_pose_api.c&quot;</span>, <a class="code" href="../../d1/d29/rna__internal_8h.html#aa9083ddacc929379d9c0199fcdccd544">RNA_def_pose</a>},
<a name="l02659"></a>02659     {<span class="stringliteral">&quot;rna_property.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#ad7df78655998b45a052558a10db01bfb">RNA_def_gameproperty</a>},
<a name="l02660"></a>02660     {<span class="stringliteral">&quot;rna_render.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a4582ac583b490bdbc3aab71b179db952">RNA_def_render</a>},
<a name="l02661"></a>02661     {<span class="stringliteral">&quot;rna_scene.c&quot;</span>, <span class="stringliteral">&quot;rna_scene_api.c&quot;</span>, <a class="code" href="../../d1/d29/rna__internal_8h.html#ac56fe367727e9ab1584d2718a1bf2d19">RNA_def_scene</a>},
<a name="l02662"></a>02662     {<span class="stringliteral">&quot;rna_screen.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#adaa55c8f40293a065ba90189b2ccd457">RNA_def_screen</a>},
<a name="l02663"></a>02663     {<span class="stringliteral">&quot;rna_sculpt_paint.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#aab552ba0b5c762961fef3c38c6051f26">RNA_def_sculpt_paint</a>},
<a name="l02664"></a>02664     {<span class="stringliteral">&quot;rna_sensor.c&quot;</span>, <span class="stringliteral">&quot;rna_sensor_api.c&quot;</span>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a1da0dbf4898c71a27f7d131f2d9f5f6d">RNA_def_sensor</a>},
<a name="l02665"></a>02665     {<span class="stringliteral">&quot;rna_sequencer.c&quot;</span>, <span class="stringliteral">&quot;rna_sequencer_api.c&quot;</span>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a11dd29450892b80d23be17f185cf0955">RNA_def_sequencer</a>},
<a name="l02666"></a>02666     {<span class="stringliteral">&quot;rna_smoke.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a06bb9e27b0cc38a0b78a9255dbaaeb28">RNA_def_smoke</a>},
<a name="l02667"></a>02667     {<span class="stringliteral">&quot;rna_space.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a948f0c671548e516e440ebbda8e0e715">RNA_def_space</a>},
<a name="l02668"></a>02668     {<span class="stringliteral">&quot;rna_speaker.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#aeb954a0850da4ca45bda51139332e576">RNA_def_speaker</a>},
<a name="l02669"></a>02669     {<span class="stringliteral">&quot;rna_test.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a5c1accb772eb2c9400d4d5a4985d45b9">RNA_def_test</a>},
<a name="l02670"></a>02670     {<span class="stringliteral">&quot;rna_text.c&quot;</span>, <span class="stringliteral">&quot;rna_text_api.c&quot;</span>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a34a30768e41d092cafc00ce2c4f02622">RNA_def_text</a>},
<a name="l02671"></a>02671     {<span class="stringliteral">&quot;rna_timeline.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#aabd32cbc9c935425ebcef8f94ff7270b">RNA_def_timeline_marker</a>},
<a name="l02672"></a>02672     {<span class="stringliteral">&quot;rna_sound.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a892558fdb50546f4675c678febabf67d">RNA_def_sound</a>},
<a name="l02673"></a>02673     {<span class="stringliteral">&quot;rna_ui.c&quot;</span>, <span class="stringliteral">&quot;rna_ui_api.c&quot;</span>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a8ca08864280feeaa4c338292c54b825f">RNA_def_ui</a>},
<a name="l02674"></a>02674     {<span class="stringliteral">&quot;rna_userdef.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#aba34e1b7c6cd77c685379141f087f2c1">RNA_def_userdef</a>},
<a name="l02675"></a>02675     {<span class="stringliteral">&quot;rna_vfont.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#ac8c81510abfc683c21de196c9f9b0e60">RNA_def_vfont</a>},
<a name="l02676"></a>02676     {<span class="stringliteral">&quot;rna_wm.c&quot;</span>, <span class="stringliteral">&quot;rna_wm_api.c&quot;</span>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a4ef1910c8b7eb8469495e0d0a61be762">RNA_def_wm</a>},
<a name="l02677"></a>02677     {<span class="stringliteral">&quot;rna_world.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#aa951e9d72c68e88911a494da53ba37f8">RNA_def_world</a>},
<a name="l02678"></a>02678     {<span class="stringliteral">&quot;rna_movieclip.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a1f985843ae4a73b6b02f51fbb91d635f">RNA_def_movieclip</a>},
<a name="l02679"></a>02679     {<span class="stringliteral">&quot;rna_tracking.c&quot;</span>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d29/rna__internal_8h.html#a76772f325a494f95688e70b383139ec5">RNA_def_tracking</a>},
<a name="l02680"></a>02680     {<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}};
<a name="l02681"></a>02681 
<a name="l02682"></a><a class="code" href="../../da/df2/makesrna_8c.html#ac782b700179b2ce6647fd791fe0b3467">02682</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#ac782b700179b2ce6647fd791fe0b3467">rna_generate</a>(<a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna, FILE *f, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <span class="keyword">const</span> <span class="keywordtype">char</span> *api_filename)
<a name="l02683"></a>02683 {
<a name="l02684"></a>02684     <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a> *ds;
<a name="l02685"></a>02685     <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp;
<a name="l02686"></a>02686     <a class="code" href="../../da/d93/structFunctionDefRNA.html">FunctionDefRNA</a> *dfunc;
<a name="l02687"></a>02687     
<a name="l02688"></a>02688     fprintf(f,
<a name="l02689"></a>02689             <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02690"></a>02690             <span class="stringliteral">&quot;/* Automatically generated struct definitions for the Data API.\n&quot;</span>
<a name="l02691"></a>02691             <span class="stringliteral">&quot; * Do not edit manually, changes will be overwritten.           */\n\n&quot;</span>
<a name="l02692"></a>02692             <span class="stringliteral">&quot;#define RNA_RUNTIME\n\n&quot;</span>);
<a name="l02693"></a>02693 
<a name="l02694"></a>02694     fprintf(f, <span class="stringliteral">&quot;#include &lt;float.h&gt;\n&quot;</span>);
<a name="l02695"></a>02695     fprintf(f, <span class="stringliteral">&quot;#include &lt;stdio.h&gt;\n&quot;</span>);
<a name="l02696"></a>02696     fprintf(f, <span class="stringliteral">&quot;#include &lt;limits.h&gt;\n&quot;</span>);
<a name="l02697"></a>02697     fprintf(f, <span class="stringliteral">&quot;#include &lt;string.h&gt;\n\n&quot;</span>);
<a name="l02698"></a>02698     fprintf(f, <span class="stringliteral">&quot;#include &lt;stddef.h&gt;\n\n&quot;</span>);
<a name="l02699"></a>02699 
<a name="l02700"></a>02700     fprintf(f, <span class="stringliteral">&quot;#include \&quot;DNA_ID.h\&quot;\n&quot;</span>);
<a name="l02701"></a>02701     fprintf(f, <span class="stringliteral">&quot;#include \&quot;DNA_scene_types.h\&quot;\n&quot;</span>);
<a name="l02702"></a>02702 
<a name="l02703"></a>02703     fprintf(f, <span class="stringliteral">&quot;#include \&quot;BLI_blenlib.h\&quot;\n\n&quot;</span>);
<a name="l02704"></a>02704     fprintf(f, <span class="stringliteral">&quot;#include \&quot;BLI_utildefines.h\&quot;\n\n&quot;</span>);
<a name="l02705"></a>02705 
<a name="l02706"></a>02706     fprintf(f, <span class="stringliteral">&quot;#include \&quot;BKE_context.h\&quot;\n&quot;</span>);
<a name="l02707"></a>02707     fprintf(f, <span class="stringliteral">&quot;#include \&quot;BKE_library.h\&quot;\n&quot;</span>);
<a name="l02708"></a>02708     fprintf(f, <span class="stringliteral">&quot;#include \&quot;BKE_main.h\&quot;\n&quot;</span>);
<a name="l02709"></a>02709     fprintf(f, <span class="stringliteral">&quot;#include \&quot;BKE_report.h\&quot;\n&quot;</span>);
<a name="l02710"></a>02710 
<a name="l02711"></a>02711     fprintf(f, <span class="stringliteral">&quot;#include \&quot;RNA_define.h\&quot;\n&quot;</span>);
<a name="l02712"></a>02712     fprintf(f, <span class="stringliteral">&quot;#include \&quot;RNA_types.h\&quot;\n&quot;</span>);
<a name="l02713"></a>02713     fprintf(f, <span class="stringliteral">&quot;#include \&quot;rna_internal.h\&quot;\n\n&quot;</span>);
<a name="l02714"></a>02714 
<a name="l02715"></a>02715     <a class="code" href="../../da/df2/makesrna_8c.html#af5bb1f17d2c56d0c8bb6b32d530ef437">rna_generate_prototypes</a>(brna, f);
<a name="l02716"></a>02716 
<a name="l02717"></a>02717     fprintf(f, <span class="stringliteral">&quot;#include \&quot;%s\&quot;\n&quot;</span>, filename);
<a name="l02718"></a>02718     <span class="keywordflow">if</span> (api_filename)
<a name="l02719"></a>02719         fprintf(f, <span class="stringliteral">&quot;#include \&quot;%s\&quot;\n&quot;</span>, api_filename);
<a name="l02720"></a>02720     fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02721"></a>02721 
<a name="l02722"></a>02722     fprintf(f, <span class="stringliteral">&quot;/* Autogenerated Functions */\n\n&quot;</span>);
<a name="l02723"></a>02723 
<a name="l02724"></a>02724     <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>) {
<a name="l02725"></a>02725         <span class="keywordflow">if</span> (!filename || ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a81ec3c7408c926ff5521be148e276d41">filename</a> == filename) {
<a name="l02726"></a>02726             <a class="code" href="../../da/df2/makesrna_8c.html#ae2ada4e3baf2bf4e2ab993275cd2cf96">rna_generate_property_prototypes</a>(brna, ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>, f);
<a name="l02727"></a>02727             <a class="code" href="../../da/df2/makesrna_8c.html#ab7bb68b04f16d5d5791cecf9cb5ea2c9">rna_generate_function_prototypes</a>(brna, ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>, f);
<a name="l02728"></a>02728         }
<a name="l02729"></a>02729     }
<a name="l02730"></a>02730 
<a name="l02731"></a>02731     <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>)
<a name="l02732"></a>02732         <span class="keywordflow">if</span> (!filename || ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a81ec3c7408c926ff5521be148e276d41">filename</a> == filename)
<a name="l02733"></a>02733             <span class="keywordflow">for</span> (dp = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6d3cb066e6ab297674f96f10ed585ba0">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; dp; dp = dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a516b8f0d73f5783a16d93736d62cc248">next</a>)
<a name="l02734"></a>02734                 <a class="code" href="../../da/df2/makesrna_8c.html#a137934fd7d4e02f77612726ad3337e4c">rna_def_property_funcs</a>(f, ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>, dp);
<a name="l02735"></a>02735 
<a name="l02736"></a>02736     <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>) {
<a name="l02737"></a>02737         <span class="keywordflow">if</span> (!filename || ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a81ec3c7408c926ff5521be148e276d41">filename</a> == filename) {
<a name="l02738"></a>02738             <span class="keywordflow">for</span> (dfunc = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a35c15dc9bae0ac4d0505e3ae96ba13bb">functions</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; dfunc; dfunc = dfunc-&gt;<a class="code" href="../../da/d93/structFunctionDefRNA.html#ac956a735489cbde00dd6c80f4e9bf75c">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>)
<a name="l02739"></a>02739                 <a class="code" href="../../da/df2/makesrna_8c.html#a04afc7158cbb22a5ebade8b4382eef6b">rna_def_function_funcs</a>(f, ds, dfunc);
<a name="l02740"></a>02740 
<a name="l02741"></a>02741             <a class="code" href="../../da/df2/makesrna_8c.html#af30dc0b27752e13d5a508e593bd419fd">rna_generate_static_function_prototypes</a>(brna, ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>, f);
<a name="l02742"></a>02742         }
<a name="l02743"></a>02743     }
<a name="l02744"></a>02744 
<a name="l02745"></a>02745     <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>)
<a name="l02746"></a>02746         <span class="keywordflow">if</span> (!filename || ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a81ec3c7408c926ff5521be148e276d41">filename</a> == filename)
<a name="l02747"></a>02747             <a class="code" href="../../da/df2/makesrna_8c.html#aafc0dce6521ee506e989c6ba1c281465">rna_generate_struct</a>(brna, ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>, f);
<a name="l02748"></a>02748 
<a name="l02749"></a>02749     <span class="keywordflow">if</span> (strcmp(filename, <span class="stringliteral">&quot;rna_ID.c&quot;</span>) == 0) {
<a name="l02750"></a>02750         <span class="comment">/* this is ugly, but we cannot have c files compiled for both</span>
<a name="l02751"></a>02751 <span class="comment">         * makesrna and blender with some build systems at the moment */</span>
<a name="l02752"></a>02752         fprintf(f, <span class="stringliteral">&quot;#include \&quot;rna_define.c\&quot;\n\n&quot;</span>);
<a name="l02753"></a>02753 
<a name="l02754"></a>02754         <a class="code" href="../../da/df2/makesrna_8c.html#a5e5daa90bd72a110438204de39ddc6a9">rna_generate_blender</a>(brna, f);
<a name="l02755"></a>02755     }
<a name="l02756"></a>02756 }
<a name="l02757"></a>02757 
<a name="l02758"></a><a class="code" href="../../da/df2/makesrna_8c.html#ae768d42025ad44f00a31495e6893485c">02758</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#ae768d42025ad44f00a31495e6893485c">rna_generate_header</a>(<a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna, FILE *f)
<a name="l02759"></a>02759 {
<a name="l02760"></a>02760     <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a> *ds;
<a name="l02761"></a>02761     <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp;
<a name="l02762"></a>02762     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna;
<a name="l02763"></a>02763 
<a name="l02764"></a>02764     fprintf(f, <span class="stringliteral">&quot;\n#ifndef __RNA_BLENDER_H__\n&quot;</span>);
<a name="l02765"></a>02765     fprintf(f, <span class="stringliteral">&quot;#define __RNA_BLENDER_H__\n\n&quot;</span>);
<a name="l02766"></a>02766 
<a name="l02767"></a>02767     fprintf(f,
<a name="l02768"></a>02768             <span class="stringliteral">&quot;/* Automatically generated function declarations for the Data API.\n&quot;</span>
<a name="l02769"></a>02769             <span class="stringliteral">&quot; * Do not edit manually, changes will be overwritten.              */\n\n&quot;</span>);
<a name="l02770"></a>02770 
<a name="l02771"></a>02771     fprintf(f, <span class="stringliteral">&quot;#include \&quot;RNA_types.h\&quot;\n\n&quot;</span>);
<a name="l02772"></a>02772 
<a name="l02773"></a>02773     fprintf(f, <span class="stringliteral">&quot;#ifdef __cplusplus\nextern \&quot;C\&quot; {\n#endif\n\n&quot;</span>);
<a name="l02774"></a>02774 
<a name="l02775"></a>02775     fprintf(f, <span class="stringliteral">&quot;#define FOREACH_BEGIN(property, sptr, itemptr) \\\n&quot;</span>);
<a name="l02776"></a>02776     fprintf(f, <span class="stringliteral">&quot;    { \\\n&quot;</span>);
<a name="l02777"></a>02777     fprintf(f, <span class="stringliteral">&quot;        CollectionPropertyIterator rna_macro_iter; \\\n&quot;</span>);
<a name="l02778"></a>02778     fprintf(f, <span class="stringliteral">&quot;        for (property##_begin(&amp;rna_macro_iter, sptr); rna_macro_iter.valid; &quot;</span>
<a name="l02779"></a>02779                <span class="stringliteral">&quot;property##_next(&amp;rna_macro_iter)) { \\\n&quot;</span>);
<a name="l02780"></a>02780     fprintf(f, <span class="stringliteral">&quot;            itemptr= rna_macro_iter.ptr;\n\n&quot;</span>);
<a name="l02781"></a>02781 
<a name="l02782"></a>02782     fprintf(f, <span class="stringliteral">&quot;#define FOREACH_END(property) \\\n&quot;</span>);
<a name="l02783"></a>02783     fprintf(f, <span class="stringliteral">&quot;        } \\\n&quot;</span>);
<a name="l02784"></a>02784     fprintf(f, <span class="stringliteral">&quot;        property##_end(&amp;rna_macro_iter); \\\n&quot;</span>);
<a name="l02785"></a>02785     fprintf(f, <span class="stringliteral">&quot;    }\n\n&quot;</span>);
<a name="l02786"></a>02786 
<a name="l02787"></a>02787     <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>) {
<a name="l02788"></a>02788         srna = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>;
<a name="l02789"></a>02789 
<a name="l02790"></a>02790         fprintf(f, <span class="stringliteral">&quot;/**************** %s ****************/\n\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a467f75252750500ab605ad9adbc79e4c">name</a>);
<a name="l02791"></a>02791 
<a name="l02792"></a>02792         <span class="keywordflow">while</span> (srna) {
<a name="l02793"></a>02793             fprintf(f, <span class="stringliteral">&quot;extern StructRNA RNA_%s;\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l02794"></a>02794             srna = srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>;
<a name="l02795"></a>02795         }
<a name="l02796"></a>02796         fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02797"></a>02797 
<a name="l02798"></a>02798         <span class="keywordflow">for</span> (dp = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6d3cb066e6ab297674f96f10ed585ba0">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; dp; dp = dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a516b8f0d73f5783a16d93736d62cc248">next</a>)
<a name="l02799"></a>02799             <a class="code" href="../../da/df2/makesrna_8c.html#ab7f1cd800b8f5d6ce169c98dd7ddaf5d">rna_def_property_funcs_header</a>(f, ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>, dp);
<a name="l02800"></a>02800     }
<a name="l02801"></a>02801 
<a name="l02802"></a>02802     fprintf(f, <span class="stringliteral">&quot;#ifdef __cplusplus\n}\n#endif\n\n&quot;</span>);
<a name="l02803"></a>02803 
<a name="l02804"></a>02804     fprintf(f, <span class="stringliteral">&quot;#endif /* __RNA_BLENDER_H__ */\n\n&quot;</span>);
<a name="l02805"></a>02805 }
<a name="l02806"></a>02806 
<a name="l02807"></a><a class="code" href="../../da/df2/makesrna_8c.html#a47e52130516ac2e5435487e375d120de">02807</a> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/df2/makesrna_8c.html#a47e52130516ac2e5435487e375d120de">cpp_classes</a> = <span class="stringliteral">&quot;&quot;</span>
<a name="l02808"></a>02808 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02809"></a>02809 <span class="stringliteral">&quot;#include &lt;string&gt;\n&quot;</span>
<a name="l02810"></a>02810 <span class="stringliteral">&quot;#include &lt;string.h&gt; /* for memcpy */\n&quot;</span>
<a name="l02811"></a>02811 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02812"></a>02812 <span class="stringliteral">&quot;namespace BL {\n&quot;</span>
<a name="l02813"></a>02813 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02814"></a>02814 <span class="stringliteral">&quot;#define BOOLEAN_PROPERTY(sname, identifier) \\\n&quot;</span>
<a name="l02815"></a>02815 <span class="stringliteral">&quot;   inline bool sname::identifier(void) { return sname##_##identifier##_get(&amp;ptr)? true: false; }\n&quot;</span>
<a name="l02816"></a>02816 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02817"></a>02817 <span class="stringliteral">&quot;#define BOOLEAN_ARRAY_PROPERTY(sname, size, identifier) \\\n&quot;</span>
<a name="l02818"></a>02818 <span class="stringliteral">&quot;   inline Array&lt;int,size&gt; sname::identifier(void) \\\n&quot;</span>
<a name="l02819"></a>02819 <span class="stringliteral">&quot;       { Array&lt;int, size&gt; ar; sname##_##identifier##_get(&amp;ptr, ar.data); return ar; }\n&quot;</span>
<a name="l02820"></a>02820 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02821"></a>02821 <span class="stringliteral">&quot;#define INT_PROPERTY(sname, identifier) \\\n&quot;</span>
<a name="l02822"></a>02822 <span class="stringliteral">&quot;   inline int sname::identifier(void) { return sname##_##identifier##_get(&amp;ptr); }\n&quot;</span>
<a name="l02823"></a>02823 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02824"></a>02824 <span class="stringliteral">&quot;#define INT_ARRAY_PROPERTY(sname, size, identifier) \\\n&quot;</span>
<a name="l02825"></a>02825 <span class="stringliteral">&quot;   inline Array&lt;int,size&gt; sname::identifier(void) \\\n&quot;</span>
<a name="l02826"></a>02826 <span class="stringliteral">&quot;       { Array&lt;int, size&gt; ar; sname##_##identifier##_get(&amp;ptr, ar.data); return ar; }\n&quot;</span>
<a name="l02827"></a>02827 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02828"></a>02828 <span class="stringliteral">&quot;#define FLOAT_PROPERTY(sname, identifier) \\\n&quot;</span>
<a name="l02829"></a>02829 <span class="stringliteral">&quot;   inline float sname::identifier(void) { return sname##_##identifier##_get(&amp;ptr); }\n&quot;</span>
<a name="l02830"></a>02830 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02831"></a>02831 <span class="stringliteral">&quot;#define FLOAT_ARRAY_PROPERTY(sname, size, identifier) \\\n&quot;</span>
<a name="l02832"></a>02832 <span class="stringliteral">&quot;   inline Array&lt;float,size&gt; sname::identifier(void) \\\n&quot;</span>
<a name="l02833"></a>02833 <span class="stringliteral">&quot;       { Array&lt;float, size&gt; ar; sname##_##identifier##_get(&amp;ptr, ar.data); return ar; }\n&quot;</span>
<a name="l02834"></a>02834 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02835"></a>02835 <span class="stringliteral">&quot;#define ENUM_PROPERTY(type, sname, identifier) \\\n&quot;</span>
<a name="l02836"></a>02836 <span class="stringliteral">&quot;   inline sname::type sname::identifier(void) { return (type)sname##_##identifier##_get(&amp;ptr); }\n&quot;</span>
<a name="l02837"></a>02837 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02838"></a>02838 <span class="stringliteral">&quot;#define STRING_PROPERTY(sname, identifier) \\\n&quot;</span>
<a name="l02839"></a>02839 <span class="stringliteral">&quot;   inline std::string sname::identifier(void) { \\\n&quot;</span>
<a name="l02840"></a>02840 <span class="stringliteral">&quot;       int len= sname##_##identifier##_length(&amp;ptr); \\\n&quot;</span>
<a name="l02841"></a>02841 <span class="stringliteral">&quot;       std::string str; str.resize(len); \\\n&quot;</span>
<a name="l02842"></a>02842 <span class="stringliteral">&quot;       sname##_##identifier##_get(&amp;ptr, &amp;str[0]); return str; } \\\n&quot;</span>
<a name="l02843"></a>02843 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02844"></a>02844 <span class="stringliteral">&quot;#define POINTER_PROPERTY(type, sname, identifier) \\\n&quot;</span>
<a name="l02845"></a>02845 <span class="stringliteral">&quot;   inline type sname::identifier(void) { return type(sname##_##identifier##_get(&amp;ptr)); }\n&quot;</span>
<a name="l02846"></a>02846 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02847"></a>02847 <span class="stringliteral">&quot;#define COLLECTION_PROPERTY(type, sname, identifier) \\\n&quot;</span>
<a name="l02848"></a>02848 <span class="stringliteral">&quot;   typedef CollectionIterator&lt;type, sname##_##identifier##_begin, \\\n&quot;</span>
<a name="l02849"></a>02849 <span class="stringliteral">&quot;       sname##_##identifier##_next, sname##_##identifier##_end&gt; identifier##_iterator; \\\n&quot;</span>
<a name="l02850"></a>02850 <span class="stringliteral">&quot;   Collection&lt;sname, type, sname##_##identifier##_begin, \\\n&quot;</span>
<a name="l02851"></a>02851 <span class="stringliteral">&quot;       sname##_##identifier##_next, sname##_##identifier##_end&gt; identifier;\n&quot;</span>
<a name="l02852"></a>02852 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02853"></a>02853 <span class="stringliteral">&quot;class Pointer {\n&quot;</span>
<a name="l02854"></a>02854 <span class="stringliteral">&quot;public:\n&quot;</span>
<a name="l02855"></a>02855 <span class="stringliteral">&quot;   Pointer(const PointerRNA&amp; p) : ptr(p) { }\n&quot;</span>
<a name="l02856"></a>02856 <span class="stringliteral">&quot;   operator const PointerRNA&amp;() { return ptr; }\n&quot;</span>
<a name="l02857"></a>02857 <span class="stringliteral">&quot;   bool is_a(StructRNA *type) { return RNA_struct_is_a(ptr.type, type)? true: false; }\n&quot;</span>
<a name="l02858"></a>02858 <span class="stringliteral">&quot;   operator void*() { return ptr.data; }\n&quot;</span>
<a name="l02859"></a>02859 <span class="stringliteral">&quot;   operator bool() { return ptr.data != NULL; }\n&quot;</span>
<a name="l02860"></a>02860 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02861"></a>02861 <span class="stringliteral">&quot;   PointerRNA ptr;\n&quot;</span>
<a name="l02862"></a>02862 <span class="stringliteral">&quot;};\n&quot;</span>
<a name="l02863"></a>02863 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02864"></a>02864 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02865"></a>02865 <span class="stringliteral">&quot;template&lt;typename T, int Tsize&gt;\n&quot;</span>
<a name="l02866"></a>02866 <span class="stringliteral">&quot;class Array {\n&quot;</span>
<a name="l02867"></a>02867 <span class="stringliteral">&quot;public:\n&quot;</span>
<a name="l02868"></a>02868 <span class="stringliteral">&quot;   T data[Tsize];\n&quot;</span>
<a name="l02869"></a>02869 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02870"></a>02870 <span class="stringliteral">&quot;   Array() {}\n&quot;</span>
<a name="l02871"></a>02871 <span class="stringliteral">&quot;   Array(const Array&lt;T, Tsize&gt;&amp; other) { memcpy(data, other.data, sizeof(T)*Tsize); }\n&quot;</span>
<a name="l02872"></a>02872 <span class="stringliteral">&quot;   const Array&lt;T, Tsize&gt;&amp; operator=(const Array&lt;T, Tsize&gt;&amp; other) { memcpy(data, other.data, sizeof(T)*Tsize); &quot;</span>
<a name="l02873"></a>02873 <span class="stringliteral">&quot;return *this; }\n&quot;</span>
<a name="l02874"></a>02874 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02875"></a>02875 <span class="stringliteral">&quot;   operator T*() { return data; }\n&quot;</span>
<a name="l02876"></a>02876 <span class="stringliteral">&quot;};\n&quot;</span>
<a name="l02877"></a>02877 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02878"></a>02878 <span class="stringliteral">&quot;typedef void (*TBeginFunc)(CollectionPropertyIterator *iter, PointerRNA *ptr);\n&quot;</span>
<a name="l02879"></a>02879 <span class="stringliteral">&quot;typedef void (*TNextFunc)(CollectionPropertyIterator *iter);\n&quot;</span>
<a name="l02880"></a>02880 <span class="stringliteral">&quot;typedef void (*TEndFunc)(CollectionPropertyIterator *iter);\n&quot;</span>
<a name="l02881"></a>02881 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02882"></a>02882 <span class="stringliteral">&quot;template&lt;typename T, TBeginFunc Tbegin, TNextFunc Tnext, TEndFunc Tend&gt;\n&quot;</span>
<a name="l02883"></a>02883 <span class="stringliteral">&quot;class CollectionIterator {\n&quot;</span>
<a name="l02884"></a>02884 <span class="stringliteral">&quot;public:\n&quot;</span>
<a name="l02885"></a>02885 <span class="stringliteral">&quot;   CollectionIterator() : t(iter.ptr), init(false) { iter.valid= false; }\n&quot;</span>
<a name="l02886"></a>02886 <span class="stringliteral">&quot;   ~CollectionIterator(void) { if (init) Tend(&amp;iter); };\n&quot;</span>
<a name="l02887"></a>02887 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02888"></a>02888 <span class="stringliteral">&quot;   operator bool(void)\n&quot;</span>
<a name="l02889"></a>02889 <span class="stringliteral">&quot;   { return iter.valid != 0; }\n&quot;</span>
<a name="l02890"></a>02890 <span class="stringliteral">&quot;   const CollectionIterator&lt;T, Tbegin, Tnext, Tend&gt;&amp; operator++() { Tnext(&amp;iter); t = T(iter.ptr); return *this; }\n&quot;</span>
<a name="l02891"></a>02891 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02892"></a>02892 <span class="stringliteral">&quot;   T&amp; operator*(void) { return t; }\n&quot;</span>
<a name="l02893"></a>02893 <span class="stringliteral">&quot;   T* operator-&gt;(void) { return &amp;t; }\n&quot;</span>
<a name="l02894"></a>02894 <span class="stringliteral">&quot;   bool operator==(const CollectionIterator&lt;T, Tbegin, Tnext, Tend&gt;&amp; other) &quot;</span>
<a name="l02895"></a>02895 <span class="stringliteral">&quot;{ return iter.valid == other.iter.valid; }\n&quot;</span>
<a name="l02896"></a>02896 <span class="stringliteral">&quot;   bool operator!=(const CollectionIterator&lt;T, Tbegin, Tnext, Tend&gt;&amp; other) &quot;</span>
<a name="l02897"></a>02897 <span class="stringliteral">&quot;{ return iter.valid != other.iter.valid; }\n&quot;</span>
<a name="l02898"></a>02898 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02899"></a>02899 <span class="stringliteral">&quot;   void begin(const Pointer&amp; ptr)\n&quot;</span>
<a name="l02900"></a>02900 <span class="stringliteral">&quot;   { if (init) Tend(&amp;iter); Tbegin(&amp;iter, (PointerRNA*)&amp;ptr.ptr); t = T(iter.ptr); init = true; }\n&quot;</span>
<a name="l02901"></a>02901 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02902"></a>02902 <span class="stringliteral">&quot;private:\n&quot;</span>
<a name="l02903"></a>02903 <span class="stringliteral">&quot;   const CollectionIterator&lt;T, Tbegin, Tnext, Tend&gt;&amp; operator=&quot;</span>
<a name="l02904"></a>02904 <span class="stringliteral">&quot;(const CollectionIterator&lt;T, Tbegin, Tnext, Tend&gt;&amp; copy) {}\n&quot;</span>
<a name="l02905"></a>02905 <span class="stringliteral">&quot;&quot;</span>
<a name="l02906"></a>02906 <span class="stringliteral">&quot;   CollectionPropertyIterator iter;\n&quot;</span>
<a name="l02907"></a>02907 <span class="stringliteral">&quot;   T t;\n&quot;</span>
<a name="l02908"></a>02908 <span class="stringliteral">&quot;   bool init;\n&quot;</span>
<a name="l02909"></a>02909 <span class="stringliteral">&quot;};\n&quot;</span>
<a name="l02910"></a>02910 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02911"></a>02911 <span class="stringliteral">&quot;template&lt;typename Tp, typename T, TBeginFunc Tbegin, TNextFunc Tnext, TEndFunc Tend&gt;\n&quot;</span>
<a name="l02912"></a>02912 <span class="stringliteral">&quot;class Collection {\n&quot;</span>
<a name="l02913"></a>02913 <span class="stringliteral">&quot;public:\n&quot;</span>
<a name="l02914"></a>02914 <span class="stringliteral">&quot;   Collection(const PointerRNA&amp; p) : ptr(p) {}\n&quot;</span>
<a name="l02915"></a>02915 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02916"></a>02916 <span class="stringliteral">&quot;   void begin(CollectionIterator&lt;T, Tbegin, Tnext, Tend&gt;&amp; iter)\n&quot;</span>
<a name="l02917"></a>02917 <span class="stringliteral">&quot;   { iter.begin(ptr); }\n&quot;</span>
<a name="l02918"></a>02918 <span class="stringliteral">&quot;   CollectionIterator&lt;T, Tbegin, Tnext, Tend&gt; end()\n&quot;</span>
<a name="l02919"></a>02919 <span class="stringliteral">&quot;   { return CollectionIterator&lt;T, Tbegin, Tnext, Tend&gt;(); } /* test */ \n&quot;</span>
<a name="l02920"></a>02920 <span class="stringliteral">&quot;\n&quot;</span>
<a name="l02921"></a>02921 <span class="stringliteral">&quot;private:\n&quot;</span>
<a name="l02922"></a>02922 <span class="stringliteral">&quot;   PointerRNA ptr;\n&quot;</span>
<a name="l02923"></a>02923 <span class="stringliteral">&quot;};\n&quot;</span>
<a name="l02924"></a>02924 <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l02925"></a>02925 
<a name="l02926"></a><a class="code" href="../../da/df2/makesrna_8c.html#a44cec1d6a4718183f9951ef4a4db194e">02926</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a44cec1d6a4718183f9951ef4a4db194e">rna_generate_header_cpp</a>(<a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna, FILE *f)
<a name="l02927"></a>02927 {
<a name="l02928"></a>02928     <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a> *ds;
<a name="l02929"></a>02929     <a class="code" href="../../d9/d81/structPropertyDefRNA.html">PropertyDefRNA</a> *dp;
<a name="l02930"></a>02930     <a class="code" href="../../d5/d61/structStructRNA.html">StructRNA</a> *srna;
<a name="l02931"></a>02931 
<a name="l02932"></a>02932     fprintf(f, <span class="stringliteral">&quot;\n#ifndef __RNA_BLENDER_CPP_H__\n&quot;</span>);
<a name="l02933"></a>02933     fprintf(f, <span class="stringliteral">&quot;#define __RNA_BLENDER_CPP_H__\n\n&quot;</span>);
<a name="l02934"></a>02934 
<a name="l02935"></a>02935     fprintf(f,
<a name="l02936"></a>02936             <span class="stringliteral">&quot;/* Automatically generated classes for the Data API.\n&quot;</span>
<a name="l02937"></a>02937             <span class="stringliteral">&quot; * Do not edit manually, changes will be overwritten. */\n\n&quot;</span>);
<a name="l02938"></a>02938     
<a name="l02939"></a>02939     fprintf(f, <span class="stringliteral">&quot;#include \&quot;RNA_blender.h\&quot;\n&quot;</span>);
<a name="l02940"></a>02940     fprintf(f, <span class="stringliteral">&quot;#include \&quot;RNA_types.h\&quot;\n&quot;</span>);
<a name="l02941"></a>02941     fprintf(f, <span class="stringliteral">&quot;#include \&quot;RNA_access.h\&quot;\n&quot;</span>);
<a name="l02942"></a>02942 
<a name="l02943"></a>02943     fprintf(f, <span class="stringliteral">&quot;%s&quot;</span>, cpp_classes);
<a name="l02944"></a>02944 
<a name="l02945"></a>02945     fprintf(f, <span class="stringliteral">&quot;/**************** Declarations ****************/\n\n&quot;</span>);
<a name="l02946"></a>02946 
<a name="l02947"></a>02947     <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>)
<a name="l02948"></a>02948         fprintf(f, <span class="stringliteral">&quot;class %s;\n&quot;</span>, ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>);
<a name="l02949"></a>02949     fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02950"></a>02950 
<a name="l02951"></a>02951     <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>) {
<a name="l02952"></a>02952         srna = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>;
<a name="l02953"></a>02953 
<a name="l02954"></a>02954         fprintf(f, <span class="stringliteral">&quot;/**************** %s ****************/\n\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a467f75252750500ab605ad9adbc79e4c">name</a>);
<a name="l02955"></a>02955 
<a name="l02956"></a>02956         fprintf(f, <span class="stringliteral">&quot;class %s : public %s {\n&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>, (srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>)? srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>: <span class="stringliteral">&quot;Pointer&quot;</span>);
<a name="l02957"></a>02957         fprintf(f, <span class="stringliteral">&quot;public:\n&quot;</span>);
<a name="l02958"></a>02958         fprintf(f, <span class="stringliteral">&quot;\t%s(const PointerRNA&amp; ptr) :\n\t\t%s(ptr)&quot;</span>, srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>,
<a name="l02959"></a>02959                 (srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>)? srna-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#aa6bf2f15f210f25ea8e5677e9d9cd068">base</a>-&gt;<a class="code" href="../../d5/d61/structStructRNA.html#a73406a363632a05874f937708a6f7ce9">identifier</a>: <span class="stringliteral">&quot;Pointer&quot;</span>);
<a name="l02960"></a>02960         <span class="keywordflow">for</span> (dp = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6d3cb066e6ab297674f96f10ed585ba0">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; dp; dp = dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a516b8f0d73f5783a16d93736d62cc248">next</a>)
<a name="l02961"></a>02961             <span class="keywordflow">if</span> (!(dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#a441a70f774ebc1450d076dc3e6705f90">flag</a> &amp; (<a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411af1626195389fe05319cb26fc415d11ca">PROP_IDPROPERTY</a>|<a class="code" href="../../de/d7e/RNA__types_8h.html#ae770cf51782953d602fb7ec23d3f2411ad37a289ebc0e12abf00cda2657a10f94">PROP_BUILTIN</a>)))
<a name="l02962"></a>02962                 <span class="keywordflow">if</span> (dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#add4f303207cffe2d06f23cda581aab78">type</a> == <a class="code" href="../../de/d7e/RNA__types_8h.html#a7ff5a5c54f182b86d1cd993cf4512c87af6747d14516095c7da178bdce8ec547e">PROP_COLLECTION</a>)
<a name="l02963"></a>02963                     fprintf(f, <span class="stringliteral">&quot;,\n\t\t%s(ptr)&quot;</span>, dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a7367ac4b6cd501e00e058db855084294">prop</a>-&gt;<a class="code" href="../../d0/de5/structPropertyRNA.html#ad3d9141f19746620c716563b21ec6374">identifier</a>);
<a name="l02964"></a>02964         fprintf(f, <span class="stringliteral">&quot;\n\t\t{}\n\n&quot;</span>);
<a name="l02965"></a>02965 
<a name="l02966"></a>02966         <span class="keywordflow">for</span> (dp = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6d3cb066e6ab297674f96f10ed585ba0">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; dp; dp = dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a516b8f0d73f5783a16d93736d62cc248">next</a>)
<a name="l02967"></a>02967             <a class="code" href="../../da/df2/makesrna_8c.html#a9f536975c71dd9465ccdd248f4ccef99">rna_def_property_funcs_header_cpp</a>(f, ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>, dp);
<a name="l02968"></a>02968         fprintf(f, <span class="stringliteral">&quot;};\n\n&quot;</span>);
<a name="l02969"></a>02969     }
<a name="l02970"></a>02970 
<a name="l02971"></a>02971 
<a name="l02972"></a>02972     fprintf(f, <span class="stringliteral">&quot;/**************** Implementation ****************/\n&quot;</span>);
<a name="l02973"></a>02973 
<a name="l02974"></a>02974     <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>) {
<a name="l02975"></a>02975         <span class="keywordflow">for</span> (dp = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6d3cb066e6ab297674f96f10ed585ba0">properties</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; dp; dp = dp-&gt;<a class="code" href="../../d9/d81/structPropertyDefRNA.html#a516b8f0d73f5783a16d93736d62cc248">next</a>)
<a name="l02976"></a>02976             <a class="code" href="../../da/df2/makesrna_8c.html#adf9831995643891fa54d22e732675c87">rna_def_property_funcs_impl_cpp</a>(f, ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a5425a96e4bca659d49e153345fb68c3c">srna</a>, dp);
<a name="l02977"></a>02977 
<a name="l02978"></a>02978         fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l02979"></a>02979     }
<a name="l02980"></a>02980 
<a name="l02981"></a>02981     fprintf(f, <span class="stringliteral">&quot;}\n\n#endif /* __RNA_BLENDER_CPP_H__ */\n\n&quot;</span>);
<a name="l02982"></a>02982 }
<a name="l02983"></a>02983 
<a name="l02984"></a><a class="code" href="../../da/df2/makesrna_8c.html#aff0f7bfb25c05e68cacd7480d45f68f3">02984</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#aff0f7bfb25c05e68cacd7480d45f68f3">make_bad_file</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *file, <span class="keywordtype">int</span> line)
<a name="l02985"></a>02985 {
<a name="l02986"></a>02986     FILE *fp = fopen(file, <span class="stringliteral">&quot;w&quot;</span>);
<a name="l02987"></a>02987     fprintf(fp, <span class="stringliteral">&quot;#error \&quot;Error! can&#39;t make correct RNA file from %s:%d, STUPID!\&quot;\n&quot;</span>, __FILE__, line);
<a name="l02988"></a>02988     fclose(fp);
<a name="l02989"></a>02989 }
<a name="l02990"></a>02990 
<a name="l02991"></a><a class="code" href="../../da/df2/makesrna_8c.html#a1ba2c39c5c97038eda024c56b4a77b03">02991</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="../../da/df2/makesrna_8c.html#a1ba2c39c5c97038eda024c56b4a77b03">rna_preprocess</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *outfile)
<a name="l02992"></a>02992 {
<a name="l02993"></a>02993     <a class="code" href="../../df/dbd/structBlenderRNA.html">BlenderRNA</a> *brna;
<a name="l02994"></a>02994     <a class="code" href="../../d8/dd5/structStructDefRNA.html">StructDefRNA</a> *ds;
<a name="l02995"></a>02995     FILE *file;
<a name="l02996"></a>02996     <span class="keywordtype">char</span> deffile[4096];
<a name="l02997"></a>02997     <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, status;
<a name="l02998"></a>02998     <span class="keyword">const</span> <span class="keywordtype">char</span> *deps[3]; <span class="comment">/* expand as needed */</span>
<a name="l02999"></a>02999 
<a name="l03000"></a>03000     <span class="comment">/* define rna */</span>
<a name="l03001"></a>03001     brna = <a class="code" href="../../dc/d7e/rna__define_8c.html#adc25248151db08d59368889e37fec08f">RNA_create</a>();
<a name="l03002"></a>03002 
<a name="l03003"></a>03003     <span class="keywordflow">for</span> (i = 0; PROCESS_ITEMS[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d8/d79/structRNAProcessItem.html#a7a6cc2d9e4f4854dbf3f4a21a41008c7">filename</a>; i++) {
<a name="l03004"></a>03004         <span class="keywordflow">if</span> (PROCESS_ITEMS[i].define) {
<a name="l03005"></a>03005             PROCESS_ITEMS[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d8/d79/structRNAProcessItem.html#aa8ca297256a4461045905a04aa7c9493">define</a>(brna);
<a name="l03006"></a>03006 
<a name="l03007"></a>03007             <span class="keywordflow">for</span> (ds = <a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#a3612c9e0b16c9c060431f3d993bd6c8d">structs</a>.<a class="code" href="../../d6/d85/structListBase.html#ae4bd6a74f7798ff2cc2a83d3cfce60cf">first</a>; ds; ds = ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a27ce1da9f6124dc81cd1bf801d30214d">cont</a>.<a class="code" href="../../de/d04/structContainerDefRNA.html#a6ba3e601824a1b5154c8f418a3d58c51">next</a>)
<a name="l03008"></a>03008                 <span class="keywordflow">if</span> (!ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a81ec3c7408c926ff5521be148e276d41">filename</a>)
<a name="l03009"></a>03009                     ds-&gt;<a class="code" href="../../d8/dd5/structStructDefRNA.html#a81ec3c7408c926ff5521be148e276d41">filename</a> = PROCESS_ITEMS[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d8/d79/structRNAProcessItem.html#a7a6cc2d9e4f4854dbf3f4a21a41008c7">filename</a>;
<a name="l03010"></a>03010         }
<a name="l03011"></a>03011     }
<a name="l03012"></a>03012 
<a name="l03013"></a>03013     <a class="code" href="../../da/df2/makesrna_8c.html#a546db9847061185b2ea8eb080a195a5a">rna_auto_types</a>();
<a name="l03014"></a>03014 
<a name="l03015"></a>03015 
<a name="l03016"></a>03016     <span class="comment">/* create RNA_blender_cpp.h */</span>
<a name="l03017"></a>03017     strcpy(deffile, outfile);
<a name="l03018"></a>03018     strcat(deffile, <span class="stringliteral">&quot;RNA_blender_cpp.h&quot;</span> <a class="code" href="../../da/df2/makesrna_8c.html#ad6b608e187888274ed5521769e0dcc91">TMP_EXT</a>);
<a name="l03019"></a>03019 
<a name="l03020"></a>03020     status = (<a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> != 0);
<a name="l03021"></a>03021 
<a name="l03022"></a>03022     <span class="keywordflow">if</span> (status) {
<a name="l03023"></a>03023         <a class="code" href="../../da/df2/makesrna_8c.html#aff0f7bfb25c05e68cacd7480d45f68f3">make_bad_file</a>(deffile, __LINE__);
<a name="l03024"></a>03024     }
<a name="l03025"></a>03025     <span class="keywordflow">else</span> {
<a name="l03026"></a>03026         file = fopen(deffile, <span class="stringliteral">&quot;w&quot;</span>);
<a name="l03027"></a>03027 
<a name="l03028"></a>03028         <span class="keywordflow">if</span> (!file) {
<a name="l03029"></a>03029             fprintf(stderr, <span class="stringliteral">&quot;Unable to open file: %s\n&quot;</span>, deffile);
<a name="l03030"></a>03030             status = 1;
<a name="l03031"></a>03031         }
<a name="l03032"></a>03032         <span class="keywordflow">else</span> {
<a name="l03033"></a>03033             <a class="code" href="../../da/df2/makesrna_8c.html#a44cec1d6a4718183f9951ef4a4db194e">rna_generate_header_cpp</a>(brna, file);
<a name="l03034"></a>03034             fclose(file);
<a name="l03035"></a>03035             status = (<a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> != 0);
<a name="l03036"></a>03036         }
<a name="l03037"></a>03037     }
<a name="l03038"></a>03038 
<a name="l03039"></a>03039     <a class="code" href="../../da/df2/makesrna_8c.html#aed121725af55e86164b4550f45e061b9">replace_if_different</a>(deffile, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l03040"></a>03040 
<a name="l03041"></a>03041     <a class="code" href="../../da/df2/makesrna_8c.html#a78097b98ad92fb7e79b2d6b69e6a920c">rna_sort</a>(brna);
<a name="l03042"></a>03042 
<a name="l03043"></a>03043     <span class="comment">/* create rna_gen_*.c files */</span>
<a name="l03044"></a>03044     <span class="keywordflow">for</span> (i = 0; PROCESS_ITEMS[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d8/d79/structRNAProcessItem.html#a7a6cc2d9e4f4854dbf3f4a21a41008c7">filename</a>; i++) {
<a name="l03045"></a>03045         strcpy(deffile, outfile);
<a name="l03046"></a>03046         strcat(deffile, PROCESS_ITEMS[i].filename);
<a name="l03047"></a>03047         deffile[<a class="code" href="../../d1/d22/stdosl_8h.html#af902ac638d8127503ad64a0eacb3a7e8">strlen</a>(deffile)-2] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l03048"></a>03048         strcat(deffile, <span class="stringliteral">&quot;_gen.c&quot;</span> <a class="code" href="../../da/df2/makesrna_8c.html#ad6b608e187888274ed5521769e0dcc91">TMP_EXT</a>);
<a name="l03049"></a>03049 
<a name="l03050"></a>03050         <span class="keywordflow">if</span> (status) {
<a name="l03051"></a>03051             <a class="code" href="../../da/df2/makesrna_8c.html#aff0f7bfb25c05e68cacd7480d45f68f3">make_bad_file</a>(deffile, __LINE__);
<a name="l03052"></a>03052         }
<a name="l03053"></a>03053         <span class="keywordflow">else</span> {
<a name="l03054"></a>03054             file = fopen(deffile, <span class="stringliteral">&quot;w&quot;</span>);
<a name="l03055"></a>03055 
<a name="l03056"></a>03056             <span class="keywordflow">if</span> (!file) {
<a name="l03057"></a>03057                 fprintf(stderr, <span class="stringliteral">&quot;Unable to open file: %s\n&quot;</span>, deffile);
<a name="l03058"></a>03058                 status = 1;
<a name="l03059"></a>03059             }
<a name="l03060"></a>03060             <span class="keywordflow">else</span> {
<a name="l03061"></a>03061                 <a class="code" href="../../da/df2/makesrna_8c.html#ac782b700179b2ce6647fd791fe0b3467">rna_generate</a>(brna, file, PROCESS_ITEMS[i].filename, PROCESS_ITEMS[i].api_filename);
<a name="l03062"></a>03062                 fclose(file);
<a name="l03063"></a>03063                 status = (<a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> != 0);
<a name="l03064"></a>03064             }
<a name="l03065"></a>03065         }
<a name="l03066"></a>03066 
<a name="l03067"></a>03067         <span class="comment">/* avoid unneeded rebuilds */</span>
<a name="l03068"></a>03068         deps[0] = PROCESS_ITEMS[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d8/d79/structRNAProcessItem.html#a7a6cc2d9e4f4854dbf3f4a21a41008c7">filename</a>;
<a name="l03069"></a>03069         deps[1] = PROCESS_ITEMS[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="../../d8/d79/structRNAProcessItem.html#aed896f7d0f0cf82f0e540bde1be3206b">api_filename</a>;
<a name="l03070"></a>03070         deps[2] = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l03071"></a>03071 
<a name="l03072"></a>03072         <a class="code" href="../../da/df2/makesrna_8c.html#aed121725af55e86164b4550f45e061b9">replace_if_different</a>(deffile, deps);
<a name="l03073"></a>03073     }
<a name="l03074"></a>03074 
<a name="l03075"></a>03075     <span class="comment">/* create RNA_blender.h */</span>
<a name="l03076"></a>03076     strcpy(deffile, outfile);
<a name="l03077"></a>03077     strcat(deffile, <span class="stringliteral">&quot;RNA_blender.h&quot;</span> <a class="code" href="../../da/df2/makesrna_8c.html#ad6b608e187888274ed5521769e0dcc91">TMP_EXT</a>);
<a name="l03078"></a>03078 
<a name="l03079"></a>03079     <span class="keywordflow">if</span> (status) {
<a name="l03080"></a>03080         <a class="code" href="../../da/df2/makesrna_8c.html#aff0f7bfb25c05e68cacd7480d45f68f3">make_bad_file</a>(deffile, __LINE__);
<a name="l03081"></a>03081     }
<a name="l03082"></a>03082     <span class="keywordflow">else</span> {
<a name="l03083"></a>03083         file = fopen(deffile, <span class="stringliteral">&quot;w&quot;</span>);
<a name="l03084"></a>03084 
<a name="l03085"></a>03085         <span class="keywordflow">if</span> (!file) {
<a name="l03086"></a>03086             fprintf(stderr, <span class="stringliteral">&quot;Unable to open file: %s\n&quot;</span>, deffile);
<a name="l03087"></a>03087             status = 1;
<a name="l03088"></a>03088         }
<a name="l03089"></a>03089         <span class="keywordflow">else</span> {
<a name="l03090"></a>03090             <a class="code" href="../../da/df2/makesrna_8c.html#ae768d42025ad44f00a31495e6893485c">rna_generate_header</a>(brna, file);
<a name="l03091"></a>03091             fclose(file);
<a name="l03092"></a>03092             status = (<a class="code" href="../../dc/d7e/rna__define_8c.html#ac64f5d8e2452ab1e3f368c809728d6e1">DefRNA</a>.<a class="code" href="../../df/df0/structBlenderDefRNA.html#ad71de1a440dba52d7a1a80df8e330319">error</a> != 0);
<a name="l03093"></a>03093         }
<a name="l03094"></a>03094     }
<a name="l03095"></a>03095 
<a name="l03096"></a>03096     <a class="code" href="../../da/df2/makesrna_8c.html#aed121725af55e86164b4550f45e061b9">replace_if_different</a>(deffile, <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l03097"></a>03097 
<a name="l03098"></a>03098     <span class="comment">/* free RNA */</span>
<a name="l03099"></a>03099     <a class="code" href="../../dc/d7e/rna__define_8c.html#ab6834bcc3729d04dc7fcf4d3e3cc30f2">RNA_define_free</a>(brna);
<a name="l03100"></a>03100     <a class="code" href="../../dc/d7e/rna__define_8c.html#a9a81860838b9faff6b3d58b1b4a458e2">RNA_free</a>(brna);
<a name="l03101"></a>03101 
<a name="l03102"></a>03102     <span class="keywordflow">return</span> status;
<a name="l03103"></a>03103 }
<a name="l03104"></a>03104 
<a name="l03105"></a><a class="code" href="../../da/df2/makesrna_8c.html#a4f2269fa91fc3dbebddc0b83571aed63">03105</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../da/df2/makesrna_8c.html#a4f2269fa91fc3dbebddc0b83571aed63">mem_error_cb</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *errorStr)
<a name="l03106"></a>03106 {
<a name="l03107"></a>03107     fprintf(stderr, <span class="stringliteral">&quot;%s&quot;</span>, errorStr);
<a name="l03108"></a>03108     fflush(stderr);
<a name="l03109"></a>03109 }
<a name="l03110"></a>03110 
<a name="l03111"></a><a class="code" href="../../da/df2/makesrna_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">03111</a> <span class="keywordtype">int</span> <a class="code" href="../../d5/d95/makesdna_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)
<a name="l03112"></a>03112 {
<a name="l03113"></a>03113     <span class="keywordtype">int</span> <a class="code" href="../../da/d2b/mallocn_8c.html#a2de3586d9bac996343f9083b2ee6657c">totblock</a>, return_status = 0;
<a name="l03114"></a>03114 
<a name="l03115"></a>03115     <span class="keywordflow">if</span> (argc&lt;2) {
<a name="l03116"></a>03116         fprintf(stderr, <span class="stringliteral">&quot;Usage: %s outdirectory/\n&quot;</span>, argv[0]);
<a name="l03117"></a>03117         return_status = 1;
<a name="l03118"></a>03118     }
<a name="l03119"></a>03119     <span class="keywordflow">else</span> {
<a name="l03120"></a>03120         fprintf(stderr, <span class="stringliteral">&quot;Running makesrna&quot;</span>);
<a name="l03121"></a>03121         <a class="code" href="../../da/df2/makesrna_8c.html#aa91c414cfe07a3e0b1f56ea532bfac28">makesrna_path</a> = argv[0];
<a name="l03122"></a>03122         return_status = <a class="code" href="../../da/df2/makesrna_8c.html#a1ba2c39c5c97038eda024c56b4a77b03">rna_preprocess</a>(argv[1]);
<a name="l03123"></a>03123     }
<a name="l03124"></a>03124 
<a name="l03125"></a>03125     totblock = <a class="code" href="../../da/d2b/mallocn_8c.html#a6d940980a17a6651cb353a4c0169b02a">MEM_get_memory_blocks_in_use</a>();
<a name="l03126"></a>03126     <span class="keywordflow">if</span> (totblock != 0) {
<a name="l03127"></a>03127         fprintf(stderr, <span class="stringliteral">&quot;Error Totblock: %d\n&quot;</span>,totblock);
<a name="l03128"></a>03128         <a class="code" href="../../da/d2b/mallocn_8c.html#a8b450c385737cbabf846e6161763df4a">MEM_set_error_callback</a>(<a class="code" href="../../da/df2/makesrna_8c.html#a4f2269fa91fc3dbebddc0b83571aed63">mem_error_cb</a>);
<a name="l03129"></a>03129         <a class="code" href="../../da/d2b/mallocn_8c.html#ab9096b0077a1c9f3201e6b4d1300c8ce">MEM_printmemlist</a>();
<a name="l03130"></a>03130     }
<a name="l03131"></a>03131 
<a name="l03132"></a>03132     <span class="keywordflow">return</span> return_status;
<a name="l03133"></a>03133 }
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Nov 13 2012 11:54:30 for Blender by&#160;
<a href="http://www.doxygen.org/index.html"> 
doxygen</a> 1.7.4 </small></address> 
</body>
</html>
