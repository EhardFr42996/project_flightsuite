<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Blender: Projections.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blender.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Blender&#160;<span id="projectnumber">V2.6x</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">Projections.h</div>  </div>
</div>
<div class="contents">
<a href="../../d1/d88/Projections_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * ***** BEGIN GPL LICENSE BLOCK *****</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This program is free software; you can redistribute it and/or</span>
<a name="l00005"></a>00005 <span class="comment"> * modify it under the terms of the GNU General Public License</span>
<a name="l00006"></a>00006 <span class="comment"> * as published by the Free Software Foundation; either version 2</span>
<a name="l00007"></a>00007 <span class="comment"> * of the License, or (at your option) any later version.</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00010"></a>00010 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00011"></a>00011 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00012"></a>00012 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00015"></a>00015 <span class="comment"> * along with this program; if not, write to the Free Software Foundation,</span>
<a name="l00016"></a>00016 <span class="comment"> * Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * Contributor(s): Tao Ju</span>
<a name="l00019"></a>00019 <span class="comment"> *</span>
<a name="l00020"></a>00020 <span class="comment"> * ***** END GPL LICENSE BLOCK *****</span>
<a name="l00021"></a>00021 <span class="comment"> */</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#ifndef PROJECTIONS_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor">#define PROJECTIONS_H</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00028"></a>00028 
<a name="l00029"></a><a class="code" href="../../d1/d88/Projections_8h.html#ac912863943afca94f1834538af2d499e">00029</a> <span class="preprocessor">#define CONTAINS_INDEX</span>
<a name="l00030"></a><a class="code" href="../../d1/d88/Projections_8h.html#ae8ec68058b9a24db8b14308401b37b53">00030</a> <span class="preprocessor"></span><span class="preprocessor">#define GRID_DIMENSION 20</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span>
<a name="l00032"></a>00032 <span class="preprocessor">#if defined(_WIN32) &amp;&amp; !defined(__MINGW32__)</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span><span class="preprocessor">#define isnan(n) _isnan(n)</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">#define LONG __int64</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00037"></a><a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">00037</a> <span class="preprocessor">#define LONG int64_t</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00039"></a><a class="code" href="../../d1/d88/Projections_8h.html#a9a1dc6d243c6f75bb42f87e3f69649e4">00039</a> <span class="preprocessor"></span><span class="preprocessor">#define UCHAR unsigned char</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span>
<a name="l00049"></a>00049 <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[8][3];
<a name="l00050"></a>00050 <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d76/Projections_8cpp.html#a2a7e5bdc0dd147963d096103254e3b89">centmap</a>[3][3][3][2];
<a name="l00051"></a>00051 <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d76/Projections_8cpp.html#a033d5bd9b36f93ee172f46b76162b859">edgemap</a>[12][2];
<a name="l00052"></a>00052 <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d76/Projections_8cpp.html#ad9e2c37a91cc196a7beb6534e0b3f74a">facemap</a>[6][4];
<a name="l00053"></a>00053 
<a name="l00057"></a><a class="code" href="../../d0/d18/structInheritableProjections.html">00057</a> <span class="keyword">struct </span><a class="code" href="../../d0/d18/structInheritableProjections.html">InheritableProjections</a>
<a name="l00058"></a>00058 {
<a name="l00060"></a><a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7">00060</a>     <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> <a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[13][2] ;
<a name="l00061"></a>00061 
<a name="l00063"></a><a class="code" href="../../d0/d18/structInheritableProjections.html#af81eff786e61d3b6f6681f2b230fd1ad">00063</a>     <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> <a class="code" href="../../d0/d18/structInheritableProjections.html#af81eff786e61d3b6f6681f2b230fd1ad" title="Projections of triangle vertices on primary axes.">trigVertProj</a>[13][3] ;
<a name="l00064"></a>00064 
<a name="l00066"></a><a class="code" href="../../d0/d18/structInheritableProjections.html#adb272b1d670948a1bb8632e9eb9444b5">00066</a>     <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> <a class="code" href="../../d0/d18/structInheritableProjections.html#adb272b1d670948a1bb8632e9eb9444b5" title="Projections of triangle edges.">trigEdgeProj</a>[13][3][2] ;
<a name="l00067"></a>00067 
<a name="l00069"></a><a class="code" href="../../d0/d18/structInheritableProjections.html#ada20979823586a4e8e6a7ef439c9e41f">00069</a>     <span class="keywordtype">double</span> <a class="code" href="../../d0/d18/structInheritableProjections.html#ada20979823586a4e8e6a7ef439c9e41f" title="Normal of the triangle.">norm</a>[3] ;
<a name="l00070"></a><a class="code" href="../../d0/d18/structInheritableProjections.html#a14f77c712846b66a76d270ee61a3670b">00070</a>     <span class="keywordtype">double</span> <a class="code" href="../../d0/d18/structInheritableProjections.html#a61fd9f6c18f91fedc1d53e8dd1ced3f5">normA</a>, <a class="code" href="../../d0/d18/structInheritableProjections.html#a14f77c712846b66a76d270ee61a3670b">normB</a> ;
<a name="l00071"></a>00071 
<a name="l00073"></a>00073     <span class="comment">//int cubeEnds[13][2] ;</span>
<a name="l00074"></a>00074 
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="preprocessor">#ifdef CONTAINS_INDEX</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span>
<a name="l00080"></a><a class="code" href="../../d0/d18/structInheritableProjections.html#a17776cb707bd348cd026c6cab6737267">00080</a>     <span class="keywordtype">int</span> <a class="code" href="../../d0/d18/structInheritableProjections.html#a17776cb707bd348cd026c6cab6737267" title="End points along each axis.">index</a> ;
<a name="l00081"></a>00081 <span class="preprocessor">#endif</span>
<a name="l00082"></a>00082 <span class="preprocessor"></span>};
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 
<a name="l00088"></a><a class="code" href="../../da/d29/classProjections.html">00088</a> <span class="keyword">class </span><a class="code" href="../../da/d29/classProjections.html">Projections</a>
<a name="l00089"></a>00089 {
<a name="l00090"></a>00090 <span class="keyword">public</span>:
<a name="l00092"></a><a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128">00092</a>     <a class="code" href="../../d0/d18/structInheritableProjections.html">InheritableProjections</a>* <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a> ;
<a name="l00093"></a>00093 
<a name="l00095"></a><a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810">00095</a>     <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[13][6] ;
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 <span class="keyword">public</span>:
<a name="l00098"></a>00098 
<a name="l00099"></a><a class="code" href="../../da/d29/classProjections.html#a136f509a0e5cef295d24caef439583a6">00099</a>     <a class="code" href="../../da/d29/classProjections.html#a136f509a0e5cef295d24caef439583a6">Projections</a>( )
<a name="l00100"></a>00100     {
<a name="l00101"></a>00101     }
<a name="l00102"></a>00102 
<a name="l00107"></a><a class="code" href="../../da/d29/classProjections.html#aeb26cb2aea501b11e37fddf288fafe47">00107</a>     <a class="code" href="../../da/d29/classProjections.html#a136f509a0e5cef295d24caef439583a6">Projections</a>( <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> <a class="code" href="../../df/d81/structcube.html">cube</a>[2][3], <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> trig[3][3], <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> <a class="code" href="../../d3/d22/seqeffects_8c.html#a7b34dac1400e04787532993b40ad9814">error</a>, <span class="keywordtype">int</span> triind )
<a name="l00108"></a>00108     {
<a name="l00109"></a>00109         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, j ;
<a name="l00110"></a>00110         <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a> = <span class="keyword">new</span> <a class="code" href="../../d0/d18/structInheritableProjections.html">InheritableProjections</a> ;
<a name="l00111"></a>00111 <span class="preprocessor">#ifdef CONTAINS_INDEX</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span>        <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a17776cb707bd348cd026c6cab6737267" title="End points along each axis.">index</a> = triind ;
<a name="l00113"></a>00113 <span class="preprocessor">#endif</span>
<a name="l00114"></a>00114 <span class="preprocessor"></span>
<a name="l00115"></a>00115         <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> axes[13][3] ;
<a name="l00116"></a>00116 
<a name="l00117"></a>00117         <span class="comment">// Cube faces</span>
<a name="l00118"></a>00118         axes[0][0] = 1 ;
<a name="l00119"></a>00119         axes[0][1] = 0 ;
<a name="l00120"></a>00120         axes[0][2] = 0 ;
<a name="l00121"></a>00121 
<a name="l00122"></a>00122         axes[1][0] = 0 ;
<a name="l00123"></a>00123         axes[1][1] = 1 ;
<a name="l00124"></a>00124         axes[1][2] = 0 ;
<a name="l00125"></a>00125 
<a name="l00126"></a>00126         axes[2][0] = 0 ;
<a name="l00127"></a>00127         axes[2][1] = 0 ;
<a name="l00128"></a>00128         axes[2][2] = 1 ;
<a name="l00129"></a>00129 
<a name="l00130"></a>00130         <span class="comment">// Triangle face</span>
<a name="l00131"></a>00131         <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> trigedge[3][3] ;
<a name="l00132"></a>00132         <span class="keywordflow">for</span> ( i = 0 ; i &lt; 3 ; i ++ )
<a name="l00133"></a>00133         {
<a name="l00134"></a>00134             <span class="keywordflow">for</span> ( j = 0 ; j &lt; 3 ; j ++ )
<a name="l00135"></a>00135             {
<a name="l00136"></a>00136                 trigedge[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = trig[(i+1)%3][j] - trig[i][j] ;
<a name="l00137"></a>00137             }
<a name="l00138"></a>00138         }
<a name="l00139"></a>00139         <a class="code" href="../../da/d29/classProjections.html#ac50a0a057ba7b22f252e81e62f2629df">crossProduct</a>( trigedge[0], trigedge[1], axes[3] ) ;
<a name="l00140"></a>00140 
<a name="l00142"></a>00142         <span class="keywordtype">double</span> dedge1[] = { (double) trig[1][0] - (<span class="keywordtype">double</span>) trig[0][0],
<a name="l00143"></a>00143                             (double) trig[1][1] - (<span class="keywordtype">double</span>) trig[0][1],
<a name="l00144"></a>00144                             (double) trig[1][2] - (<span class="keywordtype">double</span>) trig[0][2] } ;
<a name="l00145"></a>00145         <span class="keywordtype">double</span> dedge2[] = { (double) trig[2][0] - (<span class="keywordtype">double</span>) trig[1][0],
<a name="l00146"></a>00146                             (double) trig[2][1] - (<span class="keywordtype">double</span>) trig[1][1],
<a name="l00147"></a>00147                             (double) trig[2][2] - (<span class="keywordtype">double</span>) trig[1][2] } ;
<a name="l00148"></a>00148         <a class="code" href="../../da/d29/classProjections.html#ac50a0a057ba7b22f252e81e62f2629df">crossProduct</a>( dedge1, dedge2, <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#ada20979823586a4e8e6a7ef439c9e41f" title="Normal of the triangle.">norm</a> ) ;
<a name="l00149"></a>00149         <a class="code" href="../../da/d29/classProjections.html#ae8b5c08c936e8716c3f3762dd6482845">normalize</a>( <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#ada20979823586a4e8e6a7ef439c9e41f" title="Normal of the triangle.">norm</a> ) ;
<a name="l00150"></a>00150 <span class="comment">//      inherit-&gt;normA = norm[ 0 ] ;</span>
<a name="l00151"></a>00151 <span class="comment">//      inherit-&gt;normB = norm[ 2 ] &gt; 0 ? norm[ 1 ] : 2 + norm[ 1 ] ;</span>
<a name="l00152"></a>00152 
<a name="l00153"></a>00153         <span class="comment">// Face edges and triangle edges</span>
<a name="l00154"></a>00154         <span class="keywordtype">int</span> ct = 4 ;
<a name="l00155"></a>00155         <span class="keywordflow">for</span> ( i = 0 ; i &lt; 3 ; i ++ )
<a name="l00156"></a>00156             <span class="keywordflow">for</span> ( j = 0 ; j &lt; 3 ; j ++ )
<a name="l00157"></a>00157             {
<a name="l00158"></a>00158                 <a class="code" href="../../da/d29/classProjections.html#ac50a0a057ba7b22f252e81e62f2629df">crossProduct</a>( axes[j], trigedge[i], axes[ct] ) ;
<a name="l00159"></a>00159                 ct ++ ;
<a name="l00160"></a>00160             }       
<a name="l00161"></a>00161 
<a name="l00163"></a>00163         <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> cubeedge[3][3] ;
<a name="l00164"></a>00164         <span class="keywordflow">for</span> ( i = 0 ; i &lt; 3 ; i ++ )
<a name="l00165"></a>00165         {
<a name="l00166"></a>00166             <span class="keywordflow">for</span> ( j = 0 ; j &lt; 3 ; j ++ )
<a name="l00167"></a>00167             {
<a name="l00168"></a>00168                 cubeedge[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = 0 ;
<a name="l00169"></a>00169             }
<a name="l00170"></a>00170             cubeedge[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = cube[1][<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - cube[0][<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] ;
<a name="l00171"></a>00171         }
<a name="l00172"></a>00172 
<a name="l00173"></a>00173         <span class="keywordflow">for</span> ( j = 0 ; j &lt; 13 ; j ++ )
<a name="l00174"></a>00174         {
<a name="l00175"></a>00175             <span class="comment">// Origin</span>
<a name="l00176"></a>00176             <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[j][0] = <a class="code" href="../../da/d29/classProjections.html#a9a3fe30ddab05c7855006293d379c8a1">dotProduct</a>( axes[j], cube[0] ) ;
<a name="l00177"></a>00177 
<a name="l00178"></a>00178             <span class="comment">// 3 direction vectors</span>
<a name="l00179"></a>00179             <span class="keywordflow">for</span> ( i = 1 ; i &lt; 4 ; i ++ )
<a name="l00180"></a>00180             {
<a name="l00181"></a>00181                 <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[j][<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="../../da/d29/classProjections.html#a9a3fe30ddab05c7855006293d379c8a1">dotProduct</a>( axes[j], cubeedge[i-1] ) ;
<a name="l00182"></a>00182             }
<a name="l00183"></a>00183 
<a name="l00184"></a>00184             <span class="comment">// Offsets of 2 ends of cube projection</span>
<a name="l00185"></a>00185             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> = 0 ;
<a name="l00186"></a>00186             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a> = 0 ;
<a name="l00187"></a>00187             <span class="keywordflow">for</span> ( i = 1 ; i &lt; 8 ; i ++ )
<a name="l00188"></a>00188             {
<a name="l00189"></a>00189                 <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj = <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[j][1] + <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[j][2] + <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][2] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[j][3] ;
<a name="l00190"></a>00190                 <span class="keywordflow">if</span> ( proj &gt; max )
<a name="l00191"></a>00191                 {
<a name="l00192"></a>00192                     max = proj ;
<a name="l00193"></a>00193                 }
<a name="l00194"></a>00194                 <span class="keywordflow">if</span> ( proj &lt; min )
<a name="l00195"></a>00195                 {
<a name="l00196"></a>00196                     min = proj ;
<a name="l00197"></a>00197                 }
<a name="l00198"></a>00198             }
<a name="l00199"></a>00199             <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[j][4] = <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a> ;
<a name="l00200"></a>00200             <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[j][5] = <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> ;
<a name="l00201"></a>00201 
<a name="l00202"></a>00202         }
<a name="l00203"></a>00203 
<a name="l00204"></a>00204         <span class="keywordflow">for</span> ( j = 0 ; j &lt; 13 ; j ++ )
<a name="l00205"></a>00205         {
<a name="l00206"></a>00206             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> vts[3] = { <a class="code" href="../../da/d29/classProjections.html#a9a3fe30ddab05c7855006293d379c8a1">dotProduct</a>( axes[j], trig[0] ),
<a name="l00207"></a>00207                             <a class="code" href="../../da/d29/classProjections.html#a9a3fe30ddab05c7855006293d379c8a1">dotProduct</a>( axes[j], trig[1] ),
<a name="l00208"></a>00208                             <a class="code" href="../../da/d29/classProjections.html#a9a3fe30ddab05c7855006293d379c8a1">dotProduct</a>( axes[j], trig[2] )  } ;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210             <span class="comment">// Vertex</span>
<a name="l00211"></a>00211             <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#af81eff786e61d3b6f6681f2b230fd1ad" title="Projections of triangle vertices on primary axes.">trigVertProj</a>[j][0] = vts[0] ;
<a name="l00212"></a>00212             <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#af81eff786e61d3b6f6681f2b230fd1ad" title="Projections of triangle vertices on primary axes.">trigVertProj</a>[j][1] = vts[1] ;
<a name="l00213"></a>00213             <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#af81eff786e61d3b6f6681f2b230fd1ad" title="Projections of triangle vertices on primary axes.">trigVertProj</a>[j][2] = vts[2] ;
<a name="l00214"></a>00214 
<a name="l00215"></a>00215             <span class="comment">// Edge</span>
<a name="l00216"></a>00216             <span class="keywordflow">for</span> ( i = 0 ; i &lt; 3 ; i ++ )
<a name="l00217"></a>00217             {
<a name="l00218"></a>00218                 <span class="keywordflow">if</span> ( vts[i] &lt; vts[(i+1) % 3] )
<a name="l00219"></a>00219                 {
<a name="l00220"></a>00220                     <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#adb272b1d670948a1bb8632e9eb9444b5" title="Projections of triangle edges.">trigEdgeProj</a>[j][<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = vts[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] ; 
<a name="l00221"></a>00221                     <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#adb272b1d670948a1bb8632e9eb9444b5" title="Projections of triangle edges.">trigEdgeProj</a>[j][<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = vts[(i+1) % 3] ; 
<a name="l00222"></a>00222                 }
<a name="l00223"></a>00223                 <span class="keywordflow">else</span>
<a name="l00224"></a>00224                 {
<a name="l00225"></a>00225                     <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#adb272b1d670948a1bb8632e9eb9444b5" title="Projections of triangle edges.">trigEdgeProj</a>[j][<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = vts[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] ; 
<a name="l00226"></a>00226                     <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#adb272b1d670948a1bb8632e9eb9444b5" title="Projections of triangle edges.">trigEdgeProj</a>[j][<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = vts[(i+1) % 3] ; 
<a name="l00227"></a>00227                 }
<a name="l00228"></a>00228             }
<a name="l00229"></a>00229 
<a name="l00230"></a>00230             <span class="comment">// Triangle</span>
<a name="l00231"></a>00231             <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[j][0] = vts[0] ;
<a name="l00232"></a>00232             <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[j][1] = vts[0] ;
<a name="l00233"></a>00233             <span class="keywordflow">for</span> ( i = 1 ; i &lt; 3 ; i ++ )
<a name="l00234"></a>00234             {
<a name="l00235"></a>00235                 <span class="keywordflow">if</span> ( vts[i] &lt; <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[j][0] )
<a name="l00236"></a>00236                 {
<a name="l00237"></a>00237                     <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[j][0] = vts[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] ;
<a name="l00238"></a>00238                 }
<a name="l00239"></a>00239                 <span class="keywordflow">if</span> ( vts[i] &gt; <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[j][1] )
<a name="l00240"></a>00240                 {
<a name="l00241"></a>00241                     <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[j][1] = vts[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] ;
<a name="l00242"></a>00242                 }
<a name="l00243"></a>00243             }
<a name="l00244"></a>00244         }
<a name="l00245"></a>00245 
<a name="l00246"></a>00246     }
<a name="l00247"></a>00247 
<a name="l00252"></a><a class="code" href="../../da/d29/classProjections.html#ab599aa5c914c07baaf78f8d5edada6c0">00252</a>     <a class="code" href="../../da/d29/classProjections.html#a136f509a0e5cef295d24caef439583a6">Projections</a> ( <a class="code" href="../../da/d29/classProjections.html">Projections</a>* parent ) 
<a name="l00253"></a>00253     {
<a name="l00254"></a>00254         <span class="comment">// Copy inheritable projections</span>
<a name="l00255"></a>00255         this-&gt;<a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a> = parent-&gt;<a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a> ;
<a name="l00256"></a>00256 
<a name="l00257"></a>00257         <span class="comment">// Shrink cube projections</span>
<a name="l00258"></a>00258         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 13 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ++ )
<a name="l00259"></a>00259         {
<a name="l00260"></a>00260             <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = parent-&gt;<a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] ;
<a name="l00261"></a>00261             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 1 ; j &lt; 6 ; j ++ )
<a name="l00262"></a>00262             {
<a name="l00263"></a>00263                 <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = parent-&gt;<a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] &gt;&gt; 1 ;
<a name="l00264"></a>00264             }
<a name="l00265"></a>00265         }
<a name="l00266"></a>00266     };
<a name="l00267"></a>00267 
<a name="l00268"></a><a class="code" href="../../da/d29/classProjections.html#a57731fcba5e7093afc778d9d3a8c85e7">00268</a>     <a class="code" href="../../da/d29/classProjections.html#a136f509a0e5cef295d24caef439583a6">Projections</a> ( <a class="code" href="../../da/d29/classProjections.html">Projections</a>* parent, <span class="keywordtype">int</span> box[3], <span class="keywordtype">int</span> depth ) 
<a name="l00269"></a>00269     {
<a name="l00270"></a>00270         <span class="keywordtype">int</span> mask =  ( 1 &lt;&lt; depth ) - 1 ;
<a name="l00271"></a>00271         <span class="keywordtype">int</span> nbox[3] = { box[0] &amp; mask, box[1] &amp; mask, box[2] &amp; mask } ;
<a name="l00272"></a>00272 
<a name="l00273"></a>00273         <span class="comment">// Copy inheritable projections</span>
<a name="l00274"></a>00274         this-&gt;<a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a> = parent-&gt;<a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a> ;
<a name="l00275"></a>00275 
<a name="l00276"></a>00276         <span class="comment">// Shrink cube projections</span>
<a name="l00277"></a>00277         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 13 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ++ )
<a name="l00278"></a>00278         {
<a name="l00279"></a>00279             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 1 ; j &lt; 6 ; j ++ )
<a name="l00280"></a>00280             {
<a name="l00281"></a>00281                 <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = parent-&gt;<a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] &gt;&gt; depth ;
<a name="l00282"></a>00282             }
<a name="l00283"></a>00283 
<a name="l00284"></a>00284             <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = parent-&gt;<a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + nbox[0] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] + nbox[1] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][2] + nbox[2] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][3] ;
<a name="l00285"></a>00285         }
<a name="l00286"></a>00286     };
<a name="l00287"></a>00287 
<a name="l00291"></a><a class="code" href="../../da/d29/classProjections.html#af1549284642767ba112cda5184410f95">00291</a>     <span class="keywordtype">int</span> <a class="code" href="../../da/d29/classProjections.html#af1549284642767ba112cda5184410f95">getIntersectionMasks</a>( <a class="code" href="../../d1/d88/Projections_8h.html#a9a1dc6d243c6f75bb42f87e3f69649e4">UCHAR</a> cedgemask, <a class="code" href="../../d1/d88/Projections_8h.html#a9a1dc6d243c6f75bb42f87e3f69649e4">UCHAR</a>&amp; <a class="code" href="../../d0/d4f/octree_8cpp.html#ae87d058860e48f5ced63e4e415081932">edgemask</a> )
<a name="l00292"></a>00292     {
<a name="l00293"></a>00293         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, j ;
<a name="l00294"></a>00294         edgemask = cedgemask ;
<a name="l00295"></a>00295 
<a name="l00296"></a>00296         <span class="comment">// Pre-processing</span>
<a name="l00297"></a>00297         <span class="comment">/*</span>
<a name="l00298"></a>00298 <span class="comment">        if ( cvertmask &amp; 1 )</span>
<a name="l00299"></a>00299 <span class="comment">        {</span>
<a name="l00300"></a>00300 <span class="comment">            edgemask |= 5 ;</span>
<a name="l00301"></a>00301 <span class="comment">        }</span>
<a name="l00302"></a>00302 <span class="comment">        if ( cvertmask &amp; 2 )</span>
<a name="l00303"></a>00303 <span class="comment">        {</span>
<a name="l00304"></a>00304 <span class="comment">            edgemask |= 3 ;</span>
<a name="l00305"></a>00305 <span class="comment">        }</span>
<a name="l00306"></a>00306 <span class="comment">        if ( cvertmask &amp; 4 )</span>
<a name="l00307"></a>00307 <span class="comment">        {</span>
<a name="l00308"></a>00308 <span class="comment">            edgemask |= 6 ;</span>
<a name="l00309"></a>00309 <span class="comment">        }</span>
<a name="l00310"></a>00310 <span class="comment"></span>
<a name="l00311"></a>00311 <span class="comment">        */</span>
<a name="l00312"></a>00312 
<a name="l00313"></a>00313         <span class="comment">// Test axes for edge intersection</span>
<a name="l00314"></a>00314         <a class="code" href="../../d1/d88/Projections_8h.html#a9a1dc6d243c6f75bb42f87e3f69649e4">UCHAR</a> bit = 1 ;
<a name="l00315"></a>00315         <span class="keywordflow">for</span> ( j = 0 ; j &lt; 3 ; j ++ )
<a name="l00316"></a>00316         {
<a name="l00317"></a>00317             <span class="keywordflow">if</span> ( edgemask &amp; bit )
<a name="l00318"></a>00318             {
<a name="l00319"></a>00319                 <span class="keywordflow">for</span> ( i = 0 ; i &lt; 13 ; i ++ )
<a name="l00320"></a>00320                 {
<a name="l00321"></a>00321                     <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj0 = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][4] ;
<a name="l00322"></a>00322                     <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj1 = cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][5] ;
<a name="l00323"></a>00323 
<a name="l00324"></a>00324                     <span class="keywordflow">if</span> ( proj0 &gt; <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#adb272b1d670948a1bb8632e9eb9444b5" title="Projections of triangle edges.">trigEdgeProj</a>[i][j][1] ||
<a name="l00325"></a>00325                          proj1 &lt; inherit-&gt;trigEdgeProj[i][j][0] )
<a name="l00326"></a>00326                     {
<a name="l00327"></a>00327                         edgemask &amp;= ( ~ bit ) ;
<a name="l00328"></a>00328                         break ;
<a name="l00329"></a>00329                     }
<a name="l00330"></a>00330                 }
<a name="l00331"></a>00331             }
<a name="l00332"></a>00332             bit &lt;&lt;= 1 ;
<a name="l00333"></a>00333         }
<a name="l00334"></a>00334         
<a name="l00335"></a>00335         <span class="comment">/*</span>
<a name="l00336"></a>00336 <span class="comment">        if ( edgemask != 0 )</span>
<a name="l00337"></a>00337 <span class="comment">        {</span>
<a name="l00338"></a>00338 <span class="comment">            printf(&quot;%d %d\n&quot;, cedgemask, edgemask) ;</span>
<a name="l00339"></a>00339 <span class="comment">        }</span>
<a name="l00340"></a>00340 <span class="comment">        */</span>
<a name="l00341"></a>00341 
<a name="l00342"></a>00342         <span class="comment">// Test axes for triangle intersection</span>
<a name="l00343"></a>00343         <span class="keywordflow">if</span> ( edgemask )
<a name="l00344"></a>00344         {
<a name="l00345"></a>00345             <span class="keywordflow">return</span> 1 ;
<a name="l00346"></a>00346         }
<a name="l00347"></a>00347 
<a name="l00348"></a>00348         <span class="keywordflow">for</span> ( i = 3 ; i &lt; 13 ; i ++ )
<a name="l00349"></a>00349         {
<a name="l00350"></a>00350             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj0 = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][4] ;
<a name="l00351"></a>00351             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj1 = cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][5] ;
<a name="l00352"></a>00352 
<a name="l00353"></a>00353             <span class="keywordflow">if</span> ( proj0 &gt; <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[i][1] ||
<a name="l00354"></a>00354                  proj1 &lt; inherit-&gt;trigProj[i][0] )
<a name="l00355"></a>00355             {
<a name="l00356"></a>00356                 <span class="keywordflow">return</span> 0 ;
<a name="l00357"></a>00357             }
<a name="l00358"></a>00358         }
<a name="l00359"></a>00359         
<a name="l00360"></a>00360         <span class="keywordflow">return</span> 1 ;
<a name="l00361"></a>00361     }
<a name="l00362"></a>00362 
<a name="l00366"></a><a class="code" href="../../da/d29/classProjections.html#abc20394d389cfa17b6e05fdd5d7bda11">00366</a>     <a class="code" href="../../d1/d88/Projections_8h.html#a9a1dc6d243c6f75bb42f87e3f69649e4">UCHAR</a> <a class="code" href="../../da/d29/classProjections.html#abc20394d389cfa17b6e05fdd5d7bda11">getChildrenMasks</a>( <a class="code" href="../../d1/d88/Projections_8h.html#a9a1dc6d243c6f75bb42f87e3f69649e4">UCHAR</a> cvertmask, <a class="code" href="../../d1/d88/Projections_8h.html#a9a1dc6d243c6f75bb42f87e3f69649e4">UCHAR</a> vertmask[8] )
<a name="l00367"></a>00367     {
<a name="l00368"></a>00368         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k ;
<a name="l00369"></a>00369         <span class="keywordtype">int</span> bmask[3][2] = {{0,0},{0,0},{0,0}} ;
<a name="l00370"></a>00370         <span class="keywordtype">int</span> vmask[3][3][2] = {{{0,0},{0,0},{0,0}},{{0,0},{0,0},{0,0}},{{0,0},{0,0},{0,0}}} ;
<a name="l00371"></a>00371         <a class="code" href="../../d1/d88/Projections_8h.html#a9a1dc6d243c6f75bb42f87e3f69649e4">UCHAR</a> boxmask = 0 ;
<a name="l00372"></a>00372         <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[0][1] &gt;&gt; 1 ;
<a name="l00373"></a>00373         
<a name="l00374"></a>00374         <span class="keywordflow">for</span> ( i = 0 ; i &lt; 3 ; i ++ )
<a name="l00375"></a>00375         {
<a name="l00376"></a>00376             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> mid = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> ;
<a name="l00377"></a>00377 
<a name="l00378"></a>00378             <span class="comment">// Check bounding box</span>
<a name="l00379"></a>00379             <span class="keywordflow">if</span> ( mid &gt;= <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[i][0] ) 
<a name="l00380"></a>00380             {
<a name="l00381"></a>00381                 bmask[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = 1 ;
<a name="l00382"></a>00382             }
<a name="l00383"></a>00383             <span class="keywordflow">if</span> ( mid &lt;= inherit-&gt;trigProj[i][1] ) 
<a name="l00384"></a>00384             {
<a name="l00385"></a>00385                 bmask[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = 1 ;
<a name="l00386"></a>00386             }
<a name="l00387"></a>00387 
<a name="l00388"></a>00388             <span class="comment">// Check vertex mask</span>
<a name="l00389"></a>00389             <span class="keywordflow">if</span> ( cvertmask )
<a name="l00390"></a>00390             {
<a name="l00391"></a>00391                 <span class="keywordflow">for</span> ( j = 0 ; j &lt; 3 ; j ++ )
<a name="l00392"></a>00392                 {
<a name="l00393"></a>00393                     <span class="keywordflow">if</span> ( cvertmask &amp; ( 1 &lt;&lt; j ) )
<a name="l00394"></a>00394                     {
<a name="l00395"></a>00395                         <span class="comment">// Only check if it&#39;s contained this node</span>
<a name="l00396"></a>00396                         <span class="keywordflow">if</span> ( mid &gt;= <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#af81eff786e61d3b6f6681f2b230fd1ad" title="Projections of triangle vertices on primary axes.">trigVertProj</a>[i][j] ) 
<a name="l00397"></a>00397                         {
<a name="l00398"></a>00398                             vmask[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j][0] = 1 ;
<a name="l00399"></a>00399                         }
<a name="l00400"></a>00400                         <span class="keywordflow">if</span> ( mid &lt;= inherit-&gt;trigVertProj[i][j] ) 
<a name="l00401"></a>00401                         {
<a name="l00402"></a>00402                             vmask[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][j][1] = 1 ;
<a name="l00403"></a>00403                         }
<a name="l00404"></a>00404                     }
<a name="l00405"></a>00405                 }
<a name="l00406"></a>00406             }
<a name="l00407"></a>00407 
<a name="l00408"></a>00408             <span class="comment">/*</span>
<a name="l00409"></a>00409 <span class="comment">            // Check edge mask</span>
<a name="l00410"></a>00410 <span class="comment">            if ( cedgemask )</span>
<a name="l00411"></a>00411 <span class="comment">            {</span>
<a name="l00412"></a>00412 <span class="comment">                for ( j = 0 ; j &lt; 3 ; j ++ )</span>
<a name="l00413"></a>00413 <span class="comment">                {</span>
<a name="l00414"></a>00414 <span class="comment">                    if ( cedgemask &amp; ( 1 &lt;&lt; j ) )</span>
<a name="l00415"></a>00415 <span class="comment">                    {</span>
<a name="l00416"></a>00416 <span class="comment">                        // Only check if it&#39;s contained this node</span>
<a name="l00417"></a>00417 <span class="comment">                        if ( mid &gt;= inherit-&gt;trigEdgeProj[i][j][0] ) </span>
<a name="l00418"></a>00418 <span class="comment">                        {</span>
<a name="l00419"></a>00419 <span class="comment">                            emask[i][j][0] = 1 ;</span>
<a name="l00420"></a>00420 <span class="comment">                        }</span>
<a name="l00421"></a>00421 <span class="comment">                        if ( mid &lt;= inherit-&gt;trigEdgeProj[i][j][1] ) </span>
<a name="l00422"></a>00422 <span class="comment">                        {</span>
<a name="l00423"></a>00423 <span class="comment">                            emask[i][j][1] = 1 ;</span>
<a name="l00424"></a>00424 <span class="comment">                        }</span>
<a name="l00425"></a>00425 <span class="comment">                    }</span>
<a name="l00426"></a>00426 <span class="comment">                }</span>
<a name="l00427"></a>00427 <span class="comment">            }</span>
<a name="l00428"></a>00428 <span class="comment">            */</span>
<a name="l00429"></a>00429 
<a name="l00430"></a>00430         }
<a name="l00431"></a>00431 
<a name="l00432"></a>00432         <span class="comment">// Fill in masks</span>
<a name="l00433"></a>00433         <span class="keywordtype">int</span> ct = 0 ;
<a name="l00434"></a>00434         <span class="keywordflow">for</span> ( i = 0 ; i &lt; 2 ; i ++ )
<a name="l00435"></a>00435             <span class="keywordflow">for</span> ( j = 0 ; j &lt; 2 ; j ++ )
<a name="l00436"></a>00436                 <span class="keywordflow">for</span> ( k = 0 ; k &lt; 2 ; k ++ )
<a name="l00437"></a>00437                 {
<a name="l00438"></a>00438                     boxmask |= ( ( bmask[0][<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp; bmask[1][j] &amp; bmask[2][k] ) &lt;&lt; ct ) ;
<a name="l00439"></a>00439                     vertmask[ct] = (( vmask[0][0][<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp; vmask[1][0][j] &amp; vmask[2][0][k] ) |
<a name="l00440"></a>00440                                    (( vmask[0][1][i] &amp; vmask[1][1][j] &amp; vmask[2][1][k] ) &lt;&lt; 1 ) |
<a name="l00441"></a>00441                                    (( vmask[0][2][i] &amp; vmask[1][2][j] &amp; vmask[2][2][k] ) &lt;&lt; 2 ) ) ;
<a name="l00442"></a>00442                     <span class="comment">/*</span>
<a name="l00443"></a>00443 <span class="comment">                    edgemask[ct] = (( emask[0][0][i] &amp; emask[1][0][j] &amp; emask[2][0][k] ) |</span>
<a name="l00444"></a>00444 <span class="comment">                                   (( emask[0][1][i] &amp; emask[1][1][j] &amp; emask[2][1][k] ) &lt;&lt; 1 ) |</span>
<a name="l00445"></a>00445 <span class="comment">                                   (( emask[0][2][i] &amp; emask[1][2][j] &amp; emask[2][2][k] ) &lt;&lt; 2 ) ) ;</span>
<a name="l00446"></a>00446 <span class="comment">                    edgemask[ct] = cedgemask ;</span>
<a name="l00447"></a>00447 <span class="comment">                    */</span>
<a name="l00448"></a>00448                     ct ++ ;
<a name="l00449"></a>00449                 }
<a name="l00450"></a>00450 
<a name="l00451"></a>00451         <span class="comment">// Return bounding box masks</span>
<a name="l00452"></a>00452         <span class="keywordflow">return</span> boxmask ;
<a name="l00453"></a>00453     }
<a name="l00454"></a>00454 
<a name="l00455"></a><a class="code" href="../../da/d29/classProjections.html#a13fe9947fe412c637a7592d10ce4ea1a">00455</a>     <a class="code" href="../../d1/d88/Projections_8h.html#a9a1dc6d243c6f75bb42f87e3f69649e4">UCHAR</a> <a class="code" href="../../da/d29/classProjections.html#a13fe9947fe412c637a7592d10ce4ea1a">getBoxMask</a>( )
<a name="l00456"></a>00456     {
<a name="l00457"></a>00457         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k ;
<a name="l00458"></a>00458         <span class="keywordtype">int</span> bmask[3][2] = {{0,0},{0,0},{0,0}} ;
<a name="l00459"></a>00459         <a class="code" href="../../d1/d88/Projections_8h.html#a9a1dc6d243c6f75bb42f87e3f69649e4">UCHAR</a> boxmask = 0 ;
<a name="l00460"></a>00460         <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[0][1] &gt;&gt; 1 ;
<a name="l00461"></a>00461         
<a name="l00462"></a>00462         <span class="keywordflow">for</span> ( i = 0 ; i &lt; 3 ; i ++ )
<a name="l00463"></a>00463         {
<a name="l00464"></a>00464             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> mid = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> ;
<a name="l00465"></a>00465 
<a name="l00466"></a>00466             <span class="comment">// Check bounding box</span>
<a name="l00467"></a>00467             <span class="keywordflow">if</span> ( mid &gt;= <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[i][0] ) 
<a name="l00468"></a>00468             {
<a name="l00469"></a>00469                 bmask[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] = 1 ;
<a name="l00470"></a>00470             }
<a name="l00471"></a>00471             <span class="keywordflow">if</span> ( mid &lt;= inherit-&gt;trigProj[i][1] ) 
<a name="l00472"></a>00472             {
<a name="l00473"></a>00473                 bmask[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] = 1 ;
<a name="l00474"></a>00474             }
<a name="l00475"></a>00475 
<a name="l00476"></a>00476         }
<a name="l00477"></a>00477 
<a name="l00478"></a>00478         <span class="comment">// Fill in masks</span>
<a name="l00479"></a>00479         <span class="keywordtype">int</span> ct = 0 ;
<a name="l00480"></a>00480         <span class="keywordflow">for</span> ( i = 0 ; i &lt; 2 ; i ++ )
<a name="l00481"></a>00481             <span class="keywordflow">for</span> ( j = 0 ; j &lt; 2 ; j ++ )
<a name="l00482"></a>00482                 <span class="keywordflow">for</span> ( k = 0 ; k &lt; 2 ; k ++ )
<a name="l00483"></a>00483                 {
<a name="l00484"></a>00484                     boxmask |= ( ( bmask[0][<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp; bmask[1][j] &amp; bmask[2][k] ) &lt;&lt; ct ) ;
<a name="l00485"></a>00485                     ct ++ ;
<a name="l00486"></a>00486                 }
<a name="l00487"></a>00487 
<a name="l00488"></a>00488         <span class="comment">// Return bounding box masks</span>
<a name="l00489"></a>00489         <span class="keywordflow">return</span> boxmask ;
<a name="l00490"></a>00490     }
<a name="l00491"></a>00491 
<a name="l00492"></a>00492 
<a name="l00496"></a><a class="code" href="../../da/d29/classProjections.html#af8620f6757e310a360ce8f6e208829cf">00496</a>     <span class="keywordtype">void</span> <a class="code" href="../../da/d29/classProjections.html#af8620f6757e310a360ce8f6e208829cf">getSubProjectionsSimple</a>( <a class="code" href="../../da/d29/classProjections.html">Projections</a>* <a class="code" href="../../dd/d05/noise_8c.html#aa5b68af6f39f968261f8942af260e938">p</a>[8] )
<a name="l00497"></a>00497     {
<a name="l00498"></a>00498         <span class="comment">// Process the axes cooresponding to the triangle&#39;s normal</span>
<a name="l00499"></a>00499         <span class="keywordtype">int</span> ind = 3 ;
<a name="l00500"></a>00500         <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[ 0 ][ 1 ] &gt;&gt; 1 ;
<a name="l00501"></a>00501         <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> trigproj[3] = { <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[ ind ][ 1 ] &gt;&gt; 1, <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[ ind ][ 2 ] &gt;&gt; 1, cubeProj[ ind ][ 3 ] &gt;&gt; 1 } ;
<a name="l00502"></a>00502 
<a name="l00503"></a>00503         <span class="keywordtype">int</span> ct = 0 ; 
<a name="l00504"></a>00504         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ++ )
<a name="l00505"></a>00505             <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0 ; j &lt; 2 ; j ++ )
<a name="l00506"></a>00506                 <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> k = 0 ; k &lt; 2 ; k ++ )
<a name="l00507"></a>00507                 {
<a name="l00508"></a>00508                     p[ct] = <span class="keyword">new</span> <a class="code" href="../../da/d29/classProjections.html#a136f509a0e5cef295d24caef439583a6">Projections</a>( ) ;
<a name="l00509"></a>00509                     p[ct]-&gt;<a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a> = <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a> ;
<a name="l00510"></a>00510 
<a name="l00511"></a>00511                     p[ct]-&gt;<a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[ 0 ][ 0 ] = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[ 0 ][ 0 ] + <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> ;
<a name="l00512"></a>00512                     p[ct]-&gt;<a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[ 1 ][ 0 ] = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[ 1 ][ 0 ] + j * <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> ;
<a name="l00513"></a>00513                     p[ct]-&gt;<a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[ 2 ][ 0 ] = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[ 2 ][ 0 ] + k * <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> ;
<a name="l00514"></a>00514                     p[ct]-&gt;<a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[ 0 ][ 1 ] = <a class="code" href="../../d9/d90/util__math_8h.html#aa4232e576aca913870e7753393b82894">len</a> ;
<a name="l00515"></a>00515 
<a name="l00516"></a>00516                     <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> m = 1 ; m &lt; 4 ; m ++ )
<a name="l00517"></a>00517                     {
<a name="l00518"></a>00518                         p[ct]-&gt;<a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[ ind ][ m ] = trigproj[ m - 1 ] ;
<a name="l00519"></a>00519                     }
<a name="l00520"></a>00520                     p[ct]-&gt;<a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[ ind ][ 0 ] = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[ ind ][0] + <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> * trigproj[0] + j * trigproj[1] + k * trigproj[2] ;
<a name="l00521"></a>00521 
<a name="l00522"></a>00522                     ct ++ ;
<a name="l00523"></a>00523                 }
<a name="l00524"></a>00524     }
<a name="l00525"></a>00525 
<a name="l00529"></a><a class="code" href="../../da/d29/classProjections.html#a777d685483cf7f0c27b6a3b07ec301e7">00529</a>     <span class="keywordtype">void</span> <a class="code" href="../../da/d29/classProjections.html#a777d685483cf7f0c27b6a3b07ec301e7">shift</a> ( <span class="keywordtype">int</span> off[3] ) 
<a name="l00530"></a>00530     {
<a name="l00531"></a>00531         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 13 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ++ )
<a name="l00532"></a>00532         {
<a name="l00533"></a>00533             <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] += off[0] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] + off[1] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][2] + off[2] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][3] ;
<a name="l00534"></a>00534         }
<a name="l00535"></a>00535     }
<a name="l00536"></a>00536 
<a name="l00537"></a><a class="code" href="../../da/d29/classProjections.html#ac726d4d72ad8e133c541abc8e2342bdb">00537</a>     <span class="keywordtype">void</span> <a class="code" href="../../da/d29/classProjections.html#ac726d4d72ad8e133c541abc8e2342bdb">shiftNoPrimary</a> ( <span class="keywordtype">int</span> off[3] ) 
<a name="l00538"></a>00538     {
<a name="l00539"></a>00539         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 3 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 13 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ++ )
<a name="l00540"></a>00540         {
<a name="l00541"></a>00541             <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] += off[0] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] + off[1] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][2] + off[2] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][3] ;
<a name="l00542"></a>00542         }
<a name="l00543"></a>00543     }
<a name="l00544"></a>00544 
<a name="l00548"></a><a class="code" href="../../da/d29/classProjections.html#ae66f10f457a683bd07ebcb5a5ea2ecc6">00548</a>     <span class="keywordtype">int</span> <a class="code" href="../../da/d29/classProjections.html#ae66f10f457a683bd07ebcb5a5ea2ecc6">isIntersecting</a> ( ) 
<a name="l00549"></a>00549     {
<a name="l00550"></a>00550         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 13 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ++ )
<a name="l00551"></a>00551         {
<a name="l00552"></a>00552             <span class="comment">/*</span>
<a name="l00553"></a>00553 <span class="comment">            LONG proj0 = cubeProj[i][0] + </span>
<a name="l00554"></a>00554 <span class="comment">                vertmap[inherit-&gt;cubeEnds[i][0]][0] * cubeProj[i][1] + </span>
<a name="l00555"></a>00555 <span class="comment">                vertmap[inherit-&gt;cubeEnds[i][0]][1] * cubeProj[i][2] + </span>
<a name="l00556"></a>00556 <span class="comment">                vertmap[inherit-&gt;cubeEnds[i][0]][2] * cubeProj[i][3] ;</span>
<a name="l00557"></a>00557 <span class="comment">            LONG proj1 = cubeProj[i][0] + </span>
<a name="l00558"></a>00558 <span class="comment">                vertmap[inherit-&gt;cubeEnds[i][1]][0] * cubeProj[i][1] + </span>
<a name="l00559"></a>00559 <span class="comment">                vertmap[inherit-&gt;cubeEnds[i][1]][1] * cubeProj[i][2] + </span>
<a name="l00560"></a>00560 <span class="comment">                vertmap[inherit-&gt;cubeEnds[i][1]][2] * cubeProj[i][3] ;</span>
<a name="l00561"></a>00561 <span class="comment">            */</span>
<a name="l00562"></a>00562 
<a name="l00563"></a>00563             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj0 = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][4] ;
<a name="l00564"></a>00564             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj1 = cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][5] ;
<a name="l00565"></a>00565 
<a name="l00566"></a>00566             <span class="keywordflow">if</span> ( proj0 &gt; <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] ||
<a name="l00567"></a>00567                  proj1 &lt; inherit-&gt;trigProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] )
<a name="l00568"></a>00568             {
<a name="l00569"></a>00569                 <span class="keywordflow">return</span> 0 ;
<a name="l00570"></a>00570             }
<a name="l00571"></a>00571         }
<a name="l00572"></a>00572         
<a name="l00573"></a>00573         <span class="keywordflow">return</span> 1 ;
<a name="l00574"></a>00574     };
<a name="l00575"></a>00575 
<a name="l00576"></a><a class="code" href="../../da/d29/classProjections.html#ab09655a0c50f88643c6ad2ef51296bfc">00576</a>     <span class="keywordtype">int</span> <a class="code" href="../../da/d29/classProjections.html#ab09655a0c50f88643c6ad2ef51296bfc">isIntersectingNoPrimary</a> ( ) 
<a name="l00577"></a>00577     {
<a name="l00578"></a>00578         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 3 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 13 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ++ )
<a name="l00579"></a>00579         {
<a name="l00580"></a>00580             <span class="comment">/*</span>
<a name="l00581"></a>00581 <span class="comment">            LONG proj0 = cubeProj[i][0] + </span>
<a name="l00582"></a>00582 <span class="comment">                vertmap[inherit-&gt;cubeEnds[i][0]][0] * cubeProj[i][1] + </span>
<a name="l00583"></a>00583 <span class="comment">                vertmap[inherit-&gt;cubeEnds[i][0]][1] * cubeProj[i][2] + </span>
<a name="l00584"></a>00584 <span class="comment">                vertmap[inherit-&gt;cubeEnds[i][0]][2] * cubeProj[i][3] ;</span>
<a name="l00585"></a>00585 <span class="comment">            LONG proj1 = cubeProj[i][0] + </span>
<a name="l00586"></a>00586 <span class="comment">                vertmap[inherit-&gt;cubeEnds[i][1]][0] * cubeProj[i][1] + </span>
<a name="l00587"></a>00587 <span class="comment">                vertmap[inherit-&gt;cubeEnds[i][1]][1] * cubeProj[i][2] + </span>
<a name="l00588"></a>00588 <span class="comment">                vertmap[inherit-&gt;cubeEnds[i][1]][2] * cubeProj[i][3] ;</span>
<a name="l00589"></a>00589 <span class="comment">            */</span>
<a name="l00590"></a>00590 
<a name="l00591"></a>00591             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj0 = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][4] ;
<a name="l00592"></a>00592             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj1 = cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][5] ;
<a name="l00593"></a>00593 
<a name="l00594"></a>00594             <span class="keywordflow">if</span> ( proj0 &gt; <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] ||
<a name="l00595"></a>00595                  proj1 &lt; inherit-&gt;trigProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] )
<a name="l00596"></a>00596             {
<a name="l00597"></a>00597                 <span class="keywordflow">return</span> 0 ;
<a name="l00598"></a>00598             }
<a name="l00599"></a>00599         }
<a name="l00600"></a>00600         
<a name="l00601"></a>00601         <span class="keywordflow">return</span> 1 ;
<a name="l00602"></a>00602     };  
<a name="l00603"></a>00603     
<a name="l00607"></a><a class="code" href="../../da/d29/classProjections.html#a67bca5764093907e2428a04133ff8bb3">00607</a>     <span class="keywordtype">int</span> <a class="code" href="../../da/d29/classProjections.html#ae66f10f457a683bd07ebcb5a5ea2ecc6">isIntersecting</a> ( <span class="keywordtype">int</span> edgeInd ) 
<a name="l00608"></a>00608     {
<a name="l00609"></a>00609         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 13 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ++ )
<a name="l00610"></a>00610         {
<a name="l00611"></a>00611             
<a name="l00612"></a>00612             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj0 = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + 
<a name="l00613"></a>00613                 <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#a033d5bd9b36f93ee172f46b76162b859">edgemap</a>[edgeInd][0]][0] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] + 
<a name="l00614"></a>00614                 <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#a033d5bd9b36f93ee172f46b76162b859">edgemap</a>[edgeInd][0]][1] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][2] + 
<a name="l00615"></a>00615                 <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#a033d5bd9b36f93ee172f46b76162b859">edgemap</a>[edgeInd][0]][2] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][3] ;
<a name="l00616"></a>00616             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj1 = cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + 
<a name="l00617"></a>00617                 <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#a033d5bd9b36f93ee172f46b76162b859">edgemap</a>[edgeInd][1]][0] * cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] + 
<a name="l00618"></a>00618                 <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#a033d5bd9b36f93ee172f46b76162b859">edgemap</a>[edgeInd][1]][1] * cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][2] + 
<a name="l00619"></a>00619                 <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#a033d5bd9b36f93ee172f46b76162b859">edgemap</a>[edgeInd][1]][2] * cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][3] ;
<a name="l00620"></a>00620 
<a name="l00621"></a>00621 
<a name="l00622"></a>00622             <span class="keywordflow">if</span> ( proj0 &lt; proj1 )
<a name="l00623"></a>00623             {
<a name="l00624"></a>00624                 <span class="keywordflow">if</span> ( proj0 &gt; <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] ||
<a name="l00625"></a>00625                      proj1 &lt; inherit-&gt;trigProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] )
<a name="l00626"></a>00626                 {
<a name="l00627"></a>00627                     <span class="keywordflow">return</span> 0 ;
<a name="l00628"></a>00628                 }
<a name="l00629"></a>00629             }
<a name="l00630"></a>00630             <span class="keywordflow">else</span>
<a name="l00631"></a>00631             {
<a name="l00632"></a>00632                 <span class="keywordflow">if</span> ( proj1 &gt; <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] ||
<a name="l00633"></a>00633                      proj0 &lt; inherit-&gt;trigProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] )
<a name="l00634"></a>00634                 {
<a name="l00635"></a>00635                     <span class="keywordflow">return</span> 0 ;
<a name="l00636"></a>00636                 }
<a name="l00637"></a>00637             }
<a name="l00638"></a>00638         }
<a name="l00639"></a>00639         
<a name="l00640"></a>00640         <span class="comment">// printf( &quot;Intersecting: %d %d\n&quot;, edgemap[edgeInd][0], edgemap[edgeInd][1] )  ;</span>
<a name="l00641"></a>00641         <span class="keywordflow">return</span> 1 ;
<a name="l00642"></a>00642     };
<a name="l00643"></a>00643 
<a name="l00647"></a><a class="code" href="../../da/d29/classProjections.html#a8acd5545236b6376400796c1934bf43f">00647</a>     <span class="keywordtype">int</span> <a class="code" href="../../da/d29/classProjections.html#ae66f10f457a683bd07ebcb5a5ea2ecc6">isIntersecting</a> ( <span class="keywordtype">int</span> edgeInd, <span class="keywordtype">int</span> faceInd ) 
<a name="l00648"></a>00648     {
<a name="l00649"></a>00649         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 13 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ++ )
<a name="l00650"></a>00650         {
<a name="l00651"></a>00651             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> trigproj0 = <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#af81eff786e61d3b6f6681f2b230fd1ad" title="Projections of triangle vertices on primary axes.">trigVertProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][edgeInd] ;
<a name="l00652"></a>00652             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> trigproj1 = <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#af81eff786e61d3b6f6681f2b230fd1ad" title="Projections of triangle vertices on primary axes.">trigVertProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][(edgeInd+1)%3] ;
<a name="l00653"></a>00653 
<a name="l00654"></a>00654             <span class="keywordflow">if</span> ( trigproj0 &lt; trigproj1 )
<a name="l00655"></a>00655             {
<a name="l00656"></a>00656                 <span class="keywordtype">int</span> t1 = 1 , t2 = 1 ;
<a name="l00657"></a>00657                 <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0 ; j &lt; 4 ; j ++ )
<a name="l00658"></a>00658                 {
<a name="l00659"></a>00659                     <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + 
<a name="l00660"></a>00660                         <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#ad9e2c37a91cc196a7beb6534e0b3f74a">facemap</a>[faceInd][j]][0] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] + 
<a name="l00661"></a>00661                         <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#ad9e2c37a91cc196a7beb6534e0b3f74a">facemap</a>[faceInd][j]][1] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][2] + 
<a name="l00662"></a>00662                         <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#ad9e2c37a91cc196a7beb6534e0b3f74a">facemap</a>[faceInd][j]][2] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][3] ;
<a name="l00663"></a>00663                     <span class="keywordflow">if</span> ( proj &gt;= trigproj0 )
<a name="l00664"></a>00664                     {
<a name="l00665"></a>00665                         t1 = 0 ;
<a name="l00666"></a>00666                     }
<a name="l00667"></a>00667                     <span class="keywordflow">if</span> ( proj &lt;= trigproj1 )
<a name="l00668"></a>00668                     {
<a name="l00669"></a>00669                         t2 = 0 ;
<a name="l00670"></a>00670                     }
<a name="l00671"></a>00671                 }
<a name="l00672"></a>00672                 <span class="keywordflow">if</span> ( t1 || t2 )
<a name="l00673"></a>00673                 {
<a name="l00674"></a>00674                     <span class="keywordflow">return</span> 0 ;
<a name="l00675"></a>00675                 }
<a name="l00676"></a>00676             }
<a name="l00677"></a>00677             <span class="keywordflow">else</span>
<a name="l00678"></a>00678             {
<a name="l00679"></a>00679                 <span class="keywordtype">int</span> t1 = 1 , t2 = 1  ;
<a name="l00680"></a>00680                 <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0 ; j &lt; 4 ; j ++ )
<a name="l00681"></a>00681                 {
<a name="l00682"></a>00682                     <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + 
<a name="l00683"></a>00683                         <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#ad9e2c37a91cc196a7beb6534e0b3f74a">facemap</a>[faceInd][j]][0] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] + 
<a name="l00684"></a>00684                         <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#ad9e2c37a91cc196a7beb6534e0b3f74a">facemap</a>[faceInd][j]][1] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][2] + 
<a name="l00685"></a>00685                         <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#ad9e2c37a91cc196a7beb6534e0b3f74a">facemap</a>[faceInd][j]][2] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][3] ;
<a name="l00686"></a>00686                     <span class="keywordflow">if</span> ( proj &gt;= trigproj1 ) 
<a name="l00687"></a>00687                     {
<a name="l00688"></a>00688                         t1 = 0 ;
<a name="l00689"></a>00689                     }
<a name="l00690"></a>00690                     <span class="keywordflow">if</span> ( proj &lt;= trigproj0 )
<a name="l00691"></a>00691                     {
<a name="l00692"></a>00692                         t2 = 0 ;
<a name="l00693"></a>00693                     }
<a name="l00694"></a>00694                 }
<a name="l00695"></a>00695                 <span class="keywordflow">if</span> ( t1 || t2 )
<a name="l00696"></a>00696                 {
<a name="l00697"></a>00697                     <span class="keywordflow">return</span> 0 ;
<a name="l00698"></a>00698                 }
<a name="l00699"></a>00699             }
<a name="l00700"></a>00700         }
<a name="l00701"></a>00701 
<a name="l00702"></a>00702         <span class="keywordflow">return</span> 1 ;
<a name="l00703"></a>00703     };
<a name="l00704"></a>00704 
<a name="l00705"></a>00705 
<a name="l00706"></a><a class="code" href="../../da/d29/classProjections.html#aa9b4d77a620bf80f63e8a131dca98402">00706</a>     <span class="keywordtype">int</span> <a class="code" href="../../da/d29/classProjections.html#aa9b4d77a620bf80f63e8a131dca98402">isIntersectingPrimary</a> ( <span class="keywordtype">int</span> edgeInd ) 
<a name="l00707"></a>00707     {
<a name="l00708"></a>00708         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 13 ; <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ++ )
<a name="l00709"></a>00709         {
<a name="l00710"></a>00710             
<a name="l00711"></a>00711             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj0 = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] ;
<a name="l00712"></a>00712             <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj1 = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][edgeInd + 1] ;
<a name="l00713"></a>00713 
<a name="l00714"></a>00714             <span class="keywordflow">if</span> ( proj0 &lt; proj1 )
<a name="l00715"></a>00715             {
<a name="l00716"></a>00716                 <span class="keywordflow">if</span> ( proj0 &gt; <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] ||
<a name="l00717"></a>00717                      proj1 &lt; inherit-&gt;trigProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] )
<a name="l00718"></a>00718                 {
<a name="l00719"></a>00719                     <span class="keywordflow">return</span> 0 ;
<a name="l00720"></a>00720                 }
<a name="l00721"></a>00721             }
<a name="l00722"></a>00722             <span class="keywordflow">else</span>
<a name="l00723"></a>00723             {
<a name="l00724"></a>00724                 <span class="keywordflow">if</span> ( proj1 &gt; <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] ||
<a name="l00725"></a>00725                      proj0 &lt; inherit-&gt;trigProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] )
<a name="l00726"></a>00726                 {
<a name="l00727"></a>00727                     <span class="keywordflow">return</span> 0 ;
<a name="l00728"></a>00728                 }
<a name="l00729"></a>00729             }
<a name="l00730"></a>00730 
<a name="l00731"></a>00731         }
<a name="l00732"></a>00732         
<a name="l00733"></a>00733         <span class="comment">// printf( &quot;Intersecting: %d %d\n&quot;, edgemap[edgeInd][0], edgemap[edgeInd][1] )  ;</span>
<a name="l00734"></a>00734         <span class="keywordflow">return</span> 1 ;
<a name="l00735"></a>00735     };
<a name="l00736"></a>00736 
<a name="l00737"></a><a class="code" href="../../da/d29/classProjections.html#a56208a0d7656e20a072c5622f49bb9f3">00737</a>     <span class="keywordtype">double</span> <a class="code" href="../../da/d29/classProjections.html#a56208a0d7656e20a072c5622f49bb9f3">getIntersection</a> ( <span class="keywordtype">int</span> edgeInd ) 
<a name="l00738"></a>00738     {
<a name="l00739"></a>00739         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 3 ;
<a name="l00740"></a>00740 
<a name="l00741"></a>00741         <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj0 = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + 
<a name="l00742"></a>00742             <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#a033d5bd9b36f93ee172f46b76162b859">edgemap</a>[edgeInd][0]][0] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] + 
<a name="l00743"></a>00743             <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#a033d5bd9b36f93ee172f46b76162b859">edgemap</a>[edgeInd][0]][1] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][2] + 
<a name="l00744"></a>00744             <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#a033d5bd9b36f93ee172f46b76162b859">edgemap</a>[edgeInd][0]][2] * <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][3] ;
<a name="l00745"></a>00745         <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj1 = cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + 
<a name="l00746"></a>00746             <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#a033d5bd9b36f93ee172f46b76162b859">edgemap</a>[edgeInd][1]][0] * cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] + 
<a name="l00747"></a>00747             <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#a033d5bd9b36f93ee172f46b76162b859">edgemap</a>[edgeInd][1]][1] * cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][2] + 
<a name="l00748"></a>00748             <a class="code" href="../../d8/d76/Projections_8cpp.html#ab1c5bf13b3a1403a9dd69df6dfed7ef9">vertmap</a>[<a class="code" href="../../d8/d76/Projections_8cpp.html#a033d5bd9b36f93ee172f46b76162b859">edgemap</a>[edgeInd][1]][2] * cubeProj[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][3] ;
<a name="l00749"></a>00749         <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj2 = <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] ;
<a name="l00750"></a>00750 
<a name="l00751"></a>00751         <span class="comment">/*</span>
<a name="l00752"></a>00752 <span class="comment">        if ( proj0 &lt; proj1 )</span>
<a name="l00753"></a>00753 <span class="comment">        {</span>
<a name="l00754"></a>00754 <span class="comment">            if ( proj2 &lt; proj0 || proj2 &gt; proj1 )</span>
<a name="l00755"></a>00755 <span class="comment">            {</span>
<a name="l00756"></a>00756 <span class="comment">                return -1 ;</span>
<a name="l00757"></a>00757 <span class="comment">            }</span>
<a name="l00758"></a>00758 <span class="comment">        }</span>
<a name="l00759"></a>00759 <span class="comment">        else</span>
<a name="l00760"></a>00760 <span class="comment">        {</span>
<a name="l00761"></a>00761 <span class="comment">            if ( proj2 &lt; proj1 || proj2 &gt; proj0 )</span>
<a name="l00762"></a>00762 <span class="comment">            {</span>
<a name="l00763"></a>00763 <span class="comment">                return -1 ;</span>
<a name="l00764"></a>00764 <span class="comment">            }</span>
<a name="l00765"></a>00765 <span class="comment">        }</span>
<a name="l00766"></a>00766 <span class="comment">        */</span>
<a name="l00767"></a>00767 
<a name="l00768"></a>00768         <span class="keywordtype">double</span> alpha = (double)( proj2 - proj0 ) / (double)( proj1 - proj0 ) ;
<a name="l00769"></a>00769         <span class="comment">/*</span>
<a name="l00770"></a>00770 <span class="comment">        if ( alpha &lt; 0 )</span>
<a name="l00771"></a>00771 <span class="comment">        {</span>
<a name="l00772"></a>00772 <span class="comment">            alpha = 0.5 ;</span>
<a name="l00773"></a>00773 <span class="comment">        }</span>
<a name="l00774"></a>00774 <span class="comment">        else if ( alpha &gt; 1 )</span>
<a name="l00775"></a>00775 <span class="comment">        {</span>
<a name="l00776"></a>00776 <span class="comment">            alpha = 0.5 ;</span>
<a name="l00777"></a>00777 <span class="comment">        }</span>
<a name="l00778"></a>00778 <span class="comment">        */</span>
<a name="l00779"></a>00779 
<a name="l00780"></a>00780         <span class="keywordflow">return</span> alpha ;
<a name="l00781"></a>00781     };
<a name="l00782"></a>00782 
<a name="l00783"></a><a class="code" href="../../da/d29/classProjections.html#a9890d5f0cfde1764595352efd4de1673">00783</a>     <span class="keywordtype">float</span> <a class="code" href="../../da/d29/classProjections.html#a9890d5f0cfde1764595352efd4de1673">getIntersectionPrimary</a> ( <span class="keywordtype">int</span> edgeInd ) 
<a name="l00784"></a>00784     {
<a name="l00785"></a>00785         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 3 ;
<a name="l00786"></a>00786 
<a name="l00787"></a>00787         
<a name="l00788"></a>00788         <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj0 = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] ;
<a name="l00789"></a>00789         <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj1 = <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][0] + <a class="code" href="../../da/d29/classProjections.html#a6f587115fa5d262ed0bd4834ad3d1810" title="Projections of the cube vertices.">cubeProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][edgeInd + 1] ;
<a name="l00790"></a>00790         <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> proj2 = <a class="code" href="../../da/d29/classProjections.html#a55d47ac16fea37c906330087b3764128" title="Inheritable portion.">inherit</a>-&gt;<a class="code" href="../../d0/d18/structInheritableProjections.html#a7884c53ca353c4a61200b0ad6ba4c6f7" title="Projections of triangle.">trigProj</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>][1] ;
<a name="l00791"></a>00791 
<a name="l00792"></a>00792         <span class="comment">// double alpha = (double)( ( proj2 - proj0 ) * cubeProj[edgeInd][edgeInd + 1] ) / (double)( proj1 - proj0 ) ;</span>
<a name="l00793"></a>00793         <span class="keywordtype">double</span> alpha = (double)( ( proj2 - proj0 ) ) / (<span class="keywordtype">double</span>)( proj1 - proj0 ) ;
<a name="l00794"></a>00794         
<a name="l00795"></a>00795         <span class="keywordflow">if</span> ( alpha &lt; 0 )
<a name="l00796"></a>00796         {
<a name="l00797"></a>00797             alpha = 0.5 ;
<a name="l00798"></a>00798         }
<a name="l00799"></a>00799         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( alpha &gt; 1 )
<a name="l00800"></a>00800         {
<a name="l00801"></a>00801             alpha = 0.5 ;
<a name="l00802"></a>00802         }
<a name="l00803"></a>00803         
<a name="l00804"></a>00804 
<a name="l00805"></a>00805         <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)alpha ;
<a name="l00806"></a>00806     };
<a name="l00807"></a>00807 
<a name="l00811"></a><a class="code" href="../../da/d29/classProjections.html#ac50a0a057ba7b22f252e81e62f2629df">00811</a>     <span class="keywordtype">void</span> <a class="code" href="../../da/d29/classProjections.html#ac50a0a057ba7b22f252e81e62f2629df">crossProduct</a> ( <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> a[3], <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> b[3], <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> res[3] )
<a name="l00812"></a>00812     {
<a name="l00813"></a>00813         res[0] = a[1] * b[2] - a[2] * b[1] ;
<a name="l00814"></a>00814         res[1] = a[2] * b[0] - a[0] * b[2] ;
<a name="l00815"></a>00815         res[2] = a[0] * b[1] - a[1] * b[0] ;
<a name="l00816"></a>00816     }
<a name="l00817"></a><a class="code" href="../../da/d29/classProjections.html#a5250c69f758c1701335371b64bfe9e3f">00817</a>     <span class="keywordtype">void</span> <a class="code" href="../../da/d29/classProjections.html#ac50a0a057ba7b22f252e81e62f2629df">crossProduct</a> ( <span class="keywordtype">double</span> a[3], <span class="keywordtype">double</span> b[3], <span class="keywordtype">double</span> res[3] )
<a name="l00818"></a>00818     {
<a name="l00819"></a>00819         res[0] = a[1] * b[2] - a[2] * b[1] ;
<a name="l00820"></a>00820         res[1] = a[2] * b[0] - a[0] * b[2] ;
<a name="l00821"></a>00821         res[2] = a[0] * b[1] - a[1] * b[0] ;
<a name="l00822"></a>00822     }
<a name="l00823"></a>00823 
<a name="l00827"></a><a class="code" href="../../da/d29/classProjections.html#a9a3fe30ddab05c7855006293d379c8a1">00827</a>     <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> <a class="code" href="../../da/d29/classProjections.html#a9a3fe30ddab05c7855006293d379c8a1">dotProduct</a> ( <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> a[3], <a class="code" href="../../d1/d88/Projections_8h.html#acaa7b8a7167a8214f499c71c413ddcca">LONG</a> b[3] )
<a name="l00828"></a>00828     {
<a name="l00829"></a>00829         <span class="keywordflow">return</span> a[0] * b[0] + a[1] * b[1] + a[2] * b[2] ;
<a name="l00830"></a>00830     }
<a name="l00831"></a>00831 
<a name="l00832"></a><a class="code" href="../../da/d29/classProjections.html#ae8b5c08c936e8716c3f3762dd6482845">00832</a>     <span class="keywordtype">void</span> <a class="code" href="../../da/d29/classProjections.html#ae8b5c08c936e8716c3f3762dd6482845">normalize</a>( <span class="keywordtype">double</span> a[3] )
<a name="l00833"></a>00833     {
<a name="l00834"></a>00834         <span class="keywordtype">double</span> mag = a[0] * a[0] + a[1] * a[1] + a[2] * a[2] ;
<a name="l00835"></a>00835         <span class="keywordflow">if</span> ( mag &gt; 0 )
<a name="l00836"></a>00836         {
<a name="l00837"></a>00837             mag = <a class="code" href="../../d7/d47/NM__Scalar_8h.html#aa3fc8738e36a262f694814c04e8ef744">sqrt</a>( mag ) ;
<a name="l00838"></a>00838             a[0] /= mag ;
<a name="l00839"></a>00839             a[1] /= mag ;
<a name="l00840"></a>00840             a[2] /= mag ;
<a name="l00841"></a>00841         }
<a name="l00842"></a>00842     }
<a name="l00843"></a>00843 
<a name="l00844"></a>00844 };
<a name="l00845"></a>00845 
<a name="l00846"></a>00846 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Nov 13 2012 11:54:45 for Blender by&#160;
<a href="http://www.doxygen.org/index.html"> 
doxygen</a> 1.7.4 </small></address> 
</body>
</html>
