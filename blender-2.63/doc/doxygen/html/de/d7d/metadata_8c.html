<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Blender: metadata.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blender.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Blender&#160;<span id="projectnumber">V2.6x</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">metadata.c File Reference<div class="ingroups"><a class="el" href="../../d5/dc7/group__imbuf.html">IMage Buffer</a></div></div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../de/df4/BLI__blenlib_8h_source.html">BLI_blenlib.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d1/dd0/MEM__guardedalloc_8h_source.html">MEM_guardedalloc.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../d7/dc9/IMB__imbuf__types_8h_source.html">IMB_imbuf_types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../db/d49/IMB__imbuf_8h_source.html">IMB_imbuf.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../da/da6/IMB__metadata_8h_source.html">IMB_metadata.h</a>&quot;</code><br/>
</div>
<p><a href="../../de/d7d/metadata_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d7d/metadata_8c.html#a766ca7cf0fbbb45efffbbd5d6d914ffb">IMB_metadata_free</a> (struct <a class="el" href="../../d3/dd9/structImBuf.html">ImBuf</a> *img)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d7d/metadata_8c.html#aa9a693721e493700e27d7fdb0168c2c4">IMB_metadata_get_field</a> (struct <a class="el" href="../../d3/dd9/structImBuf.html">ImBuf</a> *img, const char *key, char *field, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d7d/metadata_8c.html#a394dbd95ab5fc15e21af7f9a27f4c798">IMB_metadata_add_field</a> (struct <a class="el" href="../../d3/dd9/structImBuf.html">ImBuf</a> *img, const char *key, const char *value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d7d/metadata_8c.html#a05e749e1ccae683c172fa1b2aeac1b62">IMB_metadata_del_field</a> (struct <a class="el" href="../../d3/dd9/structImBuf.html">ImBuf</a> *img, const char *key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d7d/metadata_8c.html#a4f20726fa4672b29e4fa9f6dab590efb">IMB_metadata_change_field</a> (struct <a class="el" href="../../d3/dd9/structImBuf.html">ImBuf</a> *img, const char *key, const char *field)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition in file <a class="el" href="../../de/d7d/metadata_8c_source.html">metadata.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a394dbd95ab5fc15e21af7f9a27f4c798"></a><!-- doxytag: member="metadata.c::IMB_metadata_add_field" ref="a394dbd95ab5fc15e21af7f9a27f4c798" args="(struct ImBuf *img, const char *key, const char *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMB_metadata_add_field </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dd9/structImBuf.html">ImBuf</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>set user data in the <a class="el" href="../../d9/d6a/structImMetaData.html">ImMetaData</a> struct, which has to be allocated with IMB_metadata_create before calling this function. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>- the <a class="el" href="../../d3/dd9/structImBuf.html">ImBuf</a> that contains the image data </td></tr>
    <tr><td class="paramname">key</td><td>- the key of the field </td></tr>
    <tr><td class="paramname">value</td><td>- the data to be written to the field. zero terminated string </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- 1 (true) if ImageInfo present, 0 (false) otherwise </dd></dl>

<p>Definition at line <a class="el" href="../../de/d7d/metadata_8c_source.html#l00087">87</a> of file <a class="el" href="../../de/d7d/metadata_8c_source.html">metadata.c</a>.</p>

<p>References <a class="el" href="../../d1/db0/string_8c_source.html#l00052">BLI_strdup()</a>, <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00040">ImMetaData::key</a>, <a class="el" href="../../da/d2b/mallocn_8c_source.html#l00332">MEM_callocN()</a>, <a class="el" href="../../dd/d38/iff_8h_source.html#l00075">ImBuf::metadata</a>, <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00039">ImMetaData::next</a>, and <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00041">ImMetaData::value</a>.</p>

<p>Referenced by <a class="el" href="../../d1/ded/jpeg_8c_source.html#l00273">ibJpegImageFromCinfo()</a>, <a class="el" href="../../dd/d06/png_8c_source.html#l00303">imb_loadpng()</a>, and <a class="el" href="../../de/d7d/metadata_8c_source.html#l00141">IMB_metadata_change_field()</a>.</p>

</div>
</div>
<a class="anchor" id="a4f20726fa4672b29e4fa9f6dab590efb"></a><!-- doxytag: member="metadata.c::IMB_metadata_change_field" ref="a4f20726fa4672b29e4fa9f6dab590efb" args="(struct ImBuf *img, const char *key, const char *field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMB_metadata_change_field </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dd9/structImBuf.html">ImBuf</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>field</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="../../de/d7d/metadata_8c_source.html#l00141">141</a> of file <a class="el" href="../../de/d7d/metadata_8c_source.html">metadata.c</a>.</p>

<p>References <a class="el" href="../../d1/db0/string_8c_source.html#l00052">BLI_strdup()</a>, <a class="el" href="../../de/d7d/metadata_8c_source.html#l00087">IMB_metadata_add_field()</a>, <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00040">ImMetaData::key</a>, <a class="el" href="../../da/d2b/mallocn_8c_source.html#l00581">MEM_freeN()</a>, <a class="el" href="../../dd/d38/iff_8h_source.html#l00075">ImBuf::metadata</a>, <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00039">ImMetaData::next</a>, <a class="el" href="../../dd/d05/noise_8c_source.html#l00393">p</a>, and <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00041">ImMetaData::value</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d10/image_8c_source.html#l01522">BKE_stamp_info()</a>, and <a class="el" href="../../dd/ddb/thumbs_8c_source.html#l00256">IMB_thumb_create()</a>.</p>

</div>
</div>
<a class="anchor" id="a05e749e1ccae683c172fa1b2aeac1b62"></a><!-- doxytag: member="metadata.c::IMB_metadata_del_field" ref="a05e749e1ccae683c172fa1b2aeac1b62" args="(struct ImBuf *img, const char *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMB_metadata_del_field </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dd9/structImBuf.html">ImBuf</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>delete the key/field par in the <a class="el" href="../../d9/d6a/structImMetaData.html">ImMetaData</a> struct. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>- the <a class="el" href="../../d3/dd9/structImBuf.html">ImBuf</a> that contains the image data </td></tr>
    <tr><td class="paramname">key</td><td>- the key of the field </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- 1 (true) if delete the key/field, 0 (false) otherwise </dd></dl>

<p>Definition at line <a class="el" href="../../de/d7d/metadata_8c_source.html#l00114">114</a> of file <a class="el" href="../../de/d7d/metadata_8c_source.html">metadata.c</a>.</p>

<p>References <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00040">ImMetaData::key</a>, <a class="el" href="../../da/d2b/mallocn_8c_source.html#l00581">MEM_freeN()</a>, <a class="el" href="../../dd/d38/iff_8h_source.html#l00075">ImBuf::metadata</a>, <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00039">ImMetaData::next</a>, <a class="el" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h_source.html#l00042">NULL</a>, <a class="el" href="../../dd/d05/noise_8c_source.html#l00393">p</a>, and <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00041">ImMetaData::value</a>.</p>

</div>
</div>
<a class="anchor" id="a766ca7cf0fbbb45efffbbd5d6d914ffb"></a><!-- doxytag: member="metadata.c::IMB_metadata_free" ref="a766ca7cf0fbbb45efffbbd5d6d914ffb" args="(struct ImBuf *img)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IMB_metadata_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dd9/structImBuf.html">ImBuf</a> *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The metadata is a list of key/value pairs (both char*) that can me saved in the header of several image formats. Apart from some common keys like 'Software' and 'Description' (png standard) we'll use keys within the Blender namespace, so should be called 'Blender::StampInfo' or 'Blender::FrameNum' etc... </p>

<p>Definition at line <a class="el" href="../../de/d7d/metadata_8c_source.html#l00046">46</a> of file <a class="el" href="../../de/d7d/metadata_8c_source.html">metadata.c</a>.</p>

<p>References <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00040">ImMetaData::key</a>, <a class="el" href="../../da/d2b/mallocn_8c_source.html#l00581">MEM_freeN()</a>, <a class="el" href="../../dd/d38/iff_8h_source.html#l00075">ImBuf::metadata</a>, <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00039">ImMetaData::next</a>, <a class="el" href="../../d3/d41/mathutils__noise_8c_source.html#l00124">next</a>, and <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00041">ImMetaData::value</a>.</p>

<p>Referenced by <a class="el" href="../../d5/ddb/allocimbuf_8c_source.html#l00151">IMB_freeImBuf()</a>.</p>

</div>
</div>
<a class="anchor" id="aa9a693721e493700e27d7fdb0168c2c4"></a><!-- doxytag: member="metadata.c::IMB_metadata_get_field" ref="aa9a693721e493700e27d7fdb0168c2c4" args="(struct ImBuf *img, const char *key, char *field, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMB_metadata_get_field </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dd9/structImBuf.html">ImBuf</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>read the field from the image info into the field </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>- the <a class="el" href="../../d3/dd9/structImBuf.html">ImBuf</a> that contains the image data </td></tr>
    <tr><td class="paramname">key</td><td>- the key of the field </td></tr>
    <tr><td class="paramname">value</td><td>- the data in the field, first one found with key is returned, memory has to be allocated by user. </td></tr>
    <tr><td class="paramname">len</td><td>- length of value buffer allocated by user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- 1 (true) if ImageInfo present and value for the key found, 0 (false) otherwise </dd></dl>

<p>Definition at line <a class="el" href="../../de/d7d/metadata_8c_source.html#l00065">65</a> of file <a class="el" href="../../de/d7d/metadata_8c_source.html">metadata.c</a>.</p>

<p>References <a class="el" href="../../d1/db0/string_8c_source.html#l00070">BLI_strncpy()</a>, <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00040">ImMetaData::key</a>, <a class="el" href="../../dd/d38/iff_8h_source.html#l00075">ImBuf::metadata</a>, <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00039">ImMetaData::next</a>, and <a class="el" href="../../da/da6/IMB__metadata_8h_source.html#l00041">ImMetaData::value</a>.</p>

<p>Referenced by <a class="el" href="../../dd/ddb/thumbs_8c_source.html#l00432">IMB_thumb_manage()</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Nov 13 2012 11:55:37 for Blender by&#160;
<a href="http://www.doxygen.org/index.html"> 
doxygen</a> 1.7.4 </small></address> 
</body>
</html>
