<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Blender: svm.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blender.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Blender&#160;<span id="projectnumber">V2.6x</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">svm.h</div>  </div>
</div>
<div class="contents">
<a href="../../de/ddd/kernel_2svm_2svm_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright 2011, Blender Foundation.</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This program is free software; you can redistribute it and/or</span>
<a name="l00005"></a>00005 <span class="comment"> * modify it under the terms of the GNU General Public License</span>
<a name="l00006"></a>00006 <span class="comment"> * as published by the Free Software Foundation; either version 2</span>
<a name="l00007"></a>00007 <span class="comment"> * of the License, or (at your option) any later version.</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00010"></a>00010 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00011"></a>00011 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00012"></a>00012 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00015"></a>00015 <span class="comment"> * along with this program; if not, write to the Free Software Foundation,</span>
<a name="l00016"></a>00016 <span class="comment"> * Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.</span>
<a name="l00017"></a>00017 <span class="comment"> */</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="preprocessor">#ifndef __SVM_H__</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor">#define __SVM_H__</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00022"></a>00022 <span class="comment">/* Shader Virtual Machine</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> * A shader is a list of nodes to be executed. These are simply read one after</span>
<a name="l00025"></a>00025 <span class="comment"> * the other and executed, using an node counter. Each node and it&#39;s associated</span>
<a name="l00026"></a>00026 <span class="comment"> * data is encoded as one or more uint4&#39;s in a 1D texture. If the data is larger</span>
<a name="l00027"></a>00027 <span class="comment"> * than an uint4, the node can increase the node counter to compensate for this.</span>
<a name="l00028"></a>00028 <span class="comment"> * Floats are encoded as int and then converted to float again.</span>
<a name="l00029"></a>00029 <span class="comment"> *</span>
<a name="l00030"></a>00030 <span class="comment"> * Nodes write their output into a stack. All stack data in the stack is</span>
<a name="l00031"></a>00031 <span class="comment"> * floats, since it&#39;s all factors, colors and vectors. The stack will be stored</span>
<a name="l00032"></a>00032 <span class="comment"> * in local memory on the GPU, as it would take too many register and indexes in</span>
<a name="l00033"></a>00033 <span class="comment"> * ways not known at compile time. This seems the only solution even though it</span>
<a name="l00034"></a>00034 <span class="comment"> * may be slow, with two positive factors. If the same shader is being executed,</span>
<a name="l00035"></a>00035 <span class="comment"> * memory access will be coalesced, and on fermi cards, memory will actually be</span>
<a name="l00036"></a>00036 <span class="comment"> * cached.</span>
<a name="l00037"></a>00037 <span class="comment"> *</span>
<a name="l00038"></a>00038 <span class="comment"> * The result of shader execution will be a single closure. This means the</span>
<a name="l00039"></a>00039 <span class="comment"> * closure type, associated label, data and weight. Sampling from multiple</span>
<a name="l00040"></a>00040 <span class="comment"> * closures is supported through the mix closure node, the logic for that is</span>
<a name="l00041"></a>00041 <span class="comment"> * mostly taken care of in the SVM compiler.</span>
<a name="l00042"></a>00042 <span class="comment"> */</span>
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="../../de/df0/svm__types_8h.html">svm_types.h</a>&quot;</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#a127a92451281fa5863da396ed5cd581a">CCL_NAMESPACE_BEGIN</a>
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <span class="comment">/* Stack */</span>
<a name="l00049"></a>00049 
<a name="l00050"></a><a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#afab893aa6cc2a1c92a8645babb95f713">00050</a> <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#a903b0c0575c141b97e1b2e980630b5fa">__device_inline</a> <a class="code" href="../../d9/d19/structfloat3.html">float3</a> <a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#afab893aa6cc2a1c92a8645babb95f713">stack_load_float3</a>(<span class="keywordtype">float</span> *<a class="code" href="../../d3/d1a/smemory_8c.html#ab8d3e2ffc5cefd244b83373a93cc692b">stack</a>, <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> a)
<a name="l00051"></a>00051 {
<a name="l00052"></a>00052     <a class="code" href="../../dc/d9e/kernel__compat__cpu_8h.html#a866efec0712485a0f5b56618ae436ec3">kernel_assert</a>(a+2 &lt; <a class="code" href="../../de/df0/svm__types_8h.html#a1495e3ab45cb04e5aba6bafc9fd836c5">SVM_STACK_SIZE</a>);
<a name="l00053"></a>00053 
<a name="l00054"></a>00054     <span class="keywordflow">return</span> <a class="code" href="../../d7/dad/util__types_8h.html#a957c369f48bce1b714e6c7d54130207b">make_float3</a>(stack[a+0], stack[a+1], stack[a+2]);
<a name="l00055"></a>00055 }
<a name="l00056"></a>00056 
<a name="l00057"></a><a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#ac3653e663d0a61d24400254019d2e88a">00057</a> <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#a903b0c0575c141b97e1b2e980630b5fa">__device_inline</a> <span class="keywordtype">void</span> <a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#ac3653e663d0a61d24400254019d2e88a">stack_store_float3</a>(<span class="keywordtype">float</span> *<a class="code" href="../../d3/d1a/smemory_8c.html#ab8d3e2ffc5cefd244b83373a93cc692b">stack</a>, <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> a, <a class="code" href="../../d9/d19/structfloat3.html">float3</a> f)
<a name="l00058"></a>00058 {
<a name="l00059"></a>00059     <a class="code" href="../../dc/d9e/kernel__compat__cpu_8h.html#a866efec0712485a0f5b56618ae436ec3">kernel_assert</a>(a+2 &lt; <a class="code" href="../../de/df0/svm__types_8h.html#a1495e3ab45cb04e5aba6bafc9fd836c5">SVM_STACK_SIZE</a>);
<a name="l00060"></a>00060 
<a name="l00061"></a>00061     stack[a+0] = f.<a class="code" href="../../d9/d19/structfloat3.html#af621f02abb1c788738fe61ea9807ff9c">x</a>;
<a name="l00062"></a>00062     stack[a+1] = f.<a class="code" href="../../d9/d19/structfloat3.html#aa6147d421a81889971f8c66aa92abf0d">y</a>;
<a name="l00063"></a>00063     stack[a+2] = f.<a class="code" href="../../d9/d19/structfloat3.html#a772dffd42d89f350c5a1b766c4703245">z</a>;
<a name="l00064"></a>00064 }
<a name="l00065"></a>00065 
<a name="l00066"></a><a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a5a8b7b7369ee55d9483717c46ecf427f">00066</a> <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#a903b0c0575c141b97e1b2e980630b5fa">__device_inline</a> <span class="keywordtype">float</span> <a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a5a8b7b7369ee55d9483717c46ecf427f">stack_load_float</a>(<span class="keywordtype">float</span> *<a class="code" href="../../d3/d1a/smemory_8c.html#ab8d3e2ffc5cefd244b83373a93cc692b">stack</a>, <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> a)
<a name="l00067"></a>00067 {
<a name="l00068"></a>00068     <a class="code" href="../../dc/d9e/kernel__compat__cpu_8h.html#a866efec0712485a0f5b56618ae436ec3">kernel_assert</a>(a &lt; <a class="code" href="../../de/df0/svm__types_8h.html#a1495e3ab45cb04e5aba6bafc9fd836c5">SVM_STACK_SIZE</a>);
<a name="l00069"></a>00069 
<a name="l00070"></a>00070     <span class="keywordflow">return</span> stack[a];
<a name="l00071"></a>00071 }
<a name="l00072"></a>00072 
<a name="l00073"></a><a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a42ce495d2b2f6bc47b90eb7008c6a7d4">00073</a> <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#a903b0c0575c141b97e1b2e980630b5fa">__device_inline</a> <span class="keywordtype">float</span> <a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a42ce495d2b2f6bc47b90eb7008c6a7d4">stack_load_float_default</a>(<span class="keywordtype">float</span> *<a class="code" href="../../d3/d1a/smemory_8c.html#ab8d3e2ffc5cefd244b83373a93cc692b">stack</a>, <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> a, <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> value)
<a name="l00074"></a>00074 {
<a name="l00075"></a>00075     <span class="keywordflow">return</span> (a == (<a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>)<a class="code" href="../../de/df0/svm__types_8h.html#ac9ca21abfd7e76dc6bd4fc8421641c40">SVM_STACK_INVALID</a>)? <a class="code" href="../../d9/d90/util__math_8h.html#ac9ce7ae1b5293d954bab7162f36ab478">__int_as_float</a>(value): <a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a5a8b7b7369ee55d9483717c46ecf427f">stack_load_float</a>(stack, a);
<a name="l00076"></a>00076 }
<a name="l00077"></a>00077 
<a name="l00078"></a><a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a0c4451c111cc216108d1cae05536236d">00078</a> <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#a903b0c0575c141b97e1b2e980630b5fa">__device_inline</a> <span class="keywordtype">void</span> <a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a0c4451c111cc216108d1cae05536236d">stack_store_float</a>(<span class="keywordtype">float</span> *<a class="code" href="../../d3/d1a/smemory_8c.html#ab8d3e2ffc5cefd244b83373a93cc692b">stack</a>, <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> a, <span class="keywordtype">float</span> f)
<a name="l00079"></a>00079 {
<a name="l00080"></a>00080     <a class="code" href="../../dc/d9e/kernel__compat__cpu_8h.html#a866efec0712485a0f5b56618ae436ec3">kernel_assert</a>(a &lt; <a class="code" href="../../de/df0/svm__types_8h.html#a1495e3ab45cb04e5aba6bafc9fd836c5">SVM_STACK_SIZE</a>);
<a name="l00081"></a>00081 
<a name="l00082"></a>00082     stack[a] = f;
<a name="l00083"></a>00083 }
<a name="l00084"></a>00084 
<a name="l00085"></a><a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#aa8cbe9959676563bc743c1decdaf2e5f">00085</a> <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#a903b0c0575c141b97e1b2e980630b5fa">__device_inline</a> <span class="keywordtype">bool</span> <a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#aa8cbe9959676563bc743c1decdaf2e5f">stack_valid</a>(<a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> a)
<a name="l00086"></a>00086 {
<a name="l00087"></a>00087     <span class="keywordflow">return</span> a != (<a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#ad46b2ebcd4c426b06cda147ddc1001e7">uint</a>)<a class="code" href="../../de/df0/svm__types_8h.html#ac9ca21abfd7e76dc6bd4fc8421641c40">SVM_STACK_INVALID</a>;
<a name="l00088"></a>00088 }
<a name="l00089"></a>00089 
<a name="l00090"></a>00090 <span class="comment">/* Reading Nodes */</span>
<a name="l00091"></a>00091 
<a name="l00092"></a><a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a27d790f54d354157f553dafd25f82ab4">00092</a> <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#a903b0c0575c141b97e1b2e980630b5fa">__device_inline</a> <a class="code" href="../../da/d09/structuint4.html">uint4</a> <a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a27d790f54d354157f553dafd25f82ab4">read_node</a>(KernelGlobals *kg, <span class="keywordtype">int</span> *offset)
<a name="l00093"></a>00093 {
<a name="l00094"></a>00094     <a class="code" href="../../da/d09/structuint4.html">uint4</a> node = <a class="code" href="../../dc/d9e/kernel__compat__cpu_8h.html#ae2fef9c7b0fd15d8b61a1b6ff548f518">kernel_tex_fetch</a>(__svm_nodes, *offset);
<a name="l00095"></a>00095     (*offset)++;
<a name="l00096"></a>00096     <span class="keywordflow">return</span> node;
<a name="l00097"></a>00097 }
<a name="l00098"></a>00098 
<a name="l00099"></a><a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#ac519cd23dc78377b4dabef2be6321b73">00099</a> <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#a903b0c0575c141b97e1b2e980630b5fa">__device_inline</a> <a class="code" href="../../dd/d9d/structfloat4.html">float4</a> <a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#ac519cd23dc78377b4dabef2be6321b73">read_node_float</a>(KernelGlobals *kg, <span class="keywordtype">int</span> *offset)
<a name="l00100"></a>00100 {
<a name="l00101"></a>00101     <a class="code" href="../../da/d09/structuint4.html">uint4</a> node = <a class="code" href="../../dc/d9e/kernel__compat__cpu_8h.html#ae2fef9c7b0fd15d8b61a1b6ff548f518">kernel_tex_fetch</a>(__svm_nodes, *offset);
<a name="l00102"></a>00102     <a class="code" href="../../dd/d9d/structfloat4.html">float4</a> f = <a class="code" href="../../d7/dad/util__types_8h.html#ad9525818d6a0cc831304da5a7a33a519">make_float4</a>(<a class="code" href="../../d9/d90/util__math_8h.html#ac9ce7ae1b5293d954bab7162f36ab478">__int_as_float</a>(node.<a class="code" href="../../da/d09/structuint4.html#a1eaef42c15f1cce507424651b135aa35">x</a>), <a class="code" href="../../d9/d90/util__math_8h.html#ac9ce7ae1b5293d954bab7162f36ab478">__int_as_float</a>(node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>), <a class="code" href="../../d9/d90/util__math_8h.html#ac9ce7ae1b5293d954bab7162f36ab478">__int_as_float</a>(node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>), <a class="code" href="../../d9/d90/util__math_8h.html#ac9ce7ae1b5293d954bab7162f36ab478">__int_as_float</a>(node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>));
<a name="l00103"></a>00103     (*offset)++;
<a name="l00104"></a>00104     <span class="keywordflow">return</span> f;
<a name="l00105"></a>00105 }
<a name="l00106"></a>00106 
<a name="l00107"></a><a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a1af8d58ebbd2065f3490e515c96042c4">00107</a> <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#a903b0c0575c141b97e1b2e980630b5fa">__device_inline</a> <a class="code" href="../../dd/d9d/structfloat4.html">float4</a> <a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a1af8d58ebbd2065f3490e515c96042c4">fetch_node_float</a>(KernelGlobals *kg, <span class="keywordtype">int</span> offset)
<a name="l00108"></a>00108 {
<a name="l00109"></a>00109     <a class="code" href="../../da/d09/structuint4.html">uint4</a> node = <a class="code" href="../../dc/d9e/kernel__compat__cpu_8h.html#ae2fef9c7b0fd15d8b61a1b6ff548f518">kernel_tex_fetch</a>(__svm_nodes, offset);
<a name="l00110"></a>00110     <span class="keywordflow">return</span> <a class="code" href="../../d7/dad/util__types_8h.html#ad9525818d6a0cc831304da5a7a33a519">make_float4</a>(<a class="code" href="../../d9/d90/util__math_8h.html#ac9ce7ae1b5293d954bab7162f36ab478">__int_as_float</a>(node.<a class="code" href="../../da/d09/structuint4.html#a1eaef42c15f1cce507424651b135aa35">x</a>), <a class="code" href="../../d9/d90/util__math_8h.html#ac9ce7ae1b5293d954bab7162f36ab478">__int_as_float</a>(node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>), <a class="code" href="../../d9/d90/util__math_8h.html#ac9ce7ae1b5293d954bab7162f36ab478">__int_as_float</a>(node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>), <a class="code" href="../../d9/d90/util__math_8h.html#ac9ce7ae1b5293d954bab7162f36ab478">__int_as_float</a>(node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>));
<a name="l00111"></a>00111 }
<a name="l00112"></a>00112 
<a name="l00113"></a><a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a65a3bf3486e22f3d5c6c58ecd9be59d3">00113</a> <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#a903b0c0575c141b97e1b2e980630b5fa">__device_inline</a> <span class="keywordtype">void</span> <a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a65a3bf3486e22f3d5c6c58ecd9be59d3">decode_node_uchar4</a>(<a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *x, <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *y, <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *z, <a class="code" href="../../d0/d4b/blender_2imbuf_2intern_2dds_2Common_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *w)
<a name="l00114"></a>00114 {
<a name="l00115"></a>00115     <span class="keywordflow">if</span>(x) *x = (i &amp; 0xFF);
<a name="l00116"></a>00116     <span class="keywordflow">if</span>(y) *y = ((i &gt;&gt; 8) &amp; 0xFF);
<a name="l00117"></a>00117     <span class="keywordflow">if</span>(z) *z = ((i &gt;&gt; 16) &amp; 0xFF);
<a name="l00118"></a>00118     <span class="keywordflow">if</span>(w) *w = ((i &gt;&gt; 24) &amp; 0xFF);
<a name="l00119"></a>00119 }
<a name="l00120"></a>00120 
<a name="l00121"></a>00121 <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#ae0c27e57708248c67409956ddc159e18">CCL_NAMESPACE_END</a>
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 <span class="comment">/* Nodes */</span>
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <span class="preprocessor">#include &quot;<a class="code" href="../../df/d5a/svm__noise_8h.html">svm_noise.h</a>&quot;</span>
<a name="l00126"></a>00126 <span class="preprocessor">#include &quot;<a class="code" href="../../dc/d2a/svm__texture_8h.html">svm_texture.h</a>&quot;</span>
<a name="l00127"></a>00127 
<a name="l00128"></a>00128 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/de3/svm__attribute_8h.html">svm_attribute.h</a>&quot;</span>
<a name="l00129"></a>00129 <span class="preprocessor">#include &quot;<a class="code" href="../../df/d72/svm__gradient_8h.html">svm_gradient.h</a>&quot;</span>
<a name="l00130"></a>00130 <span class="preprocessor">#include &quot;<a class="code" href="../../db/d21/svm__closure_8h.html">svm_closure.h</a>&quot;</span>
<a name="l00131"></a>00131 <span class="preprocessor">#include &quot;<a class="code" href="../../dd/d12/svm__noisetex_8h.html">svm_noisetex.h</a>&quot;</span>
<a name="l00132"></a>00132 <span class="preprocessor">#include &quot;<a class="code" href="../../db/da6/svm__convert_8h.html">svm_convert.h</a>&quot;</span>
<a name="l00133"></a>00133 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/d0b/svm__displace_8h.html">svm_displace.h</a>&quot;</span>
<a name="l00134"></a>00134 <span class="preprocessor">#include &quot;<a class="code" href="../../db/d8d/svm__fresnel_8h.html">svm_fresnel.h</a>&quot;</span>
<a name="l00135"></a>00135 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/dc6/svm__camera_8h.html">svm_camera.h</a>&quot;</span>
<a name="l00136"></a>00136 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/dd9/svm__geometry_8h.html">svm_geometry.h</a>&quot;</span>
<a name="l00137"></a>00137 <span class="preprocessor">#include &quot;<a class="code" href="../../de/ddf/svm__hsv_8h.html">svm_hsv.h</a>&quot;</span>
<a name="l00138"></a>00138 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/d18/svm__image_8h.html">svm_image.h</a>&quot;</span>
<a name="l00139"></a>00139 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/d40/svm__gamma_8h.html">svm_gamma.h</a>&quot;</span>
<a name="l00140"></a>00140 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/d4e/svm__brightness_8h.html">svm_brightness.h</a>&quot;</span>
<a name="l00141"></a>00141 <span class="preprocessor">#include &quot;<a class="code" href="../../d6/d26/svm__invert_8h.html">svm_invert.h</a>&quot;</span>
<a name="l00142"></a>00142 <span class="preprocessor">#include &quot;<a class="code" href="../../d7/d5d/svm__light__path_8h.html">svm_light_path.h</a>&quot;</span>
<a name="l00143"></a>00143 <span class="preprocessor">#include &quot;<a class="code" href="../../d9/d5a/svm__magic_8h.html">svm_magic.h</a>&quot;</span>
<a name="l00144"></a>00144 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/dc1/svm__mapping_8h.html">svm_mapping.h</a>&quot;</span>
<a name="l00145"></a>00145 <span class="preprocessor">#include &quot;<a class="code" href="../../dd/d14/svm__normal_8h.html">svm_normal.h</a>&quot;</span>
<a name="l00146"></a>00146 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/d3a/svm__wave_8h.html">svm_wave.h</a>&quot;</span>
<a name="l00147"></a>00147 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/d97/svm__math_8h.html">svm_math.h</a>&quot;</span>
<a name="l00148"></a>00148 <span class="preprocessor">#include &quot;<a class="code" href="../../db/d32/svm__mix_8h.html">svm_mix.h</a>&quot;</span>
<a name="l00149"></a>00149 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/dde/svm__ramp_8h.html">svm_ramp.h</a>&quot;</span>
<a name="l00150"></a>00150 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/d23/svm__sepcomb__rgb_8h.html">svm_sepcomb_rgb.h</a>&quot;</span>
<a name="l00151"></a>00151 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/d3e/svm__musgrave_8h.html">svm_musgrave.h</a>&quot;</span>
<a name="l00152"></a>00152 <span class="preprocessor">#include &quot;<a class="code" href="../../df/d03/svm__sky_8h.html">svm_sky.h</a>&quot;</span>
<a name="l00153"></a>00153 <span class="preprocessor">#include &quot;<a class="code" href="../../d6/dfe/svm__tex__coord_8h.html">svm_tex_coord.h</a>&quot;</span>
<a name="l00154"></a>00154 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/d48/svm__value_8h.html">svm_value.h</a>&quot;</span>
<a name="l00155"></a>00155 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/dcf/svm__voronoi_8h.html">svm_voronoi.h</a>&quot;</span>
<a name="l00156"></a>00156 <span class="preprocessor">#include &quot;<a class="code" href="../../de/d10/svm__checker_8h.html">svm_checker.h</a>&quot;</span>
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#a127a92451281fa5863da396ed5cd581a">CCL_NAMESPACE_BEGIN</a>
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 <span class="comment">/* Main Interpreter Loop */</span>
<a name="l00161"></a>00161 
<a name="l00162"></a><a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a3cac20119a2fb6340e0656f295906c42">00162</a> <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#a53f746a07f81f0b64e8f6a9c10386615">__device_noinline</a> <span class="keywordtype">void</span> <a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a3cac20119a2fb6340e0656f295906c42">svm_eval_nodes</a>(KernelGlobals *kg, <a class="code" href="../../da/d53/structShaderData.html">ShaderData</a> *sd, <a class="code" href="../../de/df0/svm__types_8h.html#a6230e1b9ecbf2d82d10856fd7e1fde46">ShaderType</a> type, <span class="keywordtype">float</span> randb, <span class="keywordtype">int</span> path_flag)
<a name="l00163"></a>00163 {
<a name="l00164"></a>00164     <span class="keywordtype">float</span> <a class="code" href="../../d3/d1a/smemory_8c.html#ab8d3e2ffc5cefd244b83373a93cc692b">stack</a>[<a class="code" href="../../de/df0/svm__types_8h.html#a1495e3ab45cb04e5aba6bafc9fd836c5">SVM_STACK_SIZE</a>];
<a name="l00165"></a>00165     <span class="keywordtype">float</span> closure_weight = 1.0f;
<a name="l00166"></a>00166     <span class="keywordtype">int</span> offset = sd-&gt;<a class="code" href="../../da/d53/structShaderData.html#a641f7137ff83bbf4f44c8dab7eca9511">shader</a> &amp; <a class="code" href="../../d4/d05/kernel__types_8h.html#a7decd73363c62d0d36932ab4f7dfc5b3adf36f4a52a0396a55e25bad685473119">SHADER_MASK</a>;
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 <span class="preprocessor">#ifdef __MULTI_CLOSURE__</span>
<a name="l00169"></a>00169 <span class="preprocessor"></span>    sd-&gt;<a class="code" href="../../da/d53/structShaderData.html#a361a7cc6f4bacc8dad1e715062e7420a">num_closure</a> = 0;
<a name="l00170"></a>00170     sd-&gt;<a class="code" href="../../da/d53/structShaderData.html#a1c44170580606e75bb4a22e2f83b61ad">randb_closure</a> = randb;
<a name="l00171"></a>00171 <span class="preprocessor">#else</span>
<a name="l00172"></a>00172 <span class="preprocessor"></span>    sd-&gt;<a class="code" href="../../da/d53/structShaderData.html#aa4bed409e850770d7eeec692c7be7710">closure</a>.<a class="code" href="../../d7/d5a/structShaderClosure.html#a3fe64724a556835ccb539452c47dcb0a">type</a> = <a class="code" href="../../de/df0/svm__types_8h.html#ad1cdcc057a39b1c2fd56c8a69e222532ac28efe9cbcdf04e0cdce7e0449f7fb9b">NBUILTIN_CLOSURES</a>;
<a name="l00173"></a>00173 <span class="preprocessor">#endif</span>
<a name="l00174"></a>00174 <span class="preprocessor"></span>
<a name="l00175"></a>00175     <span class="keywordflow">while</span>(1) {
<a name="l00176"></a>00176         <a class="code" href="../../da/d09/structuint4.html">uint4</a> node = <a class="code" href="../../de/ddd/kernel_2svm_2svm_8h.html#a27d790f54d354157f553dafd25f82ab4">read_node</a>(kg, &amp;offset);
<a name="l00177"></a>00177 
<a name="l00178"></a>00178         <span class="keywordflow">switch</span>(node.<a class="code" href="../../da/d09/structuint4.html#a1eaef42c15f1cce507424651b135aa35">x</a>) {
<a name="l00179"></a>00179             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16aa31d5c3685bbcb7831431f4eb8309ad8">NODE_SHADER_JUMP</a>: {
<a name="l00180"></a>00180                 <span class="keywordflow">if</span>(type == <a class="code" href="../../de/df0/svm__types_8h.html#a6230e1b9ecbf2d82d10856fd7e1fde46a8422d11994abcec4aaa540ba386191b2">SHADER_TYPE_SURFACE</a>) offset = node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>;
<a name="l00181"></a>00181                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(type == <a class="code" href="../../de/df0/svm__types_8h.html#a6230e1b9ecbf2d82d10856fd7e1fde46a8984ba9afeb882157e3cb426706529a0">SHADER_TYPE_VOLUME</a>) offset = node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>;
<a name="l00182"></a>00182                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(type == <a class="code" href="../../de/df0/svm__types_8h.html#a6230e1b9ecbf2d82d10856fd7e1fde46ac7b742ce7dfc483dde462b245431e7ad">SHADER_TYPE_DISPLACEMENT</a>) offset = node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>;
<a name="l00183"></a>00183                 <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
<a name="l00184"></a>00184                 <span class="keywordflow">break</span>;
<a name="l00185"></a>00185             }
<a name="l00186"></a>00186             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16ac2aee536a092182afbbfb08e4f3a5846">NODE_CLOSURE_BSDF</a>:
<a name="l00187"></a>00187                 <a class="code" href="../../db/d21/svm__closure_8h.html#ac4fdbc04566f5c94f3ed58a1a4123fa7">svm_node_closure_bsdf</a>(kg, sd, stack, node, randb, path_flag);
<a name="l00188"></a>00188                 <span class="keywordflow">break</span>;
<a name="l00189"></a>00189             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a46387f467cbf7b482dba96a59d84a892">NODE_CLOSURE_EMISSION</a>:
<a name="l00190"></a>00190                 <a class="code" href="../../db/d21/svm__closure_8h.html#ab82cffffdc6ef1e994af83e121b4e03e">svm_node_closure_emission</a>(sd, stack, node);
<a name="l00191"></a>00191                 <span class="keywordflow">break</span>;
<a name="l00192"></a>00192             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a563d33c5d92647e230ad7b3b58ad03e4">NODE_CLOSURE_BACKGROUND</a>:
<a name="l00193"></a>00193                 <a class="code" href="../../db/d21/svm__closure_8h.html#ad3dc279a7e256ee373ff192c8f06ef4b">svm_node_closure_background</a>(sd, stack, node);
<a name="l00194"></a>00194                 <span class="keywordflow">break</span>;
<a name="l00195"></a>00195             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a13b8f5918be5bdec038e086b971ee089">NODE_CLOSURE_HOLDOUT</a>:
<a name="l00196"></a>00196                 <a class="code" href="../../db/d21/svm__closure_8h.html#a396532e9cddba42a9bd7993752a79e9a">svm_node_closure_holdout</a>(sd, stack, node);
<a name="l00197"></a>00197                 <span class="keywordflow">break</span>;
<a name="l00198"></a>00198             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a21fffde8bb5c0bdc9dbaa5a2cb84e18e">NODE_CLOSURE_VOLUME</a>:
<a name="l00199"></a>00199                 <a class="code" href="../../db/d21/svm__closure_8h.html#ac790074d50c722368840647225a81e35">svm_node_closure_volume</a>(kg, sd, stack, node, path_flag);
<a name="l00200"></a>00200                 <span class="keywordflow">break</span>;
<a name="l00201"></a>00201             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a0ff00b624dfa66a68fe5542846708629">NODE_CLOSURE_SET_WEIGHT</a>:
<a name="l00202"></a>00202                 <a class="code" href="../../db/d21/svm__closure_8h.html#a8603200ed90aecbeb641d358ad9617f8">svm_node_closure_set_weight</a>(sd, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>);
<a name="l00203"></a>00203                 <span class="keywordflow">break</span>;
<a name="l00204"></a>00204             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16aac1cc92b90ba6d06de3e7f0fa9ce157c">NODE_CLOSURE_WEIGHT</a>:
<a name="l00205"></a>00205                 <a class="code" href="../../db/d21/svm__closure_8h.html#a46f387f947100ba5d773741f6d6d5d50">svm_node_closure_weight</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>);
<a name="l00206"></a>00206                 <span class="keywordflow">break</span>;
<a name="l00207"></a>00207             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a10021a440c4c9abc16544601e50e3dc3">NODE_EMISSION_WEIGHT</a>:
<a name="l00208"></a>00208                 <a class="code" href="../../db/d21/svm__closure_8h.html#a083ad60dc3187bfce99ae05ac512d95e">svm_node_emission_weight</a>(kg, sd, stack, node);
<a name="l00209"></a>00209                 <span class="keywordflow">break</span>;
<a name="l00210"></a>00210             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a534e1b82ba188ece20ebb515ca4a7c64">NODE_MIX_CLOSURE</a>:
<a name="l00211"></a>00211                 <a class="code" href="../../db/d21/svm__closure_8h.html#afa8f761d2ca4bd4496ee65ade0e784e2">svm_node_mix_closure</a>(sd, stack, node, &amp;offset, &amp;randb);
<a name="l00212"></a>00212                 <span class="keywordflow">break</span>;
<a name="l00213"></a>00213             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a943dbab0d287dfcff9e0b39ee3cb6c1f">NODE_ADD_CLOSURE</a>:
<a name="l00214"></a>00214                 <a class="code" href="../../db/d21/svm__closure_8h.html#ac6d572c4af9f4c22d33d76cb1e7cdc01">svm_node_add_closure</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, &amp;offset, &amp;randb, &amp;closure_weight);
<a name="l00215"></a>00215                 <span class="keywordflow">break</span>;
<a name="l00216"></a>00216             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a1129321fa5d0bfda5b19cceec00bea87">NODE_JUMP</a>:
<a name="l00217"></a>00217                 offset = node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>;
<a name="l00218"></a>00218                 <span class="keywordflow">break</span>;
<a name="l00219"></a>00219 <span class="preprocessor">#ifdef __TEXTURES__</span>
<a name="l00220"></a>00220 <span class="preprocessor"></span>            <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a0b3b012400d769f479847567d9db01b0">NODE_TEX_IMAGE</a>:
<a name="l00221"></a>00221                 <a class="code" href="../../d2/d18/svm__image_8h.html#aeca03dc55731bd84df15f581adaa26a4">svm_node_tex_image</a>(kg, sd, stack, node);
<a name="l00222"></a>00222                 <span class="keywordflow">break</span>;
<a name="l00223"></a>00223             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a4eaabb968dbebbb2eaf98f8d6c21bb0f">NODE_TEX_ENVIRONMENT</a>:
<a name="l00224"></a>00224                 <a class="code" href="../../d2/d18/svm__image_8h.html#aaffe989bcc4eb8fabcf62d6d05acc142">svm_node_tex_environment</a>(kg, sd, stack, node);
<a name="l00225"></a>00225                 <span class="keywordflow">break</span>;
<a name="l00226"></a>00226             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16ae5ed3af7881001fb6a51f322e3e8aa84">NODE_TEX_SKY</a>:
<a name="l00227"></a>00227                 <a class="code" href="../../df/d03/svm__sky_8h.html#ab348cbc374de41b7360a68a26229e4dd">svm_node_tex_sky</a>(kg, sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>);
<a name="l00228"></a>00228                 <span class="keywordflow">break</span>;
<a name="l00229"></a>00229             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16aba20568859edb86e7e072fcdec43bbe6">NODE_TEX_GRADIENT</a>:
<a name="l00230"></a>00230                 <a class="code" href="../../df/d72/svm__gradient_8h.html#a9379fb5c59a6441a72cdef4b7cf827c0">svm_node_tex_gradient</a>(sd, stack, node);
<a name="l00231"></a>00231                 <span class="keywordflow">break</span>;
<a name="l00232"></a>00232             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16aede1e6883c26578790d1ded6813dd416">NODE_TEX_NOISE</a>:
<a name="l00233"></a>00233                 <a class="code" href="../../dd/d12/svm__noisetex_8h.html#ab4d4913fbac5a69cf6f1aff2218ef447">svm_node_tex_noise</a>(kg, sd, stack, node, &amp;offset);
<a name="l00234"></a>00234                 <span class="keywordflow">break</span>;
<a name="l00235"></a>00235             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16af2db45cae77d103e3f4b711471972828">NODE_TEX_VORONOI</a>:
<a name="l00236"></a>00236                 <a class="code" href="../../d1/dcf/svm__voronoi_8h.html#a49f0ab1bd68b6512ca134e037c9b1656">svm_node_tex_voronoi</a>(kg, sd, stack, node, &amp;offset);
<a name="l00237"></a>00237                 <span class="keywordflow">break</span>;
<a name="l00238"></a>00238             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a31c221a4798a4229cd490bef05cb87dd">NODE_TEX_MUSGRAVE</a>:
<a name="l00239"></a>00239                 <a class="code" href="../../d5/d3e/svm__musgrave_8h.html#a382a3079d4300f4055e92c95df1c8817">svm_node_tex_musgrave</a>(kg, sd, stack, node, &amp;offset);
<a name="l00240"></a>00240                 <span class="keywordflow">break</span>;
<a name="l00241"></a>00241             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a4625ba71f71beec182eb912a997dea0c">NODE_TEX_WAVE</a>:
<a name="l00242"></a>00242                 <a class="code" href="../../d4/d3a/svm__wave_8h.html#a206cbdb1b274ae57872dab7dded4b8ea">svm_node_tex_wave</a>(kg, sd, stack, node, &amp;offset);
<a name="l00243"></a>00243                 <span class="keywordflow">break</span>;
<a name="l00244"></a>00244             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a6a1ac9d488b3959cfe587214d08f48d2">NODE_TEX_MAGIC</a>:
<a name="l00245"></a>00245                 <a class="code" href="../../d9/d5a/svm__magic_8h.html#abeb955cd02f2a0d9aef92c8ce36c9f2a">svm_node_tex_magic</a>(kg, sd, stack, node, &amp;offset);
<a name="l00246"></a>00246                 <span class="keywordflow">break</span>;
<a name="l00247"></a>00247             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a79825557244561861f9ec008ab74feb9">NODE_TEX_CHECKER</a>:
<a name="l00248"></a>00248                 <a class="code" href="../../de/d10/svm__checker_8h.html#a0d046838fb7c054cc5cb55154d1803a5">svm_node_tex_checker</a>(kg, sd, stack, node, &amp;offset);
<a name="l00249"></a>00249                 <span class="keywordflow">break</span>;
<a name="l00250"></a>00250 <span class="preprocessor">#endif</span>
<a name="l00251"></a>00251 <span class="preprocessor"></span>            <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a63d0aec78af004c87b386c920d93ec6a">NODE_CAMERA</a>:
<a name="l00252"></a>00252                 <a class="code" href="../../d5/dc6/svm__camera_8h.html#a6d5f8b8fd2c7252a647a3dcf78318088">svm_node_camera</a>(kg, sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>);
<a name="l00253"></a>00253                 <span class="keywordflow">break</span>;
<a name="l00254"></a>00254             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a0eb1d5110d1fec639d0ae405d26cd93e">NODE_GEOMETRY</a>:
<a name="l00255"></a>00255                 <a class="code" href="../../d4/dd9/svm__geometry_8h.html#ab756b2ad01da9cfaa41135419199ac24">svm_node_geometry</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>);
<a name="l00256"></a>00256                 <span class="keywordflow">break</span>;
<a name="l00257"></a>00257             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16adfc152b2328abf6f6ab9a91cc64811f2">NODE_GEOMETRY_BUMP_DX</a>:
<a name="l00258"></a>00258                 <a class="code" href="../../d4/dd9/svm__geometry_8h.html#ac55f533c8d7cb916ec7162c544ff5584">svm_node_geometry_bump_dx</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>);
<a name="l00259"></a>00259                 <span class="keywordflow">break</span>;
<a name="l00260"></a>00260             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a87645d2a75b3896d206313a3afddde9b">NODE_GEOMETRY_BUMP_DY</a>:
<a name="l00261"></a>00261                 <a class="code" href="../../d4/dd9/svm__geometry_8h.html#a878a7cb4dfd58fc28356360110984900">svm_node_geometry_bump_dy</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>);
<a name="l00262"></a>00262                 <span class="keywordflow">break</span>;
<a name="l00263"></a>00263             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16aff091c6763ce82e15dff77e772cd26e4">NODE_LIGHT_PATH</a>:
<a name="l00264"></a>00264                 <a class="code" href="../../d7/d5d/svm__light__path_8h.html#a5ae7a2b6d01048aeb792aa77b32f3045">svm_node_light_path</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, path_flag);
<a name="l00265"></a>00265                 <span class="keywordflow">break</span>;
<a name="l00266"></a>00266             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a5df1d087b2fe5dc556af69e45e5af361">NODE_CONVERT</a>:
<a name="l00267"></a>00267                 <a class="code" href="../../db/da6/svm__convert_8h.html#a992dcbc9d6de4e675c7f1d051f2bdb67">svm_node_convert</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>);
<a name="l00268"></a>00268                 <span class="keywordflow">break</span>;
<a name="l00269"></a>00269             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a74b4e89b819333475af3268bbe7b86ca">NODE_VALUE_F</a>:
<a name="l00270"></a>00270                 <a class="code" href="../../d5/d48/svm__value_8h.html#a2fc58d077ea34d1ae2a8b0622916b4e6">svm_node_value_f</a>(kg, sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>);
<a name="l00271"></a>00271                 <span class="keywordflow">break</span>;
<a name="l00272"></a>00272             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a40d514991ccbee25b563a5fbc9bd04f9">NODE_VALUE_V</a>:
<a name="l00273"></a>00273                 <a class="code" href="../../d5/d48/svm__value_8h.html#a8f5c6a2947f007b6498426b41ed2a469">svm_node_value_v</a>(kg, sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, &amp;offset);
<a name="l00274"></a>00274                 <span class="keywordflow">break</span>;
<a name="l00275"></a>00275             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a39a8a5a8f8a28c217ad24fd428fc76e8">NODE_INVERT</a>:
<a name="l00276"></a>00276                 <a class="code" href="../../d6/d26/svm__invert_8h.html#a52a3593f96e2173551d657e41afd95ca">svm_node_invert</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>);
<a name="l00277"></a>00277                 <span class="keywordflow">break</span>;
<a name="l00278"></a>00278             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16ab05f569d9e5019cf31a9d52f2a38959e">NODE_GAMMA</a>:
<a name="l00279"></a>00279                 <a class="code" href="../../d5/d40/svm__gamma_8h.html#a2b17652b5306b58e8fafef5e528d833b">svm_node_gamma</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>);
<a name="l00280"></a>00280                 <span class="keywordflow">break</span>;
<a name="l00281"></a>00281             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a670cce840712c565b911485a3c3a3b47">NODE_BRIGHTCONTRAST</a>:
<a name="l00282"></a>00282                 <a class="code" href="../../d2/d4e/svm__brightness_8h.html#a26f3863a92dfdc4b49024393ce9133e6">svm_node_brightness</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>);
<a name="l00283"></a>00283                 <span class="keywordflow">break</span>;
<a name="l00284"></a>00284             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a326b26b2122495e0f44744877843013e">NODE_MIX</a>:
<a name="l00285"></a>00285                 <a class="code" href="../../db/d32/svm__mix_8h.html#a0e476882072b4ca7541921bd6e8056a1">svm_node_mix</a>(kg, sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>, &amp;offset);
<a name="l00286"></a>00286                 <span class="keywordflow">break</span>;
<a name="l00287"></a>00287             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a832862557b47180480dbe922a90ad554">NODE_SEPARATE_RGB</a>:
<a name="l00288"></a>00288                 <a class="code" href="../../d4/d23/svm__sepcomb__rgb_8h.html#a6f236d870b9c4e9f45acb51cc2bce64c">svm_node_separate_rgb</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>);
<a name="l00289"></a>00289                 <span class="keywordflow">break</span>;
<a name="l00290"></a>00290             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16ad2fd4e044c9c18c10321aca9d4168012">NODE_COMBINE_RGB</a>:
<a name="l00291"></a>00291                 <a class="code" href="../../d4/d23/svm__sepcomb__rgb_8h.html#a7466aa652735408172de72d1c195877d">svm_node_combine_rgb</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>);
<a name="l00292"></a>00292                 <span class="keywordflow">break</span>;
<a name="l00293"></a>00293             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a58a3ceddb36e4a82babe8d62418bd463">NODE_HSV</a>:
<a name="l00294"></a>00294                 <a class="code" href="../../de/ddf/svm__hsv_8h.html#a23786cdd2c07df126b44cdcc91aa28df">svm_node_hsv</a>(kg, sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>, &amp;offset);
<a name="l00295"></a>00295                 <span class="keywordflow">break</span>;
<a name="l00296"></a>00296             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a9f8fcd3c4783876c077d34350b6a211a">NODE_ATTR</a>:
<a name="l00297"></a>00297                 <a class="code" href="../../d3/de3/svm__attribute_8h.html#a653f2f38e6acaaca5ddf7e969e1636e9">svm_node_attr</a>(kg, sd, stack, node);
<a name="l00298"></a>00298                 <span class="keywordflow">break</span>;
<a name="l00299"></a>00299             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a8a76ab2f09e152077f57f2da6b89612d">NODE_ATTR_BUMP_DX</a>:
<a name="l00300"></a>00300                 <a class="code" href="../../d3/de3/svm__attribute_8h.html#a2a716960f51ba7054d449846597a58dd">svm_node_attr_bump_dx</a>(kg, sd, stack, node);
<a name="l00301"></a>00301                 <span class="keywordflow">break</span>;
<a name="l00302"></a>00302             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16aca9564e51b45601f144869a0c412a717">NODE_ATTR_BUMP_DY</a>:
<a name="l00303"></a>00303                 <a class="code" href="../../d3/de3/svm__attribute_8h.html#a7d0f61489776fa0db385c2e2b9aef0bd">svm_node_attr_bump_dy</a>(kg, sd, stack, node);
<a name="l00304"></a>00304                 <span class="keywordflow">break</span>;
<a name="l00305"></a>00305             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a6dcd4387bb5884bf65e11e85c1a91265">NODE_FRESNEL</a>:
<a name="l00306"></a>00306                 <a class="code" href="../../db/d8d/svm__fresnel_8h.html#a61e4f338e72611500d3bef30299530d1">svm_node_fresnel</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>);
<a name="l00307"></a>00307                 <span class="keywordflow">break</span>;
<a name="l00308"></a>00308             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a7f64a107a789848e2269bedcc0794cd1">NODE_LAYER_WEIGHT</a>:
<a name="l00309"></a>00309                 <a class="code" href="../../db/d8d/svm__fresnel_8h.html#a67e62e17f5bbdadbd03541a4dd137e6b">svm_node_layer_weight</a>(sd, stack, node);
<a name="l00310"></a>00310                 <span class="keywordflow">break</span>;
<a name="l00311"></a>00311             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a3cd7dac0a262d611995f1a79f1f81d4b">NODE_SET_DISPLACEMENT</a>:
<a name="l00312"></a>00312                 <a class="code" href="../../d4/d0b/svm__displace_8h.html#ab8ced8aaab9694b14c91b9765a5545f7">svm_node_set_displacement</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>);
<a name="l00313"></a>00313                 <span class="keywordflow">break</span>;
<a name="l00314"></a>00314             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a1ec944bdfa35ac14c1eeba7de16e7a08">NODE_SET_BUMP</a>:
<a name="l00315"></a>00315                 <a class="code" href="../../d4/d0b/svm__displace_8h.html#aef619453dda5c6ca62f70af338f91555">svm_node_set_bump</a>(sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>);
<a name="l00316"></a>00316                 <span class="keywordflow">break</span>;
<a name="l00317"></a>00317             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a4c61eaa921b47f391145fdd076daecb7">NODE_MATH</a>:
<a name="l00318"></a>00318                 <a class="code" href="../../d8/d97/svm__math_8h.html#a10e9e5b33a9d6784ca3386268099d8c5">svm_node_math</a>(kg, sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>, &amp;offset);
<a name="l00319"></a>00319                 <span class="keywordflow">break</span>;
<a name="l00320"></a>00320             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a8794b53ecf98aaeb5e434f10dcffb335">NODE_VECTOR_MATH</a>:
<a name="l00321"></a>00321                 <a class="code" href="../../d8/d97/svm__math_8h.html#a0b3ac5a3165149aa465397cdf85d0764">svm_node_vector_math</a>(kg, sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>, &amp;offset);
<a name="l00322"></a>00322                 <span class="keywordflow">break</span>;
<a name="l00323"></a>00323             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a36cb9de51e36cd015ac75b4d8a755044">NODE_NORMAL</a>:
<a name="l00324"></a>00324                 <a class="code" href="../../dd/d14/svm__normal_8h.html#a1ce58821225b61408142f5e0240cdbf6">svm_node_normal</a>(kg, sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>, &amp;offset);
<a name="l00325"></a>00325                 <span class="keywordflow">break</span>;
<a name="l00326"></a>00326             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a6451ecc06d7d4704e49f4520961481d9">NODE_MAPPING</a>:
<a name="l00327"></a>00327                 <a class="code" href="../../d2/dc1/svm__mapping_8h.html#a98a45f997d54c3707b6123d1d9b1300c">svm_node_mapping</a>(kg, sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, &amp;offset);
<a name="l00328"></a>00328                 <span class="keywordflow">break</span>;
<a name="l00329"></a>00329             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16ad04f5f2e46586be0218a0434058f865f">NODE_TEX_COORD</a>:
<a name="l00330"></a>00330                 <a class="code" href="../../d6/dfe/svm__tex__coord_8h.html#a93b82b99a647c3d10ecf4c17eed77d92">svm_node_tex_coord</a>(kg, sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>);
<a name="l00331"></a>00331                 <span class="keywordflow">break</span>;
<a name="l00332"></a>00332             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16aa186545dc7d57cc40799d8f8b72e8a8e">NODE_TEX_COORD_BUMP_DX</a>:
<a name="l00333"></a>00333                 <a class="code" href="../../d6/dfe/svm__tex__coord_8h.html#aab9a1ce9ce4daea7104ce0acc9c50644">svm_node_tex_coord_bump_dx</a>(kg, sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>);
<a name="l00334"></a>00334                 <span class="keywordflow">break</span>;
<a name="l00335"></a>00335             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a610fd6e409281495f0668959a2040073">NODE_TEX_COORD_BUMP_DY</a>:
<a name="l00336"></a>00336                 <a class="code" href="../../d6/dfe/svm__tex__coord_8h.html#ab58a05df1de6984b1fe96c67b356de89">svm_node_tex_coord_bump_dy</a>(kg, sd, stack, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>);
<a name="l00337"></a>00337                 <span class="keywordflow">break</span>;
<a name="l00338"></a>00338             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a80a4584d23de2072496af2202216a3af">NODE_EMISSION_SET_WEIGHT_TOTAL</a>:
<a name="l00339"></a>00339                 <a class="code" href="../../db/d21/svm__closure_8h.html#a8d5872527eafe1c3c0aacd4c4ddcac8e">svm_node_emission_set_weight_total</a>(kg, sd, node.<a class="code" href="../../da/d09/structuint4.html#a46d6aabe879f6a70a68535bdb89c0f0a">y</a>, node.<a class="code" href="../../da/d09/structuint4.html#acc37cf324e31e1b504e3b5e8bb5560e5">z</a>, node.<a class="code" href="../../da/d09/structuint4.html#aed60a1ceeffe013097fff51a6292eebc">w</a>);
<a name="l00340"></a>00340                 <span class="keywordflow">break</span>;
<a name="l00341"></a>00341             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16af2ed690d205ac3af5d6bc01ee30837d8">NODE_RGB_RAMP</a>:
<a name="l00342"></a>00342                 <a class="code" href="../../d8/dde/svm__ramp_8h.html#a3a7e49a72237356a5960d5ff492c1d55">svm_node_rgb_ramp</a>(kg, sd, stack, node, &amp;offset);
<a name="l00343"></a>00343                 <span class="keywordflow">break</span>;
<a name="l00344"></a>00344             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16aebad474bfe9aafb67229555e12d2953c">NODE_RGB_CURVES</a>:
<a name="l00345"></a>00345                 <a class="code" href="../../d8/dde/svm__ramp_8h.html#ad60ccdaa68e88ba2b53a80ef01418887">svm_node_rgb_curves</a>(kg, sd, stack, node, &amp;offset);
<a name="l00346"></a>00346                 <span class="keywordflow">break</span>;
<a name="l00347"></a>00347             <span class="keywordflow">case</span> <a class="code" href="../../de/df0/svm__types_8h.html#acac9cbaeea226ed297804c012dc12b16a6b0e05f82c94e3e8047f96e0c9dffb13">NODE_END</a>:
<a name="l00348"></a>00348             <span class="keywordflow">default</span>:
<a name="l00349"></a>00349 <span class="preprocessor">#ifndef __MULTI_CLOSURE__</span>
<a name="l00350"></a>00350 <span class="preprocessor"></span>                sd-&gt;<a class="code" href="../../da/d53/structShaderData.html#aa4bed409e850770d7eeec692c7be7710">closure</a>.<a class="code" href="../../d7/d5a/structShaderClosure.html#a03a0bb75d7330bce5e9d9bebd78d1e0a">weight</a> *= closure_weight;
<a name="l00351"></a>00351 <span class="preprocessor">#endif</span>
<a name="l00352"></a>00352 <span class="preprocessor"></span>                <span class="keywordflow">return</span>;
<a name="l00353"></a>00353         }
<a name="l00354"></a>00354     }
<a name="l00355"></a>00355 }
<a name="l00356"></a>00356 
<a name="l00357"></a>00357 <a class="code" href="../../d5/d05/kernel__compat__cuda_8h.html#ae0c27e57708248c67409956ddc159e18">CCL_NAMESPACE_END</a>
<a name="l00358"></a>00358 
<a name="l00359"></a>00359 <span class="preprocessor">#endif </span><span class="comment">/* __SVM_H__ */</span>
<a name="l00360"></a>00360 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Nov 13 2012 11:54:58 for Blender by&#160;
<a href="http://www.doxygen.org/index.html"> 
doxygen</a> 1.7.4 </small></address> 
</body>
</html>
