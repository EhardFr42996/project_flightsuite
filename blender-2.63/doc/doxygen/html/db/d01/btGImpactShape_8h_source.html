<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Blender: btGImpactShape.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blender.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Blender&#160;<span id="projectnumber">V2.6x</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">btGImpactShape.h</div>  </div>
</div>
<div class="contents">
<a href="../../db/d01/btGImpactShape_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00004"></a>00004 <span class="comment">/*</span>
<a name="l00005"></a>00005 <span class="comment">This source file is part of GIMPACT Library.</span>
<a name="l00006"></a>00006 <span class="comment"></span>
<a name="l00007"></a>00007 <span class="comment">For the latest info, see http://gimpact.sourceforge.net/</span>
<a name="l00008"></a>00008 <span class="comment"></span>
<a name="l00009"></a>00009 <span class="comment">Copyright (c) 2007 Francisco Leon Najera. C.C. 80087371.</span>
<a name="l00010"></a>00010 <span class="comment">email: projectileman@yahoo.com</span>
<a name="l00011"></a>00011 <span class="comment"></span>
<a name="l00012"></a>00012 <span class="comment"></span>
<a name="l00013"></a>00013 <span class="comment">This software is provided &#39;as-is&#39;, without any express or implied warranty.</span>
<a name="l00014"></a>00014 <span class="comment">In no event will the authors be held liable for any damages arising from the use of this software.</span>
<a name="l00015"></a>00015 <span class="comment">Permission is granted to anyone to use this software for any purpose,</span>
<a name="l00016"></a>00016 <span class="comment">including commercial applications, and to alter it and redistribute it freely,</span>
<a name="l00017"></a>00017 <span class="comment">subject to the following restrictions:</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="comment">1. The origin of this software must not be misrepresented; you must not claim that you wrote the original software. If you use this software in a product, an acknowledgment in the product documentation would be appreciated but is not required.</span>
<a name="l00020"></a>00020 <span class="comment">2. Altered source versions must be plainly marked as such, and must not be misrepresented as being the original software.</span>
<a name="l00021"></a>00021 <span class="comment">3. This notice may not be removed or altered from any source distribution.</span>
<a name="l00022"></a>00022 <span class="comment">*/</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#ifndef GIMPACT_SHAPE_H</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#define GIMPACT_SHAPE_H</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="../../df/d1a/btCollisionShape_8h.html">BulletCollision/CollisionShapes/btCollisionShape.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/d8f/btTriangleShape_8h.html">BulletCollision/CollisionShapes/btTriangleShape.h</a>&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="../../df/d36/btStridingMeshInterface_8h.html">BulletCollision/CollisionShapes/btStridingMeshInterface.h</a>&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="../../d9/d2e/btCollisionMargin_8h.html">BulletCollision/CollisionShapes/btCollisionMargin.h</a>&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/dde/btCollisionWorld_8h.html">BulletCollision/CollisionDispatch/btCollisionWorld.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/d74/btConcaveShape_8h.html">BulletCollision/CollisionShapes/btConcaveShape.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/dac/btTetrahedronShape_8h.html">BulletCollision/CollisionShapes/btTetrahedronShape.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/dd0/btVector3_8h.html">LinearMath/btVector3.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="../../dd/df6/btTransform_8h.html">LinearMath/btTransform.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="../../d7/d66/btMatrix3x3_8h.html">LinearMath/btMatrix3x3.h</a>&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;<a class="code" href="../../d6/d54/btAlignedObjectArray_8h.html">LinearMath/btAlignedObjectArray.h</a>&quot;</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;<a class="code" href="../../d0/d5f/btGImpactQuantizedBvh_8h.html">btGImpactQuantizedBvh.h</a>&quot;</span> <span class="comment">// box tree class</span>
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 
<a name="l00044"></a><a class="code" href="../../db/d01/btGImpactShape_8h.html#a9fcdf1a76bb3d1affed81432e4e4ab68">00044</a> <span class="keyword">typedef</span> <a class="code" href="../../d3/da9/classbtGImpactQuantizedBvh.html" title="Structure for containing Boxes.">btGImpactQuantizedBvh</a> <a class="code" href="../../db/d01/btGImpactShape_8h.html#a9fcdf1a76bb3d1affed81432e4e4ab68" title="declare Quantized trees, (you can change to float based trees)">btGImpactBoxSet</a>;
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3">00046</a> <span class="keyword">enum</span> <a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3">eGIMPACT_SHAPE_TYPE</a>
<a name="l00047"></a>00047 {
<a name="l00048"></a><a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3acceebec0d0e63c9974e62b5b74f6ba22">00048</a>     <a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3acceebec0d0e63c9974e62b5b74f6ba22">CONST_GIMPACT_COMPOUND_SHAPE</a> = 0,
<a name="l00049"></a><a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3a8f22fe8d6100250b0eca07c2819d883a">00049</a>     <a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3a8f22fe8d6100250b0eca07c2819d883a">CONST_GIMPACT_TRIMESH_SHAPE_PART</a>,
<a name="l00050"></a><a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3a5dedcc5431f9c3bf41b9599f7fbe88d3">00050</a>     <a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3a5dedcc5431f9c3bf41b9599f7fbe88d3">CONST_GIMPACT_TRIMESH_SHAPE</a>
<a name="l00051"></a>00051 };
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 
<a name="l00055"></a><a class="code" href="../../d0/db5/classbtTetrahedronShapeEx.html">00055</a> <span class="keyword">class </span><a class="code" href="../../d0/db5/classbtTetrahedronShapeEx.html" title="Helper class for tetrahedrons.">btTetrahedronShapeEx</a>:<span class="keyword">public</span> <a class="code" href="../../d1/d81/classbtBU__Simplex1to4.html" title="The btBU_Simplex1to4 implements tetrahedron, triangle, line, vertex collision shapes. In most cases it is better to use btConvexHullShape instead.">btBU_Simplex1to4</a>
<a name="l00056"></a>00056 {
<a name="l00057"></a>00057 <span class="keyword">public</span>:
<a name="l00058"></a><a class="code" href="../../d0/db5/classbtTetrahedronShapeEx.html#a93aeac318b25350e7e0016d71603c1e5">00058</a>     <a class="code" href="../../d0/db5/classbtTetrahedronShapeEx.html#a93aeac318b25350e7e0016d71603c1e5">btTetrahedronShapeEx</a>()
<a name="l00059"></a>00059     {
<a name="l00060"></a>00060         <a class="code" href="../../d1/d81/classbtBU__Simplex1to4.html#ad827f5f6a90f5962d04077b7a7a6439d">m_numVertices</a> = 4;
<a name="l00061"></a>00061     }
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 
<a name="l00064"></a><a class="code" href="../../d0/db5/classbtTetrahedronShapeEx.html#aedc474fcbdbcae1d02e09547a7b67319">00064</a>     <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="../../d0/db5/classbtTetrahedronShapeEx.html#aedc474fcbdbcae1d02e09547a7b67319">setVertices</a>(
<a name="l00065"></a>00065         <span class="keyword">const</span> btVector3 &amp; v0,<span class="keyword">const</span> btVector3 &amp; v1,
<a name="l00066"></a>00066         <span class="keyword">const</span> btVector3 &amp; v2,<span class="keyword">const</span> btVector3 &amp; v3)
<a name="l00067"></a>00067     {
<a name="l00068"></a>00068         <a class="code" href="../../d1/d81/classbtBU__Simplex1to4.html#a7c799686cb2f608c98a35a7670f4e876">m_vertices</a>[0] = v0;
<a name="l00069"></a>00069         <a class="code" href="../../d1/d81/classbtBU__Simplex1to4.html#a7c799686cb2f608c98a35a7670f4e876">m_vertices</a>[1] = v1;
<a name="l00070"></a>00070         <a class="code" href="../../d1/d81/classbtBU__Simplex1to4.html#a7c799686cb2f608c98a35a7670f4e876">m_vertices</a>[2] = v2;
<a name="l00071"></a>00071         <a class="code" href="../../d1/d81/classbtBU__Simplex1to4.html#a7c799686cb2f608c98a35a7670f4e876">m_vertices</a>[3] = v3;
<a name="l00072"></a>00072         <a class="code" href="../../de/dd1/classbtPolyhedralConvexAabbCachingShape.html#a087f6944dc205a325e0d1e8f79968289">recalcLocalAabb</a>();
<a name="l00073"></a>00073     }
<a name="l00074"></a>00074 };
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 
<a name="l00078"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html">00078</a> <span class="keyword">class </span><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html" title="Base class for gimpact shapes.">btGImpactShapeInterface</a> : <span class="keyword">public</span> <a class="code" href="../../d7/da0/classbtConcaveShape.html">btConcaveShape</a>
<a name="l00079"></a>00079 {
<a name="l00080"></a>00080 <span class="keyword">protected</span>:
<a name="l00081"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac64c6cc7924e11e775e3448adca114c9">00081</a>     btAABB <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac64c6cc7924e11e775e3448adca114c9">m_localAABB</a>;
<a name="l00082"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a8d7b7a78a8c65d3339d93fbf607a0d20">00082</a>     <span class="keywordtype">bool</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a8d7b7a78a8c65d3339d93fbf607a0d20">m_needs_update</a>;
<a name="l00083"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a1d26e1da7195c7e3308a341cdff8b691">00083</a>     btVector3  <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a1d26e1da7195c7e3308a341cdff8b691">localScaling</a>;
<a name="l00084"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a52b446c99038ce5614e6839479958910">00084</a>     <a class="code" href="../../d3/da9/classbtGImpactQuantizedBvh.html" title="Structure for containing Boxes.">btGImpactBoxSet</a> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a52b446c99038ce5614e6839479958910">m_box_set</a>;<span class="comment">// optionally boxset</span>
<a name="l00085"></a>00085 
<a name="l00088"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a1712a4613e20aa9249514dcd97f0a086">00088</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a1712a4613e20aa9249514dcd97f0a086">calcLocalAABB</a>()
<a name="l00089"></a>00089     {
<a name="l00090"></a>00090         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ae5de49e788c97a954ab9f2bde16adf60" title="call when reading child shapes">lockChildShapes</a>();
<a name="l00091"></a>00091         <span class="keywordflow">if</span>(<a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a52b446c99038ce5614e6839479958910">m_box_set</a>.<a class="code" href="../../d3/da9/classbtGImpactQuantizedBvh.html#a5ffe3a11330ab3bce0d6eaffb9b3f689" title="node count">getNodeCount</a>() == 0)
<a name="l00092"></a>00092         {
<a name="l00093"></a>00093             <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a52b446c99038ce5614e6839479958910">m_box_set</a>.<a class="code" href="../../d3/da9/classbtGImpactQuantizedBvh.html#a2f061fbf0c6d8a81438861be4add7968" title="this rebuild the entire set">buildSet</a>();
<a name="l00094"></a>00094         }
<a name="l00095"></a>00095         <span class="keywordflow">else</span>
<a name="l00096"></a>00096         {
<a name="l00097"></a>00097             <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a52b446c99038ce5614e6839479958910">m_box_set</a>.<a class="code" href="../../d3/da9/classbtGImpactQuantizedBvh.html#a71665f5245b8f7de1c54f107ef262cd0" title="this attemps to refit the box set.">update</a>();
<a name="l00098"></a>00098         }
<a name="l00099"></a>00099         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac7da336fdb3165c1d086c766fe42114e" title="Base method for determinig which kind of GIMPACT shape we get.">unlockChildShapes</a>();
<a name="l00100"></a>00100 
<a name="l00101"></a>00101         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac64c6cc7924e11e775e3448adca114c9">m_localAABB</a> = <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a52b446c99038ce5614e6839479958910">m_box_set</a>.<a class="code" href="../../d3/da9/classbtGImpactQuantizedBvh.html#af2309fdcd1f0cb289a64c64864c29459">getGlobalBox</a>();
<a name="l00102"></a>00102     }
<a name="l00103"></a>00103 
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 <span class="keyword">public</span>:
<a name="l00106"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#aaf745ec0f256894b021f18bd2ac76505">00106</a>     <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#aaf745ec0f256894b021f18bd2ac76505">btGImpactShapeInterface</a>()
<a name="l00107"></a>00107     {
<a name="l00108"></a>00108         <a class="code" href="../../d7/dd7/classbtCollisionShape.html#aa33ae4887d89a3be4fc2d66bb17f754b">m_shapeType</a>=<a class="code" href="../../d2/d3d/btBroadphaseProxy_8h.html#a629e290d766e52966199b687a537ba5ea2bb1dfd4cf1673309dedf595e8c39e3a" title="Used for GIMPACT Trimesh integration.">GIMPACT_SHAPE_PROXYTYPE</a>;
<a name="l00109"></a>00109         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac64c6cc7924e11e775e3448adca114c9">m_localAABB</a>.invalidate();
<a name="l00110"></a>00110         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a8d7b7a78a8c65d3339d93fbf607a0d20">m_needs_update</a> = <span class="keyword">true</span>;
<a name="l00111"></a>00111         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a1d26e1da7195c7e3308a341cdff8b691">localScaling</a>.setValue(1.f,1.f,1.f);
<a name="l00112"></a>00112     }
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 
<a name="l00116"></a>00116 
<a name="l00122"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#acb26c2d7a2aecabd06b996b72b848492">00122</a>     <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#acb26c2d7a2aecabd06b996b72b848492" title="performs refit operation">updateBound</a>()
<a name="l00123"></a>00123     {
<a name="l00124"></a>00124         <span class="keywordflow">if</span>(!<a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a8d7b7a78a8c65d3339d93fbf607a0d20">m_needs_update</a>) <span class="keywordflow">return</span>;
<a name="l00125"></a>00125         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a1712a4613e20aa9249514dcd97f0a086">calcLocalAABB</a>();
<a name="l00126"></a>00126         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a8d7b7a78a8c65d3339d93fbf607a0d20">m_needs_update</a>  = <span class="keyword">false</span>;
<a name="l00127"></a>00127     }
<a name="l00128"></a>00128 
<a name="l00130"></a>00130 
<a name="l00133"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a418d1f35f4dd58e4d3195aee639b615b">00133</a>     <span class="keywordtype">void</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a418d1f35f4dd58e4d3195aee639b615b" title="If the Bounding box is not updated, then this class attemps to calculate it.">getAabb</a>(<span class="keyword">const</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a>&amp; t,btVector3&amp; aabbMin,btVector3&amp; aabbMax)<span class="keyword"> const</span>
<a name="l00134"></a>00134 <span class="keyword">    </span>{
<a name="l00135"></a>00135         btAABB transformedbox = <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac64c6cc7924e11e775e3448adca114c9">m_localAABB</a>;
<a name="l00136"></a>00136         transformedbox.appy_transform(t);
<a name="l00137"></a>00137         aabbMin = transformedbox.m_min;
<a name="l00138"></a>00138         aabbMax = transformedbox.m_max;
<a name="l00139"></a>00139     }
<a name="l00140"></a>00140 
<a name="l00142"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac430754948ac92d6f70b81e88416c96a">00142</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac430754948ac92d6f70b81e88416c96a" title="Tells to this object that is needed to refit the box set.">postUpdate</a>()
<a name="l00143"></a>00143     {
<a name="l00144"></a>00144         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a8d7b7a78a8c65d3339d93fbf607a0d20">m_needs_update</a> = <span class="keyword">true</span>;
<a name="l00145"></a>00145     }
<a name="l00146"></a>00146 
<a name="l00148"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ad4f12ac5c91bf67349109aecdec65455">00148</a>     <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <span class="keyword">const</span> btAABB &amp; <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ad4f12ac5c91bf67349109aecdec65455" title="Obtains the local box, which is the global calculated box of the total of subshapes.">getLocalBox</a>()
<a name="l00149"></a>00149     {
<a name="l00150"></a>00150         <span class="keywordflow">return</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac64c6cc7924e11e775e3448adca114c9">m_localAABB</a>;
<a name="l00151"></a>00151     }
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 
<a name="l00154"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ada5489b5e81c4b11d46103dadea5d52b">00154</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ada5489b5e81c4b11d46103dadea5d52b">getShapeType</a>()<span class="keyword"> const</span>
<a name="l00155"></a>00155 <span class="keyword">    </span>{
<a name="l00156"></a>00156         <span class="keywordflow">return</span> <a class="code" href="../../d2/d3d/btBroadphaseProxy_8h.html#a629e290d766e52966199b687a537ba5ea2bb1dfd4cf1673309dedf595e8c39e3a" title="Used for GIMPACT Trimesh integration.">GIMPACT_SHAPE_PROXYTYPE</a>;
<a name="l00157"></a>00157     }
<a name="l00158"></a>00158 
<a name="l00162"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#adec0bd43cd0105b1d0dc172bc7db50d8">00162</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#adec0bd43cd0105b1d0dc172bc7db50d8">setLocalScaling</a>(<span class="keyword">const</span> btVector3&amp; scaling)
<a name="l00163"></a>00163     {
<a name="l00164"></a>00164         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a1d26e1da7195c7e3308a341cdff8b691">localScaling</a> = scaling;
<a name="l00165"></a>00165         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac430754948ac92d6f70b81e88416c96a" title="Tells to this object that is needed to refit the box set.">postUpdate</a>();
<a name="l00166"></a>00166     }
<a name="l00167"></a>00167 
<a name="l00168"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#adbda098e714881e2258b33c5b1425a46">00168</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> btVector3&amp; <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#adbda098e714881e2258b33c5b1425a46">getLocalScaling</a>()<span class="keyword"> const</span>
<a name="l00169"></a>00169 <span class="keyword">    </span>{
<a name="l00170"></a>00170         <span class="keywordflow">return</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a1d26e1da7195c7e3308a341cdff8b691">localScaling</a>;
<a name="l00171"></a>00171     }
<a name="l00172"></a>00172 
<a name="l00173"></a>00173 
<a name="l00174"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a2732455f7b2cdb44c41481d9d9ebd548">00174</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a2732455f7b2cdb44c41481d9d9ebd548">setMargin</a>(<a class="code" href="../../d0/d6b/btScalar_8h.html#a1e5824cfc8adbf5a77f2622132d16018" title="The btScalar type abstracts floating point numbers, to easily switch between double and single floati...">btScalar</a> margin)
<a name="l00175"></a>00175     {
<a name="l00176"></a>00176         <a class="code" href="../../d7/da0/classbtConcaveShape.html#a82270a1e4343fa400578f1695a5a7770">m_collisionMargin</a> = margin;
<a name="l00177"></a>00177         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#aa145ed4669ce202e97d1a9e1081b3560" title="Gets the number of children.">getNumChildShapes</a>();
<a name="l00178"></a>00178         <span class="keywordflow">while</span>(i--)
<a name="l00179"></a>00179         {
<a name="l00180"></a>00180             <a class="code" href="../../d7/dd7/classbtCollisionShape.html" title="The btCollisionShape class provides an interface for collision shapes that can be shared among btColl...">btCollisionShape</a>* child = <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a9f2827a4cb6e8376eb54aea84a8cc87b" title="Gets the children.">getChildShape</a>(i);
<a name="l00181"></a>00181             child-&gt;<a class="code" href="../../d7/dd7/classbtCollisionShape.html#a012dd689cd3a8fd0a469d35335a13ca9">setMargin</a>(margin);
<a name="l00182"></a>00182         }
<a name="l00183"></a>00183 
<a name="l00184"></a>00184         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a8d7b7a78a8c65d3339d93fbf607a0d20">m_needs_update</a> = <span class="keyword">true</span>;
<a name="l00185"></a>00185     }
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 
<a name="l00190"></a>00190 
<a name="l00192"></a>00192     <span class="keyword">virtual</span> <a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3">eGIMPACT_SHAPE_TYPE</a> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a25cacbe448997e3f8ec99cb2d4952859" title="Base method for determinig which kind of GIMPACT shape we get.">getGImpactShapeType</a>() <span class="keyword">const</span> = 0 ;
<a name="l00193"></a>00193 
<a name="l00195"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#af10efa8adb566c3e92f2a05aad5263d4">00195</a>     <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <a class="code" href="../../d3/da9/classbtGImpactQuantizedBvh.html" title="Structure for containing Boxes.">btGImpactBoxSet</a> * <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#af10efa8adb566c3e92f2a05aad5263d4" title="gets boxset">getBoxSet</a>()
<a name="l00196"></a>00196     {
<a name="l00197"></a>00197         <span class="keywordflow">return</span> &amp;<a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a52b446c99038ce5614e6839479958910">m_box_set</a>;
<a name="l00198"></a>00198     }
<a name="l00199"></a>00199 
<a name="l00201"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a042a632b8e87f0fe3c2294b9ab8457c6">00201</a>     <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a042a632b8e87f0fe3c2294b9ab8457c6" title="Determines if this class has a hierarchy structure for sorting its primitives.">hasBoxSet</a>()<span class="keyword">  const</span>
<a name="l00202"></a>00202 <span class="keyword">    </span>{
<a name="l00203"></a>00203         <span class="keywordflow">if</span>(<a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a52b446c99038ce5614e6839479958910">m_box_set</a>.<a class="code" href="../../d3/da9/classbtGImpactQuantizedBvh.html#a5ffe3a11330ab3bce0d6eaffb9b3f689" title="node count">getNodeCount</a>() == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00204"></a>00204         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00205"></a>00205     }
<a name="l00206"></a>00206 
<a name="l00208"></a>00208     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="../../d5/dc5/classbtPrimitiveManagerBase.html" title="Prototype Base class for primitive classification.">btPrimitiveManagerBase</a> * <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a291328e80a5f22cffc50924ebb90040a" title="Obtains the primitive manager.">getPrimitiveManager</a>()  <span class="keyword">const</span> = 0;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 
<a name="l00212"></a>00212     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#aa145ed4669ce202e97d1a9e1081b3560" title="Gets the number of children.">getNumChildShapes</a>() <span class="keyword">const</span>  = 0;
<a name="l00213"></a>00213 
<a name="l00215"></a>00215     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a9ea24ba36990721e4f55851afc421e06" title="if true, then its children must get transforms.">childrenHasTransform</a>() <span class="keyword">const</span> = 0;
<a name="l00216"></a>00216 
<a name="l00218"></a>00218     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a62093ef330529ac27df9538313ece90a" title="Determines if this shape has triangles.">needsRetrieveTriangles</a>() <span class="keyword">const</span> = 0;
<a name="l00219"></a>00219 
<a name="l00221"></a>00221     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ad3f86cd0b7d0bbfd272fd6e815e17485" title="Determines if this shape has tetrahedrons.">needsRetrieveTetrahedrons</a>() <span class="keyword">const</span> = 0;
<a name="l00222"></a>00222 
<a name="l00223"></a>00223     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a6f9c334805d5bff662e4946eac079a20" title="Base method for determinig which kind of GIMPACT shape we get.">getBulletTriangle</a>(<span class="keywordtype">int</span> prim_index,<a class="code" href="../../db/dac/classbtTriangleShapeEx.html" title="Helper class for colliding Bullet Triangle Shapes.">btTriangleShapeEx</a> &amp; triangle) <span class="keyword">const</span> = 0;
<a name="l00224"></a>00224 
<a name="l00225"></a>00225     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a6259c51d1c8c8239efdd1dd4b918e139" title="Base method for determinig which kind of GIMPACT shape we get.">getBulletTetrahedron</a>(<span class="keywordtype">int</span> prim_index,<a class="code" href="../../d0/db5/classbtTetrahedronShapeEx.html" title="Helper class for tetrahedrons.">btTetrahedronShapeEx</a> &amp; tetrahedron) <span class="keyword">const</span> = 0;
<a name="l00226"></a>00226 
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 
<a name="l00230"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ae5de49e788c97a954ab9f2bde16adf60">00230</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ae5de49e788c97a954ab9f2bde16adf60" title="call when reading child shapes">lockChildShapes</a>()<span class="keyword"> const</span>
<a name="l00231"></a>00231 <span class="keyword">    </span>{
<a name="l00232"></a>00232     }
<a name="l00233"></a>00233 
<a name="l00234"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac7da336fdb3165c1d086c766fe42114e">00234</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac7da336fdb3165c1d086c766fe42114e" title="Base method for determinig which kind of GIMPACT shape we get.">unlockChildShapes</a>()<span class="keyword"> const</span>
<a name="l00235"></a>00235 <span class="keyword">    </span>{
<a name="l00236"></a>00236     }
<a name="l00237"></a>00237 
<a name="l00239"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a8b5c48d7831cebf1099b8c983cb3f149">00239</a>     <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a8b5c48d7831cebf1099b8c983cb3f149" title="if this trimesh">getPrimitiveTriangle</a>(<span class="keywordtype">int</span> index,<a class="code" href="../../dd/d26/classbtPrimitiveTriangle.html">btPrimitiveTriangle</a> &amp; triangle)<span class="keyword"> const</span>
<a name="l00240"></a>00240 <span class="keyword">    </span>{
<a name="l00241"></a>00241         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a291328e80a5f22cffc50924ebb90040a" title="Obtains the primitive manager.">getPrimitiveManager</a>()-&gt;<a class="code" href="../../d5/dc5/classbtPrimitiveManagerBase.html#a2eb95b960e4259da38c5ee4ac080fdf7" title="retrieves only the points of the triangle, and the collision margin">get_primitive_triangle</a>(index,triangle);
<a name="l00242"></a>00242     }
<a name="l00243"></a>00243 
<a name="l00244"></a>00244 
<a name="l00246"></a>00246 
<a name="l00248"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a341963a807a574ec30ae60284c831f5b">00248</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a341963a807a574ec30ae60284c831f5b" title="Retrieves the bound from a child.">getChildAabb</a>(<span class="keywordtype">int</span> child_index,<span class="keyword">const</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a>&amp; t,btVector3&amp; aabbMin,btVector3&amp; aabbMax)<span class="keyword"> const</span>
<a name="l00249"></a>00249 <span class="keyword">    </span>{
<a name="l00250"></a>00250         btAABB child_aabb;
<a name="l00251"></a>00251         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a291328e80a5f22cffc50924ebb90040a" title="Obtains the primitive manager.">getPrimitiveManager</a>()-&gt;<a class="code" href="../../d5/dc5/classbtPrimitiveManagerBase.html#ac826409d978724f266d4e3453118de4e">get_primitive_box</a>(child_index,child_aabb);
<a name="l00252"></a>00252         child_aabb.appy_transform(t);
<a name="l00253"></a>00253         aabbMin = child_aabb.m_min;
<a name="l00254"></a>00254         aabbMax = child_aabb.m_max;
<a name="l00255"></a>00255     }
<a name="l00256"></a>00256 
<a name="l00258"></a>00258     <span class="keyword">virtual</span> <a class="code" href="../../d7/dd7/classbtCollisionShape.html" title="The btCollisionShape class provides an interface for collision shapes that can be shared among btColl...">btCollisionShape</a>* <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a9f2827a4cb6e8376eb54aea84a8cc87b" title="Gets the children.">getChildShape</a>(<span class="keywordtype">int</span> index) = 0;
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 
<a name="l00262"></a>00262     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="../../d7/dd7/classbtCollisionShape.html" title="The btCollisionShape class provides an interface for collision shapes that can be shared among btColl...">btCollisionShape</a>* <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a9f2827a4cb6e8376eb54aea84a8cc87b" title="Gets the children.">getChildShape</a>(<span class="keywordtype">int</span> index) <span class="keyword">const</span> = 0;
<a name="l00263"></a>00263 
<a name="l00265"></a>00265     <span class="keyword">virtual</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac06b1f597e2b628bf1e0523ab1c62d08" title="Gets the children transform.">getChildTransform</a>(<span class="keywordtype">int</span> index) <span class="keyword">const</span> = 0;
<a name="l00266"></a>00266 
<a name="l00268"></a>00268 
<a name="l00271"></a>00271     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a83392f97bd7dfeb71ccdce6913a465b0" title="Sets the children transform.">setChildTransform</a>(<span class="keywordtype">int</span> index, <span class="keyword">const</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a> &amp; <a class="code" href="../../d1/d22/stdosl_8h.html#ae86ec281d92a1a2e071e373b444a0d13">transform</a>) = 0;
<a name="l00272"></a>00272 
<a name="l00274"></a>00274 
<a name="l00275"></a>00275 
<a name="l00277"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a87aac603f1fcd40f3c1cfe0d6f8baf16">00277</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a87aac603f1fcd40f3c1cfe0d6f8baf16" title="virtual method for ray collision">rayTest</a>(<span class="keyword">const</span> btVector3&amp; rayFrom, <span class="keyword">const</span> btVector3&amp; rayTo, <a class="code" href="../../dd/d12/structbtCollisionWorld_1_1RayResultCallback.html" title="RayResultCallback is used to report new raycast results.">btCollisionWorld::RayResultCallback</a>&amp; resultCallback)<span class="keyword">  const</span>
<a name="l00278"></a>00278 <span class="keyword">    </span>{
<a name="l00279"></a>00279         (void) rayFrom; (void) rayTo; (void) resultCallback;
<a name="l00280"></a>00280     }
<a name="l00281"></a>00281 
<a name="l00283"></a>00283 
<a name="l00286"></a><a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a2faf9adce39854a9a66dd658f646be25">00286</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a2faf9adce39854a9a66dd658f646be25" title="Function for retrieve triangles.">processAllTriangles</a>(<a class="code" href="../../d9/d9e/classbtTriangleCallback.html">btTriangleCallback</a>* callback,<span class="keyword">const</span> btVector3&amp; aabbMin,<span class="keyword">const</span> btVector3&amp; aabbMax)<span class="keyword"> const</span>
<a name="l00287"></a>00287 <span class="keyword">    </span>{
<a name="l00288"></a>00288         (void) callback; (void) aabbMin; (void) aabbMax;
<a name="l00289"></a>00289     }
<a name="l00290"></a>00290 
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 };
<a name="l00294"></a>00294 
<a name="l00295"></a>00295 
<a name="l00297"></a>00297 
<a name="l00300"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html">00300</a> <span class="keyword">class </span><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html" title="btGImpactCompoundShape allows to handle multiple btCollisionShape objects at once">btGImpactCompoundShape</a>    : <span class="keyword">public</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html" title="Base class for gimpact shapes.">btGImpactShapeInterface</a>
<a name="l00301"></a>00301 {
<a name="l00302"></a>00302 <span class="keyword">public</span>:
<a name="l00304"></a><a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html">00304</a>     <span class="keyword">class </span><a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html" title="compound primitive manager">CompoundPrimitiveManager</a>:<span class="keyword">public</span> <a class="code" href="../../d5/dc5/classbtPrimitiveManagerBase.html" title="Prototype Base class for primitive classification.">btPrimitiveManagerBase</a>
<a name="l00305"></a>00305     {
<a name="l00306"></a>00306     <span class="keyword">public</span>:
<a name="l00307"></a><a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a98f8ab68dc47677764e1798c9e949c25">00307</a>         <span class="keyword">virtual</span> <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a98f8ab68dc47677764e1798c9e949c25">~CompoundPrimitiveManager</a>() {}
<a name="l00308"></a><a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a8859a83b68d25f1a5d97b45e7a9ea6fd">00308</a>         <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html" title="btGImpactCompoundShape allows to handle multiple btCollisionShape objects at once">btGImpactCompoundShape</a> * <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a8859a83b68d25f1a5d97b45e7a9ea6fd">m_compoundShape</a>;
<a name="l00309"></a>00309 
<a name="l00310"></a>00310 
<a name="l00311"></a><a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a5539cca68e6315d315bbc391373c5c00">00311</a>         <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#aa797efb783f363b2c66754a3aaccd0f2">CompoundPrimitiveManager</a>(<span class="keyword">const</span> <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html" title="compound primitive manager">CompoundPrimitiveManager</a>&amp; compound)
<a name="l00312"></a>00312             : <a class="code" href="../../d5/dc5/classbtPrimitiveManagerBase.html" title="Prototype Base class for primitive classification.">btPrimitiveManagerBase</a>()
<a name="l00313"></a>00313         {
<a name="l00314"></a>00314             <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a8859a83b68d25f1a5d97b45e7a9ea6fd">m_compoundShape</a> = compound.<a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a8859a83b68d25f1a5d97b45e7a9ea6fd">m_compoundShape</a>;
<a name="l00315"></a>00315         }
<a name="l00316"></a>00316 
<a name="l00317"></a><a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a52742fa7366e3b923cfbd5fc64a3e3a7">00317</a>         <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#aa797efb783f363b2c66754a3aaccd0f2">CompoundPrimitiveManager</a>(<a class="code" href="../../db/d80/classbtGImpactCompoundShape.html" title="btGImpactCompoundShape allows to handle multiple btCollisionShape objects at once">btGImpactCompoundShape</a> * compoundShape)
<a name="l00318"></a>00318         {
<a name="l00319"></a>00319             <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a8859a83b68d25f1a5d97b45e7a9ea6fd">m_compoundShape</a> = compoundShape;
<a name="l00320"></a>00320         }
<a name="l00321"></a>00321 
<a name="l00322"></a><a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#aa797efb783f363b2c66754a3aaccd0f2">00322</a>         <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#aa797efb783f363b2c66754a3aaccd0f2">CompoundPrimitiveManager</a>()
<a name="l00323"></a>00323         {
<a name="l00324"></a>00324             <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a8859a83b68d25f1a5d97b45e7a9ea6fd">m_compoundShape</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00325"></a>00325         }
<a name="l00326"></a>00326 
<a name="l00327"></a><a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#afe172518435ae7db098a1e923f924861">00327</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#afe172518435ae7db098a1e923f924861" title="determines if this manager consist on only triangles, which special case will be optimized">is_trimesh</a>()<span class="keyword"> const</span>
<a name="l00328"></a>00328 <span class="keyword">        </span>{
<a name="l00329"></a>00329             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00330"></a>00330         }
<a name="l00331"></a>00331 
<a name="l00332"></a><a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#af583a8c244dac7ce804c092cd3d30817">00332</a>         <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#af583a8c244dac7ce804c092cd3d30817">get_primitive_count</a>()<span class="keyword"> const</span>
<a name="l00333"></a>00333 <span class="keyword">        </span>{
<a name="l00334"></a>00334             <span class="keywordflow">return</span> (<span class="keywordtype">int</span> )<a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a8859a83b68d25f1a5d97b45e7a9ea6fd">m_compoundShape</a>-&gt;<a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a1e48017b7d2f2cf2498606e2084c01e1" title="Gets the number of children.">getNumChildShapes</a>();
<a name="l00335"></a>00335         }
<a name="l00336"></a>00336 
<a name="l00337"></a><a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a2f71de04d851925a4f4c5fc6973a9c96">00337</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a2f71de04d851925a4f4c5fc6973a9c96">get_primitive_box</a>(<span class="keywordtype">int</span> prim_index ,btAABB &amp; primbox)<span class="keyword"> const</span>
<a name="l00338"></a>00338 <span class="keyword">        </span>{
<a name="l00339"></a>00339             <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a> prim_trans;
<a name="l00340"></a>00340             <span class="keywordflow">if</span>(<a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a8859a83b68d25f1a5d97b45e7a9ea6fd">m_compoundShape</a>-&gt;<a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aba1553b4463a14eb56a6d5cdccca4ead" title="if true, then its children must get transforms.">childrenHasTransform</a>())
<a name="l00341"></a>00341             {
<a name="l00342"></a>00342                 prim_trans = <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a8859a83b68d25f1a5d97b45e7a9ea6fd">m_compoundShape</a>-&gt;<a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a9fa7a1a4793231951d76ad9cb7e13f40" title="Gets the children transform.">getChildTransform</a>(prim_index);
<a name="l00343"></a>00343             }
<a name="l00344"></a>00344             <span class="keywordflow">else</span>
<a name="l00345"></a>00345             {
<a name="l00346"></a>00346                 prim_trans.<a class="code" href="../../d4/d79/classbtTransform.html#ac95a4f502585b3c896001eb236293ce5" title="Set this transformation to the identity.">setIdentity</a>();
<a name="l00347"></a>00347             }
<a name="l00348"></a>00348             <span class="keyword">const</span> <a class="code" href="../../d7/dd7/classbtCollisionShape.html" title="The btCollisionShape class provides an interface for collision shapes that can be shared among btColl...">btCollisionShape</a>* shape = <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a8859a83b68d25f1a5d97b45e7a9ea6fd">m_compoundShape</a>-&gt;<a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a91310884e33cfa7dc25d803ffb577ac0" title="Gets the children.">getChildShape</a>(prim_index);
<a name="l00349"></a>00349             shape-&gt;<a class="code" href="../../d7/dd7/classbtCollisionShape.html#ab66bb53ff25a98b322aa9a814fb5a648" title="getAabb returns the axis aligned bounding box in the coordinate frame of the given transform t...">getAabb</a>(prim_trans,primbox.m_min,primbox.m_max);
<a name="l00350"></a>00350         }
<a name="l00351"></a>00351 
<a name="l00352"></a><a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#acd5e9759ed51edee18f6c553ddaad6e2">00352</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#acd5e9759ed51edee18f6c553ddaad6e2" title="retrieves only the points of the triangle, and the collision margin">get_primitive_triangle</a>(<span class="keywordtype">int</span> prim_index,<a class="code" href="../../dd/d26/classbtPrimitiveTriangle.html">btPrimitiveTriangle</a> &amp; triangle)<span class="keyword"> const</span>
<a name="l00353"></a>00353 <span class="keyword">        </span>{
<a name="l00354"></a>00354             <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l00355"></a>00355             (void) prim_index; (void) triangle;
<a name="l00356"></a>00356         }
<a name="l00357"></a>00357 
<a name="l00358"></a>00358     };
<a name="l00359"></a>00359 
<a name="l00360"></a>00360 
<a name="l00361"></a>00361 
<a name="l00362"></a>00362 <span class="keyword">protected</span>:
<a name="l00363"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#ae4ad14e04e69e88634f9811973a39109">00363</a>     <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html" title="compound primitive manager">CompoundPrimitiveManager</a> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#ae4ad14e04e69e88634f9811973a39109">m_primitive_manager</a>;
<a name="l00364"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a66956c32fbfe7f3c0964cbd0dfde566b">00364</a>     <a class="code" href="../../dc/df2/classbtAlignedObjectArray.html">btAlignedObjectArray&lt;btTransform&gt;</a>       <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a66956c32fbfe7f3c0964cbd0dfde566b">m_childTransforms</a>;
<a name="l00365"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aae79e1a4d800f58b2a3451e163b7adba">00365</a>     <a class="code" href="../../dc/df2/classbtAlignedObjectArray.html">btAlignedObjectArray&lt;btCollisionShape*&gt;</a> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aae79e1a4d800f58b2a3451e163b7adba">m_childShapes</a>;
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 
<a name="l00368"></a>00368 <span class="keyword">public</span>:
<a name="l00369"></a>00369 
<a name="l00370"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a315f703c2006537efde116aceef17b57">00370</a>     <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a315f703c2006537efde116aceef17b57">btGImpactCompoundShape</a>(<span class="keywordtype">bool</span> children_has_transform = <span class="keyword">true</span>)
<a name="l00371"></a>00371     {
<a name="l00372"></a>00372         (void) children_has_transform;
<a name="l00373"></a>00373         <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#ae4ad14e04e69e88634f9811973a39109">m_primitive_manager</a>.<a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html#a8859a83b68d25f1a5d97b45e7a9ea6fd">m_compoundShape</a> = <span class="keyword">this</span>;
<a name="l00374"></a>00374         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a52b446c99038ce5614e6839479958910">m_box_set</a>.<a class="code" href="../../d3/da9/classbtGImpactQuantizedBvh.html#ab4e8e255305f61908ca119fb751bf22c">setPrimitiveManager</a>(&amp;<a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#ae4ad14e04e69e88634f9811973a39109">m_primitive_manager</a>);
<a name="l00375"></a>00375     }
<a name="l00376"></a>00376 
<a name="l00377"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#ada1012f4aeb360d68d2e47e6cce263c7">00377</a>     <span class="keyword">virtual</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#ada1012f4aeb360d68d2e47e6cce263c7">~btGImpactCompoundShape</a>()
<a name="l00378"></a>00378     {
<a name="l00379"></a>00379     }
<a name="l00380"></a>00380 
<a name="l00381"></a>00381 
<a name="l00383"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aba1553b4463a14eb56a6d5cdccca4ead">00383</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aba1553b4463a14eb56a6d5cdccca4ead" title="if true, then its children must get transforms.">childrenHasTransform</a>()<span class="keyword"> const</span>
<a name="l00384"></a>00384 <span class="keyword">    </span>{
<a name="l00385"></a>00385         <span class="keywordflow">if</span>(<a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a66956c32fbfe7f3c0964cbd0dfde566b">m_childTransforms</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#a6bdd14c7599ecb95e8d83dd5a715f9b7" title="return the number of elements in the array">size</a>()==0) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00386"></a>00386         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00387"></a>00387     }
<a name="l00388"></a>00388 
<a name="l00389"></a>00389 
<a name="l00391"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a56d7a7369cd905893fa61a766c6ae2f5">00391</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="../../d5/dc5/classbtPrimitiveManagerBase.html" title="Prototype Base class for primitive classification.">btPrimitiveManagerBase</a> * <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a56d7a7369cd905893fa61a766c6ae2f5" title="Obtains the primitive manager.">getPrimitiveManager</a>()<span class="keyword">  const</span>
<a name="l00392"></a>00392 <span class="keyword">    </span>{
<a name="l00393"></a>00393         <span class="keywordflow">return</span> &amp;<a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#ae4ad14e04e69e88634f9811973a39109">m_primitive_manager</a>;
<a name="l00394"></a>00394     }
<a name="l00395"></a>00395 
<a name="l00397"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a5608f37c18454c3e82504120e053f67a">00397</a>     <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <a class="code" href="../../de/de1/classbtGImpactCompoundShape_1_1CompoundPrimitiveManager.html" title="compound primitive manager">CompoundPrimitiveManager</a> * <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a5608f37c18454c3e82504120e053f67a" title="Obtains the compopund primitive manager.">getCompoundPrimitiveManager</a>()
<a name="l00398"></a>00398     {
<a name="l00399"></a>00399         <span class="keywordflow">return</span> &amp;<a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#ae4ad14e04e69e88634f9811973a39109">m_primitive_manager</a>;
<a name="l00400"></a>00400     }
<a name="l00401"></a>00401 
<a name="l00403"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a1e48017b7d2f2cf2498606e2084c01e1">00403</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a1e48017b7d2f2cf2498606e2084c01e1" title="Gets the number of children.">getNumChildShapes</a>()<span class="keyword"> const</span>
<a name="l00404"></a>00404 <span class="keyword">    </span>{
<a name="l00405"></a>00405         <span class="keywordflow">return</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aae79e1a4d800f58b2a3451e163b7adba">m_childShapes</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#a6bdd14c7599ecb95e8d83dd5a715f9b7" title="return the number of elements in the array">size</a>();
<a name="l00406"></a>00406     }
<a name="l00407"></a>00407 
<a name="l00408"></a>00408 
<a name="l00410"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a3c97aab1f6511033df73007096ed4c8a">00410</a>     <span class="keywordtype">void</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a3c97aab1f6511033df73007096ed4c8a" title="Use this method for adding children. Only Convex shapes are allowed.">addChildShape</a>(<span class="keyword">const</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a>&amp; localTransform,<a class="code" href="../../d7/dd7/classbtCollisionShape.html" title="The btCollisionShape class provides an interface for collision shapes that can be shared among btColl...">btCollisionShape</a>* shape)
<a name="l00411"></a>00411     {
<a name="l00412"></a>00412         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(shape-&gt;<a class="code" href="../../d7/dd7/classbtCollisionShape.html#a367ff9fb86915121110535fffd301ca1">isConvex</a>());
<a name="l00413"></a>00413         <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a66956c32fbfe7f3c0964cbd0dfde566b">m_childTransforms</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#ad61e10166e2c00f487095d3482b9edd1">push_back</a>(localTransform);
<a name="l00414"></a>00414         <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aae79e1a4d800f58b2a3451e163b7adba">m_childShapes</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#ad61e10166e2c00f487095d3482b9edd1">push_back</a>(shape);
<a name="l00415"></a>00415     }
<a name="l00416"></a>00416 
<a name="l00418"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a106e3d9999c847a9748c962378ab3f46">00418</a>     <span class="keywordtype">void</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a3c97aab1f6511033df73007096ed4c8a" title="Use this method for adding children. Only Convex shapes are allowed.">addChildShape</a>(<a class="code" href="../../d7/dd7/classbtCollisionShape.html" title="The btCollisionShape class provides an interface for collision shapes that can be shared among btColl...">btCollisionShape</a>* shape)
<a name="l00419"></a>00419     {
<a name="l00420"></a>00420         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(shape-&gt;<a class="code" href="../../d7/dd7/classbtCollisionShape.html#a367ff9fb86915121110535fffd301ca1">isConvex</a>());
<a name="l00421"></a>00421         <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aae79e1a4d800f58b2a3451e163b7adba">m_childShapes</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#ad61e10166e2c00f487095d3482b9edd1">push_back</a>(shape);
<a name="l00422"></a>00422     }
<a name="l00423"></a>00423 
<a name="l00425"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a91310884e33cfa7dc25d803ffb577ac0">00425</a>     <span class="keyword">virtual</span> <a class="code" href="../../d7/dd7/classbtCollisionShape.html" title="The btCollisionShape class provides an interface for collision shapes that can be shared among btColl...">btCollisionShape</a>* <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a91310884e33cfa7dc25d803ffb577ac0" title="Gets the children.">getChildShape</a>(<span class="keywordtype">int</span> index)
<a name="l00426"></a>00426     {
<a name="l00427"></a>00427         <span class="keywordflow">return</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aae79e1a4d800f58b2a3451e163b7adba">m_childShapes</a>[index];
<a name="l00428"></a>00428     }
<a name="l00429"></a>00429 
<a name="l00431"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#ad4edd755e27e6ff3fdf99b9bc811c749">00431</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="../../d7/dd7/classbtCollisionShape.html" title="The btCollisionShape class provides an interface for collision shapes that can be shared among btColl...">btCollisionShape</a>* <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a91310884e33cfa7dc25d803ffb577ac0" title="Gets the children.">getChildShape</a>(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l00432"></a>00432 <span class="keyword">    </span>{
<a name="l00433"></a>00433         <span class="keywordflow">return</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aae79e1a4d800f58b2a3451e163b7adba">m_childShapes</a>[index];
<a name="l00434"></a>00434     }
<a name="l00435"></a>00435 
<a name="l00437"></a>00437 
<a name="l00439"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a9f43948dab925a6e75cd6062d084c27e">00439</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a9f43948dab925a6e75cd6062d084c27e" title="Retrieves the bound from a child.">getChildAabb</a>(<span class="keywordtype">int</span> child_index,<span class="keyword">const</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a>&amp; t,btVector3&amp; aabbMin,btVector3&amp; aabbMax)<span class="keyword"> const</span>
<a name="l00440"></a>00440 <span class="keyword">    </span>{
<a name="l00441"></a>00441 
<a name="l00442"></a>00442         <span class="keywordflow">if</span>(<a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aba1553b4463a14eb56a6d5cdccca4ead" title="if true, then its children must get transforms.">childrenHasTransform</a>())
<a name="l00443"></a>00443         {
<a name="l00444"></a>00444             <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aae79e1a4d800f58b2a3451e163b7adba">m_childShapes</a>[child_index]-&gt;getAabb(t*<a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a66956c32fbfe7f3c0964cbd0dfde566b">m_childTransforms</a>[child_index],aabbMin,aabbMax);
<a name="l00445"></a>00445         }
<a name="l00446"></a>00446         <span class="keywordflow">else</span>
<a name="l00447"></a>00447         {
<a name="l00448"></a>00448             <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aae79e1a4d800f58b2a3451e163b7adba">m_childShapes</a>[child_index]-&gt;getAabb(t,aabbMin,aabbMax);
<a name="l00449"></a>00449         }
<a name="l00450"></a>00450     }
<a name="l00451"></a>00451 
<a name="l00452"></a>00452 
<a name="l00454"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a9fa7a1a4793231951d76ad9cb7e13f40">00454</a>     <span class="keyword">virtual</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a9fa7a1a4793231951d76ad9cb7e13f40" title="Gets the children transform.">getChildTransform</a>(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l00455"></a>00455 <span class="keyword">    </span>{
<a name="l00456"></a>00456         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(<a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a66956c32fbfe7f3c0964cbd0dfde566b">m_childTransforms</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#a6bdd14c7599ecb95e8d83dd5a715f9b7" title="return the number of elements in the array">size</a>() == <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aae79e1a4d800f58b2a3451e163b7adba">m_childShapes</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#a6bdd14c7599ecb95e8d83dd5a715f9b7" title="return the number of elements in the array">size</a>());
<a name="l00457"></a>00457         <span class="keywordflow">return</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a66956c32fbfe7f3c0964cbd0dfde566b">m_childTransforms</a>[index];
<a name="l00458"></a>00458     }
<a name="l00459"></a>00459 
<a name="l00461"></a>00461 
<a name="l00464"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a560410e20842ad73227d7712a574385c">00464</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a560410e20842ad73227d7712a574385c" title="Sets the children transform.">setChildTransform</a>(<span class="keywordtype">int</span> index, <span class="keyword">const</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a> &amp; <a class="code" href="../../d1/d22/stdosl_8h.html#ae86ec281d92a1a2e071e373b444a0d13">transform</a>)
<a name="l00465"></a>00465     {
<a name="l00466"></a>00466         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(<a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a66956c32fbfe7f3c0964cbd0dfde566b">m_childTransforms</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#a6bdd14c7599ecb95e8d83dd5a715f9b7" title="return the number of elements in the array">size</a>() == <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#aae79e1a4d800f58b2a3451e163b7adba">m_childShapes</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#a6bdd14c7599ecb95e8d83dd5a715f9b7" title="return the number of elements in the array">size</a>());
<a name="l00467"></a>00467         <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a66956c32fbfe7f3c0964cbd0dfde566b">m_childTransforms</a>[index] = <a class="code" href="../../d1/d22/stdosl_8h.html#ae86ec281d92a1a2e071e373b444a0d13">transform</a>;
<a name="l00468"></a>00468         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac430754948ac92d6f70b81e88416c96a" title="Tells to this object that is needed to refit the box set.">postUpdate</a>();
<a name="l00469"></a>00469     }
<a name="l00470"></a>00470 
<a name="l00472"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a41a26228c6b7e9125a9fe1d7725b3e83">00472</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a41a26228c6b7e9125a9fe1d7725b3e83" title="Determines if this shape has triangles.">needsRetrieveTriangles</a>()<span class="keyword"> const</span>
<a name="l00473"></a>00473 <span class="keyword">    </span>{
<a name="l00474"></a>00474         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00475"></a>00475     }
<a name="l00476"></a>00476 
<a name="l00478"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#acc105ecae2f0c117f861aa939c978748">00478</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#acc105ecae2f0c117f861aa939c978748" title="Determines if this shape has tetrahedrons.">needsRetrieveTetrahedrons</a>()<span class="keyword"> const</span>
<a name="l00479"></a>00479 <span class="keyword">    </span>{
<a name="l00480"></a>00480         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00481"></a>00481     }
<a name="l00482"></a>00482 
<a name="l00483"></a>00483 
<a name="l00484"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a73f11c1cd839e8be1b0ab5f6cad7c13c">00484</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a73f11c1cd839e8be1b0ab5f6cad7c13c" title="Base method for determinig which kind of GIMPACT shape we get.">getBulletTriangle</a>(<span class="keywordtype">int</span> prim_index,<a class="code" href="../../db/dac/classbtTriangleShapeEx.html" title="Helper class for colliding Bullet Triangle Shapes.">btTriangleShapeEx</a> &amp; triangle)<span class="keyword"> const</span>
<a name="l00485"></a>00485 <span class="keyword">    </span>{
<a name="l00486"></a>00486         (void) prim_index; (void) triangle;
<a name="l00487"></a>00487         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l00488"></a>00488     }
<a name="l00489"></a>00489 
<a name="l00490"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a64cf7e60512731f3f3c79e04dcc23d54">00490</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a64cf7e60512731f3f3c79e04dcc23d54" title="Base method for determinig which kind of GIMPACT shape we get.">getBulletTetrahedron</a>(<span class="keywordtype">int</span> prim_index,<a class="code" href="../../d0/db5/classbtTetrahedronShapeEx.html" title="Helper class for tetrahedrons.">btTetrahedronShapeEx</a> &amp; tetrahedron)<span class="keyword"> const</span>
<a name="l00491"></a>00491 <span class="keyword">    </span>{
<a name="l00492"></a>00492         (void) prim_index; (void) tetrahedron;
<a name="l00493"></a>00493         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l00494"></a>00494     }
<a name="l00495"></a>00495 
<a name="l00496"></a>00496 
<a name="l00498"></a>00498     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a64f0a70cf342e6bbbcc9721f2a121450" title="Calculates the exact inertia tensor for this shape.">calculateLocalInertia</a>(<a class="code" href="../../d0/d6b/btScalar_8h.html#a1e5824cfc8adbf5a77f2622132d16018" title="The btScalar type abstracts floating point numbers, to easily switch between double and single floati...">btScalar</a> mass,btVector3&amp; inertia) <span class="keyword">const</span>;
<a name="l00499"></a>00499 
<a name="l00500"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a555b523c182674c59f568558c410d32c">00500</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a555b523c182674c59f568558c410d32c">getName</a>()<span class="keyword">const</span>
<a name="l00501"></a>00501 <span class="keyword">    </span>{
<a name="l00502"></a>00502         <span class="keywordflow">return</span> <span class="stringliteral">&quot;GImpactCompound&quot;</span>;
<a name="l00503"></a>00503     }
<a name="l00504"></a>00504 
<a name="l00505"></a><a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a861967c52cb52a358b8d99aa4c65e306">00505</a>     <span class="keyword">virtual</span> <a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3">eGIMPACT_SHAPE_TYPE</a> <a class="code" href="../../db/d80/classbtGImpactCompoundShape.html#a861967c52cb52a358b8d99aa4c65e306" title="Base method for determinig which kind of GIMPACT shape we get.">getGImpactShapeType</a>()<span class="keyword"> const</span>
<a name="l00506"></a>00506 <span class="keyword">    </span>{
<a name="l00507"></a>00507         <span class="keywordflow">return</span> <a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3acceebec0d0e63c9974e62b5b74f6ba22">CONST_GIMPACT_COMPOUND_SHAPE</a>;
<a name="l00508"></a>00508     }
<a name="l00509"></a>00509 
<a name="l00510"></a>00510 };
<a name="l00511"></a>00511 
<a name="l00512"></a>00512 
<a name="l00513"></a>00513 
<a name="l00515"></a>00515 
<a name="l00521"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html">00521</a> <span class="keyword">class </span><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html" title="This class manages a sub part of a mesh supplied by the btStridingMeshInterface interface.">btGImpactMeshShapePart</a> : <span class="keyword">public</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html" title="Base class for gimpact shapes.">btGImpactShapeInterface</a>
<a name="l00522"></a>00522 {
<a name="l00523"></a>00523 <span class="keyword">public</span>:
<a name="l00525"></a>00525 
<a name="l00528"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html">00528</a>     <span class="keyword">class </span><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html" title="Trimesh primitive manager.">TrimeshPrimitiveManager</a>:<span class="keyword">public</span> <a class="code" href="../../d5/dc5/classbtPrimitiveManagerBase.html" title="Prototype Base class for primitive classification.">btPrimitiveManagerBase</a>
<a name="l00529"></a>00529     {
<a name="l00530"></a>00530     <span class="keyword">public</span>:
<a name="l00531"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ac5ffde9a1505e865f2465c4c56267d67">00531</a>         <a class="code" href="../../d0/d6b/btScalar_8h.html#a1e5824cfc8adbf5a77f2622132d16018" title="The btScalar type abstracts floating point numbers, to easily switch between double and single floati...">btScalar</a> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ac5ffde9a1505e865f2465c4c56267d67">m_margin</a>;
<a name="l00532"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a05fa15c4df5eac6684fe7dc734f7f81b">00532</a>         <a class="code" href="../../d6/de0/classbtStridingMeshInterface.html">btStridingMeshInterface</a> * <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a05fa15c4df5eac6684fe7dc734f7f81b">m_meshInterface</a>;
<a name="l00533"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ae153a4cac52bb18615db6a1a69379d04">00533</a>         btVector3 <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ae153a4cac52bb18615db6a1a69379d04">m_scale</a>;
<a name="l00534"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad76087b394a6d50b32c25d67b13db8dd">00534</a>         <span class="keywordtype">int</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad76087b394a6d50b32c25d67b13db8dd">m_part</a>;
<a name="l00535"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a51a615e74daa0529d41f67892c1c57c9">00535</a>         <span class="keywordtype">int</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a51a615e74daa0529d41f67892c1c57c9">m_lock_count</a>;
<a name="l00536"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a57e2244e310edd7804f04e01e719b759">00536</a>         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a57e2244e310edd7804f04e01e719b759">vertexbase</a>;
<a name="l00537"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a1365c8589297063d34459570d964b87c">00537</a>         <span class="keywordtype">int</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a1365c8589297063d34459570d964b87c">numverts</a>;
<a name="l00538"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a732eca4ca085b232ba4164fb3361cf23">00538</a>         <a class="code" href="../../d1/d74/btConcaveShape_8h.html#af7786741f2d89a33a47c8693b3f847b5">PHY_ScalarType</a> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a732eca4ca085b232ba4164fb3361cf23">type</a>;
<a name="l00539"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aac08e1d058c883c2d55743b49fcfc22a">00539</a>         <span class="keywordtype">int</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aac08e1d058c883c2d55743b49fcfc22a">stride</a>;
<a name="l00540"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad6d0d8c45a8a01cd60e11be70e92164d">00540</a>         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad6d0d8c45a8a01cd60e11be70e92164d">indexbase</a>;
<a name="l00541"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a89579bcad54eab7c6f0a2a2c333bbb86">00541</a>         <span class="keywordtype">int</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a89579bcad54eab7c6f0a2a2c333bbb86">indexstride</a>;
<a name="l00542"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a11cbf1f22ec8f970e5c6eb8da6467c70">00542</a>         <span class="keywordtype">int</span>  <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a11cbf1f22ec8f970e5c6eb8da6467c70">numfaces</a>;
<a name="l00543"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a8ac8d4c60009c6bb9f81c93b6f9d43f0">00543</a>         <a class="code" href="../../d1/d74/btConcaveShape_8h.html#af7786741f2d89a33a47c8693b3f847b5">PHY_ScalarType</a> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a8ac8d4c60009c6bb9f81c93b6f9d43f0">indicestype</a>;
<a name="l00544"></a>00544 
<a name="l00545"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#acd43aba16edb0636f0ba5f9f2a7b30d2">00545</a>         <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#acd43aba16edb0636f0ba5f9f2a7b30d2">TrimeshPrimitiveManager</a>()
<a name="l00546"></a>00546         {
<a name="l00547"></a>00547             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a05fa15c4df5eac6684fe7dc734f7f81b">m_meshInterface</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00548"></a>00548             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad76087b394a6d50b32c25d67b13db8dd">m_part</a> = 0;
<a name="l00549"></a>00549             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ac5ffde9a1505e865f2465c4c56267d67">m_margin</a> = 0.01f;
<a name="l00550"></a>00550             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ae153a4cac52bb18615db6a1a69379d04">m_scale</a> = btVector3(1.f,1.f,1.f);
<a name="l00551"></a>00551             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a51a615e74daa0529d41f67892c1c57c9">m_lock_count</a> = 0;
<a name="l00552"></a>00552             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a57e2244e310edd7804f04e01e719b759">vertexbase</a> = 0;
<a name="l00553"></a>00553             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a1365c8589297063d34459570d964b87c">numverts</a> = 0;
<a name="l00554"></a>00554             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aac08e1d058c883c2d55743b49fcfc22a">stride</a> = 0;
<a name="l00555"></a>00555             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad6d0d8c45a8a01cd60e11be70e92164d">indexbase</a> = 0;
<a name="l00556"></a>00556             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a89579bcad54eab7c6f0a2a2c333bbb86">indexstride</a> = 0;
<a name="l00557"></a>00557             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a11cbf1f22ec8f970e5c6eb8da6467c70">numfaces</a> = 0;
<a name="l00558"></a>00558         }
<a name="l00559"></a>00559 
<a name="l00560"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ac2132d17cd0eaab2deee81783492ea34">00560</a>         <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#acd43aba16edb0636f0ba5f9f2a7b30d2">TrimeshPrimitiveManager</a>(<span class="keyword">const</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html" title="Trimesh primitive manager.">TrimeshPrimitiveManager</a> &amp; manager)
<a name="l00561"></a>00561             : <a class="code" href="../../d5/dc5/classbtPrimitiveManagerBase.html" title="Prototype Base class for primitive classification.">btPrimitiveManagerBase</a>()
<a name="l00562"></a>00562         {
<a name="l00563"></a>00563             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a05fa15c4df5eac6684fe7dc734f7f81b">m_meshInterface</a> = manager.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a05fa15c4df5eac6684fe7dc734f7f81b">m_meshInterface</a>;
<a name="l00564"></a>00564             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad76087b394a6d50b32c25d67b13db8dd">m_part</a> = manager.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad76087b394a6d50b32c25d67b13db8dd">m_part</a>;
<a name="l00565"></a>00565             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ac5ffde9a1505e865f2465c4c56267d67">m_margin</a> = manager.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ac5ffde9a1505e865f2465c4c56267d67">m_margin</a>;
<a name="l00566"></a>00566             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ae153a4cac52bb18615db6a1a69379d04">m_scale</a> = manager.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ae153a4cac52bb18615db6a1a69379d04">m_scale</a>;
<a name="l00567"></a>00567             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a51a615e74daa0529d41f67892c1c57c9">m_lock_count</a> = 0;
<a name="l00568"></a>00568             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a57e2244e310edd7804f04e01e719b759">vertexbase</a> = 0;
<a name="l00569"></a>00569             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a1365c8589297063d34459570d964b87c">numverts</a> = 0;
<a name="l00570"></a>00570             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aac08e1d058c883c2d55743b49fcfc22a">stride</a> = 0;
<a name="l00571"></a>00571             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad6d0d8c45a8a01cd60e11be70e92164d">indexbase</a> = 0;
<a name="l00572"></a>00572             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a89579bcad54eab7c6f0a2a2c333bbb86">indexstride</a> = 0;
<a name="l00573"></a>00573             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a11cbf1f22ec8f970e5c6eb8da6467c70">numfaces</a> = 0;
<a name="l00574"></a>00574 
<a name="l00575"></a>00575         }
<a name="l00576"></a>00576 
<a name="l00577"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a2e8cb2bb12d4a52d99f10afbb2a5c06f">00577</a>         <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#acd43aba16edb0636f0ba5f9f2a7b30d2">TrimeshPrimitiveManager</a>(
<a name="l00578"></a>00578             <a class="code" href="../../d6/de0/classbtStridingMeshInterface.html">btStridingMeshInterface</a> * meshInterface,    <span class="keywordtype">int</span> part)
<a name="l00579"></a>00579         {
<a name="l00580"></a>00580             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a05fa15c4df5eac6684fe7dc734f7f81b">m_meshInterface</a> = meshInterface;
<a name="l00581"></a>00581             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad76087b394a6d50b32c25d67b13db8dd">m_part</a> = part;
<a name="l00582"></a>00582             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ae153a4cac52bb18615db6a1a69379d04">m_scale</a> = <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a05fa15c4df5eac6684fe7dc734f7f81b">m_meshInterface</a>-&gt;<a class="code" href="../../d6/de0/classbtStridingMeshInterface.html#a81d03331d180f69a1402fba83b764093">getScaling</a>();
<a name="l00583"></a>00583             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ac5ffde9a1505e865f2465c4c56267d67">m_margin</a> = 0.1f;
<a name="l00584"></a>00584             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a51a615e74daa0529d41f67892c1c57c9">m_lock_count</a> = 0;
<a name="l00585"></a>00585             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a57e2244e310edd7804f04e01e719b759">vertexbase</a> = 0;
<a name="l00586"></a>00586             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a1365c8589297063d34459570d964b87c">numverts</a> = 0;
<a name="l00587"></a>00587             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aac08e1d058c883c2d55743b49fcfc22a">stride</a> = 0;
<a name="l00588"></a>00588             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad6d0d8c45a8a01cd60e11be70e92164d">indexbase</a> = 0;
<a name="l00589"></a>00589             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a89579bcad54eab7c6f0a2a2c333bbb86">indexstride</a> = 0;
<a name="l00590"></a>00590             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a11cbf1f22ec8f970e5c6eb8da6467c70">numfaces</a> = 0;
<a name="l00591"></a>00591 
<a name="l00592"></a>00592         }
<a name="l00593"></a>00593 
<a name="l00594"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a1408f075f1a6c04fcf80a6c271802640">00594</a>         <span class="keyword">virtual</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a1408f075f1a6c04fcf80a6c271802640">~TrimeshPrimitiveManager</a>() {}
<a name="l00595"></a>00595 
<a name="l00596"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a48a013e72b76f832638a54326a7cc709">00596</a>         <span class="keywordtype">void</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a48a013e72b76f832638a54326a7cc709">lock</a>()
<a name="l00597"></a>00597         {
<a name="l00598"></a>00598             <span class="keywordflow">if</span>(<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a51a615e74daa0529d41f67892c1c57c9">m_lock_count</a>&gt;0)
<a name="l00599"></a>00599             {
<a name="l00600"></a>00600                 <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a51a615e74daa0529d41f67892c1c57c9">m_lock_count</a>++;
<a name="l00601"></a>00601                 <span class="keywordflow">return</span>;
<a name="l00602"></a>00602             }
<a name="l00603"></a>00603             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a05fa15c4df5eac6684fe7dc734f7f81b">m_meshInterface</a>-&gt;<a class="code" href="../../d6/de0/classbtStridingMeshInterface.html#a6616778e33b3c8211180c8573cca799a">getLockedReadOnlyVertexIndexBase</a>(
<a name="l00604"></a>00604                 &amp;<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a57e2244e310edd7804f04e01e719b759">vertexbase</a>,<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a1365c8589297063d34459570d964b87c">numverts</a>,
<a name="l00605"></a>00605                 <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a732eca4ca085b232ba4164fb3361cf23">type</a>, <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aac08e1d058c883c2d55743b49fcfc22a">stride</a>,&amp;<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad6d0d8c45a8a01cd60e11be70e92164d">indexbase</a>, <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a89579bcad54eab7c6f0a2a2c333bbb86">indexstride</a>, <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a11cbf1f22ec8f970e5c6eb8da6467c70">numfaces</a>,<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a8ac8d4c60009c6bb9f81c93b6f9d43f0">indicestype</a>,<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad76087b394a6d50b32c25d67b13db8dd">m_part</a>);
<a name="l00606"></a>00606 
<a name="l00607"></a>00607             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a51a615e74daa0529d41f67892c1c57c9">m_lock_count</a> = 1;
<a name="l00608"></a>00608         }
<a name="l00609"></a>00609 
<a name="l00610"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aaa44d0463dfc7e66e203ede074db17ed">00610</a>         <span class="keywordtype">void</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aaa44d0463dfc7e66e203ede074db17ed">unlock</a>()
<a name="l00611"></a>00611         {
<a name="l00612"></a>00612             <span class="keywordflow">if</span>(<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a51a615e74daa0529d41f67892c1c57c9">m_lock_count</a> == 0) <span class="keywordflow">return</span>;
<a name="l00613"></a>00613             <span class="keywordflow">if</span>(<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a51a615e74daa0529d41f67892c1c57c9">m_lock_count</a>&gt;1)
<a name="l00614"></a>00614             {
<a name="l00615"></a>00615                 --<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a51a615e74daa0529d41f67892c1c57c9">m_lock_count</a>;
<a name="l00616"></a>00616                 <span class="keywordflow">return</span>;
<a name="l00617"></a>00617             }
<a name="l00618"></a>00618             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a05fa15c4df5eac6684fe7dc734f7f81b">m_meshInterface</a>-&gt;<a class="code" href="../../d6/de0/classbtStridingMeshInterface.html#ae1ca7dd4324324a9ae365cf9146a539f">unLockReadOnlyVertexBase</a>(<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad76087b394a6d50b32c25d67b13db8dd">m_part</a>);
<a name="l00619"></a>00619             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a57e2244e310edd7804f04e01e719b759">vertexbase</a> = <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00620"></a>00620             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a51a615e74daa0529d41f67892c1c57c9">m_lock_count</a> = 0;
<a name="l00621"></a>00621         }
<a name="l00622"></a>00622 
<a name="l00623"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aada8f4a60842983518401d05c94d1336">00623</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aada8f4a60842983518401d05c94d1336" title="determines if this manager consist on only triangles, which special case will be optimized">is_trimesh</a>()<span class="keyword"> const</span>
<a name="l00624"></a>00624 <span class="keyword">        </span>{
<a name="l00625"></a>00625             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00626"></a>00626         }
<a name="l00627"></a>00627 
<a name="l00628"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aa22ce47d41fb78f28694a17b437335a0">00628</a>         <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aa22ce47d41fb78f28694a17b437335a0">get_primitive_count</a>()<span class="keyword"> const</span>
<a name="l00629"></a>00629 <span class="keyword">        </span>{
<a name="l00630"></a>00630             <span class="keywordflow">return</span> (<span class="keywordtype">int</span> )<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a11cbf1f22ec8f970e5c6eb8da6467c70">numfaces</a>;
<a name="l00631"></a>00631         }
<a name="l00632"></a>00632 
<a name="l00633"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ab06cf91e5637ae4978a2c95290c62ed7">00633</a>         <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <span class="keywordtype">int</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ab06cf91e5637ae4978a2c95290c62ed7">get_vertex_count</a>()<span class="keyword"> const</span>
<a name="l00634"></a>00634 <span class="keyword">        </span>{
<a name="l00635"></a>00635             <span class="keywordflow">return</span> (<span class="keywordtype">int</span> )<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a1365c8589297063d34459570d964b87c">numverts</a>;
<a name="l00636"></a>00636         }
<a name="l00637"></a>00637 
<a name="l00638"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a3304c937ea8fbc4c264d4b8732658e1b">00638</a>         <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a3304c937ea8fbc4c264d4b8732658e1b">get_indices</a>(<span class="keywordtype">int</span> face_index,<span class="keywordtype">int</span> &amp;i0,<span class="keywordtype">int</span> &amp;i1,<span class="keywordtype">int</span> &amp;i2)<span class="keyword"> const</span>
<a name="l00639"></a>00639 <span class="keyword">        </span>{
<a name="l00640"></a>00640             <span class="keywordflow">if</span>(<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a8ac8d4c60009c6bb9f81c93b6f9d43f0">indicestype</a> == <a class="code" href="../../d1/d74/btConcaveShape_8h.html#af7786741f2d89a33a47c8693b3f847b5a64a80d935567c2111346eca34eee6986">PHY_SHORT</a>)
<a name="l00641"></a>00641             {
<a name="l00642"></a>00642                 <span class="keywordtype">short</span> * s_indices = (<span class="keywordtype">short</span> *)(<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad6d0d8c45a8a01cd60e11be70e92164d">indexbase</a> + face_index*<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a89579bcad54eab7c6f0a2a2c333bbb86">indexstride</a>);
<a name="l00643"></a>00643                 i0 = s_indices[0];
<a name="l00644"></a>00644                 i1 = s_indices[1];
<a name="l00645"></a>00645                 i2 = s_indices[2];
<a name="l00646"></a>00646             }
<a name="l00647"></a>00647             <span class="keywordflow">else</span>
<a name="l00648"></a>00648             {
<a name="l00649"></a>00649                 <span class="keywordtype">int</span> * i_indices = (<span class="keywordtype">int</span> *)(<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad6d0d8c45a8a01cd60e11be70e92164d">indexbase</a> + face_index*<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a89579bcad54eab7c6f0a2a2c333bbb86">indexstride</a>);
<a name="l00650"></a>00650                 i0 = i_indices[0];
<a name="l00651"></a>00651                 i1 = i_indices[1];
<a name="l00652"></a>00652                 i2 = i_indices[2];
<a name="l00653"></a>00653             }
<a name="l00654"></a>00654         }
<a name="l00655"></a>00655 
<a name="l00656"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a8635ba526c6e3f7f59d8d35292b48746">00656</a>         <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a8635ba526c6e3f7f59d8d35292b48746">get_vertex</a>(<span class="keywordtype">int</span> vertex_index, btVector3 &amp; <a class="code" href="../../db/d7c/structvertex.html">vertex</a>)<span class="keyword"> const</span>
<a name="l00657"></a>00657 <span class="keyword">        </span>{
<a name="l00658"></a>00658             <span class="keywordflow">if</span>(<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a732eca4ca085b232ba4164fb3361cf23">type</a> == <a class="code" href="../../d1/d74/btConcaveShape_8h.html#af7786741f2d89a33a47c8693b3f847b5a5bb40ac23c072b0cbd77057de01a149b">PHY_DOUBLE</a>)
<a name="l00659"></a>00659             {
<a name="l00660"></a>00660                 <span class="keywordtype">double</span> * dvertices = (<span class="keywordtype">double</span> *)(<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a57e2244e310edd7804f04e01e719b759">vertexbase</a> + vertex_index*<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aac08e1d058c883c2d55743b49fcfc22a">stride</a>);
<a name="l00661"></a>00661                 vertex[0] = <a class="code" href="../../d0/d6b/btScalar_8h.html#a1e5824cfc8adbf5a77f2622132d16018" title="The btScalar type abstracts floating point numbers, to easily switch between double and single floati...">btScalar</a>(dvertices[0]*<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ae153a4cac52bb18615db6a1a69379d04">m_scale</a>[0]);
<a name="l00662"></a>00662                 vertex[1] = <a class="code" href="../../d0/d6b/btScalar_8h.html#a1e5824cfc8adbf5a77f2622132d16018" title="The btScalar type abstracts floating point numbers, to easily switch between double and single floati...">btScalar</a>(dvertices[1]*m_scale[1]);
<a name="l00663"></a>00663                 vertex[2] = <a class="code" href="../../d0/d6b/btScalar_8h.html#a1e5824cfc8adbf5a77f2622132d16018" title="The btScalar type abstracts floating point numbers, to easily switch between double and single floati...">btScalar</a>(dvertices[2]*m_scale[2]);
<a name="l00664"></a>00664             }
<a name="l00665"></a>00665             <span class="keywordflow">else</span>
<a name="l00666"></a>00666             {
<a name="l00667"></a>00667                 <span class="keywordtype">float</span> * svertices = (<span class="keywordtype">float</span> *)(<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a57e2244e310edd7804f04e01e719b759">vertexbase</a> + vertex_index*<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aac08e1d058c883c2d55743b49fcfc22a">stride</a>);
<a name="l00668"></a>00668                 vertex[0] = svertices[0]*<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ae153a4cac52bb18615db6a1a69379d04">m_scale</a>[0];
<a name="l00669"></a>00669                 vertex[1] = svertices[1]*m_scale[1];
<a name="l00670"></a>00670                 vertex[2] = svertices[2]*m_scale[2];
<a name="l00671"></a>00671             }
<a name="l00672"></a>00672         }
<a name="l00673"></a>00673 
<a name="l00674"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a94b651790c8e2d8e737f8a39dc3053c2">00674</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a94b651790c8e2d8e737f8a39dc3053c2">get_primitive_box</a>(<span class="keywordtype">int</span> prim_index ,btAABB &amp; primbox)<span class="keyword"> const</span>
<a name="l00675"></a>00675 <span class="keyword">        </span>{
<a name="l00676"></a>00676             <a class="code" href="../../dd/d26/classbtPrimitiveTriangle.html">btPrimitiveTriangle</a>  triangle;
<a name="l00677"></a>00677             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#af0e4530a36fb1647c83b79eafd7a7415" title="retrieves only the points of the triangle, and the collision margin">get_primitive_triangle</a>(prim_index,triangle);
<a name="l00678"></a>00678             primbox.calc_from_triangle_margin(
<a name="l00679"></a>00679                 triangle.<a class="code" href="../../dd/d26/classbtPrimitiveTriangle.html#a26239c0109fc0a279f1ed0369783eea3">m_vertices</a>[0],
<a name="l00680"></a>00680                 triangle.<a class="code" href="../../dd/d26/classbtPrimitiveTriangle.html#a26239c0109fc0a279f1ed0369783eea3">m_vertices</a>[1],triangle.<a class="code" href="../../dd/d26/classbtPrimitiveTriangle.html#a26239c0109fc0a279f1ed0369783eea3">m_vertices</a>[2],triangle.<a class="code" href="../../dd/d26/classbtPrimitiveTriangle.html#a7650fff79447f8adcaa30a06c3caef39">m_margin</a>);
<a name="l00681"></a>00681         }
<a name="l00682"></a>00682 
<a name="l00683"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#af0e4530a36fb1647c83b79eafd7a7415">00683</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#af0e4530a36fb1647c83b79eafd7a7415" title="retrieves only the points of the triangle, and the collision margin">get_primitive_triangle</a>(<span class="keywordtype">int</span> prim_index,<a class="code" href="../../dd/d26/classbtPrimitiveTriangle.html">btPrimitiveTriangle</a> &amp; triangle)<span class="keyword"> const</span>
<a name="l00684"></a>00684 <span class="keyword">        </span>{
<a name="l00685"></a>00685             <span class="keywordtype">int</span> <a class="code" href="../../d2/d6c/mball_8c.html#a47e7cc913f2b356de088363a1d87db4a">indices</a>[3];
<a name="l00686"></a>00686             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a3304c937ea8fbc4c264d4b8732658e1b">get_indices</a>(prim_index,indices[0],indices[1],indices[2]);
<a name="l00687"></a>00687             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a8635ba526c6e3f7f59d8d35292b48746">get_vertex</a>(indices[0],triangle.<a class="code" href="../../dd/d26/classbtPrimitiveTriangle.html#a26239c0109fc0a279f1ed0369783eea3">m_vertices</a>[0]);
<a name="l00688"></a>00688             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a8635ba526c6e3f7f59d8d35292b48746">get_vertex</a>(indices[1],triangle.<a class="code" href="../../dd/d26/classbtPrimitiveTriangle.html#a26239c0109fc0a279f1ed0369783eea3">m_vertices</a>[1]);
<a name="l00689"></a>00689             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a8635ba526c6e3f7f59d8d35292b48746">get_vertex</a>(indices[2],triangle.<a class="code" href="../../dd/d26/classbtPrimitiveTriangle.html#a26239c0109fc0a279f1ed0369783eea3">m_vertices</a>[2]);
<a name="l00690"></a>00690             triangle.<a class="code" href="../../dd/d26/classbtPrimitiveTriangle.html#a7650fff79447f8adcaa30a06c3caef39">m_margin</a> = <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ac5ffde9a1505e865f2465c4c56267d67">m_margin</a>;
<a name="l00691"></a>00691         }
<a name="l00692"></a>00692 
<a name="l00693"></a><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a2fd488aedd84794841f4709d882b1d7e">00693</a>         <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a2fd488aedd84794841f4709d882b1d7e">get_bullet_triangle</a>(<span class="keywordtype">int</span> prim_index,<a class="code" href="../../db/dac/classbtTriangleShapeEx.html" title="Helper class for colliding Bullet Triangle Shapes.">btTriangleShapeEx</a> &amp; triangle)<span class="keyword"> const</span>
<a name="l00694"></a>00694 <span class="keyword">        </span>{
<a name="l00695"></a>00695             <span class="keywordtype">int</span> <a class="code" href="../../d2/d6c/mball_8c.html#a47e7cc913f2b356de088363a1d87db4a">indices</a>[3];
<a name="l00696"></a>00696             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a3304c937ea8fbc4c264d4b8732658e1b">get_indices</a>(prim_index,indices[0],indices[1],indices[2]);
<a name="l00697"></a>00697             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a8635ba526c6e3f7f59d8d35292b48746">get_vertex</a>(indices[0],triangle.m_vertices1[0]);
<a name="l00698"></a>00698             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a8635ba526c6e3f7f59d8d35292b48746">get_vertex</a>(indices[1],triangle.m_vertices1[1]);
<a name="l00699"></a>00699             <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a8635ba526c6e3f7f59d8d35292b48746">get_vertex</a>(indices[2],triangle.m_vertices1[2]);
<a name="l00700"></a>00700             triangle.setMargin(<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ac5ffde9a1505e865f2465c4c56267d67">m_margin</a>);
<a name="l00701"></a>00701         }
<a name="l00702"></a>00702 
<a name="l00703"></a>00703     };
<a name="l00704"></a>00704 
<a name="l00705"></a>00705 
<a name="l00706"></a>00706 <span class="keyword">protected</span>:
<a name="l00707"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">00707</a>     <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html" title="Trimesh primitive manager.">TrimeshPrimitiveManager</a> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>;
<a name="l00708"></a>00708 <span class="keyword">public</span>:
<a name="l00709"></a>00709 
<a name="l00710"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a480fc16db82d8dbfe745a43323bf204a">00710</a>     <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a480fc16db82d8dbfe745a43323bf204a">btGImpactMeshShapePart</a>()
<a name="l00711"></a>00711     {
<a name="l00712"></a>00712         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a52b446c99038ce5614e6839479958910">m_box_set</a>.<a class="code" href="../../d3/da9/classbtGImpactQuantizedBvh.html#ab4e8e255305f61908ca119fb751bf22c">setPrimitiveManager</a>(&amp;<a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>);
<a name="l00713"></a>00713     }
<a name="l00714"></a>00714 
<a name="l00715"></a>00715 
<a name="l00716"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a2e3ad6d2af64c321af6ce23e16aa2828">00716</a>     <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a480fc16db82d8dbfe745a43323bf204a">btGImpactMeshShapePart</a>(<a class="code" href="../../d6/de0/classbtStridingMeshInterface.html">btStridingMeshInterface</a> * meshInterface, <span class="keywordtype">int</span> part)
<a name="l00717"></a>00717     {
<a name="l00718"></a>00718         <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a05fa15c4df5eac6684fe7dc734f7f81b">m_meshInterface</a> = meshInterface;
<a name="l00719"></a>00719         <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad76087b394a6d50b32c25d67b13db8dd">m_part</a> = part;
<a name="l00720"></a>00720         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a52b446c99038ce5614e6839479958910">m_box_set</a>.<a class="code" href="../../d3/da9/classbtGImpactQuantizedBvh.html#ab4e8e255305f61908ca119fb751bf22c">setPrimitiveManager</a>(&amp;<a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>);
<a name="l00721"></a>00721     }
<a name="l00722"></a>00722 
<a name="l00723"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#ae829311ae8562011136e8513f0bff455">00723</a>     <span class="keyword">virtual</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#ae829311ae8562011136e8513f0bff455">~btGImpactMeshShapePart</a>()
<a name="l00724"></a>00724     {
<a name="l00725"></a>00725     }
<a name="l00726"></a>00726 
<a name="l00728"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#af18e961ae68efad13341caec2468f3be">00728</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#af18e961ae68efad13341caec2468f3be" title="if true, then its children must get transforms.">childrenHasTransform</a>()<span class="keyword"> const</span>
<a name="l00729"></a>00729 <span class="keyword">    </span>{
<a name="l00730"></a>00730         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00731"></a>00731     }
<a name="l00732"></a>00732 
<a name="l00733"></a>00733 
<a name="l00735"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aaa566ccda52bd19942c8e72fabdc21fa">00735</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aaa566ccda52bd19942c8e72fabdc21fa" title="call when reading child shapes">lockChildShapes</a>()<span class="keyword"> const</span>
<a name="l00736"></a>00736 <span class="keyword">    </span>{
<a name="l00737"></a>00737         <span class="keywordtype">void</span> * dummy = (<span class="keywordtype">void</span>*)(<a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a52b446c99038ce5614e6839479958910">m_box_set</a>.<a class="code" href="../../d3/da9/classbtGImpactQuantizedBvh.html#a8954b68cdc557ffab6c4c0361cea109a">getPrimitiveManager</a>());
<a name="l00738"></a>00738         <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html" title="Trimesh primitive manager.">TrimeshPrimitiveManager</a> * dummymanager = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html" title="Trimesh primitive manager.">TrimeshPrimitiveManager</a> *<span class="keyword">&gt;</span>(dummy);
<a name="l00739"></a>00739         dummymanager-&gt;<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a48a013e72b76f832638a54326a7cc709">lock</a>();
<a name="l00740"></a>00740     }
<a name="l00741"></a>00741 
<a name="l00742"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a16b38327e937e5d7d705b816c53914e1">00742</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a16b38327e937e5d7d705b816c53914e1" title="Base method for determinig which kind of GIMPACT shape we get.">unlockChildShapes</a>()<span class="keyword">  const</span>
<a name="l00743"></a>00743 <span class="keyword">    </span>{
<a name="l00744"></a>00744         <span class="keywordtype">void</span> * dummy = (<span class="keywordtype">void</span>*)(<a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a52b446c99038ce5614e6839479958910">m_box_set</a>.<a class="code" href="../../d3/da9/classbtGImpactQuantizedBvh.html#a8954b68cdc557ffab6c4c0361cea109a">getPrimitiveManager</a>());
<a name="l00745"></a>00745         <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html" title="Trimesh primitive manager.">TrimeshPrimitiveManager</a> * dummymanager = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html" title="Trimesh primitive manager.">TrimeshPrimitiveManager</a> *<span class="keyword">&gt;</span>(dummy);
<a name="l00746"></a>00746         dummymanager-&gt;<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aaa44d0463dfc7e66e203ede074db17ed">unlock</a>();
<a name="l00747"></a>00747     }
<a name="l00748"></a>00748 
<a name="l00750"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a95797b2cac67f4e41a03c3d901f3c085">00750</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a95797b2cac67f4e41a03c3d901f3c085" title="Gets the number of children.">getNumChildShapes</a>()<span class="keyword"> const</span>
<a name="l00751"></a>00751 <span class="keyword">    </span>{
<a name="l00752"></a>00752         <span class="keywordflow">return</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#aa22ce47d41fb78f28694a17b437335a0">get_primitive_count</a>();
<a name="l00753"></a>00753     }
<a name="l00754"></a>00754 
<a name="l00755"></a>00755 
<a name="l00757"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a9dfb2b28e136ec3b08127f6b47cefb89">00757</a>     <span class="keyword">virtual</span> <a class="code" href="../../d7/dd7/classbtCollisionShape.html" title="The btCollisionShape class provides an interface for collision shapes that can be shared among btColl...">btCollisionShape</a>* <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a9dfb2b28e136ec3b08127f6b47cefb89" title="Gets the children.">getChildShape</a>(<span class="keywordtype">int</span> index)
<a name="l00758"></a>00758     {
<a name="l00759"></a>00759         (void) index;
<a name="l00760"></a>00760         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l00761"></a>00761         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00762"></a>00762     }
<a name="l00763"></a>00763 
<a name="l00764"></a>00764 
<a name="l00765"></a>00765 
<a name="l00767"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#add9463d3616dec79a3bc4feace9683c3">00767</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="../../d7/dd7/classbtCollisionShape.html" title="The btCollisionShape class provides an interface for collision shapes that can be shared among btColl...">btCollisionShape</a>* <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a9dfb2b28e136ec3b08127f6b47cefb89" title="Gets the children.">getChildShape</a>(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l00768"></a>00768 <span class="keyword">    </span>{
<a name="l00769"></a>00769         (void) index;
<a name="l00770"></a>00770         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l00771"></a>00771         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00772"></a>00772     }
<a name="l00773"></a>00773 
<a name="l00775"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a6c4e647b0437ee898f8742d427de9181">00775</a>     <span class="keyword">virtual</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a6c4e647b0437ee898f8742d427de9181" title="Gets the children transform.">getChildTransform</a>(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l00776"></a>00776 <span class="keyword">    </span>{
<a name="l00777"></a>00777         (void) index;
<a name="l00778"></a>00778         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l00779"></a>00779         <span class="keywordflow">return</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a>();
<a name="l00780"></a>00780     }
<a name="l00781"></a>00781 
<a name="l00783"></a>00783 
<a name="l00786"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a0a97d3769fb7d3f583e41da6b284bcc1">00786</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a0a97d3769fb7d3f583e41da6b284bcc1" title="Sets the children transform.">setChildTransform</a>(<span class="keywordtype">int</span> index, <span class="keyword">const</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a> &amp; <a class="code" href="../../d1/d22/stdosl_8h.html#ae86ec281d92a1a2e071e373b444a0d13">transform</a>)
<a name="l00787"></a>00787     {
<a name="l00788"></a>00788         (void) index;
<a name="l00789"></a>00789         (void) transform;
<a name="l00790"></a>00790         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l00791"></a>00791     }
<a name="l00792"></a>00792 
<a name="l00793"></a>00793 
<a name="l00795"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a195870142c61421252805a170fb978cf">00795</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="../../d5/dc5/classbtPrimitiveManagerBase.html" title="Prototype Base class for primitive classification.">btPrimitiveManagerBase</a> * <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a195870142c61421252805a170fb978cf" title="Obtains the primitive manager.">getPrimitiveManager</a>()<span class="keyword">  const</span>
<a name="l00796"></a>00796 <span class="keyword">    </span>{
<a name="l00797"></a>00797         <span class="keywordflow">return</span> &amp;<a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>;
<a name="l00798"></a>00798     }
<a name="l00799"></a>00799 
<a name="l00800"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a7b6bceae8902afd9d35a734899f07c7b">00800</a>     <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html" title="Trimesh primitive manager.">TrimeshPrimitiveManager</a> * <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a7b6bceae8902afd9d35a734899f07c7b">getTrimeshPrimitiveManager</a>()
<a name="l00801"></a>00801     {
<a name="l00802"></a>00802         <span class="keywordflow">return</span> &amp;<a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>;
<a name="l00803"></a>00803     }
<a name="l00804"></a>00804 
<a name="l00805"></a>00805 
<a name="l00806"></a>00806 
<a name="l00807"></a>00807 
<a name="l00808"></a>00808 
<a name="l00809"></a>00809     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a06585fb1b18eee79e476c67910baa2ca">calculateLocalInertia</a>(<a class="code" href="../../d0/d6b/btScalar_8h.html#a1e5824cfc8adbf5a77f2622132d16018" title="The btScalar type abstracts floating point numbers, to easily switch between double and single floati...">btScalar</a> mass,btVector3&amp; inertia) <span class="keyword">const</span>;
<a name="l00810"></a>00810 
<a name="l00811"></a>00811 
<a name="l00812"></a>00812 
<a name="l00813"></a>00813 
<a name="l00814"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#ab18423cc148c3d8b71f9dbd05f9cf1ed">00814</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#ab18423cc148c3d8b71f9dbd05f9cf1ed">getName</a>()<span class="keyword">const</span>
<a name="l00815"></a>00815 <span class="keyword">    </span>{
<a name="l00816"></a>00816         <span class="keywordflow">return</span> <span class="stringliteral">&quot;GImpactMeshShapePart&quot;</span>;
<a name="l00817"></a>00817     }
<a name="l00818"></a>00818 
<a name="l00819"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a5ff615b55a2bdaeba511fb116a9ab546">00819</a>     <span class="keyword">virtual</span> <a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3">eGIMPACT_SHAPE_TYPE</a> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a5ff615b55a2bdaeba511fb116a9ab546" title="Base method for determinig which kind of GIMPACT shape we get.">getGImpactShapeType</a>()<span class="keyword"> const</span>
<a name="l00820"></a>00820 <span class="keyword">    </span>{
<a name="l00821"></a>00821         <span class="keywordflow">return</span> <a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3a8f22fe8d6100250b0eca07c2819d883a">CONST_GIMPACT_TRIMESH_SHAPE_PART</a>;
<a name="l00822"></a>00822     }
<a name="l00823"></a>00823 
<a name="l00825"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#ab29d963a06904f28296e28490bdc6bc4">00825</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#ab29d963a06904f28296e28490bdc6bc4" title="Determines if this shape has triangles.">needsRetrieveTriangles</a>()<span class="keyword"> const</span>
<a name="l00826"></a>00826 <span class="keyword">    </span>{
<a name="l00827"></a>00827         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00828"></a>00828     }
<a name="l00829"></a>00829 
<a name="l00831"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a5038802356d83b4897a8d92e9214bbe4">00831</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a5038802356d83b4897a8d92e9214bbe4" title="Determines if this shape has tetrahedrons.">needsRetrieveTetrahedrons</a>()<span class="keyword"> const</span>
<a name="l00832"></a>00832 <span class="keyword">    </span>{
<a name="l00833"></a>00833         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00834"></a>00834     }
<a name="l00835"></a>00835 
<a name="l00836"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a5deaf3963fd7b8c337a322a5d775b478">00836</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a5deaf3963fd7b8c337a322a5d775b478" title="Base method for determinig which kind of GIMPACT shape we get.">getBulletTriangle</a>(<span class="keywordtype">int</span> prim_index,<a class="code" href="../../db/dac/classbtTriangleShapeEx.html" title="Helper class for colliding Bullet Triangle Shapes.">btTriangleShapeEx</a> &amp; triangle)<span class="keyword"> const</span>
<a name="l00837"></a>00837 <span class="keyword">    </span>{
<a name="l00838"></a>00838         <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a2fd488aedd84794841f4709d882b1d7e">get_bullet_triangle</a>(prim_index,triangle);
<a name="l00839"></a>00839     }
<a name="l00840"></a>00840 
<a name="l00841"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a4fb1cad47ca10416cd0bc92219ae5f40">00841</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a4fb1cad47ca10416cd0bc92219ae5f40" title="Base method for determinig which kind of GIMPACT shape we get.">getBulletTetrahedron</a>(<span class="keywordtype">int</span> prim_index,<a class="code" href="../../d0/db5/classbtTetrahedronShapeEx.html" title="Helper class for tetrahedrons.">btTetrahedronShapeEx</a> &amp; tetrahedron)<span class="keyword"> const</span>
<a name="l00842"></a>00842 <span class="keyword">    </span>{
<a name="l00843"></a>00843         (void) prim_index;
<a name="l00844"></a>00844         (void) tetrahedron;
<a name="l00845"></a>00845         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l00846"></a>00846     }
<a name="l00847"></a>00847 
<a name="l00848"></a>00848 
<a name="l00849"></a>00849 
<a name="l00850"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#ae0dc5c064b20572ad5493cf345f86ad3">00850</a>     <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <span class="keywordtype">int</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#ae0dc5c064b20572ad5493cf345f86ad3">getVertexCount</a>()<span class="keyword"> const</span>
<a name="l00851"></a>00851 <span class="keyword">    </span>{
<a name="l00852"></a>00852         <span class="keywordflow">return</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ab06cf91e5637ae4978a2c95290c62ed7">get_vertex_count</a>();
<a name="l00853"></a>00853     }
<a name="l00854"></a>00854 
<a name="l00855"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa0bea11142fee03044d30b49ad2325a3">00855</a>     <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa0bea11142fee03044d30b49ad2325a3">getVertex</a>(<span class="keywordtype">int</span> vertex_index, btVector3 &amp; <a class="code" href="../../db/d7c/structvertex.html">vertex</a>)<span class="keyword"> const</span>
<a name="l00856"></a>00856 <span class="keyword">    </span>{
<a name="l00857"></a>00857         <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#a8635ba526c6e3f7f59d8d35292b48746">get_vertex</a>(vertex_index,vertex);
<a name="l00858"></a>00858     }
<a name="l00859"></a>00859 
<a name="l00860"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a6f77efd41c832e436bfd6cca7d3269e7">00860</a>     <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a6f77efd41c832e436bfd6cca7d3269e7">setMargin</a>(<a class="code" href="../../d0/d6b/btScalar_8h.html#a1e5824cfc8adbf5a77f2622132d16018" title="The btScalar type abstracts floating point numbers, to easily switch between double and single floati...">btScalar</a> margin)
<a name="l00861"></a>00861     {
<a name="l00862"></a>00862         <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ac5ffde9a1505e865f2465c4c56267d67">m_margin</a> = margin;
<a name="l00863"></a>00863         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac430754948ac92d6f70b81e88416c96a" title="Tells to this object that is needed to refit the box set.">postUpdate</a>();
<a name="l00864"></a>00864     }
<a name="l00865"></a>00865 
<a name="l00866"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#abead32520efa9069a612ab91679a7fd4">00866</a>     <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <a class="code" href="../../d0/d6b/btScalar_8h.html#a1e5824cfc8adbf5a77f2622132d16018" title="The btScalar type abstracts floating point numbers, to easily switch between double and single floati...">btScalar</a> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#abead32520efa9069a612ab91679a7fd4">getMargin</a>()<span class="keyword"> const</span>
<a name="l00867"></a>00867 <span class="keyword">    </span>{
<a name="l00868"></a>00868         <span class="keywordflow">return</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ac5ffde9a1505e865f2465c4c56267d67">m_margin</a>;
<a name="l00869"></a>00869     }
<a name="l00870"></a>00870 
<a name="l00871"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a2c1de297d020a75e1ab0f10f7c71478f">00871</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a2c1de297d020a75e1ab0f10f7c71478f">setLocalScaling</a>(<span class="keyword">const</span> btVector3&amp; scaling)
<a name="l00872"></a>00872     {
<a name="l00873"></a>00873         <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ae153a4cac52bb18615db6a1a69379d04">m_scale</a> = scaling;
<a name="l00874"></a>00874         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac430754948ac92d6f70b81e88416c96a" title="Tells to this object that is needed to refit the box set.">postUpdate</a>();
<a name="l00875"></a>00875     }
<a name="l00876"></a>00876 
<a name="l00877"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#afa7f94f7d157bbd00f388312a19d221d">00877</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> btVector3&amp; <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#afa7f94f7d157bbd00f388312a19d221d">getLocalScaling</a>()<span class="keyword"> const</span>
<a name="l00878"></a>00878 <span class="keyword">    </span>{
<a name="l00879"></a>00879         <span class="keywordflow">return</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ae153a4cac52bb18615db6a1a69379d04">m_scale</a>;
<a name="l00880"></a>00880     }
<a name="l00881"></a>00881 
<a name="l00882"></a><a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#ae0e341fef60714d8151a6c365a44815a">00882</a>     <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a> <span class="keywordtype">int</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#ae0e341fef60714d8151a6c365a44815a">getPart</a>()<span class="keyword"> const</span>
<a name="l00883"></a>00883 <span class="keyword">    </span>{
<a name="l00884"></a>00884         <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#aa5d55e9f76ff77f26db1658e4c7f021d">m_primitive_manager</a>.<a class="code" href="../../d8/ddb/classbtGImpactMeshShapePart_1_1TrimeshPrimitiveManager.html#ad76087b394a6d50b32c25d67b13db8dd">m_part</a>;
<a name="l00885"></a>00885     }
<a name="l00886"></a>00886 
<a name="l00887"></a>00887     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a230a814ad9f784638e8bcbf0592cdd39" title="Function for retrieve triangles.">processAllTriangles</a>(<a class="code" href="../../d9/d9e/classbtTriangleCallback.html">btTriangleCallback</a>* callback,<span class="keyword">const</span> btVector3&amp; aabbMin,<span class="keyword">const</span> btVector3&amp; aabbMax) <span class="keyword">const</span>;
<a name="l00888"></a>00888 };
<a name="l00889"></a>00889 
<a name="l00890"></a>00890 
<a name="l00892"></a>00892 
<a name="l00899"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html">00899</a> <span class="keyword">class </span><a class="code" href="../../df/d39/classbtGImpactMeshShape.html" title="This class manages a mesh supplied by the btStridingMeshInterface interface.">btGImpactMeshShape</a> : <span class="keyword">public</span> <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html" title="Base class for gimpact shapes.">btGImpactShapeInterface</a>
<a name="l00900"></a>00900 {
<a name="l00901"></a>00901     <a class="code" href="../../d6/de0/classbtStridingMeshInterface.html">btStridingMeshInterface</a>* m_meshInterface;
<a name="l00902"></a>00902 
<a name="l00903"></a>00903 <span class="keyword">protected</span>:
<a name="l00904"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">00904</a>     <a class="code" href="../../dc/df2/classbtAlignedObjectArray.html">btAlignedObjectArray&lt;btGImpactMeshShapePart*&gt;</a> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>;
<a name="l00905"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a97003b7f7d048c9fd8c8d281f0159311">00905</a>     <span class="keywordtype">void</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a97003b7f7d048c9fd8c8d281f0159311">buildMeshParts</a>(<a class="code" href="../../d6/de0/classbtStridingMeshInterface.html">btStridingMeshInterface</a> * meshInterface)
<a name="l00906"></a>00906     {
<a name="l00907"></a>00907         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0;<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;meshInterface-&gt;<a class="code" href="../../d6/de0/classbtStridingMeshInterface.html#a99a9836355d79f79a6f6d35c90de3636">getNumSubParts</a>() ;++<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> )
<a name="l00908"></a>00908         {
<a name="l00909"></a>00909             <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html" title="This class manages a sub part of a mesh supplied by the btStridingMeshInterface interface.">btGImpactMeshShapePart</a> * newpart = <span class="keyword">new</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html" title="This class manages a sub part of a mesh supplied by the btStridingMeshInterface interface.">btGImpactMeshShapePart</a>(meshInterface,<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);
<a name="l00910"></a>00910             <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#ad61e10166e2c00f487095d3482b9edd1">push_back</a>(newpart);
<a name="l00911"></a>00911         }
<a name="l00912"></a>00912     }
<a name="l00913"></a>00913 
<a name="l00915"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#aa9273d609f4872c7a4c05e9873edbda8">00915</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#aa9273d609f4872c7a4c05e9873edbda8" title="use this function for perfofm refit in bounding boxes">calcLocalAABB</a>()
<a name="l00916"></a>00916     {
<a name="l00917"></a>00917         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac64c6cc7924e11e775e3448adca114c9">m_localAABB</a>.invalidate();
<a name="l00918"></a>00918         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#a6bdd14c7599ecb95e8d83dd5a715f9b7" title="return the number of elements in the array">size</a>();
<a name="l00919"></a>00919         <span class="keywordflow">while</span>(i--)
<a name="l00920"></a>00920         {
<a name="l00921"></a>00921             <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;updateBound();
<a name="l00922"></a>00922             <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac64c6cc7924e11e775e3448adca114c9">m_localAABB</a>.merge(<a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>[i]-&gt;<a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ad4f12ac5c91bf67349109aecdec65455" title="Obtains the local box, which is the global calculated box of the total of subshapes.">getLocalBox</a>());
<a name="l00923"></a>00923         }
<a name="l00924"></a>00924     }
<a name="l00925"></a>00925 
<a name="l00926"></a>00926 <span class="keyword">public</span>:
<a name="l00927"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#aa620d8c83b9f235068509f7caff0862f">00927</a>     <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#aa620d8c83b9f235068509f7caff0862f">btGImpactMeshShape</a>(<a class="code" href="../../d6/de0/classbtStridingMeshInterface.html">btStridingMeshInterface</a> * meshInterface)
<a name="l00928"></a>00928     {
<a name="l00929"></a>00929         m_meshInterface = meshInterface;
<a name="l00930"></a>00930         <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a97003b7f7d048c9fd8c8d281f0159311">buildMeshParts</a>(meshInterface);
<a name="l00931"></a>00931     }
<a name="l00932"></a>00932 
<a name="l00933"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a872dc7d28b056d625d57dd1697726a3a">00933</a>     <span class="keyword">virtual</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a872dc7d28b056d625d57dd1697726a3a">~btGImpactMeshShape</a>()
<a name="l00934"></a>00934     {
<a name="l00935"></a>00935         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#a6bdd14c7599ecb95e8d83dd5a715f9b7" title="return the number of elements in the array">size</a>();
<a name="l00936"></a>00936         <span class="keywordflow">while</span>(i--)
<a name="l00937"></a>00937         {
<a name="l00938"></a>00938             <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html" title="This class manages a sub part of a mesh supplied by the btStridingMeshInterface interface.">btGImpactMeshShapePart</a> * part = <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];
<a name="l00939"></a>00939             <span class="keyword">delete</span> part;
<a name="l00940"></a>00940         }
<a name="l00941"></a>00941         <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#a12123db01dda7758f0df5e3bba10cc0a" title="clear the array, deallocated memory. Generally it is better to use array.resize(0), to reduce performance overhead of run-time memory (de)allocations.">clear</a>();
<a name="l00942"></a>00942     }
<a name="l00943"></a>00943 
<a name="l00944"></a>00944 
<a name="l00945"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#ac4f392b95775eaf255efcd9b6a1383c2">00945</a>     <a class="code" href="../../d6/de0/classbtStridingMeshInterface.html">btStridingMeshInterface</a>* <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#ac4f392b95775eaf255efcd9b6a1383c2">getMeshInterface</a>()
<a name="l00946"></a>00946     {
<a name="l00947"></a>00947         <span class="keywordflow">return</span> m_meshInterface;
<a name="l00948"></a>00948     }
<a name="l00949"></a>00949 
<a name="l00950"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a9674acaf4d841c90fa9a6698bb4b43f1">00950</a>     <span class="keyword">const</span> <a class="code" href="../../d6/de0/classbtStridingMeshInterface.html">btStridingMeshInterface</a>* <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#ac4f392b95775eaf255efcd9b6a1383c2">getMeshInterface</a>()<span class="keyword"> const</span>
<a name="l00951"></a>00951 <span class="keyword">    </span>{
<a name="l00952"></a>00952         <span class="keywordflow">return</span> m_meshInterface;
<a name="l00953"></a>00953     }
<a name="l00954"></a>00954 
<a name="l00955"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a6cea13ee2675f58721e9cde9e7acc917">00955</a>     <span class="keywordtype">int</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a6cea13ee2675f58721e9cde9e7acc917">getMeshPartCount</a>()<span class="keyword"> const</span>
<a name="l00956"></a>00956 <span class="keyword">    </span>{
<a name="l00957"></a>00957         <span class="keywordflow">return</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#a6bdd14c7599ecb95e8d83dd5a715f9b7" title="return the number of elements in the array">size</a>();
<a name="l00958"></a>00958     }
<a name="l00959"></a>00959 
<a name="l00960"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#abac8a0def4182767d8556d7ed8b08a7c">00960</a>     <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html" title="This class manages a sub part of a mesh supplied by the btStridingMeshInterface interface.">btGImpactMeshShapePart</a> * <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#abac8a0def4182767d8556d7ed8b08a7c">getMeshPart</a>(<span class="keywordtype">int</span> index)
<a name="l00961"></a>00961     {
<a name="l00962"></a>00962         <span class="keywordflow">return</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>[index];
<a name="l00963"></a>00963     }
<a name="l00964"></a>00964 
<a name="l00965"></a>00965 
<a name="l00966"></a>00966 
<a name="l00967"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a4496e08f8ba788ea1284329edc69b54c">00967</a>     <span class="keyword">const</span> <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html" title="This class manages a sub part of a mesh supplied by the btStridingMeshInterface interface.">btGImpactMeshShapePart</a> * <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#abac8a0def4182767d8556d7ed8b08a7c">getMeshPart</a>(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l00968"></a>00968 <span class="keyword">    </span>{
<a name="l00969"></a>00969         <span class="keywordflow">return</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>[index];
<a name="l00970"></a>00970     }
<a name="l00971"></a>00971 
<a name="l00972"></a>00972 
<a name="l00973"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#aed8d5e4b2e75538109909d44b244bc35">00973</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#aed8d5e4b2e75538109909d44b244bc35">setLocalScaling</a>(<span class="keyword">const</span> btVector3&amp; scaling)
<a name="l00974"></a>00974     {
<a name="l00975"></a>00975         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a1d26e1da7195c7e3308a341cdff8b691">localScaling</a> = scaling;
<a name="l00976"></a>00976 
<a name="l00977"></a>00977         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#a6bdd14c7599ecb95e8d83dd5a715f9b7" title="return the number of elements in the array">size</a>();
<a name="l00978"></a>00978         <span class="keywordflow">while</span>(i--)
<a name="l00979"></a>00979         {
<a name="l00980"></a>00980             <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html" title="This class manages a sub part of a mesh supplied by the btStridingMeshInterface interface.">btGImpactMeshShapePart</a> * part = <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];
<a name="l00981"></a>00981             part-&gt;<a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a2c1de297d020a75e1ab0f10f7c71478f">setLocalScaling</a>(scaling);
<a name="l00982"></a>00982         }
<a name="l00983"></a>00983 
<a name="l00984"></a>00984         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a8d7b7a78a8c65d3339d93fbf607a0d20">m_needs_update</a> = <span class="keyword">true</span>;
<a name="l00985"></a>00985     }
<a name="l00986"></a>00986 
<a name="l00987"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#aab65bdcfd34867e88a505a6377e4f79b">00987</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#aab65bdcfd34867e88a505a6377e4f79b">setMargin</a>(<a class="code" href="../../d0/d6b/btScalar_8h.html#a1e5824cfc8adbf5a77f2622132d16018" title="The btScalar type abstracts floating point numbers, to easily switch between double and single floati...">btScalar</a> margin)
<a name="l00988"></a>00988     {
<a name="l00989"></a>00989         <a class="code" href="../../d7/da0/classbtConcaveShape.html#a82270a1e4343fa400578f1695a5a7770">m_collisionMargin</a> = margin;
<a name="l00990"></a>00990 
<a name="l00991"></a>00991         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#a6bdd14c7599ecb95e8d83dd5a715f9b7" title="return the number of elements in the array">size</a>();
<a name="l00992"></a>00992         <span class="keywordflow">while</span>(i--)
<a name="l00993"></a>00993         {
<a name="l00994"></a>00994             <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html" title="This class manages a sub part of a mesh supplied by the btStridingMeshInterface interface.">btGImpactMeshShapePart</a> * part = <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];
<a name="l00995"></a>00995             part-&gt;<a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html#a6f77efd41c832e436bfd6cca7d3269e7">setMargin</a>(margin);
<a name="l00996"></a>00996         }
<a name="l00997"></a>00997 
<a name="l00998"></a>00998         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a8d7b7a78a8c65d3339d93fbf607a0d20">m_needs_update</a> = <span class="keyword">true</span>;
<a name="l00999"></a>00999     }
<a name="l01000"></a>01000 
<a name="l01002"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#afbf7ae3408bc0ab975c46ed65820a4b2">01002</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#afbf7ae3408bc0ab975c46ed65820a4b2" title="Tells to this object that is needed to refit all the meshes.">postUpdate</a>()
<a name="l01003"></a>01003     {
<a name="l01004"></a>01004         <span class="keywordtype">int</span> <a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>.<a class="code" href="../../dc/df2/classbtAlignedObjectArray.html#a6bdd14c7599ecb95e8d83dd5a715f9b7" title="return the number of elements in the array">size</a>();
<a name="l01005"></a>01005         <span class="keywordflow">while</span>(i--)
<a name="l01006"></a>01006         {
<a name="l01007"></a>01007             <a class="code" href="../../d4/d92/classbtGImpactMeshShapePart.html" title="This class manages a sub part of a mesh supplied by the btStridingMeshInterface interface.">btGImpactMeshShapePart</a> * part = <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#adb3071a27a8d10e7e3ed3ad4cc966056">m_mesh_parts</a>[<a class="code" href="../../dd/db6/paraloopend_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];
<a name="l01008"></a>01008             part-&gt;<a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#ac430754948ac92d6f70b81e88416c96a" title="Tells to this object that is needed to refit the box set.">postUpdate</a>();
<a name="l01009"></a>01009         }
<a name="l01010"></a>01010 
<a name="l01011"></a>01011         <a class="code" href="../../d6/d18/classbtGImpactShapeInterface.html#a8d7b7a78a8c65d3339d93fbf607a0d20">m_needs_update</a> = <span class="keyword">true</span>;
<a name="l01012"></a>01012     }
<a name="l01013"></a>01013 
<a name="l01014"></a>01014     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a060dafd36f1bb428d5130ca5cf137d1d">calculateLocalInertia</a>(<a class="code" href="../../d0/d6b/btScalar_8h.html#a1e5824cfc8adbf5a77f2622132d16018" title="The btScalar type abstracts floating point numbers, to easily switch between double and single floati...">btScalar</a> mass,btVector3&amp; inertia) <span class="keyword">const</span>;
<a name="l01015"></a>01015 
<a name="l01016"></a>01016 
<a name="l01018"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#aaf65a0a643eab8dce1b2f0a89880bcd7">01018</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="../../d5/dc5/classbtPrimitiveManagerBase.html" title="Prototype Base class for primitive classification.">btPrimitiveManagerBase</a> * <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#aaf65a0a643eab8dce1b2f0a89880bcd7" title="Obtains the primitive manager.">getPrimitiveManager</a>()<span class="keyword">  const</span>
<a name="l01019"></a>01019 <span class="keyword">    </span>{
<a name="l01020"></a>01020         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01021"></a>01021         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01022"></a>01022     }
<a name="l01023"></a>01023 
<a name="l01024"></a>01024 
<a name="l01026"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#aec0f4ed6bed09ef67349eed0a05921c1">01026</a>     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#aec0f4ed6bed09ef67349eed0a05921c1" title="Gets the number of children.">getNumChildShapes</a>()<span class="keyword"> const</span>
<a name="l01027"></a>01027 <span class="keyword">    </span>{
<a name="l01028"></a>01028         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01029"></a>01029         <span class="keywordflow">return</span> 0;
<a name="l01030"></a>01030     }
<a name="l01031"></a>01031 
<a name="l01032"></a>01032 
<a name="l01034"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a5693f6e8b6288091ed4bfd445fed1f3e">01034</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a5693f6e8b6288091ed4bfd445fed1f3e" title="if true, then its children must get transforms.">childrenHasTransform</a>()<span class="keyword"> const</span>
<a name="l01035"></a>01035 <span class="keyword">    </span>{
<a name="l01036"></a>01036         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01037"></a>01037         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01038"></a>01038     }
<a name="l01039"></a>01039 
<a name="l01041"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a946835fca3b128e784ae150a4a4d3abd">01041</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a946835fca3b128e784ae150a4a4d3abd" title="Determines if this shape has triangles.">needsRetrieveTriangles</a>()<span class="keyword"> const</span>
<a name="l01042"></a>01042 <span class="keyword">    </span>{
<a name="l01043"></a>01043         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01044"></a>01044         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01045"></a>01045     }
<a name="l01046"></a>01046 
<a name="l01048"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a732b818ef16f33c57f0fe13dcfe2e1a3">01048</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a732b818ef16f33c57f0fe13dcfe2e1a3" title="Determines if this shape has tetrahedrons.">needsRetrieveTetrahedrons</a>()<span class="keyword"> const</span>
<a name="l01049"></a>01049 <span class="keyword">    </span>{
<a name="l01050"></a>01050         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01051"></a>01051         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01052"></a>01052     }
<a name="l01053"></a>01053 
<a name="l01054"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a1f0cc1518a14a9b5443889bc036ed2a5">01054</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a1f0cc1518a14a9b5443889bc036ed2a5" title="Base method for determinig which kind of GIMPACT shape we get.">getBulletTriangle</a>(<span class="keywordtype">int</span> prim_index,<a class="code" href="../../db/dac/classbtTriangleShapeEx.html" title="Helper class for colliding Bullet Triangle Shapes.">btTriangleShapeEx</a> &amp; triangle)<span class="keyword"> const</span>
<a name="l01055"></a>01055 <span class="keyword">    </span>{
<a name="l01056"></a>01056         (void) prim_index; (void) triangle;
<a name="l01057"></a>01057         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01058"></a>01058     }
<a name="l01059"></a>01059 
<a name="l01060"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a44911f94b3b0feebe80d6d3871daa98e">01060</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a44911f94b3b0feebe80d6d3871daa98e" title="Base method for determinig which kind of GIMPACT shape we get.">getBulletTetrahedron</a>(<span class="keywordtype">int</span> prim_index,<a class="code" href="../../d0/db5/classbtTetrahedronShapeEx.html" title="Helper class for tetrahedrons.">btTetrahedronShapeEx</a> &amp; tetrahedron)<span class="keyword"> const</span>
<a name="l01061"></a>01061 <span class="keyword">    </span>{
<a name="l01062"></a>01062         (void) prim_index; (void) tetrahedron;
<a name="l01063"></a>01063         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01064"></a>01064     }
<a name="l01065"></a>01065 
<a name="l01067"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a569599b4c909a948c3489ca351ce3b89">01067</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a569599b4c909a948c3489ca351ce3b89" title="call when reading child shapes">lockChildShapes</a>()<span class="keyword"> const</span>
<a name="l01068"></a>01068 <span class="keyword">    </span>{
<a name="l01069"></a>01069         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01070"></a>01070     }
<a name="l01071"></a>01071 
<a name="l01072"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#ac67f278f835b438ef39ee69f5a4f9d00">01072</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#ac67f278f835b438ef39ee69f5a4f9d00" title="Base method for determinig which kind of GIMPACT shape we get.">unlockChildShapes</a>()<span class="keyword"> const</span>
<a name="l01073"></a>01073 <span class="keyword">    </span>{
<a name="l01074"></a>01074         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01075"></a>01075     }
<a name="l01076"></a>01076 
<a name="l01077"></a>01077 
<a name="l01078"></a>01078 
<a name="l01079"></a>01079 
<a name="l01081"></a>01081 
<a name="l01083"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a92be12fb67279fcb6f8bf47c9d6608a9">01083</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a92be12fb67279fcb6f8bf47c9d6608a9" title="Retrieves the bound from a child.">getChildAabb</a>(<span class="keywordtype">int</span> child_index,<span class="keyword">const</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a>&amp; t,btVector3&amp; aabbMin,btVector3&amp; aabbMax)<span class="keyword"> const</span>
<a name="l01084"></a>01084 <span class="keyword">    </span>{
<a name="l01085"></a>01085         (void) child_index; (void) t; (void) aabbMin; (void) aabbMax;
<a name="l01086"></a>01086         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01087"></a>01087     }
<a name="l01088"></a>01088 
<a name="l01090"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#ae268fb9f2813b1fa4171d87e201c37a7">01090</a>     <span class="keyword">virtual</span> <a class="code" href="../../d7/dd7/classbtCollisionShape.html" title="The btCollisionShape class provides an interface for collision shapes that can be shared among btColl...">btCollisionShape</a>* <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#ae268fb9f2813b1fa4171d87e201c37a7" title="Gets the children.">getChildShape</a>(<span class="keywordtype">int</span> index)
<a name="l01091"></a>01091     {
<a name="l01092"></a>01092         (void) index;
<a name="l01093"></a>01093         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01094"></a>01094         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01095"></a>01095     }
<a name="l01096"></a>01096 
<a name="l01097"></a>01097 
<a name="l01099"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a476d81e3da36410bb96da37599dfdbb0">01099</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="../../d7/dd7/classbtCollisionShape.html" title="The btCollisionShape class provides an interface for collision shapes that can be shared among btColl...">btCollisionShape</a>* <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#ae268fb9f2813b1fa4171d87e201c37a7" title="Gets the children.">getChildShape</a>(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l01100"></a>01100 <span class="keyword">    </span>{
<a name="l01101"></a>01101         (void) index;
<a name="l01102"></a>01102         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01103"></a>01103         <span class="keywordflow">return</span> <a class="code" href="../../df/dac/source_2blender_2blenpluginapi_2util_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01104"></a>01104     }
<a name="l01105"></a>01105 
<a name="l01107"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a40f77ee9ac94d20af03c068a76b231ec">01107</a>     <span class="keyword">virtual</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a40f77ee9ac94d20af03c068a76b231ec" title="Gets the children transform.">getChildTransform</a>(<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l01108"></a>01108 <span class="keyword">    </span>{
<a name="l01109"></a>01109         (void) index;
<a name="l01110"></a>01110         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01111"></a>01111         <span class="keywordflow">return</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a>();
<a name="l01112"></a>01112     }
<a name="l01113"></a>01113 
<a name="l01115"></a>01115 
<a name="l01118"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a274feed3c9a38a6af5c9f1141ae9ac1a">01118</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a274feed3c9a38a6af5c9f1141ae9ac1a" title="Sets the children transform.">setChildTransform</a>(<span class="keywordtype">int</span> index, <span class="keyword">const</span> <a class="code" href="../../d4/d79/classbtTransform.html" title="The btTransform class supports rigid transforms with only translation and rotation and no scaling/she...">btTransform</a> &amp; <a class="code" href="../../d1/d22/stdosl_8h.html#ae86ec281d92a1a2e071e373b444a0d13">transform</a>)
<a name="l01119"></a>01119     {
<a name="l01120"></a>01120         (void) index; (void) transform;
<a name="l01121"></a>01121         <a class="code" href="../../d0/d6b/btScalar_8h.html#aff3e6078c073f6ba0edb95353f2c2c62">btAssert</a>(0);
<a name="l01122"></a>01122     }
<a name="l01123"></a>01123 
<a name="l01124"></a>01124 
<a name="l01125"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#acd958461b4f7802e5bceed2db87c4ff0">01125</a>     <span class="keyword">virtual</span> <a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3">eGIMPACT_SHAPE_TYPE</a> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#acd958461b4f7802e5bceed2db87c4ff0" title="Base method for determinig which kind of GIMPACT shape we get.">getGImpactShapeType</a>()<span class="keyword"> const</span>
<a name="l01126"></a>01126 <span class="keyword">    </span>{
<a name="l01127"></a>01127         <span class="keywordflow">return</span> <a class="code" href="../../db/d01/btGImpactShape_8h.html#a01b6081e3dbbcb5e6211f1a59746fcc3a5dedcc5431f9c3bf41b9599f7fbe88d3">CONST_GIMPACT_TRIMESH_SHAPE</a>;
<a name="l01128"></a>01128     }
<a name="l01129"></a>01129 
<a name="l01130"></a>01130 
<a name="l01131"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a5cd08712fc8d24338b1d1ad14f4b72af">01131</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a5cd08712fc8d24338b1d1ad14f4b72af">getName</a>()<span class="keyword">const</span>
<a name="l01132"></a>01132 <span class="keyword">    </span>{
<a name="l01133"></a>01133         <span class="keywordflow">return</span> <span class="stringliteral">&quot;GImpactMesh&quot;</span>;
<a name="l01134"></a>01134     }
<a name="l01135"></a>01135 
<a name="l01136"></a>01136     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a219d87a155aa1cb9af6df7a2413fde47" title="virtual method for ray collision">rayTest</a>(<span class="keyword">const</span> btVector3&amp; rayFrom, <span class="keyword">const</span> btVector3&amp; rayTo, <a class="code" href="../../dd/d12/structbtCollisionWorld_1_1RayResultCallback.html" title="RayResultCallback is used to report new raycast results.">btCollisionWorld::RayResultCallback</a>&amp; resultCallback)  <span class="keyword">const</span>;
<a name="l01137"></a>01137 
<a name="l01139"></a>01139 
<a name="l01142"></a>01142     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a0b3a0f7b06feb5e2e1fa94f2b5fcd4c7" title="Function for retrieve triangles.">processAllTriangles</a>(<a class="code" href="../../d9/d9e/classbtTriangleCallback.html">btTriangleCallback</a>* callback,<span class="keyword">const</span> btVector3&amp; aabbMin,<span class="keyword">const</span> btVector3&amp; aabbMax) <span class="keyword">const</span>;
<a name="l01143"></a>01143 
<a name="l01144"></a>01144     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a95d6a4772e5f71a3f02ade5fadaf26e6">calculateSerializeBufferSize</a>() <span class="keyword">const</span>;
<a name="l01145"></a>01145 
<a name="l01147"></a>01147     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a52fb7b4c6cbb81e7041e88b04cd3e89c" title="fills the dataBuffer and returns the struct name (and 0 on failure)">serialize</a>(<span class="keywordtype">void</span>* dataBuffer, <a class="code" href="../../d2/d43/classbtSerializer.html">btSerializer</a>* serializer) <span class="keyword">const</span>;
<a name="l01148"></a>01148 
<a name="l01149"></a>01149 };
<a name="l01150"></a>01150 
<a name="l01152"></a><a class="code" href="../../d3/dc1/structbtGImpactMeshShapeData.html">01152</a> <span class="keyword">struct  </span><a class="code" href="../../d3/dc1/structbtGImpactMeshShapeData.html" title="do not change those serialization structures, it requires an updated sBulletDNAstr/sBulletDNAstr64">btGImpactMeshShapeData</a>
<a name="l01153"></a>01153 {
<a name="l01154"></a><a class="code" href="../../d3/dc1/structbtGImpactMeshShapeData.html#a07bd784d15bf2f004ae03ec7fbe33c5a">01154</a>     <a class="code" href="../../df/d8b/structbtCollisionShapeData.html" title="do not change those serialization structures, it requires an updated sBulletDNAstr/sBulletDNAstr64">btCollisionShapeData</a>    <a class="code" href="../../d3/dc1/structbtGImpactMeshShapeData.html#a07bd784d15bf2f004ae03ec7fbe33c5a">m_collisionShapeData</a>;
<a name="l01155"></a>01155 
<a name="l01156"></a><a class="code" href="../../d3/dc1/structbtGImpactMeshShapeData.html#a635a1bc2cfb2a9c4c73799c4be50df54">01156</a>     <a class="code" href="../../db/daf/structbtStridingMeshInterfaceData.html" title="do not change those serialization structures, it requires an updated sBulletDNAstr/sBulletDNAstr64">btStridingMeshInterfaceData</a> <a class="code" href="../../d3/dc1/structbtGImpactMeshShapeData.html#a635a1bc2cfb2a9c4c73799c4be50df54">m_meshInterface</a>;
<a name="l01157"></a>01157 
<a name="l01158"></a><a class="code" href="../../d3/dc1/structbtGImpactMeshShapeData.html#ae8e15246acba144c3383e86b903894ff">01158</a>     <a class="code" href="../../de/d67/structbtVector3FloatData.html">btVector3FloatData</a>  <a class="code" href="../../d3/dc1/structbtGImpactMeshShapeData.html#ae8e15246acba144c3383e86b903894ff">m_localScaling</a>;
<a name="l01159"></a>01159 
<a name="l01160"></a><a class="code" href="../../d3/dc1/structbtGImpactMeshShapeData.html#aded76ad490cff87f5f8b51e726b9d221">01160</a>     <span class="keywordtype">float</span>   <a class="code" href="../../d3/dc1/structbtGImpactMeshShapeData.html#aded76ad490cff87f5f8b51e726b9d221">m_collisionMargin</a>;
<a name="l01161"></a>01161 
<a name="l01162"></a><a class="code" href="../../d3/dc1/structbtGImpactMeshShapeData.html#a405b8aa1e0b9a7d46cf9bc1540214820">01162</a>     <span class="keywordtype">int</span>     <a class="code" href="../../d3/dc1/structbtGImpactMeshShapeData.html#a405b8aa1e0b9a7d46cf9bc1540214820">m_gimpactSubType</a>;
<a name="l01163"></a>01163 };
<a name="l01164"></a>01164 
<a name="l01165"></a><a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a95d6a4772e5f71a3f02ade5fadaf26e6">01165</a> <a class="code" href="../../d0/d6b/btScalar_8h.html#a8a6a3e8b28846a3d7271e376c738ec40">SIMD_FORCE_INLINE</a>   <span class="keywordtype">int</span> <a class="code" href="../../df/d39/classbtGImpactMeshShape.html#a95d6a4772e5f71a3f02ade5fadaf26e6">btGImpactMeshShape::calculateSerializeBufferSize</a>()<span class="keyword"> const</span>
<a name="l01166"></a>01166 <span class="keyword"></span>{
<a name="l01167"></a>01167     <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(<a class="code" href="../../d3/dc1/structbtGImpactMeshShapeData.html" title="do not change those serialization structures, it requires an updated sBulletDNAstr/sBulletDNAstr64">btGImpactMeshShapeData</a>);
<a name="l01168"></a>01168 }
<a name="l01169"></a>01169 
<a name="l01170"></a>01170 
<a name="l01171"></a>01171 <span class="preprocessor">#endif //GIMPACT_MESH_SHAPE_H</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Nov 13 2012 11:54:08 for Blender by&#160;
<a href="http://www.doxygen.org/index.html"> 
doxygen</a> 1.7.4 </small></address> 
</body>
</html>
