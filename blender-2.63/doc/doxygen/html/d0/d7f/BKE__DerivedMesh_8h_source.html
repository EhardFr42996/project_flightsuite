<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Blender: BKE_DerivedMesh.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blender.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Blender&#160;<span id="projectnumber">V2.6x</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">BKE_DerivedMesh.h</div>  </div>
</div>
<div class="contents">
<a href="../../d0/d7f/BKE__DerivedMesh_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * ***** BEGIN GPL LICENSE BLOCK *****</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This program is free software; you can redistribute it and/or</span>
<a name="l00005"></a>00005 <span class="comment"> * modify it under the terms of the GNU General Public License</span>
<a name="l00006"></a>00006 <span class="comment"> * as published by the Free Software Foundation; either version 2</span>
<a name="l00007"></a>00007 <span class="comment"> * of the License, or (at your option) any later version.</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00010"></a>00010 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00011"></a>00011 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00012"></a>00012 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00015"></a>00015 <span class="comment"> * along with this program; if not, write to the Free Software Foundation,</span>
<a name="l00016"></a>00016 <span class="comment"> * Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * The Original Code is Copyright (C) 2001-2002 by NaN Holding BV.</span>
<a name="l00019"></a>00019 <span class="comment"> * All rights reserved.</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> * The Original Code is: all of this file.</span>
<a name="l00022"></a>00022 <span class="comment"> *</span>
<a name="l00023"></a>00023 <span class="comment"> * Contributor(s): none yet.</span>
<a name="l00024"></a>00024 <span class="comment"> *</span>
<a name="l00025"></a>00025 <span class="comment"> * ***** END GPL LICENSE BLOCK *****</span>
<a name="l00026"></a>00026 <span class="comment"> */</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#ifndef __BKE_DERIVEDMESH_H__</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="preprocessor">#define __BKE_DERIVEDMESH_H__</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a>00031 <span class="comment">/*</span>
<a name="l00032"></a>00032 <span class="comment"> * Basic design of the DerivedMesh system:</span>
<a name="l00033"></a>00033 <span class="comment"> *</span>
<a name="l00034"></a>00034 <span class="comment"> * DerivedMesh is a common set of interfaces for mesh systems.</span>
<a name="l00035"></a>00035 <span class="comment"> *</span>
<a name="l00036"></a>00036 <span class="comment"> * There are three main mesh data structures in Blender: Mesh, CDDM, and BMesh.</span>
<a name="l00037"></a>00037 <span class="comment"> * These, and a few others, all implement DerivedMesh interfaces, </span>
<a name="l00038"></a>00038 <span class="comment"> * which contains unified drawing interfaces, a few utility interfaces, </span>
<a name="l00039"></a>00039 <span class="comment"> * and a bunch of read-only interfaces intended mostly for conversion from </span>
<a name="l00040"></a>00040 <span class="comment"> * one format to another.</span>
<a name="l00041"></a>00041 <span class="comment"> *</span>
<a name="l00042"></a>00042 <span class="comment"> * All Mesh structures in blender make use of CustomData, which is used to store</span>
<a name="l00043"></a>00043 <span class="comment"> * per-element attributes and interpolate them (e.g. uvs, vcols, vgroups, etc).</span>
<a name="l00044"></a>00044 <span class="comment"> * </span>
<a name="l00045"></a>00045 <span class="comment"> * Mesh is the &quot;serialized&quot; structure, used for storing object-mode mesh data</span>
<a name="l00046"></a>00046 <span class="comment"> * and also for saving stuff to disk.  It&#39;s interfaces are also what DerivedMesh</span>
<a name="l00047"></a>00047 <span class="comment"> * uses to communicate with.</span>
<a name="l00048"></a>00048 <span class="comment"> * </span>
<a name="l00049"></a>00049 <span class="comment"> * CDDM is a little mesh library, that uses Mesh data structures in the backend.</span>
<a name="l00050"></a>00050 <span class="comment"> * It&#39;s mostly used for modifiers, and has the advantages of not taking much</span>
<a name="l00051"></a>00051 <span class="comment"> * resources.</span>
<a name="l00052"></a>00052 <span class="comment"> *</span>
<a name="l00053"></a>00053 <span class="comment"> * BMesh is a full-on brep, used for editmode, some modifiers, etc.  It&#39;s much</span>
<a name="l00054"></a>00054 <span class="comment"> * more capable (if memory-intensive) then CDDM.</span>
<a name="l00055"></a>00055 <span class="comment"> *</span>
<a name="l00056"></a>00056 <span class="comment"> * DerivedMesh is somewhat hackish.  Many places assumes that a DerivedMesh is</span>
<a name="l00057"></a>00057 <span class="comment"> * a CDDM (most of the time by simply copying it and converting it to one).</span>
<a name="l00058"></a>00058 <span class="comment"> * CDDM is the original structure for modifiers, but has since been superseded</span>
<a name="l00059"></a>00059 <span class="comment"> * by BMesh, at least for the foreseeable future.</span>
<a name="l00060"></a>00060 <span class="comment"> */</span>
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 <span class="comment">/*</span>
<a name="l00063"></a>00063 <span class="comment"> * Note: This structure is read-only, for all practical purposes.</span>
<a name="l00064"></a>00064 <span class="comment"> *       At some point in the future, we may want to consider</span>
<a name="l00065"></a>00065 <span class="comment"> *       creating a replacement structure that implements a proper</span>
<a name="l00066"></a>00066 <span class="comment"> *       abstract mesh kernel interface.  Or, we can leave this</span>
<a name="l00067"></a>00067 <span class="comment"> *       as it is and stick with using BMesh and CDDM.</span>
<a name="l00068"></a>00068 <span class="comment"> */</span>
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/d9f/DNA__customdata__types_8h.html">DNA_customdata_types.h</a>&quot;</span>
<a name="l00072"></a>00072 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/d36/DNA__meshdata__types_8h.html">DNA_meshdata_types.h</a>&quot;</span>
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/d5e/BKE__customdata_8h.html" title="CustomData interface, see also DNA_customdata_types.h.">BKE_customdata.h</a>&quot;</span>
<a name="l00075"></a>00075 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/d65/BKE__bvhutils_8h.html">BKE_bvhutils.h</a>&quot;</span>
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 <span class="keyword">struct </span><a class="code" href="../../d8/de5/structMVert.html">MVert</a>;
<a name="l00078"></a>00078 <span class="keyword">struct </span><a class="code" href="../../d6/ded/structMEdge.html">MEdge</a>;
<a name="l00079"></a>00079 <span class="keyword">struct </span><a class="code" href="../../d6/da0/structMFace.html">MFace</a>;
<a name="l00080"></a>00080 <span class="keyword">struct </span><a class="code" href="../../da/d7f/structMTFace.html">MTFace</a>;
<a name="l00081"></a>00081 <span class="keyword">struct </span><a class="code" href="../../de/de7/structObject.html">Object</a>;
<a name="l00082"></a>00082 <span class="keyword">struct </span><a class="code" href="../../d9/d27/structScene.html">Scene</a>;
<a name="l00083"></a>00083 <span class="keyword">struct </span><a class="code" href="../../da/d29/structMesh.html">Mesh</a>;
<a name="l00084"></a>00084 <span class="keyword">struct </span><a class="code" href="../../d5/de5/structBMEditMesh.html">BMEditMesh</a>;
<a name="l00085"></a>00085 <span class="keyword">struct </span><a class="code" href="../../d2/dc3/structKeyBlock.html">KeyBlock</a>;
<a name="l00086"></a>00086 <span class="keyword">struct </span><a class="code" href="../../db/ddd/structModifierData.html">ModifierData</a>;
<a name="l00087"></a>00087 <span class="keyword">struct </span><a class="code" href="../../db/d33/structMCol.html">MCol</a>;
<a name="l00088"></a>00088 <span class="keyword">struct </span><a class="code" href="../../d0/dc8/structColorBand.html">ColorBand</a>;
<a name="l00089"></a>00089 <span class="keyword">struct </span><a class="code" href="../../df/d4b/structGPUVertexAttribs.html">GPUVertexAttribs</a>;
<a name="l00090"></a>00090 <span class="keyword">struct </span><a class="code" href="../../df/d59/structGPUDrawObject.html">GPUDrawObject</a>;
<a name="l00091"></a>00091 <span class="keyword">struct </span><a class="code" href="../../d5/de5/structBMEditMesh.html">BMEditMesh</a>;
<a name="l00092"></a>00092 <span class="keyword">struct </span><a class="code" href="../../d6/d85/structListBase.html">ListBase</a>;
<a name="l00093"></a>00093 <span class="keyword">struct </span><a class="code" href="../../d3/dd0/structPBVH.html">PBVH</a>;
<a name="l00094"></a>00094 
<a name="l00095"></a>00095 <span class="comment">/* number of sub-elements each mesh element has (for interpolation) */</span>
<a name="l00096"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a9fb7c0ee9674a1854caac51146e3e6f4">00096</a> <span class="preprocessor">#define SUB_ELEMS_VERT 0</span>
<a name="l00097"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ab6ecf660a91680321d8f02491a79ac7c">00097</a> <span class="preprocessor"></span><span class="preprocessor">#define SUB_ELEMS_EDGE 2</span>
<a name="l00098"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aa7186f844847f403f282340af694f38e">00098</a> <span class="preprocessor"></span><span class="preprocessor">#define SUB_ELEMS_FACE 50</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span>
<a name="l00100"></a>00100 <span class="comment">/*</span>
<a name="l00101"></a>00101 <span class="comment"> * Note: all mface interfaces now officially operate on tessellated data.</span>
<a name="l00102"></a>00102 <span class="comment"> *       Also, the mface origindex layer indexes mpolys, not mfaces.</span>
<a name="l00103"></a>00103 <span class="comment"> */</span>
<a name="l00104"></a>00104 
<a name="l00105"></a><a class="code" href="../../de/d85/structDMGridData.html">00105</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../de/d85/structDMGridData.html">DMGridData</a> {
<a name="l00106"></a><a class="code" href="../../de/d85/structDMGridData.html#a2eefcf4e517196c92930feeedb312643">00106</a>     <span class="keywordtype">float</span> <a class="code" href="../../de/d85/structDMGridData.html#a2eefcf4e517196c92930feeedb312643">co</a>[3];
<a name="l00107"></a><a class="code" href="../../de/d85/structDMGridData.html#a91db5970badedaaf7d68e109077cd189">00107</a>     <span class="keywordtype">float</span> <a class="code" href="../../de/d85/structDMGridData.html#a91db5970badedaaf7d68e109077cd189">no</a>[3];
<a name="l00108"></a>00108 } <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae36c1da8ca87a4406e12190a18cb0ff0">DMGridData</a>;
<a name="l00109"></a>00109 
<a name="l00110"></a><a class="code" href="../../d9/d82/structDMGridAdjacency.html">00110</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d82/structDMGridAdjacency.html">DMGridAdjacency</a> {
<a name="l00111"></a><a class="code" href="../../d9/d82/structDMGridAdjacency.html#a3586ddfcfeeca6f6ad9cf5416b69fca3">00111</a>     <span class="keywordtype">int</span> <a class="code" href="../../d9/d82/structDMGridAdjacency.html#a3586ddfcfeeca6f6ad9cf5416b69fca3">index</a>[4];
<a name="l00112"></a><a class="code" href="../../d9/d82/structDMGridAdjacency.html#a4cd700f418ff253af6e13cafb629cb10">00112</a>     <span class="keywordtype">int</span> <a class="code" href="../../d9/d82/structDMGridAdjacency.html#a4cd700f418ff253af6e13cafb629cb10">rotation</a>[4];
<a name="l00113"></a>00113 } <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a509b1a3fb58239e2e706ad280bbbb24f">DMGridAdjacency</a>;
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="comment">/* keep in sync with MFace/MPoly types */</span>
<a name="l00116"></a><a class="code" href="../../da/d1d/structDMFlagMat.html">00116</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../da/d1d/structDMFlagMat.html">DMFlagMat</a> {
<a name="l00117"></a><a class="code" href="../../da/d1d/structDMFlagMat.html#a65a4c37ed760de6ae2f7f097811a267f">00117</a>     <span class="keywordtype">short</span> <a class="code" href="../../da/d1d/structDMFlagMat.html#a65a4c37ed760de6ae2f7f097811a267f">mat_nr</a>;
<a name="l00118"></a><a class="code" href="../../da/d1d/structDMFlagMat.html#a2a420c60aa30d84c70b21349d186c727">00118</a>     <span class="keywordtype">char</span> <a class="code" href="../../da/d1d/structDMFlagMat.html#a2a420c60aa30d84c70b21349d186c727">flag</a>;
<a name="l00119"></a>00119 } <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aa0d855fd810d9f913f64c663468e0beb">DMFlagMat</a>;
<a name="l00120"></a>00120 
<a name="l00121"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aea838fd8bdcc9862088f92645d3c1fef">00121</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aea838fd8bdcc9862088f92645d3c1fef">DerivedMeshType</a> {
<a name="l00122"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aea838fd8bdcc9862088f92645d3c1fefad39bfabfeccc5364d4b2828dbfb09131">00122</a>     <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aea838fd8bdcc9862088f92645d3c1fefad39bfabfeccc5364d4b2828dbfb09131">DM_TYPE_CDDM</a>,
<a name="l00123"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aea838fd8bdcc9862088f92645d3c1fefa6ab3966d014cf244418874be6a8a503a">00123</a>     <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aea838fd8bdcc9862088f92645d3c1fefa6ab3966d014cf244418874be6a8a503a">DM_TYPE_EDITBMESH</a>,
<a name="l00124"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aea838fd8bdcc9862088f92645d3c1fefad66ecfdb37d7171c8980b9ab11232730">00124</a>     <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aea838fd8bdcc9862088f92645d3c1fefad66ecfdb37d7171c8980b9ab11232730">DM_TYPE_CCGDM</a>
<a name="l00125"></a>00125 } <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aea838fd8bdcc9862088f92645d3c1fef">DerivedMeshType</a>;
<a name="l00126"></a>00126 
<a name="l00127"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae0bb6c16ac9c597ad3863acd97417442">00127</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae0bb6c16ac9c597ad3863acd97417442">DMDrawOption</a> {
<a name="l00128"></a>00128     <span class="comment">/* the element is hidden or otherwise non-drawable */</span>
<a name="l00129"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae0bb6c16ac9c597ad3863acd97417442a618a0ba0086f3f3687726db84919260d">00129</a>     <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae0bb6c16ac9c597ad3863acd97417442a618a0ba0086f3f3687726db84919260d">DM_DRAW_OPTION_SKIP</a> = 0,
<a name="l00130"></a>00130     <span class="comment">/* normal drawing */</span>
<a name="l00131"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae0bb6c16ac9c597ad3863acd97417442acfb2e0978e1605561279f2b599cf4499">00131</a>     <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae0bb6c16ac9c597ad3863acd97417442acfb2e0978e1605561279f2b599cf4499">DM_DRAW_OPTION_NORMAL</a> = 1,
<a name="l00132"></a>00132     <span class="comment">/* draw, but don&#39;t set the color from mcol */</span>
<a name="l00133"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae0bb6c16ac9c597ad3863acd97417442a09af4e72bce47f0e7de3d7a329264e17">00133</a>     <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae0bb6c16ac9c597ad3863acd97417442a09af4e72bce47f0e7de3d7a329264e17">DM_DRAW_OPTION_NO_MCOL</a> = 2,
<a name="l00134"></a>00134     <span class="comment">/* used in drawMappedFaces, use GL stipple for the face */</span>
<a name="l00135"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae0bb6c16ac9c597ad3863acd97417442a29b532bc98870f23b4b9029566944b5d">00135</a>     <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae0bb6c16ac9c597ad3863acd97417442a29b532bc98870f23b4b9029566944b5d">DM_DRAW_OPTION_STIPPLE</a> = 3,
<a name="l00136"></a>00136 } <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae0bb6c16ac9c597ad3863acd97417442">DMDrawOption</a>;
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 <span class="comment">/* Drawing callback types */</span>
<a name="l00139"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a8e2f823f024740efe648726f57f4a336">00139</a> <span class="keyword">typedef</span> int (*<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a8e2f823f024740efe648726f57f4a336">DMSetMaterial</a>)(<span class="keywordtype">int</span> mat_nr, <span class="keywordtype">void</span> *attribs);
<a name="l00140"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#acb89f197b8bb92b92b933d95e540e562">00140</a> <span class="keyword">typedef</span> int (*<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#acb89f197b8bb92b92b933d95e540e562">DMCompareDrawOptions</a>)(<span class="keywordtype">void</span> *userData, <span class="keywordtype">int</span> cur_index, <span class="keywordtype">int</span> next_index);
<a name="l00141"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a86360c9279512301ac8784b36be03ea9">00141</a> <span class="keyword">typedef</span> void (*<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a86360c9279512301ac8784b36be03ea9">DMSetDrawInterpOptions</a>)(<span class="keywordtype">void</span> *userData, <span class="keywordtype">int</span> index, <span class="keywordtype">float</span> t);
<a name="l00142"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0ba0a3248a5400cf787bbebd1b609779">00142</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae0bb6c16ac9c597ad3863acd97417442">DMDrawOption</a> (*<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0ba0a3248a5400cf787bbebd1b609779">DMSetDrawOptions</a>)(<span class="keywordtype">void</span> *userData, <span class="keywordtype">int</span> index);
<a name="l00143"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aef957b3341a537c68afe7a4e5fdcb25a">00143</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae0bb6c16ac9c597ad3863acd97417442">DMDrawOption</a> (*<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aef957b3341a537c68afe7a4e5fdcb25a">DMSetDrawOptionsTex</a>)(<span class="keyword">struct </span><a class="code" href="../../da/d7f/structMTFace.html">MTFace</a> *tface, <span class="keywordtype">int</span> has_vcol, <span class="keywordtype">int</span> matnr);
<a name="l00144"></a>00144 
<a name="l00145"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0f4fefe67bcaaeef025d1ec04a9014ef">00145</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0f4fefe67bcaaeef025d1ec04a9014ef">DMDrawFlag</a> {
<a name="l00146"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0f4fefe67bcaaeef025d1ec04a9014efaac2c4511ff1ea2e11b39e4ec6b20cc0e">00146</a>     <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0f4fefe67bcaaeef025d1ec04a9014efaac2c4511ff1ea2e11b39e4ec6b20cc0e">DM_DRAW_USE_COLORS</a> = 1,
<a name="l00147"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0f4fefe67bcaaeef025d1ec04a9014efa53bc64b355cb657df416a902043c3627">00147</a>     <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0f4fefe67bcaaeef025d1ec04a9014efa53bc64b355cb657df416a902043c3627">DM_DRAW_ALWAYS_SMOOTH</a> = 2
<a name="l00148"></a>00148 } <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0f4fefe67bcaaeef025d1ec04a9014ef">DMDrawFlag</a>;
<a name="l00149"></a>00149 
<a name="l00150"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#af5d2d5fad496bc75bcbfa56999d8061a">00150</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#af5d2d5fad496bc75bcbfa56999d8061a">DMDirtyFlag</a> {
<a name="l00151"></a>00151     <span class="comment">/* dm has valid tessellated faces, but tessellated CDDATA need to be updated. */</span>
<a name="l00152"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#af5d2d5fad496bc75bcbfa56999d8061aa011d123155855e8ed0e1bd3e8ffc21e5">00152</a>     <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#af5d2d5fad496bc75bcbfa56999d8061aa011d123155855e8ed0e1bd3e8ffc21e5">DM_DIRTY_TESS_CDLAYERS</a> = 1 &lt;&lt; 0,
<a name="l00153"></a>00153 } <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#af5d2d5fad496bc75bcbfa56999d8061a">DMDirtyFlag</a>;
<a name="l00154"></a>00154 
<a name="l00155"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aa0805e6f5791e321ad0194ef0ecf878a">00155</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a>;
<a name="l00156"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html">00156</a> <span class="keyword">struct </span><a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> {
<a name="l00157"></a>00157     <span class="comment">/* Private DerivedMesh data, only for internal DerivedMesh use */</span>
<a name="l00158"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a1c381760f3a93e81d828b261dc9ad6d3">00158</a>     <a class="code" href="../../df/d04/structCustomData.html">CustomData</a> <a class="code" href="../../d5/d6c/structDerivedMesh.html#a1c381760f3a93e81d828b261dc9ad6d3">vertData</a>, <a class="code" href="../../d5/d6c/structDerivedMesh.html#ab3adae7e2e8db21d0d96eb39889ed885">edgeData</a>, <a class="code" href="../../d5/d6c/structDerivedMesh.html#a12722e14b04d5f053d93d2a3bb81203e">faceData</a>, <a class="code" href="../../d5/d6c/structDerivedMesh.html#ad32638299fdf4c22df6a6254add64780">loopData</a>, <a class="code" href="../../d5/d6c/structDerivedMesh.html#a6fef20d1e0da7b52c44be7a98b2fb388">polyData</a>;
<a name="l00159"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a2edb9ee7af5ff3b26b2615882e2b7dcf">00159</a>     <span class="keywordtype">int</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html#a2edb9ee7af5ff3b26b2615882e2b7dcf">numVertData</a>, <a class="code" href="../../d5/d6c/structDerivedMesh.html#aa77e459bd709eed5b4724f4e8fdebfae">numEdgeData</a>, <a class="code" href="../../d5/d6c/structDerivedMesh.html#a9c1e3e826773dadacab930b7f3b84bd4">numTessFaceData</a>, <a class="code" href="../../d5/d6c/structDerivedMesh.html#aca73d969f2a71a14cba14fcc03a58602">numLoopData</a>, <a class="code" href="../../d5/d6c/structDerivedMesh.html#aff24b50c34425277af6c2e00079e9d7f">numPolyData</a>;
<a name="l00160"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a18e4784d6ea7e5877394c53cdfd65691">00160</a>     <span class="keywordtype">int</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html#a18e4784d6ea7e5877394c53cdfd65691">needsFree</a>; <span class="comment">/* checked on -&gt;release, is set to 0 for cached results */</span>
<a name="l00161"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ab759ebc0e7d00291ab54b0ace0e118c1">00161</a>     <span class="keywordtype">int</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html#ab759ebc0e7d00291ab54b0ace0e118c1">deformedOnly</a>; <span class="comment">/* set by modifier stack if only deformed from original */</span>
<a name="l00162"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ad0fb7c089766f10443e6e8a1e12e4dc1">00162</a>     <a class="code" href="../../d7/deb/structLinkNode.html">BVHCache</a> <a class="code" href="../../d5/d6c/structDerivedMesh.html#ad0fb7c089766f10443e6e8a1e12e4dc1">bvhCache</a>;
<a name="l00163"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a38d54047540ca8db6627e504d4a9e66a">00163</a>     <span class="keyword">struct </span><a class="code" href="../../df/d59/structGPUDrawObject.html">GPUDrawObject</a> *<a class="code" href="../../d5/d6c/structDerivedMesh.html#a38d54047540ca8db6627e504d4a9e66a">drawObject</a>;
<a name="l00164"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#afe18e696881b0dbf56124b4b1c01b63c">00164</a>     <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aea838fd8bdcc9862088f92645d3c1fef">DerivedMeshType</a> <a class="code" href="../../d5/d6c/structDerivedMesh.html#afe18e696881b0dbf56124b4b1c01b63c">type</a>;
<a name="l00165"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#aa480cce78cce6112e4501d533beb76c1">00165</a>     <span class="keywordtype">float</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html#aa480cce78cce6112e4501d533beb76c1">auto_bump_scale</a>;
<a name="l00166"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#af38d7806eaa66f67c9a2c00121f9d4a1">00166</a>     <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#af5d2d5fad496bc75bcbfa56999d8061a">DMDirtyFlag</a> <a class="code" href="../../d5/d6c/structDerivedMesh.html#af38d7806eaa66f67c9a2c00121f9d4a1">dirty</a>;
<a name="l00167"></a>00167 
<a name="l00168"></a>00168     <span class="comment">/* calculate vert and face normals */</span>
<a name="l00169"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a4ce764128d07bada75eba3176731fb4c">00169</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a4ce764128d07bada75eba3176731fb4c">calcNormals</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00170"></a>00170 
<a name="l00171"></a>00171     <span class="comment">/* recalculates mesh tessellation */</span>
<a name="l00172"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#af036394045ae57efd07158f511945a5d">00172</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#af036394045ae57efd07158f511945a5d">recalcTessellation</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00173"></a>00173 
<a name="l00174"></a>00174     <span class="comment">/* Misc. Queries */</span>
<a name="l00175"></a>00175 
<a name="l00176"></a>00176     <span class="comment">/* Also called in Editmode */</span>
<a name="l00177"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a3d5c5a506b0705a9071680807da2e7ee">00177</a>     int (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a3d5c5a506b0705a9071680807da2e7ee">getNumVerts</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00178"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a3b3f4272750d320851296b91df489952">00178</a>     int (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a3b3f4272750d320851296b91df489952">getNumEdges</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00179"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a3481fefe300b7d6b456071320be70c56">00179</a>     int (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a3481fefe300b7d6b456071320be70c56">getNumTessFaces</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00180"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#aef9f2c0729f927f89fd74b6f95dd2a8f">00180</a>     int (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#aef9f2c0729f927f89fd74b6f95dd2a8f">getNumLoops</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00181"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a316a9297495999cd00e5fa1107c67efd">00181</a>     int (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a316a9297495999cd00e5fa1107c67efd">getNumPolys</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00182"></a>00182 
<a name="l00183"></a>00183     <span class="comment">/* copy a single vert/edge/tessellated face from the derived mesh into</span>
<a name="l00184"></a>00184 <span class="comment">     * *{vert/edge/face}_r. note that the current implementation</span>
<a name="l00185"></a>00185 <span class="comment">     * of this function can be quite slow, iterating over all</span>
<a name="l00186"></a>00186 <span class="comment">     * elements (editmesh)</span>
<a name="l00187"></a>00187 <span class="comment">     */</span>
<a name="l00188"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a6e03871162039ead7565d4ab3c69104a">00188</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a6e03871162039ead7565d4ab3c69104a">getVert</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keyword">struct </span><a class="code" href="../../d8/de5/structMVert.html">MVert</a> *vert_r);
<a name="l00189"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a2913cf4bf914767f9fa4e430b381f83c">00189</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a2913cf4bf914767f9fa4e430b381f83c">getEdge</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keyword">struct </span><a class="code" href="../../d6/ded/structMEdge.html">MEdge</a> *edge_r);
<a name="l00190"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a5e9f5a12578811093d3747ea03e86945">00190</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a5e9f5a12578811093d3747ea03e86945">getTessFace</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keyword">struct </span><a class="code" href="../../d6/da0/structMFace.html">MFace</a> *face_r);
<a name="l00191"></a>00191 
<a name="l00192"></a>00192     <span class="comment">/* return a pointer to the entire array of verts/edges/face from the</span>
<a name="l00193"></a>00193 <span class="comment">     * derived mesh. if such an array does not exist yet, it will be created,</span>
<a name="l00194"></a>00194 <span class="comment">     * and freed on the next -&gt;release(). consider using getVert/Edge/Face if</span>
<a name="l00195"></a>00195 <span class="comment">     * you are only interested in a few verts/edges/faces.</span>
<a name="l00196"></a>00196 <span class="comment">     */</span>
<a name="l00197"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#adf25b9f9aee2bb3846fe2d0c4a2ab1d4">00197</a>     <span class="keyword">struct </span><a class="code" href="../../d8/de5/structMVert.html">MVert</a> *(*getVertArray)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00198"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ae5b98f2e9b75d92be2854b7ab25e5521">00198</a>     <span class="keyword">struct </span><a class="code" href="../../d6/ded/structMEdge.html">MEdge</a> *(*getEdgeArray)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00199"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#aebdc3d5680e822d40c479530c23a56a1">00199</a>     <span class="keyword">struct </span><a class="code" href="../../d6/da0/structMFace.html">MFace</a> *(*getTessFaceArray)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00200"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ac37f17fc9af1ffe241e8ad3049a9ccfb">00200</a>     <span class="keyword">struct </span><a class="code" href="../../d7/d72/structMLoop.html">MLoop</a> *(*getLoopArray)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00201"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ab8b054b009b29543deee65428097ee83">00201</a>     <span class="keyword">struct </span><a class="code" href="../../d2/dca/structMPoly.html">MPoly</a> *(*getPolyArray)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00202"></a>00202 
<a name="l00203"></a>00203     <span class="comment">/* copy all verts/edges/faces from the derived mesh into</span>
<a name="l00204"></a>00204 <span class="comment">     * *{vert/edge/face}_r (must point to a buffer large enough)</span>
<a name="l00205"></a>00205 <span class="comment">     */</span>
<a name="l00206"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a91b8fe1efc5d3401d92fe4479bbaffd0">00206</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a91b8fe1efc5d3401d92fe4479bbaffd0">copyVertArray</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keyword">struct </span><a class="code" href="../../d8/de5/structMVert.html">MVert</a> *vert_r);
<a name="l00207"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ac4aa9c8766a7b5b3bed13cbc136b55e1">00207</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#ac4aa9c8766a7b5b3bed13cbc136b55e1">copyEdgeArray</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keyword">struct </span><a class="code" href="../../d6/ded/structMEdge.html">MEdge</a> *edge_r);
<a name="l00208"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ac1b3448557fc2eb24aa10db4fc361aad">00208</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#ac1b3448557fc2eb24aa10db4fc361aad">copyTessFaceArray</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keyword">struct </span><a class="code" href="../../d6/da0/structMFace.html">MFace</a> *face_r);
<a name="l00209"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ac0f42d17a43cb2dde3516e4223cd7130">00209</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#ac0f42d17a43cb2dde3516e4223cd7130">copyLoopArray</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keyword">struct </span><a class="code" href="../../d7/d72/structMLoop.html">MLoop</a> *loop_r);
<a name="l00210"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a23af5986914ff01d7f9e7a29efba1ab1">00210</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a23af5986914ff01d7f9e7a29efba1ab1">copyPolyArray</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keyword">struct </span><a class="code" href="../../d2/dca/structMPoly.html">MPoly</a> *poly_r);
<a name="l00211"></a>00211 
<a name="l00212"></a>00212     <span class="comment">/* return a copy of all verts/edges/faces from the derived mesh</span>
<a name="l00213"></a>00213 <span class="comment">     * it is the caller&#39;s responsibility to free the returned pointer</span>
<a name="l00214"></a>00214 <span class="comment">     */</span>
<a name="l00215"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ad0c2442b371cdd42a28b6079c8520de6">00215</a>     <span class="keyword">struct </span><a class="code" href="../../d8/de5/structMVert.html">MVert</a> *(*dupVertArray)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00216"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a87d62d810af0d97dc7bde75a2d9a9785">00216</a>     <span class="keyword">struct </span><a class="code" href="../../d6/ded/structMEdge.html">MEdge</a> *(*dupEdgeArray)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00217"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a37bb907e7d7c4a4b0efd3c20258904d0">00217</a>     <span class="keyword">struct </span><a class="code" href="../../d6/da0/structMFace.html">MFace</a> *(*dupTessFaceArray)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00218"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a0690b96df28795798390632339f0cce3">00218</a>     <span class="keyword">struct </span><a class="code" href="../../d7/d72/structMLoop.html">MLoop</a> *(*dupLoopArray)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00219"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a8e2a7f7d7c2092c08496a54ff7b9a4b6">00219</a>     <span class="keyword">struct </span><a class="code" href="../../d2/dca/structMPoly.html">MPoly</a> *(*dupPolyArray)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00220"></a>00220 
<a name="l00221"></a>00221     <span class="comment">/* return a pointer to a single element of vert/edge/face custom data</span>
<a name="l00222"></a>00222 <span class="comment">     * from the derived mesh (this gives a pointer to the actual data, not</span>
<a name="l00223"></a>00223 <span class="comment">     * a copy)</span>
<a name="l00224"></a>00224 <span class="comment">     */</span>
<a name="l00225"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a618ea310c1eb7d1f120ad2bbbbcef0b2">00225</a>     <span class="keywordtype">void</span> *(*getVertData)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html#afe18e696881b0dbf56124b4b1c01b63c">type</a>);
<a name="l00226"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a49e4165f22db4c97108e459b2758d477">00226</a>     <span class="keywordtype">void</span> *(*getEdgeData)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html#afe18e696881b0dbf56124b4b1c01b63c">type</a>);
<a name="l00227"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ae079874046ef653b053339bccb1a2be4">00227</a>     <span class="keywordtype">void</span> *(*getTessFaceData)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html#afe18e696881b0dbf56124b4b1c01b63c">type</a>);
<a name="l00228"></a>00228 
<a name="l00229"></a>00229     <span class="comment">/* return a pointer to the entire array of vert/edge/face custom data</span>
<a name="l00230"></a>00230 <span class="comment">     * from the derived mesh (this gives a pointer to the actual data, not</span>
<a name="l00231"></a>00231 <span class="comment">     * a copy)</span>
<a name="l00232"></a>00232 <span class="comment">     */</span>
<a name="l00233"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#aac2f1d3ce8a7a1a66926e1d295707e67">00233</a>     <span class="keywordtype">void</span> *(*getVertDataArray)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html#afe18e696881b0dbf56124b4b1c01b63c">type</a>);
<a name="l00234"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a9afc810992214e6dac919ab7a522bd0a">00234</a>     <span class="keywordtype">void</span> *(*getEdgeDataArray)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html#afe18e696881b0dbf56124b4b1c01b63c">type</a>);
<a name="l00235"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ab62c496219df5c1429b6cb0ec051bfac">00235</a>     <span class="keywordtype">void</span> *(*getTessFaceDataArray)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html#afe18e696881b0dbf56124b4b1c01b63c">type</a>);
<a name="l00236"></a>00236     
<a name="l00237"></a>00237     <span class="comment">/* retrieves the base CustomData structures for </span>
<a name="l00238"></a>00238 <span class="comment">     * verts/edges/tessfaces/loops/facdes*/</span>
<a name="l00239"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a150cd194b2cec9b1d87725eda852c6f1">00239</a>     <a class="code" href="../../df/d04/structCustomData.html">CustomData</a> *(*getVertDataLayout)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00240"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ae9fcde3ae5c7878ac8378224975bf4c9">00240</a>     <a class="code" href="../../df/d04/structCustomData.html">CustomData</a> *(*getEdgeDataLayout)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00241"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a6fc1707b5d97e84c917ce44c015fdd14">00241</a>     <a class="code" href="../../df/d04/structCustomData.html">CustomData</a> *(*getTessFaceDataLayout)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00242"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a8ba9e2e6c310e5ddfb0535f0425c56a4">00242</a>     <a class="code" href="../../df/d04/structCustomData.html">CustomData</a> *(*getLoopDataLayout)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00243"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#af3fe314640eb5d70d5aa1ddcfd39b22c">00243</a>     <a class="code" href="../../df/d04/structCustomData.html">CustomData</a> *(*getPolyDataLayout)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00244"></a>00244     
<a name="l00245"></a>00245     <span class="comment">/*copies all customdata for an element source into dst at index dest*/</span>
<a name="l00246"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ae5ca1e3c45d95fe5d00151fc9848a070">00246</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#ae5ca1e3c45d95fe5d00151fc9848a070">copyFromVertCData</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> source, <a class="code" href="../../df/d04/structCustomData.html">CustomData</a> *dst, <span class="keywordtype">int</span> dest);
<a name="l00247"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a294596995faab6b4ae17f65fdd3a647d">00247</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a294596995faab6b4ae17f65fdd3a647d">copyFromEdgeCData</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> source, <a class="code" href="../../df/d04/structCustomData.html">CustomData</a> *dst, <span class="keywordtype">int</span> dest);
<a name="l00248"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#aca569dcd0a5d09481f06cad88eae7ed4">00248</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#aca569dcd0a5d09481f06cad88eae7ed4">copyFromFaceCData</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> source, <a class="code" href="../../df/d04/structCustomData.html">CustomData</a> *dst, <span class="keywordtype">int</span> dest);
<a name="l00249"></a>00249     
<a name="l00250"></a>00250     <span class="comment">/* optional grid access for subsurf */</span>
<a name="l00251"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a81ce6b1eab0f2d5646851b609e9cc842">00251</a>     int (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a81ce6b1eab0f2d5646851b609e9cc842">getNumGrids</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00252"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a463b02823901d34c1026a6eea3529ed8">00252</a>     int (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a463b02823901d34c1026a6eea3529ed8">getGridSize</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00253"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#acc2a79b6e477b7a91f06c01c48d9f51f">00253</a>     <a class="code" href="../../de/d85/structDMGridData.html">DMGridData</a> **(*getGridData)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00254"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a9392141b9aace54d9535e8f1696a9c85">00254</a>     <a class="code" href="../../d9/d82/structDMGridAdjacency.html">DMGridAdjacency</a> *(*getGridAdjacency)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00255"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ae5a69ae7361f77bef729afa2ec720488">00255</a>     <span class="keywordtype">int</span> *(*getGridOffset)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00256"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ab6de5e391b1c4c4c07bd55d558fa50d2">00256</a>     <a class="code" href="../../da/d1d/structDMFlagMat.html">DMFlagMat</a> *(*getGridFlagMats)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00257"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a648cdaa0d9424e7d4c4e29b6a7e15da1">00257</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> **(*getGridHidden)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00258"></a>00258     
<a name="l00259"></a>00259 
<a name="l00260"></a>00260     <span class="comment">/* Iterate over each mapped vertex in the derived mesh, calling the</span>
<a name="l00261"></a>00261 <span class="comment">     * given function with the original vert and the mapped vert&#39;s new</span>
<a name="l00262"></a>00262 <span class="comment">     * coordinate and normal. For historical reasons the normal can be</span>
<a name="l00263"></a>00263 <span class="comment">     * passed as a float or short array, only one should be non-NULL.</span>
<a name="l00264"></a>00264 <span class="comment">     */</span>
<a name="l00265"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a14c8a2dc23a8af0e7aaf2190f7cf0202">00265</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a14c8a2dc23a8af0e7aaf2190f7cf0202">foreachMappedVert</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm,
<a name="l00266"></a>00266                               void (*func)(<span class="keywordtype">void</span> *userData, <span class="keywordtype">int</span> index, <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="../../d4/dd4/drawarmature_8c.html#a7cadd25320d9bbcc4f8d41f1b6d0978b">co</a>[3],
<a name="l00267"></a>00267                                            <span class="keyword">const</span> <span class="keywordtype">float</span> no_f[3], <span class="keyword">const</span> <span class="keywordtype">short</span> no_s[3]),
<a name="l00268"></a>00268                               <span class="keywordtype">void</span> *userData);
<a name="l00269"></a>00269 
<a name="l00270"></a>00270     <span class="comment">/* Iterate over each mapped edge in the derived mesh, calling the</span>
<a name="l00271"></a>00271 <span class="comment">     * given function with the original edge and the mapped edge&#39;s new</span>
<a name="l00272"></a>00272 <span class="comment">     * coordinates.</span>
<a name="l00273"></a>00273 <span class="comment">     */</span>
<a name="l00274"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a173f549d7116937130db6951cf5c8777">00274</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a173f549d7116937130db6951cf5c8777">foreachMappedEdge</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm,
<a name="l00275"></a>00275                               void (*func)(<span class="keywordtype">void</span> *userData, <span class="keywordtype">int</span> index,
<a name="l00276"></a>00276                                            <span class="keyword">const</span> <span class="keywordtype">float</span> v0co[3], <span class="keyword">const</span> <span class="keywordtype">float</span> v1co[3]),
<a name="l00277"></a>00277                               <span class="keywordtype">void</span> *userData);
<a name="l00278"></a>00278 
<a name="l00279"></a>00279     <span class="comment">/* Iterate over each mapped face in the derived mesh, calling the</span>
<a name="l00280"></a>00280 <span class="comment">     * given function with the original face and the mapped face&#39;s (or</span>
<a name="l00281"></a>00281 <span class="comment">     * faces&#39;) center and normal.</span>
<a name="l00282"></a>00282 <span class="comment">     */</span>
<a name="l00283"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a9a13cfc8abb45d854797053a05f754d1">00283</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a9a13cfc8abb45d854797053a05f754d1">foreachMappedFaceCenter</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm,
<a name="l00284"></a>00284                                     void (*func)(<span class="keywordtype">void</span> *userData, <span class="keywordtype">int</span> index,
<a name="l00285"></a>00285                                                  <span class="keyword">const</span> <span class="keywordtype">float</span> cent[3], <span class="keyword">const</span> <span class="keywordtype">float</span> no[3]),
<a name="l00286"></a>00286                                     <span class="keywordtype">void</span> *userData);
<a name="l00287"></a>00287 
<a name="l00288"></a>00288     <span class="comment">/* Iterate over all vertex points, calling DO_MINMAX with given args.</span>
<a name="l00289"></a>00289 <span class="comment">     *</span>
<a name="l00290"></a>00290 <span class="comment">     * Also called in Editmode</span>
<a name="l00291"></a>00291 <span class="comment">     */</span>
<a name="l00292"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a1e765037d4de223d2f7fd63b551e1c99">00292</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a1e765037d4de223d2f7fd63b551e1c99">getMinMax</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">float</span> min_r[3], <span class="keywordtype">float</span> max_r[3]);
<a name="l00293"></a>00293 
<a name="l00294"></a>00294     <span class="comment">/* Direct Access Operations */</span>
<a name="l00295"></a>00295     <span class="comment">/*  o Can be undefined */</span>
<a name="l00296"></a>00296     <span class="comment">/*  o Must be defined for modifiers that only deform however */</span>
<a name="l00297"></a>00297 
<a name="l00298"></a>00298     <span class="comment">/* Get vertex location, undefined if index is not valid */</span>
<a name="l00299"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a4eb80dfbf127ea39db823865610b127e">00299</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a4eb80dfbf127ea39db823865610b127e">getVertCo</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">float</span> co_r[3]);
<a name="l00300"></a>00300 
<a name="l00301"></a>00301     <span class="comment">/* Fill the array (of length .getNumVerts()) with all vertex locations */</span>
<a name="l00302"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a22917d90ddbd83f1765f118d6f8e353f">00302</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a22917d90ddbd83f1765f118d6f8e353f">getVertCos</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, float (*cos_r)[3]);
<a name="l00303"></a>00303 
<a name="l00304"></a>00304     <span class="comment">/* Get smooth vertex normal, undefined if index is not valid */</span>
<a name="l00305"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a35d607166e97c1c1b6dc29fd36b6ee3c">00305</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a35d607166e97c1c1b6dc29fd36b6ee3c">getVertNo</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">float</span> no_r[3]);
<a name="l00306"></a>00306 
<a name="l00307"></a>00307     <span class="comment">/* Get a map of vertices to faces</span>
<a name="l00308"></a>00308 <span class="comment">     */</span>
<a name="l00309"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ab6ea6a823806062836338883beab6321">00309</a>     <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../de/d77/structMeshElemMap.html">MeshElemMap</a> *(*getPolyMap)(<span class="keyword">struct </span><a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00310"></a>00310 
<a name="l00311"></a>00311     <span class="comment">/* Get the BVH used for paint modes</span>
<a name="l00312"></a>00312 <span class="comment">     */</span>
<a name="l00313"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ace18d1ecfbf1d633e0150bbf4c4c84b9">00313</a>     <span class="keyword">struct </span><a class="code" href="../../d3/dd0/structPBVH.html">PBVH</a> *(*getPBVH)(<span class="keyword">struct </span><a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00314"></a>00314 
<a name="l00315"></a>00315     <span class="comment">/* Drawing Operations */</span>
<a name="l00316"></a>00316 
<a name="l00317"></a>00317     <span class="comment">/* Draw all vertices as bgl points (no options) */</span>
<a name="l00318"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a5fbf329323ac9455c78b088d4a45b919">00318</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a5fbf329323ac9455c78b088d4a45b919">drawVerts</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00319"></a>00319 
<a name="l00320"></a>00320     <span class="comment">/* Draw edges in the UV mesh (if exists) */</span>
<a name="l00321"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a61cfbd9d8ce0a0f1921b6578a40bc7bc">00321</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a61cfbd9d8ce0a0f1921b6578a40bc7bc">drawUVEdges</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00322"></a>00322 
<a name="l00323"></a>00323     <span class="comment">/* Draw all edges as lines (no options) </span>
<a name="l00324"></a>00324 <span class="comment">     *</span>
<a name="l00325"></a>00325 <span class="comment">     * Also called for *final* editmode DerivedMeshes</span>
<a name="l00326"></a>00326 <span class="comment">     */</span>
<a name="l00327"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a05d1c2b6c7c1eff4fdf4fdb973bbba5c">00327</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a05d1c2b6c7c1eff4fdf4fdb973bbba5c">drawEdges</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html#a67bfd89c41ae5e949e88f8bf1199dfd8">drawLooseEdges</a>, <span class="keywordtype">int</span> drawAllEdges);
<a name="l00328"></a>00328     
<a name="l00329"></a>00329     <span class="comment">/* Draw all loose edges (edges w/ no adjoining faces) */</span>
<a name="l00330"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a67bfd89c41ae5e949e88f8bf1199dfd8">00330</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a67bfd89c41ae5e949e88f8bf1199dfd8">drawLooseEdges</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00331"></a>00331 
<a name="l00332"></a>00332     <span class="comment">/* Draw all faces</span>
<a name="l00333"></a>00333 <span class="comment">     *  o Set face normal or vertex normal based on inherited face flag</span>
<a name="l00334"></a>00334 <span class="comment">     *  o Use inherited face material index to call setMaterial</span>
<a name="l00335"></a>00335 <span class="comment">     *  o Only if setMaterial returns true</span>
<a name="l00336"></a>00336 <span class="comment">     *</span>
<a name="l00337"></a>00337 <span class="comment">     * Also called for *final* editmode DerivedMeshes</span>
<a name="l00338"></a>00338 <span class="comment">     */</span>
<a name="l00339"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#ae8847d132e3b89911b0ee999b3843b95">00339</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#ae8847d132e3b89911b0ee999b3843b95">drawFacesSolid</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, float (*partial_redraw_planes)[4],
<a name="l00340"></a>00340                            <span class="keywordtype">int</span> fast, <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a8e2f823f024740efe648726f57f4a336">DMSetMaterial</a> setMaterial);
<a name="l00341"></a>00341 
<a name="l00342"></a>00342     <span class="comment">/* Draw all faces using MTFace </span>
<a name="l00343"></a>00343 <span class="comment">     *  o Drawing options too complicated to enumerate, look at code.</span>
<a name="l00344"></a>00344 <span class="comment">     */</span>
<a name="l00345"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#aabf376427b748363f4488e019f83d6ca">00345</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#aabf376427b748363f4488e019f83d6ca">drawFacesTex</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm,
<a name="l00346"></a>00346                          <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aef957b3341a537c68afe7a4e5fdcb25a">DMSetDrawOptionsTex</a> setDrawOptions,
<a name="l00347"></a>00347                          <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#acb89f197b8bb92b92b933d95e540e562">DMCompareDrawOptions</a> <a class="code" href="../../d8/d5e/drawmesh_8c.html#a5b00e8aa393dfa266e6141205ab9c4e4">compareDrawOptions</a>,
<a name="l00348"></a>00348                          <span class="keywordtype">void</span> *userData);
<a name="l00349"></a>00349 
<a name="l00350"></a>00350     <span class="comment">/* Draw all faces with GLSL materials</span>
<a name="l00351"></a>00351 <span class="comment">     *  o setMaterial is called for every different material nr</span>
<a name="l00352"></a>00352 <span class="comment">     *  o Only if setMaterial returns true</span>
<a name="l00353"></a>00353 <span class="comment">     */</span>
<a name="l00354"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a9842d837891900256f008bbc3b47baab">00354</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a9842d837891900256f008bbc3b47baab">drawFacesGLSL</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a8e2f823f024740efe648726f57f4a336">DMSetMaterial</a> setMaterial);
<a name="l00355"></a>00355 
<a name="l00356"></a>00356     <span class="comment">/* Draw mapped faces (no color, or texture)</span>
<a name="l00357"></a>00357 <span class="comment">     *  o Only if !setDrawOptions or</span>
<a name="l00358"></a>00358 <span class="comment">     *    setDrawOptions(userData, mapped-face-index, drawSmooth_r)</span>
<a name="l00359"></a>00359 <span class="comment">     *    returns true</span>
<a name="l00360"></a>00360 <span class="comment">     *</span>
<a name="l00361"></a>00361 <span class="comment">     * If drawSmooth is set to true then vertex normals should be set and</span>
<a name="l00362"></a>00362 <span class="comment">     * glShadeModel called with GL_SMOOTH. Otherwise the face normal should</span>
<a name="l00363"></a>00363 <span class="comment">     * be set and glShadeModel called with GL_FLAT.</span>
<a name="l00364"></a>00364 <span class="comment">     *</span>
<a name="l00365"></a>00365 <span class="comment">     * The setDrawOptions is allowed to not set drawSmooth (for example, when</span>
<a name="l00366"></a>00366 <span class="comment">     * lighting is disabled), in which case the implementation should draw as</span>
<a name="l00367"></a>00367 <span class="comment">     * smooth shaded.</span>
<a name="l00368"></a>00368 <span class="comment">     */</span>
<a name="l00369"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a68c34c18414350c39f74969f2cf3f276">00369</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a68c34c18414350c39f74969f2cf3f276">drawMappedFaces</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm,
<a name="l00370"></a>00370                             <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0ba0a3248a5400cf787bbebd1b609779">DMSetDrawOptions</a> setDrawOptions,
<a name="l00371"></a>00371                             <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a8e2f823f024740efe648726f57f4a336">DMSetMaterial</a> setMaterial,
<a name="l00372"></a>00372                             <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#acb89f197b8bb92b92b933d95e540e562">DMCompareDrawOptions</a> <a class="code" href="../../d8/d5e/drawmesh_8c.html#a5b00e8aa393dfa266e6141205ab9c4e4">compareDrawOptions</a>,
<a name="l00373"></a>00373                             <span class="keywordtype">void</span> *userData,
<a name="l00374"></a>00374                             <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0f4fefe67bcaaeef025d1ec04a9014ef">DMDrawFlag</a> <a class="code" href="../../de/de7/structObject.html#a4cb926ee8d882f0a18f0a2dbdea46e73">flag</a>);
<a name="l00375"></a>00375 
<a name="l00376"></a>00376     <span class="comment">/* Draw mapped faces using MTFace </span>
<a name="l00377"></a>00377 <span class="comment">     *  o Drawing options too complicated to enumerate, look at code.</span>
<a name="l00378"></a>00378 <span class="comment">     */</span>
<a name="l00379"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#afa125b9217a5f9005681953c75eda326">00379</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#afa125b9217a5f9005681953c75eda326">drawMappedFacesTex</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm,
<a name="l00380"></a>00380                                <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0ba0a3248a5400cf787bbebd1b609779">DMSetDrawOptions</a> setDrawOptions,
<a name="l00381"></a>00381                                <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#acb89f197b8bb92b92b933d95e540e562">DMCompareDrawOptions</a> <a class="code" href="../../d8/d5e/drawmesh_8c.html#a5b00e8aa393dfa266e6141205ab9c4e4">compareDrawOptions</a>,
<a name="l00382"></a>00382                                <span class="keywordtype">void</span> *userData);
<a name="l00383"></a>00383 
<a name="l00384"></a>00384     <span class="comment">/* Draw mapped faces with GLSL materials</span>
<a name="l00385"></a>00385 <span class="comment">     *  o setMaterial is called for every different material nr</span>
<a name="l00386"></a>00386 <span class="comment">     *  o setDrawOptions is called for every face</span>
<a name="l00387"></a>00387 <span class="comment">     *  o Only if setMaterial and setDrawOptions return true</span>
<a name="l00388"></a>00388 <span class="comment">     */</span>
<a name="l00389"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a428ce2f394630252dcef8ed1c0485ae9">00389</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a428ce2f394630252dcef8ed1c0485ae9">drawMappedFacesGLSL</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm,
<a name="l00390"></a>00390         <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a8e2f823f024740efe648726f57f4a336">DMSetMaterial</a> setMaterial,
<a name="l00391"></a>00391         <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0ba0a3248a5400cf787bbebd1b609779">DMSetDrawOptions</a> setDrawOptions,
<a name="l00392"></a>00392         <span class="keywordtype">void</span> *userData);
<a name="l00393"></a>00393 
<a name="l00394"></a>00394     <span class="comment">/* Draw mapped edges as lines</span>
<a name="l00395"></a>00395 <span class="comment">     *  o Only if !setDrawOptions or setDrawOptions(userData, mapped-edge)</span>
<a name="l00396"></a>00396 <span class="comment">     *    returns true</span>
<a name="l00397"></a>00397 <span class="comment">     */</span>
<a name="l00398"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a24108131d9cda75a80fb3361c81f3afa">00398</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a24108131d9cda75a80fb3361c81f3afa">drawMappedEdges</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm,
<a name="l00399"></a>00399                             <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0ba0a3248a5400cf787bbebd1b609779">DMSetDrawOptions</a> setDrawOptions,
<a name="l00400"></a>00400                             <span class="keywordtype">void</span> *userData);
<a name="l00401"></a>00401 
<a name="l00402"></a>00402     <span class="comment">/* Draw mapped edges as lines with interpolation values</span>
<a name="l00403"></a>00403 <span class="comment">     *  o Only if !setDrawOptions or</span>
<a name="l00404"></a>00404 <span class="comment">     *    setDrawOptions(userData, mapped-edge, mapped-v0, mapped-v1, t)</span>
<a name="l00405"></a>00405 <span class="comment">     *    returns true</span>
<a name="l00406"></a>00406 <span class="comment">     *</span>
<a name="l00407"></a>00407 <span class="comment">     * NOTE: This routine is optional!</span>
<a name="l00408"></a>00408 <span class="comment">     */</span>
<a name="l00409"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a71cd451780c320e827319248c9abbb6d">00409</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a71cd451780c320e827319248c9abbb6d">drawMappedEdgesInterp</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, 
<a name="l00410"></a>00410                                   <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0ba0a3248a5400cf787bbebd1b609779">DMSetDrawOptions</a> setDrawOptions,
<a name="l00411"></a>00411                                   <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a86360c9279512301ac8784b36be03ea9">DMSetDrawInterpOptions</a> setDrawInterpOptions,
<a name="l00412"></a>00412                                   <span class="keywordtype">void</span> *userData);
<a name="l00413"></a>00413 
<a name="l00414"></a>00414     <span class="comment">/* Draw all faces with materials</span>
<a name="l00415"></a>00415 <span class="comment">     *  o setMaterial is called for every different material nr</span>
<a name="l00416"></a>00416 <span class="comment">     *  o setFace is called to verify if a face must be hidden</span>
<a name="l00417"></a>00417 <span class="comment">     */</span>
<a name="l00418"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a3578d42d18fe47de04346575d6bf3423">00418</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a3578d42d18fe47de04346575d6bf3423">drawMappedFacesMat</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm,
<a name="l00419"></a>00419         void (*setMaterial)(<span class="keywordtype">void</span> *userData, int, <span class="keywordtype">void</span> *attribs),
<a name="l00420"></a>00420         <span class="keywordtype">int</span> (*setFace)(<span class="keywordtype">void</span> *userData, <span class="keywordtype">int</span> <a class="code" href="../../de/de7/structObject.html#a82d960f06759ba165265b23c7e13908b">index</a>), <span class="keywordtype">void</span> *userData);
<a name="l00421"></a>00421 
<a name="l00422"></a>00422     <span class="comment">/* Release reference to the DerivedMesh. This function decides internally</span>
<a name="l00423"></a>00423 <span class="comment">     * if the DerivedMesh will be freed, or cached for later use. */</span>
<a name="l00424"></a><a class="code" href="../../d5/d6c/structDerivedMesh.html#a36c159344a023f5fbe64f12006c8647f">00424</a>     void (*<a class="code" href="../../d5/d6c/structDerivedMesh.html#a36c159344a023f5fbe64f12006c8647f">release</a>)(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00425"></a>00425 };
<a name="l00426"></a>00426 
<a name="l00427"></a>00427 <span class="comment">/* utility function to initialize a DerivedMesh&#39;s function pointers to</span>
<a name="l00428"></a>00428 <span class="comment"> * the default implementation (for those functions which have a default)</span>
<a name="l00429"></a>00429 <span class="comment"> */</span>
<a name="l00430"></a>00430 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ac1f183140483e7f98ba267aead1a7701">DM_init_funcs</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00431"></a>00431 
<a name="l00432"></a>00432 <span class="comment">/* utility function to initialize a DerivedMesh for the desired number</span>
<a name="l00433"></a>00433 <span class="comment"> * of vertices, edges and faces (doesn&#39;t allocate memory for them, just</span>
<a name="l00434"></a>00434 <span class="comment"> * sets up the custom data layers)</span>
<a name="l00435"></a>00435 <span class="comment"> */</span>
<a name="l00436"></a>00436 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#af7d578b056706eb7a6cfe00af7a8f57b">DM_init</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aea838fd8bdcc9862088f92645d3c1fef">DerivedMeshType</a> <a class="code" href="../../de/de7/structObject.html#a8137cf4265bcaaf2fc7c91a9ccd8e4f4">type</a>, <span class="keywordtype">int</span> numVerts, <span class="keywordtype">int</span> numEdges, 
<a name="l00437"></a>00437              <span class="keywordtype">int</span> numFaces, <span class="keywordtype">int</span> numLoops, <span class="keywordtype">int</span> numPolys);
<a name="l00438"></a>00438 
<a name="l00439"></a>00439 <span class="comment">/* utility function to initialize a DerivedMesh for the desired number</span>
<a name="l00440"></a>00440 <span class="comment"> * of vertices, edges and faces, with a layer setup copied from source</span>
<a name="l00441"></a>00441 <span class="comment"> */</span>
<a name="l00442"></a>00442 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a177273c6b671dc3cba7e8f9f0b875a7e">DM_from_template</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *source,
<a name="l00443"></a>00443               <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aea838fd8bdcc9862088f92645d3c1fef">DerivedMeshType</a> <a class="code" href="../../de/de7/structObject.html#a8137cf4265bcaaf2fc7c91a9ccd8e4f4">type</a>,
<a name="l00444"></a>00444               <span class="keywordtype">int</span> numVerts, <span class="keywordtype">int</span> numEdges, <span class="keywordtype">int</span> numFaces,
<a name="l00445"></a>00445               <span class="keywordtype">int</span> numLoops, <span class="keywordtype">int</span> numPolys);
<a name="l00446"></a>00446 
<a name="l00447"></a>00447 <span class="comment">/* utility function to release a DerivedMesh&#39;s layers</span>
<a name="l00448"></a>00448 <span class="comment"> * returns 1 if DerivedMesh has to be released by the backend, 0 otherwise</span>
<a name="l00449"></a>00449 <span class="comment"> */</span>
<a name="l00450"></a>00450 <span class="keywordtype">int</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a591ff29e89a21847a4969751b5a6f63d">DM_release</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00451"></a>00451 
<a name="l00452"></a>00452 <span class="comment">/* utility function to convert a DerivedMesh to a Mesh</span>
<a name="l00453"></a>00453 <span class="comment"> */</span>
<a name="l00454"></a>00454 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae3465d29a8fd03daf7e55cf77571d01b">DM_to_mesh</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keyword">struct</span> <a class="code" href="../../da/d29/structMesh.html">Mesh</a> *me, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob);
<a name="l00455"></a>00455 
<a name="l00456"></a>00456 <span class="keyword">struct </span><a class="code" href="../../d5/de5/structBMEditMesh.html">BMEditMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aba88345bfe94881b1d956279103df849">DM_to_editbmesh</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm,
<a name="l00457"></a>00457                                    <span class="keyword">struct</span> <a class="code" href="../../d5/de5/structBMEditMesh.html">BMEditMesh</a> *existing, <span class="keywordtype">int</span> do_tessellate);
<a name="l00458"></a>00458 
<a name="l00459"></a>00459 <span class="comment">/* conversion to bmesh only */</span>
<a name="l00460"></a>00460 <span class="keywordtype">void</span>          <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a7bf35142aa5fb504ce286736594ac50c">DM_to_bmesh_ex</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keyword">struct</span> <a class="code" href="../../d7/d18/structBMesh.html">BMesh</a> *<a class="code" href="../../d5/de5/structBMEditMesh.html#a5b91780fbab0c3a8834609b21acde933">bm</a>);
<a name="l00461"></a>00461 <span class="keyword">struct </span><a class="code" href="../../d7/d18/structBMesh.html">BMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ab3c7afe256e6bb308d29d1f78183048a">DM_to_bmesh</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00462"></a>00462 
<a name="l00463"></a>00463 
<a name="l00464"></a>00464 <span class="comment">/* utility function to convert a DerivedMesh to a shape key block </span>
<a name="l00465"></a>00465 <span class="comment"> */</span>
<a name="l00466"></a>00466 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aebd0bdc75ce6be70e08f6b3026b2694c">DM_to_meshkey</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keyword">struct</span> <a class="code" href="../../da/d29/structMesh.html">Mesh</a> *me, <span class="keyword">struct</span> <a class="code" href="../../d2/dc3/structKeyBlock.html">KeyBlock</a> *kb);
<a name="l00467"></a>00467 
<a name="l00468"></a>00468 <span class="comment">/* set the CD_FLAG_NOCOPY flag in custom data layers where the mask is</span>
<a name="l00469"></a>00469 <span class="comment"> * zero for the layer type, so only layer types specified by the mask</span>
<a name="l00470"></a>00470 <span class="comment"> * will be copied</span>
<a name="l00471"></a>00471 <span class="comment"> */</span>
<a name="l00472"></a>00472 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ac99330c3a2409a10111f1c0d9aef3080">DM_set_only_copy</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <a class="code" href="../../d5/d5e/BKE__customdata_8h.html#a2ffccc8a0150d2fe6f44a2407a542b30">CustomDataMask</a> mask);
<a name="l00473"></a>00473 
<a name="l00474"></a>00474 <span class="comment">/* adds a vertex/edge/face custom data layer to a DerivedMesh, optionally</span>
<a name="l00475"></a>00475 <span class="comment"> * backed by an external data array</span>
<a name="l00476"></a>00476 <span class="comment"> * alloctype defines how the layer is allocated or copied, and how it is</span>
<a name="l00477"></a>00477 <span class="comment"> * freed, see BKE_customdata.h for the different options</span>
<a name="l00478"></a>00478 <span class="comment"> */</span>
<a name="l00479"></a>00479 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a1d5e2eb6e1a26961b60f0cac4a7411bc">DM_add_vert_layer</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> type, <span class="keywordtype">int</span> alloctype,
<a name="l00480"></a>00480                        <span class="keywordtype">void</span> *layer);
<a name="l00481"></a>00481 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a5c012cd27a5099e683af31e5cac9cbdb">DM_add_edge_layer</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> type, <span class="keywordtype">int</span> alloctype,
<a name="l00482"></a>00482                        <span class="keywordtype">void</span> *layer);
<a name="l00483"></a>00483 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a8cc9d09112d34ee1f78b652333530dd4">DM_add_tessface_layer</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> type, <span class="keywordtype">int</span> alloctype,
<a name="l00484"></a>00484                            <span class="keywordtype">void</span> *layer);
<a name="l00485"></a>00485 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0375950f9607f964fc5a2761e2ed44d3">DM_add_loop_layer</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> type, <span class="keywordtype">int</span> alloctype,
<a name="l00486"></a>00486                        <span class="keywordtype">void</span> *layer);
<a name="l00487"></a>00487 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a8edc78844a26b9e714ae937daca04354">DM_add_poly_layer</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> type, <span class="keywordtype">int</span> alloctype,
<a name="l00488"></a>00488                        <span class="keywordtype">void</span> *layer);
<a name="l00489"></a>00489 
<a name="l00490"></a>00490 <span class="comment">/* custom data access functions</span>
<a name="l00491"></a>00491 <span class="comment"> * return pointer to data from first layer which matches type</span>
<a name="l00492"></a>00492 <span class="comment"> * if they return NULL for valid indices, data doesn&#39;t exist</span>
<a name="l00493"></a>00493 <span class="comment"> * note these return pointers - any change modifies the internals of the mesh</span>
<a name="l00494"></a>00494 <span class="comment"> */</span>
<a name="l00495"></a>00495 <span class="keywordtype">void</span> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a2d43efb5e4248ed01bd60d6ee910b59c">DM_get_vert_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> type);
<a name="l00496"></a>00496 <span class="keywordtype">void</span> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a1fb584d53f6f036da15e5d7bd425bcc4">DM_get_edge_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> type);
<a name="l00497"></a>00497 <span class="keywordtype">void</span> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a98509ea08dca30ed505f7649a79c5ae0">DM_get_tessface_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> type);
<a name="l00498"></a>00498 
<a name="l00499"></a>00499 <span class="comment">/* custom data layer access functions</span>
<a name="l00500"></a>00500 <span class="comment"> * return pointer to first data layer which matches type (a flat array)</span>
<a name="l00501"></a>00501 <span class="comment"> * if they return NULL, data doesn&#39;t exist</span>
<a name="l00502"></a>00502 <span class="comment"> * note these return pointers - any change modifies the internals of the mesh</span>
<a name="l00503"></a>00503 <span class="comment"> */</span>
<a name="l00504"></a>00504 <span class="keywordtype">void</span> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aa122e954c0ef25634444e54d7064365f">DM_get_vert_data_layer</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> type);
<a name="l00505"></a>00505 <span class="keywordtype">void</span> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a03bf14aaccee3ee9b3d6a19dd013309c">DM_get_edge_data_layer</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> type);
<a name="l00506"></a>00506 <span class="keywordtype">void</span> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a6f4a64ea66e4fa753666158e8fb9f2f2">DM_get_tessface_data_layer</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> type);
<a name="l00507"></a>00507 <span class="keywordtype">void</span> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a134ed8d7ec1c59a8d65cf1f8899123a2">DM_get_poly_data_layer</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> type);
<a name="l00508"></a>00508 <span class="keywordtype">void</span> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ac13bcba0ff94c0a387fc156b613954dc">DM_get_loop_data_layer</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> type);
<a name="l00509"></a>00509 
<a name="l00510"></a>00510 <span class="comment">/* custom data setting functions</span>
<a name="l00511"></a>00511 <span class="comment"> * copy supplied data into first layer of type using layer&#39;s copy function</span>
<a name="l00512"></a>00512 <span class="comment"> * (deep copy if appropriate)</span>
<a name="l00513"></a>00513 <span class="comment"> */</span>
<a name="l00514"></a>00514 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a17f538a4049fe3e2e2d050c30a7e8136">DM_set_vert_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> type, <span class="keywordtype">void</span> *<a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>);
<a name="l00515"></a>00515 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a9ab9ec8c2a87ed1316439a86e1f9414f">DM_set_edge_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> type, <span class="keywordtype">void</span> *<a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>);
<a name="l00516"></a>00516 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#af35a8d133328c140fe9413676293b7d1">DM_set_tessface_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> type, <span class="keywordtype">void</span> *<a class="code" href="../../d2/d3a/AUD__JOSResampleReader_8cpp.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>);
<a name="l00517"></a>00517 
<a name="l00518"></a>00518 <span class="comment">/* custom data copy functions</span>
<a name="l00519"></a>00519 <span class="comment"> * copy count elements from source_index in source to dest_index in dest</span>
<a name="l00520"></a>00520 <span class="comment"> * these copy all layers for which the CD_FLAG_NOCOPY flag is not set</span>
<a name="l00521"></a>00521 <span class="comment"> */</span>
<a name="l00522"></a>00522 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0dc714df15d00d9c6986f64606a00bbd">DM_copy_vert_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *source, <span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dest,
<a name="l00523"></a>00523                        <span class="keywordtype">int</span> source_index, <span class="keywordtype">int</span> dest_index, <span class="keywordtype">int</span> count);
<a name="l00524"></a>00524 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a4862b733584eca2082b8f100f9a33d9c">DM_copy_edge_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *source, <span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dest,
<a name="l00525"></a>00525                        <span class="keywordtype">int</span> source_index, <span class="keywordtype">int</span> dest_index, <span class="keywordtype">int</span> count);
<a name="l00526"></a>00526 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a47a62e0959a455df14d253c3060ecb70">DM_copy_tessface_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *source, <span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dest,
<a name="l00527"></a>00527                        <span class="keywordtype">int</span> source_index, <span class="keywordtype">int</span> dest_index, <span class="keywordtype">int</span> count);
<a name="l00528"></a>00528 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ab8a9a876655ae118ef432714cf1ca8cf">DM_copy_loop_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *source, <span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dest,
<a name="l00529"></a>00529                        <span class="keywordtype">int</span> source_index, <span class="keywordtype">int</span> dest_index, <span class="keywordtype">int</span> count);
<a name="l00530"></a>00530 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aa5026c57cdc53adcb7856a6c6483013d">DM_copy_poly_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *source, <span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dest,
<a name="l00531"></a>00531                        <span class="keywordtype">int</span> source_index, <span class="keywordtype">int</span> dest_index, <span class="keywordtype">int</span> count);
<a name="l00532"></a>00532 
<a name="l00533"></a>00533 <span class="comment">/* custom data free functions</span>
<a name="l00534"></a>00534 <span class="comment"> * free count elements, starting at index</span>
<a name="l00535"></a>00535 <span class="comment"> * they free all layers for which the CD_FLAG_NOCOPY flag is not set</span>
<a name="l00536"></a>00536 <span class="comment"> */</span>
<a name="l00537"></a>00537 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aa6b9ef2b5786166f0a2b6dd8f13fca9a">DM_free_vert_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> count);
<a name="l00538"></a>00538 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ac7c8bf86b6bd1fa3f8173d9e9dbec334">DM_free_edge_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> count);
<a name="l00539"></a>00539 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae925ce693644ddd2d2410010ebce97a6">DM_free_tessface_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> count);
<a name="l00540"></a>00540 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a937d95c99e80a055af7c805772aa9746">DM_free_loop_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> count);
<a name="l00541"></a>00541 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#adf8816b2920330816bf0fb4cd8fd3071">DM_free_poly_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> count);
<a name="l00542"></a>00542 
<a name="l00543"></a>00543 <span class="comment">/*sets up mpolys for a DM based on face iterators in source*/</span>
<a name="l00544"></a>00544 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aab56865ebcaf3c33869920046e5894ad">DM_DupPolys</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *source, <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *target);
<a name="l00545"></a>00545 
<a name="l00546"></a>00546 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#afed7604eb89f555bfcad4c3ccd1e5a35">DM_ensure_tessface</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00547"></a>00547 
<a name="l00548"></a>00548 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a36e06cb48015911210caafd7b9b1f5ca">DM_update_tessface_data</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00549"></a>00549 
<a name="l00550"></a>00550 <span class="comment">/* interpolates vertex data from the vertices indexed by src_indices in the</span>
<a name="l00551"></a>00551 <span class="comment"> * source mesh using the given weights and stores the result in the vertex</span>
<a name="l00552"></a>00552 <span class="comment"> * indexed by dest_index in the dest mesh</span>
<a name="l00553"></a>00553 <span class="comment"> */</span>
<a name="l00554"></a>00554 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0482d05629c59788d67f21d3f15d83ee">DM_interp_vert_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *source, <span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dest,
<a name="l00555"></a>00555                          <span class="keywordtype">int</span> *src_indices, <span class="keywordtype">float</span> *weights,
<a name="l00556"></a>00556                          <span class="keywordtype">int</span> count, <span class="keywordtype">int</span> dest_index);
<a name="l00557"></a>00557 
<a name="l00558"></a>00558 <span class="comment">/* interpolates edge data from the edges indexed by src_indices in the</span>
<a name="l00559"></a>00559 <span class="comment"> * source mesh using the given weights and stores the result in the edge indexed</span>
<a name="l00560"></a>00560 <span class="comment"> * by dest_index in the dest mesh.</span>
<a name="l00561"></a>00561 <span class="comment"> * if weights is NULL, all weights default to 1.</span>
<a name="l00562"></a>00562 <span class="comment"> * if vert_weights is non-NULL, any per-vertex edge data is interpolated using</span>
<a name="l00563"></a>00563 <span class="comment"> * vert_weights[i] multiplied by weights[i].</span>
<a name="l00564"></a>00564 <span class="comment"> */</span>
<a name="l00565"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#acf2b55863e0f17557c2f1ef45995f44b">00565</a> <span class="keyword">typedef</span> <span class="keywordtype">float</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#acf2b55863e0f17557c2f1ef45995f44b">EdgeVertWeight</a>[<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ab6ecf660a91680321d8f02491a79ac7c">SUB_ELEMS_EDGE</a>][<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ab6ecf660a91680321d8f02491a79ac7c">SUB_ELEMS_EDGE</a>];
<a name="l00566"></a>00566 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a6147214aee28df5bcbed5b4cfec594e0">DM_interp_edge_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *source, <span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dest,
<a name="l00567"></a>00567                          <span class="keywordtype">int</span> *src_indices,
<a name="l00568"></a>00568                          <span class="keywordtype">float</span> *weights, EdgeVertWeight *vert_weights,
<a name="l00569"></a>00569                          <span class="keywordtype">int</span> count, <span class="keywordtype">int</span> dest_index);
<a name="l00570"></a>00570 
<a name="l00571"></a>00571 <span class="comment">/* interpolates face data from the faces indexed by src_indices in the</span>
<a name="l00572"></a>00572 <span class="comment"> * source mesh using the given weights and stores the result in the face indexed</span>
<a name="l00573"></a>00573 <span class="comment"> * by dest_index in the dest mesh.</span>
<a name="l00574"></a>00574 <span class="comment"> * if weights is NULL, all weights default to 1.</span>
<a name="l00575"></a>00575 <span class="comment"> * if vert_weights is non-NULL, any per-vertex face data is interpolated using</span>
<a name="l00576"></a>00576 <span class="comment"> * vert_weights[i] multiplied by weights[i].</span>
<a name="l00577"></a>00577 <span class="comment"> */</span>
<a name="l00578"></a><a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a16a0bcbdb91f8aefe091fe5f12a1250b">00578</a> <span class="keyword">typedef</span> <span class="keywordtype">float</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a16a0bcbdb91f8aefe091fe5f12a1250b">FaceVertWeight</a>[<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aa7186f844847f403f282340af694f38e">SUB_ELEMS_FACE</a>][<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aa7186f844847f403f282340af694f38e">SUB_ELEMS_FACE</a>];
<a name="l00579"></a>00579 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a9c2c94d3cff63d7b8c35a21ead4069d3">DM_interp_tessface_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *source, <span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dest,
<a name="l00580"></a>00580                          <span class="keywordtype">int</span> *src_indices,
<a name="l00581"></a>00581                          <span class="keywordtype">float</span> *weights, FaceVertWeight *vert_weights,
<a name="l00582"></a>00582                          <span class="keywordtype">int</span> count, <span class="keywordtype">int</span> dest_index);
<a name="l00583"></a>00583 
<a name="l00584"></a>00584 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#af4804d12783bcabb2df582f9c235f30a">DM_swap_tessface_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> index, <span class="keyword">const</span> <span class="keywordtype">int</span> *corner_indices);
<a name="l00585"></a>00585 
<a name="l00586"></a>00586 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#adb94f9989e857a3b508cf63df8e7da71">DM_interp_loop_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *source, <span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dest,
<a name="l00587"></a>00587                          <span class="keywordtype">int</span> *src_indices,
<a name="l00588"></a>00588                          <span class="keywordtype">float</span> *weights, <span class="keywordtype">int</span> count, <span class="keywordtype">int</span> dest_index);
<a name="l00589"></a>00589 
<a name="l00590"></a>00590 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a18eec1482b4908e2a5b3c8a6cda7990f">DM_interp_poly_data</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *source, <span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dest,
<a name="l00591"></a>00591                          <span class="keywordtype">int</span> *src_indices,
<a name="l00592"></a>00592                          <span class="keywordtype">float</span> *weights, <span class="keywordtype">int</span> count, <span class="keywordtype">int</span> dest_index);
<a name="l00593"></a>00593 
<a name="l00594"></a>00594 <span class="comment">/* Temporary? A function to give a colorband to derivedmesh for vertexcolor ranges */</span>
<a name="l00595"></a>00595 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a62b5b646e305bd93bf7e9181a411d3ef">vDM_ColorBand_store</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/dc8/structColorBand.html">ColorBand</a> *coba);
<a name="l00596"></a>00596 
<a name="l00597"></a>00597 <span class="comment">/* Simple function to get me-&gt;totvert amount of vertices/normals,</span>
<a name="l00598"></a>00598 <span class="comment"> * correctly deformed and subsurfered. Needed especially when vertexgroups are involved.</span>
<a name="l00599"></a>00599 <span class="comment"> * In use now by vertex/weight paint and particles */</span>
<a name="l00600"></a>00600 <span class="keywordtype">float</span> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a1793a322a76b3b50ddd2c09742c5366f">mesh_get_mapped_verts_nors</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob);
<a name="l00601"></a>00601 
<a name="l00602"></a>00602     <span class="comment">/* */</span>
<a name="l00603"></a>00603 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a97d53912627cd01e30cab0c5a125485e">mesh_get_derived_final</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob,
<a name="l00604"></a>00604                                     <a class="code" href="../../d5/d5e/BKE__customdata_8h.html#a2ffccc8a0150d2fe6f44a2407a542b30">CustomDataMask</a> dataMask);
<a name="l00605"></a>00605 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a0cb599f3f397fcb5f99b02677bf3b0ec">mesh_get_derived_deform</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob,
<a name="l00606"></a>00606                                      <a class="code" href="../../d5/d5e/BKE__customdata_8h.html#a2ffccc8a0150d2fe6f44a2407a542b30">CustomDataMask</a> dataMask);
<a name="l00607"></a>00607 
<a name="l00608"></a>00608 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a462f613f54830e2a53e716c54462f5ae">mesh_create_derived_for_modifier</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob,
<a name="l00609"></a>00609                                               <span class="keyword">struct</span> <a class="code" href="../../db/ddd/structModifierData.html">ModifierData</a> *md, <span class="keywordtype">int</span> build_shapekey_layers);
<a name="l00610"></a>00610 
<a name="l00611"></a>00611 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aeade9a199706a910fa3a5593b49cdbdf">mesh_create_derived_render</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob,
<a name="l00612"></a>00612                                         <a class="code" href="../../d5/d5e/BKE__customdata_8h.html#a2ffccc8a0150d2fe6f44a2407a542b30">CustomDataMask</a> dataMask);
<a name="l00613"></a>00613 
<a name="l00614"></a>00614 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ab35d59b96567e3d01900f07b1a05271a">getEditDerivedBMesh</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/de5/structBMEditMesh.html">BMEditMesh</a> *em, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob,
<a name="l00615"></a>00615                                            <span class="keywordtype">float</span> (*vertexCos)[3]);
<a name="l00616"></a>00616 
<a name="l00617"></a>00617 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aed0d40495a5611c544ff2ebab9433434">mesh_create_derived_index_render</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <a class="code" href="../../d5/d5e/BKE__customdata_8h.html#a2ffccc8a0150d2fe6f44a2407a542b30">CustomDataMask</a> dataMask, <span class="keywordtype">int</span> index);
<a name="l00618"></a>00618 
<a name="l00619"></a>00619         <span class="comment">/* same as above but wont use render settings */</span>
<a name="l00620"></a>00620 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a4fea807092a809b1dfe14637993d8dde">mesh_create_derived</a>(<span class="keyword">struct</span> <a class="code" href="../../da/d29/structMesh.html">Mesh</a> *me, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <span class="keywordtype">float</span> (*vertCos)[3]);
<a name="l00621"></a>00621 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a99116f90bfa6f5bd4a42c80bfe3db469">mesh_create_derived_view</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob,
<a name="l00622"></a>00622                                       <a class="code" href="../../d5/d5e/BKE__customdata_8h.html#a2ffccc8a0150d2fe6f44a2407a542b30">CustomDataMask</a> dataMask);
<a name="l00623"></a>00623 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a1becf00e42dabc8360b487414142b0ae">mesh_create_derived_no_deform</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob,
<a name="l00624"></a>00624                                            <span class="keywordtype">float</span> (*vertCos)[3],
<a name="l00625"></a>00625                                            <a class="code" href="../../d5/d5e/BKE__customdata_8h.html#a2ffccc8a0150d2fe6f44a2407a542b30">CustomDataMask</a> dataMask);
<a name="l00626"></a>00626 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a6139118964aebb50ca9d512d9bdc0a59">mesh_create_derived_no_deform_render</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob,
<a name="l00627"></a>00627                                                   <span class="keywordtype">float</span> (*vertCos)[3],
<a name="l00628"></a>00628                                                   <a class="code" href="../../d5/d5e/BKE__customdata_8h.html#a2ffccc8a0150d2fe6f44a2407a542b30">CustomDataMask</a> dataMask);
<a name="l00629"></a>00629 <span class="comment">/* for gameengine */</span>
<a name="l00630"></a>00630 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#afce5fe11731f0e902d410685bfe57677">mesh_create_derived_no_virtual</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <span class="keywordtype">float</span> (*vertCos)[3],
<a name="l00631"></a>00631                                             <a class="code" href="../../d5/d5e/BKE__customdata_8h.html#a2ffccc8a0150d2fe6f44a2407a542b30">CustomDataMask</a> dataMask);
<a name="l00632"></a>00632 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a3ace126068660c18a74dde520fbb837d">mesh_create_derived_physics</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <span class="keywordtype">float</span> (*vertCos)[3],
<a name="l00633"></a>00633                                             <a class="code" href="../../d5/d5e/BKE__customdata_8h.html#a2ffccc8a0150d2fe6f44a2407a542b30">CustomDataMask</a> dataMask);
<a name="l00634"></a>00634 
<a name="l00635"></a>00635 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ad219e8b9311146ba070bcd1e98622a1d">editbmesh_get_derived_base</a>(<span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *, <span class="keyword">struct</span> <a class="code" href="../../d5/de5/structBMEditMesh.html">BMEditMesh</a> *em);
<a name="l00636"></a>00636 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#aadc7033561fddea210085209cea4dfa1">editbmesh_get_derived_cage</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *, 
<a name="l00637"></a>00637                                        <span class="keyword">struct</span> <a class="code" href="../../d5/de5/structBMEditMesh.html">BMEditMesh</a> *em, <a class="code" href="../../d5/d5e/BKE__customdata_8h.html#a2ffccc8a0150d2fe6f44a2407a542b30">CustomDataMask</a> dataMask);
<a name="l00638"></a>00638 <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a6173b8466ecd4cd5c46176550ff7867c">editbmesh_get_derived_cage_and_final</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *, 
<a name="l00639"></a>00639                          <span class="keyword">struct</span> <a class="code" href="../../d5/de5/structBMEditMesh.html">BMEditMesh</a> *em, <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> **final_r,
<a name="l00640"></a>00640                                                  <a class="code" href="../../d5/d5e/BKE__customdata_8h.html#a2ffccc8a0150d2fe6f44a2407a542b30">CustomDataMask</a> dataMask);
<a name="l00641"></a>00641 float (*<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a8084b06dcfcf0a17b90955c3a821bc84">editbmesh_get_vertex_cos</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/de5/structBMEditMesh.html">BMEditMesh</a> *em, <span class="keywordtype">int</span> *numVerts_r))[3];
<a name="l00642"></a>00642 <span class="keywordtype">int</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a10170a86b20d0070131ee85db9c1645a">editbmesh_modifier_is_enabled</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../db/ddd/structModifierData.html">ModifierData</a> *md, <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00643"></a>00643 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ae5f8948de8154f33137ad68f4446d193">makeDerivedMesh</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *scene, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <span class="keyword">struct</span> <a class="code" href="../../d5/de5/structBMEditMesh.html">BMEditMesh</a> *em, 
<a name="l00644"></a>00644     <a class="code" href="../../d5/d5e/BKE__customdata_8h.html#a2ffccc8a0150d2fe6f44a2407a542b30">CustomDataMask</a> dataMask, <span class="keywordtype">int</span> build_shapekey_layers);
<a name="l00645"></a>00645 
<a name="l00646"></a>00646 <span class="comment">/* returns an array of deform matrices for crazyspace correction, and the</span>
<a name="l00647"></a>00647 <span class="comment"> * number of modifiers left */</span>
<a name="l00648"></a>00648 <span class="keywordtype">int</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a819e38101c9e5e5a7927998ad5efc5de">editbmesh_get_first_deform_matrices</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/d27/structScene.html">Scene</a> *, <span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *, <span class="keyword">struct</span> <a class="code" href="../../d5/de5/structBMEditMesh.html">BMEditMesh</a> *em,
<a name="l00649"></a>00649                                        <span class="keywordtype">float</span> (**deformmats)[3][3], <span class="keywordtype">float</span> (**deformcos)[3]);
<a name="l00650"></a>00650 
<a name="l00651"></a>00651 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#abb4c373c2f4f0297a7807ecd7f7a818c">weight_to_rgb</a>(<span class="keywordtype">float</span> r_rgb[3], <span class="keyword">const</span> <span class="keywordtype">float</span> weight);
<a name="l00652"></a>00652 <span class="comment">/* Update the weight MCOL preview layer.</span>
<a name="l00653"></a>00653 <span class="comment"> * If weights are NULL, use object&#39;s active vgroup(s).</span>
<a name="l00654"></a>00654 <span class="comment"> * Else, weights must be an array of weight float values.</span>
<a name="l00655"></a>00655 <span class="comment"> *     If indices is NULL, it must be of numVerts length.</span>
<a name="l00656"></a>00656 <span class="comment"> *     Else, it must be of num length, as indices, which contains vertices&#39; idx to apply weights to.</span>
<a name="l00657"></a>00657 <span class="comment"> *         (other vertices are assumed zero weight).</span>
<a name="l00658"></a>00658 <span class="comment"> */</span>
<a name="l00659"></a>00659 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ad2301d7a5206df1fe10774f0433bbc92">DM_update_weight_mcol</a>(<span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <span class="keyword">struct</span> <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm, <span class="keywordtype">int</span> <span class="keyword">const</span> draw_flag,
<a name="l00660"></a>00660                            <span class="keywordtype">float</span> *weights, <span class="keywordtype">int</span> num, <span class="keyword">const</span> <span class="keywordtype">int</span> *<a class="code" href="../../d2/d6c/mball_8c.html#a47e7cc913f2b356de088363a1d87db4a">indices</a>);
<a name="l00661"></a>00661 
<a name="l00662"></a>00662 <span class="comment">/* convert layers requested by a GLSL material to actually available layers in</span>
<a name="l00663"></a>00663 <span class="comment"> * the DerivedMesh, with both a pointer for arrays and an offset for editmesh */</span>
<a name="l00664"></a><a class="code" href="../../d8/dd7/structDMVertexAttribs.html">00664</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/dd7/structDMVertexAttribs.html">DMVertexAttribs</a> {
<a name="l00665"></a>00665     <span class="keyword">struct </span>{
<a name="l00666"></a><a class="code" href="../../d8/dd7/structDMVertexAttribs.html#a85ef74ca5388f33dcdb69175d093526c">00666</a>         <span class="keyword">struct </span><a class="code" href="../../da/d7f/structMTFace.html">MTFace</a> *<a class="code" href="../../d8/dd7/structDMVertexAttribs.html#a85ef74ca5388f33dcdb69175d093526c">array</a>;
<a name="l00667"></a><a class="code" href="../../d8/dd7/structDMVertexAttribs.html#a53e6ad9f6d9b06dbddb131f2a3e21a11">00667</a>         <span class="keywordtype">int</span> <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#aabfc4c93df8eddfa8cf52b96045f13ea">emOffset</a>, <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#ab9af6369d82028723765dff22df49747">glIndex</a>, <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#a53e6ad9f6d9b06dbddb131f2a3e21a11">glTexco</a>;
<a name="l00668"></a>00668     } tface[<a class="code" href="../../d8/d9f/DNA__customdata__types_8h.html#ae22819cd79515b97f4f20edf7efcc762">MAX_MTFACE</a>];
<a name="l00669"></a>00669 
<a name="l00670"></a>00670     <span class="keyword">struct </span>{
<a name="l00671"></a><a class="code" href="../../d8/dd7/structDMVertexAttribs.html#aa911e2c9d52eabbd0c59794c886862ef">00671</a>         <span class="keyword">struct </span><a class="code" href="../../db/d33/structMCol.html">MCol</a> *<a class="code" href="../../d8/dd7/structDMVertexAttribs.html#aa911e2c9d52eabbd0c59794c886862ef">array</a>;
<a name="l00672"></a>00672         <span class="keywordtype">int</span> <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#aabfc4c93df8eddfa8cf52b96045f13ea">emOffset</a>, <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#ab9af6369d82028723765dff22df49747">glIndex</a>;
<a name="l00673"></a>00673     } <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#a4f0fdddc28f5446973a94ff03a06c740">mcol</a>[<a class="code" href="../../d8/d9f/DNA__customdata__types_8h.html#a5398e8b5970d1d384b30aa928068cebd">MAX_MCOL</a>];
<a name="l00674"></a>00674 
<a name="l00675"></a>00675     <span class="keyword">struct </span>{
<a name="l00676"></a><a class="code" href="../../d8/dd7/structDMVertexAttribs.html#a5cbfd845441b14fe130c8001ac696d12">00676</a>         float (*<a class="code" href="../../d2/d41/classarray.html">array</a>)[4];
<a name="l00677"></a>00677         <span class="keywordtype">int</span> <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#aabfc4c93df8eddfa8cf52b96045f13ea">emOffset</a>, <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#ab9af6369d82028723765dff22df49747">glIndex</a>;
<a name="l00678"></a>00678     } <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#aed33201b696f004c6c81024b396584ec">tang</a>;
<a name="l00679"></a>00679 
<a name="l00680"></a>00680     <span class="keyword">struct </span>{
<a name="l00681"></a>00681         float (*<a class="code" href="../../d2/d41/classarray.html">array</a>)[3];
<a name="l00682"></a>00682         <span class="keywordtype">int</span> <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#aabfc4c93df8eddfa8cf52b96045f13ea">emOffset</a>, <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#ab9af6369d82028723765dff22df49747">glIndex</a>, <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#a53e6ad9f6d9b06dbddb131f2a3e21a11">glTexco</a>;
<a name="l00683"></a>00683     } <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#a5d03cdfff90b491a20c21bbfcb88e0f3">orco</a>;
<a name="l00684"></a>00684 
<a name="l00685"></a><a class="code" href="../../d8/dd7/structDMVertexAttribs.html#a65eb81d36af09c531433819335069260">00685</a>     <span class="keywordtype">int</span> <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#a65eb81d36af09c531433819335069260">tottface</a>, <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#ab50343352f1360220b42a76f4f54fafe">totmcol</a>, <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#a5d30e1bab596da97a5d188924c069162">tottang</a>, <a class="code" href="../../d8/dd7/structDMVertexAttribs.html#aa289786e63a006a2b351d52e0dee6aba">totorco</a>;
<a name="l00686"></a>00686 } <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#ab5c677fdb867e2b4528e2781fff54558">DMVertexAttribs</a>;
<a name="l00687"></a>00687 
<a name="l00688"></a>00688 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a824fbbdba6c71ac5c1aee9b1170b814b">DM_vertex_attributes_from_gpu</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm,
<a name="l00689"></a>00689     <span class="keyword">struct</span> <a class="code" href="../../df/d4b/structGPUVertexAttribs.html">GPUVertexAttribs</a> *gattribs, <a class="code" href="../../d8/dd7/structDMVertexAttribs.html">DMVertexAttribs</a> *attribs);
<a name="l00690"></a>00690 
<a name="l00691"></a>00691 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a63408f7aaa01a246352ce26d0123d480">DM_add_tangent_layer</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00692"></a>00692 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a34146809e61bbbafa1486bca5cfcebe8">DM_calc_auto_bump_scale</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00693"></a>00693 
<a name="l00694"></a>00694 <span class="comment">/* Set object&#39;s bounding box based on DerivedMesh min/max data */</span>
<a name="l00695"></a>00695 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a7140dcf7215b75e8e49d8f166a0ef7f7">DM_set_object_boundbox</a>(<span class="keyword">struct</span> <a class="code" href="../../de/de7/structObject.html">Object</a> *ob, <a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00696"></a>00696 
<a name="l00697"></a>00697 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#af0153c5b305453f044f1101e646f232b">DM_init_origspace</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00698"></a>00698 
<a name="l00699"></a>00699 <span class="comment">/* debug only */</span>
<a name="l00700"></a>00700 <span class="preprocessor">#ifndef NDEBUG</span>
<a name="l00701"></a>00701 <span class="preprocessor"></span><span class="keywordtype">char</span> *<a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a5918163bd4aba6145407c3c2b9e98f00">DM_debug_info</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00702"></a>00702 <span class="keywordtype">void</span> <a class="code" href="../../d0/d7f/BKE__DerivedMesh_8h.html#a4335d1b5c403fce714be28717602f4a7">DM_debug_print</a>(<a class="code" href="../../d5/d6c/structDerivedMesh.html">DerivedMesh</a> *dm);
<a name="l00703"></a>00703 <span class="preprocessor">#endif</span>
<a name="l00704"></a>00704 <span class="preprocessor"></span>
<a name="l00705"></a>00705 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Nov 13 2012 11:54:01 for Blender by&#160;
<a href="http://www.doxygen.org/index.html"> 
doxygen</a> 1.7.4 </small></address> 
</body>
</html>
